(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function $2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wg={exports:{}},Qu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function l4(){if(FE)return Qu;FE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:l,ref:a!==void 0?a:null,props:o}}return Qu.Fragment=e,Qu.jsx=n,Qu.jsxs=n,Qu}var jE;function c4(){return jE||(jE=1,wg.exports=l4()),wg.exports}var m=c4(),Sg={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function u4(){if(UE)return st;UE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(te){return te===null||typeof te!="object"?null:(te=y&&te[y]||te["@@iterator"],typeof te=="function"?te:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function b(te,fe,B){this.props=te,this.context=fe,this.refs=w,this.updater=B||T}b.prototype.isReactComponent={},b.prototype.setState=function(te,fe){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,fe,"setState")},b.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function O(){}O.prototype=b.prototype;function F(te,fe,B){this.props=te,this.context=fe,this.refs=w,this.updater=B||T}var j=F.prototype=new O;j.constructor=F,S(j,b.prototype),j.isPureReactComponent=!0;var J=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function N(te,fe,B,ee,Y,Q){return B=Q.ref,{$$typeof:t,type:te,key:fe,ref:B!==void 0?B:null,props:Q}}function I(te,fe){return N(te.type,fe,void 0,void 0,void 0,te.props)}function C(te){return typeof te=="object"&&te!==null&&te.$$typeof===t}function P(te){var fe={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(B){return fe[B]})}var L=/\/+/g;function z(te,fe){return typeof te=="object"&&te!==null&&te.key!=null?P(""+te.key):fe.toString(36)}function M(){}function Ue(te){switch(te.status){case"fulfilled":return te.value;case"rejected":throw te.reason;default:switch(typeof te.status=="string"?te.then(M,M):(te.status="pending",te.then(function(fe){te.status==="pending"&&(te.status="fulfilled",te.value=fe)},function(fe){te.status==="pending"&&(te.status="rejected",te.reason=fe)})),te.status){case"fulfilled":return te.value;case"rejected":throw te.reason}}throw te}function ke(te,fe,B,ee,Y){var Q=typeof te;(Q==="undefined"||Q==="boolean")&&(te=null);var re=!1;if(te===null)re=!0;else switch(Q){case"bigint":case"string":case"number":re=!0;break;case"object":switch(te.$$typeof){case t:case e:re=!0;break;case g:return re=te._init,ke(re(te._payload),fe,B,ee,Y)}}if(re)return Y=Y(te),re=ee===""?"."+z(te,0):ee,J(Y)?(B="",re!=null&&(B=re.replace(L,"$&/")+"/"),ke(Y,fe,B,"",function(Le){return Le})):Y!=null&&(C(Y)&&(Y=I(Y,B+(Y.key==null||te&&te.key===Y.key?"":(""+Y.key).replace(L,"$&/")+"/")+re)),fe.push(Y)),1;re=0;var Pe=ee===""?".":ee+":";if(J(te))for(var Ie=0;Ie<te.length;Ie++)ee=te[Ie],Q=Pe+z(ee,Ie),re+=ke(ee,fe,B,Q,Y);else if(Ie=x(te),typeof Ie=="function")for(te=Ie.call(te),Ie=0;!(ee=te.next()).done;)ee=ee.value,Q=Pe+z(ee,Ie++),re+=ke(ee,fe,B,Q,Y);else if(Q==="object"){if(typeof te.then=="function")return ke(Ue(te),fe,B,ee,Y);throw fe=String(te),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return re}function ce(te,fe,B){if(te==null)return te;var ee=[],Y=0;return ke(te,ee,"","",function(Q){return fe.call(B,Q,Y++)}),ee}function Re(te){if(te._status===-1){var fe=te._result;fe=fe(),fe.then(function(B){(te._status===0||te._status===-1)&&(te._status=1,te._result=B)},function(B){(te._status===0||te._status===-1)&&(te._status=2,te._result=B)}),te._status===-1&&(te._status=0,te._result=fe)}if(te._status===1)return te._result.default;throw te._result}var He=typeof reportError=="function"?reportError:function(te){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof te=="object"&&te!==null&&typeof te.message=="string"?String(te.message):String(te),error:te});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",te);return}console.error(te)};function Ye(){}return st.Children={map:ce,forEach:function(te,fe,B){ce(te,function(){fe.apply(this,arguments)},B)},count:function(te){var fe=0;return ce(te,function(){fe++}),fe},toArray:function(te){return ce(te,function(fe){return fe})||[]},only:function(te){if(!C(te))throw Error("React.Children.only expected to receive a single React element child.");return te}},st.Component=b,st.Fragment=n,st.Profiler=a,st.PureComponent=F,st.StrictMode=r,st.Suspense=d,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,st.__COMPILER_RUNTIME={__proto__:null,c:function(te){return X.H.useMemoCache(te)}},st.cache=function(te){return function(){return te.apply(null,arguments)}},st.cloneElement=function(te,fe,B){if(te==null)throw Error("The argument must be a React element, but you passed "+te+".");var ee=S({},te.props),Y=te.key,Q=void 0;if(fe!=null)for(re in fe.ref!==void 0&&(Q=void 0),fe.key!==void 0&&(Y=""+fe.key),fe)!W.call(fe,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&fe.ref===void 0||(ee[re]=fe[re]);var re=arguments.length-2;if(re===1)ee.children=B;else if(1<re){for(var Pe=Array(re),Ie=0;Ie<re;Ie++)Pe[Ie]=arguments[Ie+2];ee.children=Pe}return N(te.type,Y,void 0,void 0,Q,ee)},st.createContext=function(te){return te={$$typeof:l,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null},te.Provider=te,te.Consumer={$$typeof:o,_context:te},te},st.createElement=function(te,fe,B){var ee,Y={},Q=null;if(fe!=null)for(ee in fe.key!==void 0&&(Q=""+fe.key),fe)W.call(fe,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(Y[ee]=fe[ee]);var re=arguments.length-2;if(re===1)Y.children=B;else if(1<re){for(var Pe=Array(re),Ie=0;Ie<re;Ie++)Pe[Ie]=arguments[Ie+2];Y.children=Pe}if(te&&te.defaultProps)for(ee in re=te.defaultProps,re)Y[ee]===void 0&&(Y[ee]=re[ee]);return N(te,Q,void 0,void 0,null,Y)},st.createRef=function(){return{current:null}},st.forwardRef=function(te){return{$$typeof:h,render:te}},st.isValidElement=C,st.lazy=function(te){return{$$typeof:g,_payload:{_status:-1,_result:te},_init:Re}},st.memo=function(te,fe){return{$$typeof:f,type:te,compare:fe===void 0?null:fe}},st.startTransition=function(te){var fe=X.T,B={};X.T=B;try{var ee=te(),Y=X.S;Y!==null&&Y(B,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Ye,He)}catch(Q){He(Q)}finally{X.T=fe}},st.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},st.use=function(te){return X.H.use(te)},st.useActionState=function(te,fe,B){return X.H.useActionState(te,fe,B)},st.useCallback=function(te,fe){return X.H.useCallback(te,fe)},st.useContext=function(te){return X.H.useContext(te)},st.useDebugValue=function(){},st.useDeferredValue=function(te,fe){return X.H.useDeferredValue(te,fe)},st.useEffect=function(te,fe,B){var ee=X.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(te,fe)},st.useId=function(){return X.H.useId()},st.useImperativeHandle=function(te,fe,B){return X.H.useImperativeHandle(te,fe,B)},st.useInsertionEffect=function(te,fe){return X.H.useInsertionEffect(te,fe)},st.useLayoutEffect=function(te,fe){return X.H.useLayoutEffect(te,fe)},st.useMemo=function(te,fe){return X.H.useMemo(te,fe)},st.useOptimistic=function(te,fe){return X.H.useOptimistic(te,fe)},st.useReducer=function(te,fe,B){return X.H.useReducer(te,fe,B)},st.useRef=function(te){return X.H.useRef(te)},st.useState=function(te){return X.H.useState(te)},st.useSyncExternalStore=function(te,fe,B){return X.H.useSyncExternalStore(te,fe,B)},st.useTransition=function(){return X.H.useTransition()},st.version="19.1.1",st}var VE;function $1(){return VE||(VE=1,Sg.exports=u4()),Sg.exports}var se=$1();const xe=$2(se);var Ag={exports:{}},Ju={},bg={exports:{}},Rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function h4(){return BE||(BE=1,(function(t){function e(ce,Re){var He=ce.length;ce.push(Re);e:for(;0<He;){var Ye=He-1>>>1,te=ce[Ye];if(0<a(te,Re))ce[Ye]=Re,ce[He]=te,He=Ye;else break e}}function n(ce){return ce.length===0?null:ce[0]}function r(ce){if(ce.length===0)return null;var Re=ce[0],He=ce.pop();if(He!==Re){ce[0]=He;e:for(var Ye=0,te=ce.length,fe=te>>>1;Ye<fe;){var B=2*(Ye+1)-1,ee=ce[B],Y=B+1,Q=ce[Y];if(0>a(ee,He))Y<te&&0>a(Q,ee)?(ce[Ye]=Q,ce[Y]=He,Ye=Y):(ce[Ye]=ee,ce[B]=He,Ye=B);else if(Y<te&&0>a(Q,He))ce[Ye]=Q,ce[Y]=He,Ye=Y;else break e}}return Re}function a(ce,Re){var He=ce.sortIndex-Re.sortIndex;return He!==0?He:ce.id-Re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var d=[],f=[],g=1,y=null,x=3,T=!1,S=!1,w=!1,b=!1,O=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function J(ce){for(var Re=n(f);Re!==null;){if(Re.callback===null)r(f);else if(Re.startTime<=ce)r(f),Re.sortIndex=Re.expirationTime,e(d,Re);else break;Re=n(f)}}function X(ce){if(w=!1,J(ce),!S)if(n(d)!==null)S=!0,W||(W=!0,z());else{var Re=n(f);Re!==null&&ke(X,Re.startTime-ce)}}var W=!1,N=-1,I=5,C=-1;function P(){return b?!0:!(t.unstable_now()-C<I)}function L(){if(b=!1,W){var ce=t.unstable_now();C=ce;var Re=!0;try{e:{S=!1,w&&(w=!1,F(N),N=-1),T=!0;var He=x;try{t:{for(J(ce),y=n(d);y!==null&&!(y.expirationTime>ce&&P());){var Ye=y.callback;if(typeof Ye=="function"){y.callback=null,x=y.priorityLevel;var te=Ye(y.expirationTime<=ce);if(ce=t.unstable_now(),typeof te=="function"){y.callback=te,J(ce),Re=!0;break t}y===n(d)&&r(d),J(ce)}else r(d);y=n(d)}if(y!==null)Re=!0;else{var fe=n(f);fe!==null&&ke(X,fe.startTime-ce),Re=!1}}break e}finally{y=null,x=He,T=!1}Re=void 0}}finally{Re?z():W=!1}}}var z;if(typeof j=="function")z=function(){j(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ue=M.port2;M.port1.onmessage=L,z=function(){Ue.postMessage(null)}}else z=function(){O(L,0)};function ke(ce,Re){N=O(function(){ce(t.unstable_now())},Re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ce){ce.callback=null},t.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ce?Math.floor(1e3/ce):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(ce){switch(x){case 1:case 2:case 3:var Re=3;break;default:Re=x}var He=x;x=Re;try{return ce()}finally{x=He}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(ce,Re){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var He=x;x=ce;try{return Re()}finally{x=He}},t.unstable_scheduleCallback=function(ce,Re,He){var Ye=t.unstable_now();switch(typeof He=="object"&&He!==null?(He=He.delay,He=typeof He=="number"&&0<He?Ye+He:Ye):He=Ye,ce){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=He+te,ce={id:g++,callback:Re,priorityLevel:ce,startTime:He,expirationTime:te,sortIndex:-1},He>Ye?(ce.sortIndex=He,e(f,ce),n(d)===null&&ce===n(f)&&(w?(F(N),N=-1):w=!0,ke(X,He-Ye))):(ce.sortIndex=te,e(d,ce),S||T||(S=!0,W||(W=!0,z()))),ce},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(ce){var Re=x;return function(){var He=x;x=Re;try{return ce.apply(this,arguments)}finally{x=He}}}})(Rg)),Rg}var HE;function f4(){return HE||(HE=1,bg.exports=h4()),bg.exports}var Cg={exports:{}},ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function d4(){if(zE)return ur;zE=1;var t=$1();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,f,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:f,implementation:g}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ur.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},ur.flushSync=function(d){var f=l.T,g=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=g,r.d.f()}},ur.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},ur.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ur.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,y=h(g,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,T=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:T}):g==="script"&&r.d.X(d,{crossOrigin:y,integrity:x,fetchPriority:T,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ur.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},ur.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,y=h(g,f.crossOrigin);r.d.L(d,g,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ur.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=h(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},ur.requestFormReset=function(d){r.d.r(d)},ur.unstable_batchedUpdates=function(d,f){return d(f)},ur.useFormState=function(d,f,g){return l.H.useFormState(d,f,g)},ur.useFormStatus=function(){return l.H.useHostTransitionStatus()},ur.version="19.1.1",ur}var qE;function m4(){if(qE)return Cg.exports;qE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cg.exports=d4(),Cg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function p4(){if(GE)return Ju;GE=1;var t=f4(),e=$1(),n=m4();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var c=i,u=s;;){var v=c.return;if(v===null)break;var _=v.alternate;if(_===null){if(u=v.return,u!==null){c=u;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===c)return h(v),i;if(_===u)return h(v),s;_=_.sibling}throw Error(r(188))}if(c.return!==u.return)c=v,u=_;else{for(var R=!1,k=v.child;k;){if(k===c){R=!0,c=v,u=_;break}if(k===u){R=!0,u=v,c=_;break}k=k.sibling}if(!R){for(k=_.child;k;){if(k===c){R=!0,c=_,u=v;break}if(k===u){R=!0,u=_,c=v;break}k=k.sibling}if(!R)throw Error(r(189))}}if(c.alternate!==u)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:s}function f(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=f(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),j=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function Ue(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case b:return"Profiler";case w:return"StrictMode";case X:return"Suspense";case W:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case j:return(i.displayName||"Context")+".Provider";case F:return(i._context.displayName||"Context")+".Consumer";case J:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:Ue(i.type)||"Memo";case I:s=i._payload,i=i._init;try{return Ue(i(s))}catch{}}return null}var ke=Array.isArray,ce=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,He={pending:!1,data:null,method:null,action:null},Ye=[],te=-1;function fe(i){return{current:i}}function B(i){0>te||(i.current=Ye[te],Ye[te]=null,te--)}function ee(i,s){te++,Ye[te]=i.current,i.current=s}var Y=fe(null),Q=fe(null),re=fe(null),Pe=fe(null);function Ie(i,s){switch(ee(re,s),ee(Q,i),ee(Y,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?hE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=hE(s),i=fE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}B(Y),ee(Y,i)}function Le(){B(Y),B(Q),B(re)}function De(i){i.memoizedState!==null&&ee(Pe,i);var s=Y.current,c=fE(s,i.type);s!==c&&(ee(Q,i),ee(Y,c))}function _t(i){Q.current===i&&(B(Y),B(Q)),Pe.current===i&&(B(Pe),$u._currentValue=He)}var ot=Object.prototype.hasOwnProperty,nn=t.unstable_scheduleCallback,ft=t.unstable_cancelCallback,qr=t.unstable_shouldYield,jt=t.unstable_requestPaint,Ve=t.unstable_now,$n=t.unstable_getCurrentPriorityLevel,Nt=t.unstable_ImmediatePriority,$t=t.unstable_UserBlockingPriority,or=t.unstable_NormalPriority,Tl=t.unstable_LowPriority,ba=t.unstable_IdlePriority,Rr=t.log,ui=t.unstable_setDisableYieldValue,hi=null,xn=null;function En(i){if(typeof Rr=="function"&&ui(i),xn&&typeof xn.setStrictMode=="function")try{xn.setStrictMode(hi,i)}catch{}}var Wn=Math.clz32?Math.clz32:vo,wl=Math.log,go=Math.LN2;function vo(i){return i>>>=0,i===0?32:31-(wl(i)/go|0)|0}var Gr=256,Ni=4194304;function Cr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Nr(i,s,c){var u=i.pendingLanes;if(u===0)return 0;var v=0,_=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var k=u&134217727;return k!==0?(u=k&~_,u!==0?v=Cr(u):(R&=k,R!==0?v=Cr(R):c||(c=k&~i,c!==0&&(v=Cr(c))))):(k=u&~_,k!==0?v=Cr(k):R!==0?v=Cr(R):c||(c=u&~i,c!==0&&(v=Cr(c)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,c=s&-s,_>=c||_===32&&(c&4194048)!==0)?s:v}function Zi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ra(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fs(){var i=Gr;return Gr<<=1,(Gr&4194048)===0&&(Gr=256),i}function Ii(){var i=Ni;return Ni<<=1,(Ni&62914560)===0&&(Ni=4194304),i}function ds(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function rn(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ca(i,s,c,u,v,_){var R=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var k=i.entanglements,Z=i.expirationTimes,he=i.hiddenUpdates;for(c=R&~c;0<c;){var Ee=31-Wn(c),Se=1<<Ee;k[Ee]=0,Z[Ee]=-1;var pe=he[Ee];if(pe!==null)for(he[Ee]=null,Ee=0;Ee<pe.length;Ee++){var ge=pe[Ee];ge!==null&&(ge.lane&=-536870913)}c&=~Se}u!==0&&ea(i,u,0),_!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=_&~(R&~s))}function ea(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Wn(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|c&4194090}function ta(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var u=31-Wn(c),v=1<<u;v&s|i[u]&s&&(i[u]|=s),c&=~v}}function _o(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function yo(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Di(){var i=Re.p;return i!==0?i:(i=window.event,i===void 0?32:DE(i.type))}function Xc(i,s){var c=Re.p;try{return Re.p=i,s()}finally{Re.p=c}}var fi=Math.random().toString(36).slice(2),an="__reactFiber$"+fi,pn="__reactProps$"+fi,Oi="__reactContainer$"+fi,Na="__reactEvents$"+fi,Ia="__reactListeners$"+fi,D="__reactHandles$"+fi,q="__reactResources$"+fi,V="__reactMarker$"+fi;function H(i){delete i[an],delete i[pn],delete i[Na],delete i[Ia],delete i[D]}function G(i){var s=i[an];if(s)return s;for(var c=i.parentNode;c;){if(s=c[Oi]||c[an]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=gE(i);i!==null;){if(c=i[an])return c;i=gE(i)}return s}i=c,c=i.parentNode}return null}function K(i){if(i=i[an]||i[Oi]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ue(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function _e(i){var s=i[q];return s||(s=i[q]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ae(i){i[V]=!0}var de=new Set,me={};function Ce(i,s){Oe(i,s),Oe(i+"Capture",s)}function Oe(i,s){for(me[i]=s,i=0;i<s.length;i++)de.add(s[i])}var ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ne={},Be={};function nt(i){return ot.call(Be,i)?!0:ot.call(Ne,i)?!1:ze.test(i)?Be[i]=!0:(Ne[i]=!0,!1)}function St(i,s,c){if(nt(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function At(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function It(i,s,c,u){if(u===null)i.removeAttribute(c);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+u)}}var $r,di;function _r(i){if($r===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);$r=s&&s[1]||"",di=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+i+di}var Ir=!1;function na(i,s){if(!i||Ir)return"";Ir=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ge){var pe=ge}Reflect.construct(i,[],Se)}else{try{Se.call()}catch(ge){pe=ge}i.call(Se.prototype)}}else{try{throw Error()}catch(ge){pe=ge}(Se=i())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ge){if(ge&&pe&&typeof ge.stack=="string")return[ge.stack,pe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),R=_[0],k=_[1];if(R&&k){var Z=R.split(`
`),he=k.split(`
`);for(v=u=0;u<Z.length&&!Z[u].includes("DetermineComponentFrameRoot");)u++;for(;v<he.length&&!he[v].includes("DetermineComponentFrameRoot");)v++;if(u===Z.length||v===he.length)for(u=Z.length-1,v=he.length-1;1<=u&&0<=v&&Z[u]!==he[v];)v--;for(;1<=u&&0<=v;u--,v--)if(Z[u]!==he[v]){if(u!==1||v!==1)do if(u--,v--,0>v||Z[u]!==he[v]){var Ee=`
`+Z[u].replace(" at new "," at ");return i.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",i.displayName)),Ee}while(1<=u&&0<=v);break}}}finally{Ir=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?_r(c):""}function Wr(i){switch(i.tag){case 26:case 27:case 5:return _r(i.type);case 16:return _r("Lazy");case 13:return _r("Suspense");case 19:return _r("SuspenseList");case 0:case 15:return na(i.type,!1);case 11:return na(i.type.render,!1);case 1:return na(i.type,!0);case 31:return _r("Activity");default:return""}}function ki(i){try{var s="";do s+=Wr(i),i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function sn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ms(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xo(i){var s=ms(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,_=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return v.call(this)},set:function(R){u=""+R,_.call(this,R)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return u},setValue:function(R){u=""+R},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ps(i){i._valueTracker||(i._valueTracker=xo(i))}function Ut(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),u="";return i&&(u=ms(i)?i.checked?"true":"false":i.value),i=u,i!==c?(s.setValue(i),!0):!1}function Da(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Eo=/[\n"\\]/g;function jn(i){return i.replace(Eo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Qc(i,s,c,u,v,_,R,k){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),s!=null?R==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+sn(s)):i.value!==""+sn(s)&&(i.value=""+sn(s)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),s!=null?Zc(i,R,sn(s)):c!=null?Zc(i,R,sn(c)):u!=null&&i.removeAttribute("value"),v==null&&_!=null&&(i.defaultChecked=!!_),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+sn(k):i.removeAttribute("name")}function Jc(i,s,c,u,v,_,R,k){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;c=c!=null?""+sn(c):"",s=s!=null?""+sn(s):c,k||s===i.value||(i.value=s),i.defaultValue=s}u=u??v,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=k?i.checked:!!u,i.defaultChecked=!!u,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R)}function Zc(i,s,c){s==="number"&&Da(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function gs(i,s,c,u){if(i=i.options,s){s={};for(var v=0;v<c.length;v++)s["$"+c[v]]=!0;for(c=0;c<i.length;c++)v=s.hasOwnProperty("$"+i[c].value),i[c].selected!==v&&(i[c].selected=v),v&&u&&(i[c].defaultSelected=!0)}else{for(c=""+sn(c),s=null,v=0;v<i.length;v++){if(i[v].value===c){i[v].selected=!0,u&&(i[v].defaultSelected=!0);return}s!==null||i[v].disabled||(s=i[v])}s!==null&&(s.selected=!0)}}function xf(i,s,c){if(s!=null&&(s=""+sn(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+sn(c):""}function Ef(i,s,c,u){if(s==null){if(u!=null){if(c!=null)throw Error(r(92));if(ke(u)){if(1<u.length)throw Error(r(93));u=u[0]}c=u}c==null&&(c=""),s=c}c=sn(s),i.defaultValue=c,u=i.textContent,u===c&&u!==""&&u!==null&&(i.value=u)}function mi(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var Oa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(i,s,c){var u=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,c):typeof c!="number"||c===0||Oa.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function tu(i,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,c!=null){for(var u in c)!c.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var v in s)u=s[v],s.hasOwnProperty(v)&&c[v]!==u&&eu(i,v,u)}else for(var _ in s)s.hasOwnProperty(_)&&eu(i,_,s[_])}function Sl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pi(i){return wf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var nu=null;function ru(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var vs=null,yr=null;function Sf(i){var s=K(i);if(s&&(i=s.stateNode)){var c=i[pn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Qc(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+jn(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var u=c[s];if(u!==i&&u.form===i.form){var v=u[pn]||null;if(!v)throw Error(r(90));Qc(u,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<c.length;s++)u=c[s],u.form===i.form&&Ut(u)}break e;case"textarea":xf(i,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&gs(i,!!c.multiple,s,!1)}}}var To=!1;function wo(i,s,c){if(To)return i(s,c);To=!0;try{var u=i(s);return u}finally{if(To=!1,(vs!==null||yr!==null)&&(dd(),vs&&(s=vs,i=yr,yr=vs=null,Sf(s),i)))for(s=0;s<i.length;s++)Sf(i[s])}}function _s(i,s){var c=i.stateNode;if(c===null)return null;var u=c[pn]||null;if(u===null)return null;c=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ka=!1;if(xr)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){ka=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{ka=!1}var pi=null,Wt=null,Al=null;function Af(){if(Al)return Al;var i,s=Wt,c=s.length,u,v="value"in pi?pi.value:pi.textContent,_=v.length;for(i=0;i<c&&s[i]===v[i];i++);var R=c-i;for(u=1;u<=R&&s[c-u]===v[_-u];u++);return Al=v.slice(i,1<u?1-u:void 0)}function So(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ao(){return!0}function iu(){return!1}function Dn(i){function s(c,u,v,_,R){this._reactName=c,this._targetInst=v,this.type=u,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(c=i[k],this[k]=c?c(_):_[k]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ao:iu,this.isPropagationStopped=iu,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),s}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bo=Dn(lr),Ro=g({},lr,{view:0,detail:0}),Co=Dn(Ro),bl,No,ra,Io=g({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ra&&(ra&&i.type==="mousemove"?(bl=i.screenX-ra.screenX,No=i.screenY-ra.screenY):No=bl=0,ra=i),bl)},movementY:function(i){return"movementY"in i?i.movementY:No}}),Do=Dn(Io),Om=g({},Io,{dataTransfer:0}),bf=Dn(Om),Oo=g({},Ro,{relatedTarget:0}),Rl=Dn(Oo),Rf=g({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),au=Dn(Rf),su=g({},lr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Cf=Dn(su),Cl=g({},lr,{data:0}),ou=Dn(Cl),Nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},If={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Df(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=If[i])?!!s[i]:!1}function Nl(){return Df}var Of=g({},Ro,{key:function(i){if(i.key){var s=Nf[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=So(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Pa[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nl,charCode:function(i){return i.type==="keypress"?So(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?So(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Il=Dn(Of),Er=g({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lu=Dn(Er),kf=g({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nl}),xs=Dn(kf),p=g({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Dn(p),A=g({},Io,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),U=Dn(A),le=g({},lr,{newState:0,oldState:0}),ve=Dn(le),je=[9,13,27,32],it=xr&&"CompositionEvent"in window,Qt=null;xr&&"documentMode"in document&&(Qt=document.documentMode);var Dt=xr&&"TextEvent"in window&&!Qt,gn=xr&&(!it||Qt&&8<Qt&&11>=Qt),Yr=" ",ia=!1;function Mi(i,s){switch(i){case"keyup":return je.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Li(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Fi=!1;function cu(i,s){switch(i){case"compositionend":return Li(s);case"keypress":return s.which!==32?null:(ia=!0,Yr);case"textInput":return i=s.data,i===Yr&&ia?null:i;default:return null}}function MC(i,s){if(Fi)return i==="compositionend"||!it&&Mi(i,s)?(i=Af(),Al=Wt=pi=null,Fi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return gn&&s.locale!=="ko"?null:s.data;default:return null}}var LC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A_(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!LC[i.type]:s==="textarea"}function b_(i,s,c,u){vs?yr?yr.push(u):yr=[u]:vs=u,s=yd(s,"onChange"),0<s.length&&(c=new bo("onChange","change",null,c,u),i.push({event:c,listeners:s}))}var uu=null,hu=null;function FC(i){sE(i,0)}function Pf(i){var s=ue(i);if(Ut(s))return i}function R_(i,s){if(i==="change")return s}var C_=!1;if(xr){var km;if(xr){var Pm="oninput"in document;if(!Pm){var N_=document.createElement("div");N_.setAttribute("oninput","return;"),Pm=typeof N_.oninput=="function"}km=Pm}else km=!1;C_=km&&(!document.documentMode||9<document.documentMode)}function I_(){uu&&(uu.detachEvent("onpropertychange",D_),hu=uu=null)}function D_(i){if(i.propertyName==="value"&&Pf(hu)){var s=[];b_(s,hu,i,ru(i)),wo(FC,s)}}function jC(i,s,c){i==="focusin"?(I_(),uu=s,hu=c,uu.attachEvent("onpropertychange",D_)):i==="focusout"&&I_()}function UC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pf(hu)}function VC(i,s){if(i==="click")return Pf(s)}function BC(i,s){if(i==="input"||i==="change")return Pf(s)}function HC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Kr=typeof Object.is=="function"?Object.is:HC;function fu(i,s){if(Kr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),u=Object.keys(s);if(c.length!==u.length)return!1;for(u=0;u<c.length;u++){var v=c[u];if(!ot.call(s,v)||!Kr(i[v],s[v]))return!1}return!0}function O_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function k_(i,s){var c=O_(i);i=0;for(var u;c;){if(c.nodeType===3){if(u=i+c.textContent.length,i<=s&&u>=s)return{node:c,offset:s-i};i=u}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=O_(c)}}function P_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?P_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function M_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Da(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=Da(i.document)}return s}function Mm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var zC=xr&&"documentMode"in document&&11>=document.documentMode,Dl=null,Lm=null,du=null,Fm=!1;function L_(i,s,c){var u=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Fm||Dl==null||Dl!==Da(u)||(u=Dl,"selectionStart"in u&&Mm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),du&&fu(du,u)||(du=u,u=yd(Lm,"onSelect"),0<u.length&&(s=new bo("onSelect","select",null,s,c),i.push({event:s,listeners:u}),s.target=Dl)))}function ko(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var Ol={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionrun:ko("Transition","TransitionRun"),transitionstart:ko("Transition","TransitionStart"),transitioncancel:ko("Transition","TransitionCancel"),transitionend:ko("Transition","TransitionEnd")},jm={},F_={};xr&&(F_=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function Po(i){if(jm[i])return jm[i];if(!Ol[i])return i;var s=Ol[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in F_)return jm[i]=s[c];return i}var j_=Po("animationend"),U_=Po("animationiteration"),V_=Po("animationstart"),qC=Po("transitionrun"),GC=Po("transitionstart"),$C=Po("transitioncancel"),B_=Po("transitionend"),H_=new Map,Um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Um.push("scrollEnd");function ji(i,s){H_.set(i,s),Ce(s,[i])}var z_=new WeakMap;function gi(i,s){if(typeof i=="object"&&i!==null){var c=z_.get(i);return c!==void 0?c:(s={value:i,source:s,stack:ki(s)},z_.set(i,s),s)}return{value:i,source:s,stack:ki(s)}}var vi=[],kl=0,Vm=0;function Mf(){for(var i=kl,s=Vm=kl=0;s<i;){var c=vi[s];vi[s++]=null;var u=vi[s];vi[s++]=null;var v=vi[s];vi[s++]=null;var _=vi[s];if(vi[s++]=null,u!==null&&v!==null){var R=u.pending;R===null?v.next=v:(v.next=R.next,R.next=v),u.pending=v}_!==0&&q_(c,v,_)}}function Lf(i,s,c,u){vi[kl++]=i,vi[kl++]=s,vi[kl++]=c,vi[kl++]=u,Vm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Bm(i,s,c,u){return Lf(i,s,c,u),Ff(i)}function Pl(i,s){return Lf(i,null,null,s),Ff(i)}function q_(i,s,c){i.lanes|=c;var u=i.alternate;u!==null&&(u.lanes|=c);for(var v=!1,_=i.return;_!==null;)_.childLanes|=c,u=_.alternate,u!==null&&(u.childLanes|=c),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(v=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,v&&s!==null&&(v=31-Wn(c),i=_.hiddenUpdates,u=i[v],u===null?i[v]=[s]:u.push(s),s.lane=c|536870912),_):null}function Ff(i){if(50<ju)throw ju=0,Wp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ml={};function WC(i,s,c,u){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(i,s,c,u){return new WC(i,s,c,u)}function Hm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ma(i,s){var c=i.alternate;return c===null?(c=Xr(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function G_(i,s){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function jf(i,s,c,u,v,_){var R=0;if(u=i,typeof i=="function")Hm(i)&&(R=1);else if(typeof i=="string")R=KN(i,c,Y.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=Xr(31,c,s,v),i.elementType=C,i.lanes=_,i;case S:return Mo(c.children,v,_,s);case w:R=8,v|=24;break;case b:return i=Xr(12,c,s,v|2),i.elementType=b,i.lanes=_,i;case X:return i=Xr(13,c,s,v),i.elementType=X,i.lanes=_,i;case W:return i=Xr(19,c,s,v),i.elementType=W,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:case j:R=10;break e;case F:R=9;break e;case J:R=11;break e;case N:R=14;break e;case I:R=16,u=null;break e}R=29,c=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Xr(R,c,s,v),s.elementType=i,s.type=u,s.lanes=_,s}function Mo(i,s,c,u){return i=Xr(7,i,u,s),i.lanes=c,i}function zm(i,s,c){return i=Xr(6,i,null,s),i.lanes=c,i}function qm(i,s,c){return s=Xr(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ll=[],Fl=0,Uf=null,Vf=0,_i=[],yi=0,Lo=null,La=1,Fa="";function Fo(i,s){Ll[Fl++]=Vf,Ll[Fl++]=Uf,Uf=i,Vf=s}function $_(i,s,c){_i[yi++]=La,_i[yi++]=Fa,_i[yi++]=Lo,Lo=i;var u=La;i=Fa;var v=32-Wn(u)-1;u&=~(1<<v),c+=1;var _=32-Wn(s)+v;if(30<_){var R=v-v%5;_=(u&(1<<R)-1).toString(32),u>>=R,v-=R,La=1<<32-Wn(s)+v|c<<v|u,Fa=_+i}else La=1<<_|c<<v|u,Fa=i}function Gm(i){i.return!==null&&(Fo(i,1),$_(i,1,0))}function $m(i){for(;i===Uf;)Uf=Ll[--Fl],Ll[Fl]=null,Vf=Ll[--Fl],Ll[Fl]=null;for(;i===Lo;)Lo=_i[--yi],_i[yi]=null,Fa=_i[--yi],_i[yi]=null,La=_i[--yi],_i[yi]=null}var Tr=null,un=null,bt=!1,jo=null,aa=!1,Wm=Error(r(519));function Uo(i){var s=Error(r(418,""));throw gu(gi(s,i)),Wm}function W_(i){var s=i.stateNode,c=i.type,u=i.memoizedProps;switch(s[an]=i,s[pn]=u,c){case"dialog":mt("cancel",s),mt("close",s);break;case"iframe":case"object":case"embed":mt("load",s);break;case"video":case"audio":for(c=0;c<Vu.length;c++)mt(Vu[c],s);break;case"source":mt("error",s);break;case"img":case"image":case"link":mt("error",s),mt("load",s);break;case"details":mt("toggle",s);break;case"input":mt("invalid",s),Jc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ps(s);break;case"select":mt("invalid",s);break;case"textarea":mt("invalid",s),Ef(s,u.value,u.defaultValue,u.children),ps(s)}c=u.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||u.suppressHydrationWarning===!0||uE(s.textContent,c)?(u.popover!=null&&(mt("beforetoggle",s),mt("toggle",s)),u.onScroll!=null&&mt("scroll",s),u.onScrollEnd!=null&&mt("scrollend",s),u.onClick!=null&&(s.onclick=xd),s=!0):s=!1,s||Uo(i)}function Y_(i){for(Tr=i.return;Tr;)switch(Tr.tag){case 5:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:Tr=Tr.return}}function mu(i){if(i!==Tr)return!1;if(!bt)return Y_(i),bt=!0,!1;var s=i.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||cg(i.type,i.memoizedProps)),c=!c),c&&un&&Uo(i),Y_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(s===0){un=Vi(i.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++;i=i.nextSibling}un=null}}else s===27?(s=un,Ls(i.type)?(i=dg,dg=null,un=i):un=s):un=Tr?Vi(i.stateNode.nextSibling):null;return!0}function pu(){un=Tr=null,bt=!1}function K_(){var i=jo;return i!==null&&(kr===null?kr=i:kr.push.apply(kr,i),jo=null),i}function gu(i){jo===null?jo=[i]:jo.push(i)}var Ym=fe(null),Vo=null,ja=null;function Es(i,s,c){ee(Ym,s._currentValue),s._currentValue=c}function Ua(i){i._currentValue=Ym.current,B(Ym)}function Km(i,s,c){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===c)break;i=i.return}}function Xm(i,s,c,u){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var _=v.dependencies;if(_!==null){var R=v.child;_=_.firstContext;e:for(;_!==null;){var k=_;_=v;for(var Z=0;Z<s.length;Z++)if(k.context===s[Z]){_.lanes|=c,k=_.alternate,k!==null&&(k.lanes|=c),Km(_.return,c,i),u||(R=null);break e}_=k.next}}else if(v.tag===18){if(R=v.return,R===null)throw Error(r(341));R.lanes|=c,_=R.alternate,_!==null&&(_.lanes|=c),Km(R,c,i),R=null}else R=v.child;if(R!==null)R.return=v;else for(R=v;R!==null;){if(R===i){R=null;break}if(v=R.sibling,v!==null){v.return=R.return,R=v;break}R=R.return}v=R}}function vu(i,s,c,u){i=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var R=v.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var k=v.type;Kr(v.pendingProps.value,R.value)||(i!==null?i.push(k):i=[k])}}else if(v===Pe.current){if(R=v.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push($u):i=[$u])}v=v.return}i!==null&&Xm(s,i,c,u),s.flags|=262144}function Bf(i){for(i=i.firstContext;i!==null;){if(!Kr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Bo(i){Vo=i,ja=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function cr(i){return X_(Vo,i)}function Hf(i,s){return Vo===null&&Bo(i),X_(i,s)}function X_(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ja===null){if(i===null)throw Error(r(308));ja=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ja=ja.next=s;return c}var YC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},KC=t.unstable_scheduleCallback,XC=t.unstable_NormalPriority,On={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qm(){return{controller:new YC,data:new Map,refCount:0}}function _u(i){i.refCount--,i.refCount===0&&KC(XC,function(){i.controller.abort()})}var yu=null,Jm=0,jl=0,Ul=null;function QC(i,s){if(yu===null){var c=yu=[];Jm=0,jl=eg(),Ul={status:"pending",value:void 0,then:function(u){c.push(u)}}}return Jm++,s.then(Q_,Q_),s}function Q_(){if(--Jm===0&&yu!==null){Ul!==null&&(Ul.status="fulfilled");var i=yu;yu=null,jl=0,Ul=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function JC(i,s){var c=[],u={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var v=0;v<c.length;v++)(0,c[v])(s)},function(v){for(u.status="rejected",u.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),u}var J_=ce.S;ce.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&QC(i,s),J_!==null&&J_(i,s)};var Ho=fe(null);function Zm(){var i=Ho.current;return i!==null?i:Yt.pooledCache}function zf(i,s){s===null?ee(Ho,Ho.current):ee(Ho,s.pool)}function Z_(){var i=Zm();return i===null?null:{parent:On._currentValue,pool:i}}var xu=Error(r(460)),ey=Error(r(474)),qf=Error(r(542)),ep={then:function(){}};function ty(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Gf(){}function ny(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(Gf,Gf),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,iy(i),i;default:if(typeof s.status=="string")s.then(Gf,Gf);else{if(i=Yt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=u}},function(u){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,iy(i),i}throw Eu=s,xu}}var Eu=null;function ry(){if(Eu===null)throw Error(r(459));var i=Eu;return Eu=null,i}function iy(i){if(i===xu||i===qf)throw Error(r(483))}var Ts=!1;function tp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function np(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ws(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ss(i,s,c){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ot&2)!==0){var v=u.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),u.pending=s,s=Ff(i),q_(i,null,c),s}return Lf(i,u,s,c),Ff(i)}function Tu(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,c|=u,s.lanes=c,ta(i,c)}}function rp(i,s){var c=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,c===u)){var v=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var R={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?v=_=R:_=_.next=R,c=c.next}while(c!==null);_===null?v=_=s:_=_.next=s}else v=_=s;c={baseState:u.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var ip=!1;function wu(){if(ip){var i=Ul;if(i!==null)throw i}}function Su(i,s,c,u){ip=!1;var v=i.updateQueue;Ts=!1;var _=v.firstBaseUpdate,R=v.lastBaseUpdate,k=v.shared.pending;if(k!==null){v.shared.pending=null;var Z=k,he=Z.next;Z.next=null,R===null?_=he:R.next=he,R=Z;var Ee=i.alternate;Ee!==null&&(Ee=Ee.updateQueue,k=Ee.lastBaseUpdate,k!==R&&(k===null?Ee.firstBaseUpdate=he:k.next=he,Ee.lastBaseUpdate=Z))}if(_!==null){var Se=v.baseState;R=0,Ee=he=Z=null,k=_;do{var pe=k.lane&-536870913,ge=pe!==k.lane;if(ge?(yt&pe)===pe:(u&pe)===pe){pe!==0&&pe===jl&&(ip=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var et=i,Qe=k;pe=s;var Ht=c;switch(Qe.tag){case 1:if(et=Qe.payload,typeof et=="function"){Se=et.call(Ht,Se,pe);break e}Se=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=Qe.payload,pe=typeof et=="function"?et.call(Ht,Se,pe):et,pe==null)break e;Se=g({},Se,pe);break e;case 2:Ts=!0}}pe=k.callback,pe!==null&&(i.flags|=64,ge&&(i.flags|=8192),ge=v.callbacks,ge===null?v.callbacks=[pe]:ge.push(pe))}else ge={lane:pe,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Ee===null?(he=Ee=ge,Z=Se):Ee=Ee.next=ge,R|=pe;if(k=k.next,k===null){if(k=v.shared.pending,k===null)break;ge=k,k=ge.next,ge.next=null,v.lastBaseUpdate=ge,v.shared.pending=null}}while(!0);Ee===null&&(Z=Se),v.baseState=Z,v.firstBaseUpdate=he,v.lastBaseUpdate=Ee,_===null&&(v.shared.lanes=0),Os|=R,i.lanes=R,i.memoizedState=Se}}function ay(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function sy(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)ay(c[i],s)}var Vl=fe(null),$f=fe(0);function oy(i,s){i=$a,ee($f,i),ee(Vl,s),$a=i|s.baseLanes}function ap(){ee($f,$a),ee(Vl,Vl.current)}function sp(){$a=$f.current,B(Vl),B($f)}var As=0,ct=null,Vt=null,Tn=null,Wf=!1,Bl=!1,zo=!1,Yf=0,Au=0,Hl=null,ZC=0;function vn(){throw Error(r(321))}function op(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!Kr(i[c],s[c]))return!1;return!0}function lp(i,s,c,u,v,_){return As=_,ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ce.H=i===null||i.memoizedState===null?qy:Gy,zo=!1,_=c(u,v),zo=!1,Bl&&(_=cy(s,c,u,v)),ly(i),_}function ly(i){ce.H=ed;var s=Vt!==null&&Vt.next!==null;if(As=0,Tn=Vt=ct=null,Wf=!1,Au=0,Hl=null,s)throw Error(r(300));i===null||Un||(i=i.dependencies,i!==null&&Bf(i)&&(Un=!0))}function cy(i,s,c,u){ct=i;var v=0;do{if(Bl&&(Hl=null),Au=0,Bl=!1,25<=v)throw Error(r(301));if(v+=1,Tn=Vt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ce.H=sN,_=s(c,u)}while(Bl);return _}function eN(){var i=ce.H,s=i.useState()[0];return s=typeof s.then=="function"?bu(s):s,i=i.useState()[0],(Vt!==null?Vt.memoizedState:null)!==i&&(ct.flags|=1024),s}function cp(){var i=Yf!==0;return Yf=0,i}function up(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function hp(i){if(Wf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Wf=!1}As=0,Tn=Vt=ct=null,Bl=!1,Au=Yf=0,Hl=null}function Dr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?ct.memoizedState=Tn=i:Tn=Tn.next=i,Tn}function wn(){if(Vt===null){var i=ct.alternate;i=i!==null?i.memoizedState:null}else i=Vt.next;var s=Tn===null?ct.memoizedState:Tn.next;if(s!==null)Tn=s,Vt=i;else{if(i===null)throw ct.alternate===null?Error(r(467)):Error(r(310));Vt=i,i={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Tn===null?ct.memoizedState=Tn=i:Tn=Tn.next=i}return Tn}function fp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(i){var s=Au;return Au+=1,Hl===null&&(Hl=[]),i=ny(Hl,i,s),s=ct,(Tn===null?s.memoizedState:Tn.next)===null&&(s=s.alternate,ce.H=s===null||s.memoizedState===null?qy:Gy),i}function Kf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return bu(i);if(i.$$typeof===j)return cr(i)}throw Error(r(438,String(i)))}function dp(i){var s=null,c=ct.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var u=ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=fp(),ct.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),u=0;u<i;u++)c[u]=P;return s.index++,c}function Va(i,s){return typeof s=="function"?s(i):s}function Xf(i){var s=wn();return mp(s,Vt,i)}function mp(i,s,c){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=c;var v=i.baseQueue,_=u.pending;if(_!==null){if(v!==null){var R=v.next;v.next=_.next,_.next=R}s.baseQueue=v=_,u.pending=null}if(_=i.baseState,v===null)i.memoizedState=_;else{s=v.next;var k=R=null,Z=null,he=s,Ee=!1;do{var Se=he.lane&-536870913;if(Se!==he.lane?(yt&Se)===Se:(As&Se)===Se){var pe=he.revertLane;if(pe===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Se===jl&&(Ee=!0);else if((As&pe)===pe){he=he.next,pe===jl&&(Ee=!0);continue}else Se={lane:0,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},Z===null?(k=Z=Se,R=_):Z=Z.next=Se,ct.lanes|=pe,Os|=pe;Se=he.action,zo&&c(_,Se),_=he.hasEagerState?he.eagerState:c(_,Se)}else pe={lane:Se,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},Z===null?(k=Z=pe,R=_):Z=Z.next=pe,ct.lanes|=Se,Os|=Se;he=he.next}while(he!==null&&he!==s);if(Z===null?R=_:Z.next=k,!Kr(_,i.memoizedState)&&(Un=!0,Ee&&(c=Ul,c!==null)))throw c;i.memoizedState=_,i.baseState=R,i.baseQueue=Z,u.lastRenderedState=_}return v===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function pp(i){var s=wn(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var u=c.dispatch,v=c.pending,_=s.memoizedState;if(v!==null){c.pending=null;var R=v=v.next;do _=i(_,R.action),R=R.next;while(R!==v);Kr(_,s.memoizedState)||(Un=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),c.lastRenderedState=_}return[_,u]}function uy(i,s,c){var u=ct,v=wn(),_=bt;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=s();var R=!Kr((Vt||v).memoizedState,c);R&&(v.memoizedState=c,Un=!0),v=v.queue;var k=dy.bind(null,u,v,i);if(Ru(2048,8,k,[i]),v.getSnapshot!==s||R||Tn!==null&&Tn.memoizedState.tag&1){if(u.flags|=2048,zl(9,Qf(),fy.bind(null,u,v,c,s),null),Yt===null)throw Error(r(349));_||(As&124)!==0||hy(u,s,c)}return c}function hy(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=ct.updateQueue,s===null?(s=fp(),ct.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function fy(i,s,c,u){s.value=c,s.getSnapshot=u,my(s)&&py(i)}function dy(i,s,c){return c(function(){my(s)&&py(i)})}function my(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!Kr(i,c)}catch{return!0}}function py(i){var s=Pl(i,2);s!==null&&ti(s,i,2)}function gp(i){var s=Dr();if(typeof i=="function"){var c=i;if(i=c(),zo){En(!0);try{c()}finally{En(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:i},s}function gy(i,s,c,u){return i.baseState=c,mp(i,Vt,typeof u=="function"?u:Va)}function tN(i,s,c,u,v){if(Zf(i))throw Error(r(485));if(i=s.action,i!==null){var _={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){_.listeners.push(R)}};ce.T!==null?c(!0):_.isTransition=!1,u(_),c=s.pending,c===null?(_.next=s.pending=_,vy(s,_)):(_.next=c.next,s.pending=c.next=_)}}function vy(i,s){var c=s.action,u=s.payload,v=i.state;if(s.isTransition){var _=ce.T,R={};ce.T=R;try{var k=c(v,u),Z=ce.S;Z!==null&&Z(R,k),_y(i,s,k)}catch(he){vp(i,s,he)}finally{ce.T=_}}else try{_=c(v,u),_y(i,s,_)}catch(he){vp(i,s,he)}}function _y(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(u){yy(i,s,u)},function(u){return vp(i,s,u)}):yy(i,s,c)}function yy(i,s,c){s.status="fulfilled",s.value=c,xy(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,vy(i,c)))}function vp(i,s,c){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=c,xy(s),s=s.next;while(s!==u)}i.action=null}function xy(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Ey(i,s){return s}function Ty(i,s){if(bt){var c=Yt.formState;if(c!==null){e:{var u=ct;if(bt){if(un){t:{for(var v=un,_=aa;v.nodeType!==8;){if(!_){v=null;break t}if(v=Vi(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){un=Vi(v.nextSibling),u=v.data==="F!";break e}}Uo(u)}u=!1}u&&(s=c[0])}}return c=Dr(),c.memoizedState=c.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:s},c.queue=u,c=By.bind(null,ct,u),u.dispatch=c,u=gp(!1),_=Tp.bind(null,ct,!1,u.queue),u=Dr(),v={state:s,dispatch:null,action:i,pending:null},u.queue=v,c=tN.bind(null,ct,v,_,c),v.dispatch=c,u.memoizedState=i,[s,c,!1]}function wy(i){var s=wn();return Sy(s,Vt,i)}function Sy(i,s,c){if(s=mp(i,s,Ey)[0],i=Xf(Va)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=bu(s)}catch(R){throw R===xu?qf:R}else u=s;s=wn();var v=s.queue,_=v.dispatch;return c!==s.memoizedState&&(ct.flags|=2048,zl(9,Qf(),nN.bind(null,v,c),null)),[u,_,i]}function nN(i,s){i.action=s}function Ay(i){var s=wn(),c=Vt;if(c!==null)return Sy(s,c,i);wn(),s=s.memoizedState,c=wn();var u=c.queue.dispatch;return c.memoizedState=i,[s,u,!1]}function zl(i,s,c,u){return i={tag:i,create:c,deps:u,inst:s,next:null},s=ct.updateQueue,s===null&&(s=fp(),ct.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(u=c.next,c.next=i,i.next=u,s.lastEffect=i),i}function Qf(){return{destroy:void 0,resource:void 0}}function by(){return wn().memoizedState}function Jf(i,s,c,u){var v=Dr();u=u===void 0?null:u,ct.flags|=i,v.memoizedState=zl(1|s,Qf(),c,u)}function Ru(i,s,c,u){var v=wn();u=u===void 0?null:u;var _=v.memoizedState.inst;Vt!==null&&u!==null&&op(u,Vt.memoizedState.deps)?v.memoizedState=zl(s,_,c,u):(ct.flags|=i,v.memoizedState=zl(1|s,_,c,u))}function Ry(i,s){Jf(8390656,8,i,s)}function Cy(i,s){Ru(2048,8,i,s)}function Ny(i,s){return Ru(4,2,i,s)}function Iy(i,s){return Ru(4,4,i,s)}function Dy(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Oy(i,s,c){c=c!=null?c.concat([i]):null,Ru(4,4,Dy.bind(null,s,i),c)}function _p(){}function ky(i,s){var c=wn();s=s===void 0?null:s;var u=c.memoizedState;return s!==null&&op(s,u[1])?u[0]:(c.memoizedState=[i,s],i)}function Py(i,s){var c=wn();s=s===void 0?null:s;var u=c.memoizedState;if(s!==null&&op(s,u[1]))return u[0];if(u=i(),zo){En(!0);try{i()}finally{En(!1)}}return c.memoizedState=[u,s],u}function yp(i,s,c){return c===void 0||(As&1073741824)!==0?i.memoizedState=s:(i.memoizedState=c,i=Fx(),ct.lanes|=i,Os|=i,c)}function My(i,s,c,u){return Kr(c,s)?c:Vl.current!==null?(i=yp(i,c,u),Kr(i,s)||(Un=!0),i):(As&42)===0?(Un=!0,i.memoizedState=c):(i=Fx(),ct.lanes|=i,Os|=i,s)}function Ly(i,s,c,u,v){var _=Re.p;Re.p=_!==0&&8>_?_:8;var R=ce.T,k={};ce.T=k,Tp(i,!1,s,c);try{var Z=v(),he=ce.S;if(he!==null&&he(k,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var Ee=JC(Z,u);Cu(i,s,Ee,ei(i))}else Cu(i,s,u,ei(i))}catch(Se){Cu(i,s,{then:function(){},status:"rejected",reason:Se},ei())}finally{Re.p=_,ce.T=R}}function rN(){}function xp(i,s,c,u){if(i.tag!==5)throw Error(r(476));var v=Fy(i).queue;Ly(i,v,s,He,c===null?rN:function(){return jy(i),c(u)})}function Fy(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:He,baseState:He,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:He},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function jy(i){var s=Fy(i).next.queue;Cu(i,s,{},ei())}function Ep(){return cr($u)}function Uy(){return wn().memoizedState}function Vy(){return wn().memoizedState}function iN(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=ei();i=ws(c);var u=Ss(s,i,c);u!==null&&(ti(u,s,c),Tu(u,s,c)),s={cache:Qm()},i.payload=s;return}s=s.return}}function aN(i,s,c){var u=ei();c={lane:u,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Zf(i)?Hy(s,c):(c=Bm(i,s,c,u),c!==null&&(ti(c,i,u),zy(c,s,u)))}function By(i,s,c){var u=ei();Cu(i,s,c,u)}function Cu(i,s,c,u){var v={lane:u,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Zf(i))Hy(s,v);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var R=s.lastRenderedState,k=_(R,c);if(v.hasEagerState=!0,v.eagerState=k,Kr(k,R))return Lf(i,s,v,0),Yt===null&&Mf(),!1}catch{}finally{}if(c=Bm(i,s,v,u),c!==null)return ti(c,i,u),zy(c,s,u),!0}return!1}function Tp(i,s,c,u){if(u={lane:2,revertLane:eg(),action:u,hasEagerState:!1,eagerState:null,next:null},Zf(i)){if(s)throw Error(r(479))}else s=Bm(i,c,u,2),s!==null&&ti(s,i,2)}function Zf(i){var s=i.alternate;return i===ct||s!==null&&s===ct}function Hy(i,s){Bl=Wf=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function zy(i,s,c){if((c&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,c|=u,s.lanes=c,ta(i,c)}}var ed={readContext:cr,use:Kf,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn,useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:vn,useCacheRefresh:vn},qy={readContext:cr,use:Kf,useCallback:function(i,s){return Dr().memoizedState=[i,s===void 0?null:s],i},useContext:cr,useEffect:Ry,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,Jf(4194308,4,Dy.bind(null,s,i),c)},useLayoutEffect:function(i,s){return Jf(4194308,4,i,s)},useInsertionEffect:function(i,s){Jf(4,2,i,s)},useMemo:function(i,s){var c=Dr();s=s===void 0?null:s;var u=i();if(zo){En(!0);try{i()}finally{En(!1)}}return c.memoizedState=[u,s],u},useReducer:function(i,s,c){var u=Dr();if(c!==void 0){var v=c(s);if(zo){En(!0);try{c(s)}finally{En(!1)}}}else v=s;return u.memoizedState=u.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},u.queue=i,i=i.dispatch=aN.bind(null,ct,i),[u.memoizedState,i]},useRef:function(i){var s=Dr();return i={current:i},s.memoizedState=i},useState:function(i){i=gp(i);var s=i.queue,c=By.bind(null,ct,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:_p,useDeferredValue:function(i,s){var c=Dr();return yp(c,i,s)},useTransition:function(){var i=gp(!1);return i=Ly.bind(null,ct,i.queue,!0,!1),Dr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var u=ct,v=Dr();if(bt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),Yt===null)throw Error(r(349));(yt&124)!==0||hy(u,s,c)}v.memoizedState=c;var _={value:c,getSnapshot:s};return v.queue=_,Ry(dy.bind(null,u,_,i),[i]),u.flags|=2048,zl(9,Qf(),fy.bind(null,u,_,c,s),null),c},useId:function(){var i=Dr(),s=Yt.identifierPrefix;if(bt){var c=Fa,u=La;c=(u&~(1<<32-Wn(u)-1)).toString(32)+c,s="«"+s+"R"+c,c=Yf++,0<c&&(s+="H"+c.toString(32)),s+="»"}else c=ZC++,s="«"+s+"r"+c.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:Ep,useFormState:Ty,useActionState:Ty,useOptimistic:function(i){var s=Dr();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Tp.bind(null,ct,!0,c),c.dispatch=s,[i,s]},useMemoCache:dp,useCacheRefresh:function(){return Dr().memoizedState=iN.bind(null,ct)}},Gy={readContext:cr,use:Kf,useCallback:ky,useContext:cr,useEffect:Cy,useImperativeHandle:Oy,useInsertionEffect:Ny,useLayoutEffect:Iy,useMemo:Py,useReducer:Xf,useRef:by,useState:function(){return Xf(Va)},useDebugValue:_p,useDeferredValue:function(i,s){var c=wn();return My(c,Vt.memoizedState,i,s)},useTransition:function(){var i=Xf(Va)[0],s=wn().memoizedState;return[typeof i=="boolean"?i:bu(i),s]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:Ep,useFormState:wy,useActionState:wy,useOptimistic:function(i,s){var c=wn();return gy(c,Vt,i,s)},useMemoCache:dp,useCacheRefresh:Vy},sN={readContext:cr,use:Kf,useCallback:ky,useContext:cr,useEffect:Cy,useImperativeHandle:Oy,useInsertionEffect:Ny,useLayoutEffect:Iy,useMemo:Py,useReducer:pp,useRef:by,useState:function(){return pp(Va)},useDebugValue:_p,useDeferredValue:function(i,s){var c=wn();return Vt===null?yp(c,i,s):My(c,Vt.memoizedState,i,s)},useTransition:function(){var i=pp(Va)[0],s=wn().memoizedState;return[typeof i=="boolean"?i:bu(i),s]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:Ep,useFormState:Ay,useActionState:Ay,useOptimistic:function(i,s){var c=wn();return Vt!==null?gy(c,Vt,i,s):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:dp,useCacheRefresh:Vy},ql=null,Nu=0;function td(i){var s=Nu;return Nu+=1,ql===null&&(ql=[]),ny(ql,i,s)}function Iu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function nd(i,s){throw s.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function $y(i){var s=i._init;return s(i._payload)}function Wy(i){function s(ie,ne){if(i){var oe=ie.deletions;oe===null?(ie.deletions=[ne],ie.flags|=16):oe.push(ne)}}function c(ie,ne){if(!i)return null;for(;ne!==null;)s(ie,ne),ne=ne.sibling;return null}function u(ie){for(var ne=new Map;ie!==null;)ie.key!==null?ne.set(ie.key,ie):ne.set(ie.index,ie),ie=ie.sibling;return ne}function v(ie,ne){return ie=Ma(ie,ne),ie.index=0,ie.sibling=null,ie}function _(ie,ne,oe){return ie.index=oe,i?(oe=ie.alternate,oe!==null?(oe=oe.index,oe<ne?(ie.flags|=67108866,ne):oe):(ie.flags|=67108866,ne)):(ie.flags|=1048576,ne)}function R(ie){return i&&ie.alternate===null&&(ie.flags|=67108866),ie}function k(ie,ne,oe,we){return ne===null||ne.tag!==6?(ne=zm(oe,ie.mode,we),ne.return=ie,ne):(ne=v(ne,oe),ne.return=ie,ne)}function Z(ie,ne,oe,we){var We=oe.type;return We===S?Ee(ie,ne,oe.props.children,we,oe.key):ne!==null&&(ne.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===I&&$y(We)===ne.type)?(ne=v(ne,oe.props),Iu(ne,oe),ne.return=ie,ne):(ne=jf(oe.type,oe.key,oe.props,null,ie.mode,we),Iu(ne,oe),ne.return=ie,ne)}function he(ie,ne,oe,we){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==oe.containerInfo||ne.stateNode.implementation!==oe.implementation?(ne=qm(oe,ie.mode,we),ne.return=ie,ne):(ne=v(ne,oe.children||[]),ne.return=ie,ne)}function Ee(ie,ne,oe,we,We){return ne===null||ne.tag!==7?(ne=Mo(oe,ie.mode,we,We),ne.return=ie,ne):(ne=v(ne,oe),ne.return=ie,ne)}function Se(ie,ne,oe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=zm(""+ne,ie.mode,oe),ne.return=ie,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return oe=jf(ne.type,ne.key,ne.props,null,ie.mode,oe),Iu(oe,ne),oe.return=ie,oe;case T:return ne=qm(ne,ie.mode,oe),ne.return=ie,ne;case I:var we=ne._init;return ne=we(ne._payload),Se(ie,ne,oe)}if(ke(ne)||z(ne))return ne=Mo(ne,ie.mode,oe,null),ne.return=ie,ne;if(typeof ne.then=="function")return Se(ie,td(ne),oe);if(ne.$$typeof===j)return Se(ie,Hf(ie,ne),oe);nd(ie,ne)}return null}function pe(ie,ne,oe,we){var We=ne!==null?ne.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return We!==null?null:k(ie,ne,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case x:return oe.key===We?Z(ie,ne,oe,we):null;case T:return oe.key===We?he(ie,ne,oe,we):null;case I:return We=oe._init,oe=We(oe._payload),pe(ie,ne,oe,we)}if(ke(oe)||z(oe))return We!==null?null:Ee(ie,ne,oe,we,null);if(typeof oe.then=="function")return pe(ie,ne,td(oe),we);if(oe.$$typeof===j)return pe(ie,ne,Hf(ie,oe),we);nd(ie,oe)}return null}function ge(ie,ne,oe,we,We){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ie=ie.get(oe)||null,k(ne,ie,""+we,We);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case x:return ie=ie.get(we.key===null?oe:we.key)||null,Z(ne,ie,we,We);case T:return ie=ie.get(we.key===null?oe:we.key)||null,he(ne,ie,we,We);case I:var ht=we._init;return we=ht(we._payload),ge(ie,ne,oe,we,We)}if(ke(we)||z(we))return ie=ie.get(oe)||null,Ee(ne,ie,we,We,null);if(typeof we.then=="function")return ge(ie,ne,oe,td(we),We);if(we.$$typeof===j)return ge(ie,ne,oe,Hf(ne,we),We);nd(ne,we)}return null}function et(ie,ne,oe,we){for(var We=null,ht=null,Ke=ne,Je=ne=0,Bn=null;Ke!==null&&Je<oe.length;Je++){Ke.index>Je?(Bn=Ke,Ke=null):Bn=Ke.sibling;var Et=pe(ie,Ke,oe[Je],we);if(Et===null){Ke===null&&(Ke=Bn);break}i&&Ke&&Et.alternate===null&&s(ie,Ke),ne=_(Et,ne,Je),ht===null?We=Et:ht.sibling=Et,ht=Et,Ke=Bn}if(Je===oe.length)return c(ie,Ke),bt&&Fo(ie,Je),We;if(Ke===null){for(;Je<oe.length;Je++)Ke=Se(ie,oe[Je],we),Ke!==null&&(ne=_(Ke,ne,Je),ht===null?We=Ke:ht.sibling=Ke,ht=Ke);return bt&&Fo(ie,Je),We}for(Ke=u(Ke);Je<oe.length;Je++)Bn=ge(Ke,ie,Je,oe[Je],we),Bn!==null&&(i&&Bn.alternate!==null&&Ke.delete(Bn.key===null?Je:Bn.key),ne=_(Bn,ne,Je),ht===null?We=Bn:ht.sibling=Bn,ht=Bn);return i&&Ke.forEach(function(Bs){return s(ie,Bs)}),bt&&Fo(ie,Je),We}function Qe(ie,ne,oe,we){if(oe==null)throw Error(r(151));for(var We=null,ht=null,Ke=ne,Je=ne=0,Bn=null,Et=oe.next();Ke!==null&&!Et.done;Je++,Et=oe.next()){Ke.index>Je?(Bn=Ke,Ke=null):Bn=Ke.sibling;var Bs=pe(ie,Ke,Et.value,we);if(Bs===null){Ke===null&&(Ke=Bn);break}i&&Ke&&Bs.alternate===null&&s(ie,Ke),ne=_(Bs,ne,Je),ht===null?We=Bs:ht.sibling=Bs,ht=Bs,Ke=Bn}if(Et.done)return c(ie,Ke),bt&&Fo(ie,Je),We;if(Ke===null){for(;!Et.done;Je++,Et=oe.next())Et=Se(ie,Et.value,we),Et!==null&&(ne=_(Et,ne,Je),ht===null?We=Et:ht.sibling=Et,ht=Et);return bt&&Fo(ie,Je),We}for(Ke=u(Ke);!Et.done;Je++,Et=oe.next())Et=ge(Ke,ie,Je,Et.value,we),Et!==null&&(i&&Et.alternate!==null&&Ke.delete(Et.key===null?Je:Et.key),ne=_(Et,ne,Je),ht===null?We=Et:ht.sibling=Et,ht=Et);return i&&Ke.forEach(function(o4){return s(ie,o4)}),bt&&Fo(ie,Je),We}function Ht(ie,ne,oe,we){if(typeof oe=="object"&&oe!==null&&oe.type===S&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case x:e:{for(var We=oe.key;ne!==null;){if(ne.key===We){if(We=oe.type,We===S){if(ne.tag===7){c(ie,ne.sibling),we=v(ne,oe.props.children),we.return=ie,ie=we;break e}}else if(ne.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===I&&$y(We)===ne.type){c(ie,ne.sibling),we=v(ne,oe.props),Iu(we,oe),we.return=ie,ie=we;break e}c(ie,ne);break}else s(ie,ne);ne=ne.sibling}oe.type===S?(we=Mo(oe.props.children,ie.mode,we,oe.key),we.return=ie,ie=we):(we=jf(oe.type,oe.key,oe.props,null,ie.mode,we),Iu(we,oe),we.return=ie,ie=we)}return R(ie);case T:e:{for(We=oe.key;ne!==null;){if(ne.key===We)if(ne.tag===4&&ne.stateNode.containerInfo===oe.containerInfo&&ne.stateNode.implementation===oe.implementation){c(ie,ne.sibling),we=v(ne,oe.children||[]),we.return=ie,ie=we;break e}else{c(ie,ne);break}else s(ie,ne);ne=ne.sibling}we=qm(oe,ie.mode,we),we.return=ie,ie=we}return R(ie);case I:return We=oe._init,oe=We(oe._payload),Ht(ie,ne,oe,we)}if(ke(oe))return et(ie,ne,oe,we);if(z(oe)){if(We=z(oe),typeof We!="function")throw Error(r(150));return oe=We.call(oe),Qe(ie,ne,oe,we)}if(typeof oe.then=="function")return Ht(ie,ne,td(oe),we);if(oe.$$typeof===j)return Ht(ie,ne,Hf(ie,oe),we);nd(ie,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,ne!==null&&ne.tag===6?(c(ie,ne.sibling),we=v(ne,oe),we.return=ie,ie=we):(c(ie,ne),we=zm(oe,ie.mode,we),we.return=ie,ie=we),R(ie)):c(ie,ne)}return function(ie,ne,oe,we){try{Nu=0;var We=Ht(ie,ne,oe,we);return ql=null,We}catch(Ke){if(Ke===xu||Ke===qf)throw Ke;var ht=Xr(29,Ke,null,ie.mode);return ht.lanes=we,ht.return=ie,ht}finally{}}}var Gl=Wy(!0),Yy=Wy(!1),xi=fe(null),sa=null;function bs(i){var s=i.alternate;ee(kn,kn.current&1),ee(xi,i),sa===null&&(s===null||Vl.current!==null||s.memoizedState!==null)&&(sa=i)}function Ky(i){if(i.tag===22){if(ee(kn,kn.current),ee(xi,i),sa===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(sa=i)}}else Rs()}function Rs(){ee(kn,kn.current),ee(xi,xi.current)}function Ba(i){B(xi),sa===i&&(sa=null),B(kn)}var kn=fe(0);function rd(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||fg(c)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function wp(i,s,c,u){s=i.memoizedState,c=c(u,s),c=c==null?s:g({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Sp={enqueueSetState:function(i,s,c){i=i._reactInternals;var u=ei(),v=ws(u);v.payload=s,c!=null&&(v.callback=c),s=Ss(i,v,u),s!==null&&(ti(s,i,u),Tu(s,i,u))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var u=ei(),v=ws(u);v.tag=1,v.payload=s,c!=null&&(v.callback=c),s=Ss(i,v,u),s!==null&&(ti(s,i,u),Tu(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=ei(),u=ws(c);u.tag=2,s!=null&&(u.callback=s),s=Ss(i,u,c),s!==null&&(ti(s,i,c),Tu(s,i,c))}};function Xy(i,s,c,u,v,_,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,_,R):s.prototype&&s.prototype.isPureReactComponent?!fu(c,u)||!fu(v,_):!0}function Qy(i,s,c,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,u),s.state!==i&&Sp.enqueueReplaceState(s,s.state,null)}function qo(i,s){var c=s;if("ref"in s){c={};for(var u in s)u!=="ref"&&(c[u]=s[u])}if(i=i.defaultProps){c===s&&(c=g({},c));for(var v in i)c[v]===void 0&&(c[v]=i[v])}return c}var id=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Jy(i){id(i)}function Zy(i){console.error(i)}function ex(i){id(i)}function ad(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function tx(i,s,c){try{var u=i.onCaughtError;u(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Ap(i,s,c){return c=ws(c),c.tag=3,c.payload={element:null},c.callback=function(){ad(i,s)},c}function nx(i){return i=ws(i),i.tag=3,i}function rx(i,s,c,u){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var _=u.value;i.payload=function(){return v(_)},i.callback=function(){tx(s,c,u)}}var R=c.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){tx(s,c,u),typeof v!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function oN(i,s,c,u,v){if(c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=c.alternate,s!==null&&vu(s,c,v,!0),c=xi.current,c!==null){switch(c.tag){case 13:return sa===null?Kp():c.alternate===null&&hn===0&&(hn=3),c.flags&=-257,c.flags|=65536,c.lanes=v,u===ep?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([u]):s.add(u),Qp(i,u,v)),!1;case 22:return c.flags|=65536,u===ep?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([u]):c.add(u)),Qp(i,u,v)),!1}throw Error(r(435,c.tag))}return Qp(i,u,v),Kp(),!1}if(bt)return s=xi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,u!==Wm&&(i=Error(r(422),{cause:u}),gu(gi(i,c)))):(u!==Wm&&(s=Error(r(423),{cause:u}),gu(gi(s,c))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,u=gi(u,c),v=Ap(i.stateNode,u,v),rp(i,v),hn!==4&&(hn=2)),!1;var _=Error(r(520),{cause:u});if(_=gi(_,c),Fu===null?Fu=[_]:Fu.push(_),hn!==4&&(hn=2),s===null)return!0;u=gi(u,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=v&-v,c.lanes|=i,i=Ap(c.stateNode,u,i),rp(c,i),!1;case 1:if(s=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ks===null||!ks.has(_))))return c.flags|=65536,v&=-v,c.lanes|=v,v=nx(v),rx(v,i,c,u),rp(c,v),!1}c=c.return}while(c!==null);return!1}var ix=Error(r(461)),Un=!1;function Yn(i,s,c,u){s.child=i===null?Yy(s,null,c,u):Gl(s,i.child,c,u)}function ax(i,s,c,u,v){c=c.render;var _=s.ref;if("ref"in u){var R={};for(var k in u)k!=="ref"&&(R[k]=u[k])}else R=u;return Bo(s),u=lp(i,s,c,R,_,v),k=cp(),i!==null&&!Un?(up(i,s,v),Ha(i,s,v)):(bt&&k&&Gm(s),s.flags|=1,Yn(i,s,u,v),s.child)}function sx(i,s,c,u,v){if(i===null){var _=c.type;return typeof _=="function"&&!Hm(_)&&_.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=_,ox(i,s,_,u,v)):(i=jf(c.type,null,u,s,s.mode,v),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!kp(i,v)){var R=_.memoizedProps;if(c=c.compare,c=c!==null?c:fu,c(R,u)&&i.ref===s.ref)return Ha(i,s,v)}return s.flags|=1,i=Ma(_,u),i.ref=s.ref,i.return=s,s.child=i}function ox(i,s,c,u,v){if(i!==null){var _=i.memoizedProps;if(fu(_,u)&&i.ref===s.ref)if(Un=!1,s.pendingProps=u=_,kp(i,v))(i.flags&131072)!==0&&(Un=!0);else return s.lanes=i.lanes,Ha(i,s,v)}return bp(i,s,c,u,v)}function lx(i,s,c){var u=s.pendingProps,v=u.children,_=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=_!==null?_.baseLanes|c:c,i!==null){for(v=s.child=i.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;s.childLanes=_&~u}else s.childLanes=0,s.child=null;return cx(i,s,u,c)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&zf(s,_!==null?_.cachePool:null),_!==null?oy(s,_):ap(),Ky(s);else return s.lanes=s.childLanes=536870912,cx(i,s,_!==null?_.baseLanes|c:c,c)}else _!==null?(zf(s,_.cachePool),oy(s,_),Rs(),s.memoizedState=null):(i!==null&&zf(s,null),ap(),Rs());return Yn(i,s,v,c),s.child}function cx(i,s,c,u){var v=Zm();return v=v===null?null:{parent:On._currentValue,pool:v},s.memoizedState={baseLanes:c,cachePool:v},i!==null&&zf(s,null),ap(),Ky(s),i!==null&&vu(i,s,u,!0),null}function sd(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(s.flags|=4194816)}}function bp(i,s,c,u,v){return Bo(s),c=lp(i,s,c,u,void 0,v),u=cp(),i!==null&&!Un?(up(i,s,v),Ha(i,s,v)):(bt&&u&&Gm(s),s.flags|=1,Yn(i,s,c,v),s.child)}function ux(i,s,c,u,v,_){return Bo(s),s.updateQueue=null,c=cy(s,u,c,v),ly(i),u=cp(),i!==null&&!Un?(up(i,s,_),Ha(i,s,_)):(bt&&u&&Gm(s),s.flags|=1,Yn(i,s,c,_),s.child)}function hx(i,s,c,u,v){if(Bo(s),s.stateNode===null){var _=Ml,R=c.contextType;typeof R=="object"&&R!==null&&(_=cr(R)),_=new c(u,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Sp,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=u,_.state=s.memoizedState,_.refs={},tp(s),R=c.contextType,_.context=typeof R=="object"&&R!==null?cr(R):Ml,_.state=s.memoizedState,R=c.getDerivedStateFromProps,typeof R=="function"&&(wp(s,c,R,u),_.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(R=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),R!==_.state&&Sp.enqueueReplaceState(_,_.state,null),Su(s,u,_,v),wu(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){_=s.stateNode;var k=s.memoizedProps,Z=qo(c,k);_.props=Z;var he=_.context,Ee=c.contextType;R=Ml,typeof Ee=="object"&&Ee!==null&&(R=cr(Ee));var Se=c.getDerivedStateFromProps;Ee=typeof Se=="function"||typeof _.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,Ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k||he!==R)&&Qy(s,_,u,R),Ts=!1;var pe=s.memoizedState;_.state=pe,Su(s,u,_,v),wu(),he=s.memoizedState,k||pe!==he||Ts?(typeof Se=="function"&&(wp(s,c,Se,u),he=s.memoizedState),(Z=Ts||Xy(s,c,Z,u,pe,he,R))?(Ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=he),_.props=u,_.state=he,_.context=R,u=Z):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{_=s.stateNode,np(i,s),R=s.memoizedProps,Ee=qo(c,R),_.props=Ee,Se=s.pendingProps,pe=_.context,he=c.contextType,Z=Ml,typeof he=="object"&&he!==null&&(Z=cr(he)),k=c.getDerivedStateFromProps,(he=typeof k=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==Se||pe!==Z)&&Qy(s,_,u,Z),Ts=!1,pe=s.memoizedState,_.state=pe,Su(s,u,_,v),wu();var ge=s.memoizedState;R!==Se||pe!==ge||Ts||i!==null&&i.dependencies!==null&&Bf(i.dependencies)?(typeof k=="function"&&(wp(s,c,k,u),ge=s.memoizedState),(Ee=Ts||Xy(s,c,Ee,u,pe,ge,Z)||i!==null&&i.dependencies!==null&&Bf(i.dependencies))?(he||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ge,Z),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ge,Z)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===i.memoizedProps&&pe===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&pe===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ge),_.props=u,_.state=ge,_.context=Z,u=Ee):(typeof _.componentDidUpdate!="function"||R===i.memoizedProps&&pe===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&pe===i.memoizedState||(s.flags|=1024),u=!1)}return _=u,sd(i,s),u=(s.flags&128)!==0,_||u?(_=s.stateNode,c=u&&typeof c.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&u?(s.child=Gl(s,i.child,null,v),s.child=Gl(s,null,c,v)):Yn(i,s,c,v),s.memoizedState=_.state,i=s.child):i=Ha(i,s,v),i}function fx(i,s,c,u){return pu(),s.flags|=256,Yn(i,s,c,u),s.child}var Rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cp(i){return{baseLanes:i,cachePool:Z_()}}function Np(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=Ei),i}function dx(i,s,c){var u=s.pendingProps,v=!1,_=(s.flags&128)!==0,R;if((R=_)||(R=i!==null&&i.memoizedState===null?!1:(kn.current&2)!==0),R&&(v=!0,s.flags&=-129),R=(s.flags&32)!==0,s.flags&=-33,i===null){if(bt){if(v?bs(s):Rs(),bt){var k=un,Z;if(Z=k){e:{for(Z=k,k=aa;Z.nodeType!==8;){if(!k){k=null;break e}if(Z=Vi(Z.nextSibling),Z===null){k=null;break e}}k=Z}k!==null?(s.memoizedState={dehydrated:k,treeContext:Lo!==null?{id:La,overflow:Fa}:null,retryLane:536870912,hydrationErrors:null},Z=Xr(18,null,null,0),Z.stateNode=k,Z.return=s,s.child=Z,Tr=s,un=null,Z=!0):Z=!1}Z||Uo(s)}if(k=s.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return fg(k)?s.lanes=32:s.lanes=536870912,null;Ba(s)}return k=u.children,u=u.fallback,v?(Rs(),v=s.mode,k=od({mode:"hidden",children:k},v),u=Mo(u,v,c,null),k.return=s,u.return=s,k.sibling=u,s.child=k,v=s.child,v.memoizedState=Cp(c),v.childLanes=Np(i,R,c),s.memoizedState=Rp,u):(bs(s),Ip(s,k))}if(Z=i.memoizedState,Z!==null&&(k=Z.dehydrated,k!==null)){if(_)s.flags&256?(bs(s),s.flags&=-257,s=Dp(i,s,c)):s.memoizedState!==null?(Rs(),s.child=i.child,s.flags|=128,s=null):(Rs(),v=u.fallback,k=s.mode,u=od({mode:"visible",children:u.children},k),v=Mo(v,k,c,null),v.flags|=2,u.return=s,v.return=s,u.sibling=v,s.child=u,Gl(s,i.child,null,c),u=s.child,u.memoizedState=Cp(c),u.childLanes=Np(i,R,c),s.memoizedState=Rp,s=v);else if(bs(s),fg(k)){if(R=k.nextSibling&&k.nextSibling.dataset,R)var he=R.dgst;R=he,u=Error(r(419)),u.stack="",u.digest=R,gu({value:u,source:null,stack:null}),s=Dp(i,s,c)}else if(Un||vu(i,s,c,!1),R=(c&i.childLanes)!==0,Un||R){if(R=Yt,R!==null&&(u=c&-c,u=(u&42)!==0?1:_o(u),u=(u&(R.suspendedLanes|c))!==0?0:u,u!==0&&u!==Z.retryLane))throw Z.retryLane=u,Pl(i,u),ti(R,i,u),ix;k.data==="$?"||Kp(),s=Dp(i,s,c)}else k.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=Z.treeContext,un=Vi(k.nextSibling),Tr=s,bt=!0,jo=null,aa=!1,i!==null&&(_i[yi++]=La,_i[yi++]=Fa,_i[yi++]=Lo,La=i.id,Fa=i.overflow,Lo=s),s=Ip(s,u.children),s.flags|=4096);return s}return v?(Rs(),v=u.fallback,k=s.mode,Z=i.child,he=Z.sibling,u=Ma(Z,{mode:"hidden",children:u.children}),u.subtreeFlags=Z.subtreeFlags&65011712,he!==null?v=Ma(he,v):(v=Mo(v,k,c,null),v.flags|=2),v.return=s,u.return=s,u.sibling=v,s.child=u,u=v,v=s.child,k=i.child.memoizedState,k===null?k=Cp(c):(Z=k.cachePool,Z!==null?(he=On._currentValue,Z=Z.parent!==he?{parent:he,pool:he}:Z):Z=Z_(),k={baseLanes:k.baseLanes|c,cachePool:Z}),v.memoizedState=k,v.childLanes=Np(i,R,c),s.memoizedState=Rp,u):(bs(s),c=i.child,i=c.sibling,c=Ma(c,{mode:"visible",children:u.children}),c.return=s,c.sibling=null,i!==null&&(R=s.deletions,R===null?(s.deletions=[i],s.flags|=16):R.push(i)),s.child=c,s.memoizedState=null,c)}function Ip(i,s){return s=od({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function od(i,s){return i=Xr(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Dp(i,s,c){return Gl(s,i.child,null,c),i=Ip(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function mx(i,s,c){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Km(i.return,s,c)}function Op(i,s,c,u,v){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:c,tailMode:v}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=c,_.tailMode=v)}function px(i,s,c){var u=s.pendingProps,v=u.revealOrder,_=u.tail;if(Yn(i,s,u.children,c),u=kn.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&mx(i,c,s);else if(i.tag===19)mx(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ee(kn,u),v){case"forwards":for(c=s.child,v=null;c!==null;)i=c.alternate,i!==null&&rd(i)===null&&(v=c),c=c.sibling;c=v,c===null?(v=s.child,s.child=null):(v=c.sibling,c.sibling=null),Op(s,!1,v,c,_);break;case"backwards":for(c=null,v=s.child,s.child=null;v!==null;){if(i=v.alternate,i!==null&&rd(i)===null){s.child=v;break}i=v.sibling,v.sibling=c,c=v,v=i}Op(s,!0,c,null,_);break;case"together":Op(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ha(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),Os|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(vu(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,c=Ma(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=Ma(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function kp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Bf(i)))}function lN(i,s,c){switch(s.tag){case 3:Ie(s,s.stateNode.containerInfo),Es(s,On,i.memoizedState.cache),pu();break;case 27:case 5:De(s);break;case 4:Ie(s,s.stateNode.containerInfo);break;case 10:Es(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(bs(s),s.flags|=128,null):(c&s.child.childLanes)!==0?dx(i,s,c):(bs(s),i=Ha(i,s,c),i!==null?i.sibling:null);bs(s);break;case 19:var v=(i.flags&128)!==0;if(u=(c&s.childLanes)!==0,u||(vu(i,s,c,!1),u=(c&s.childLanes)!==0),v){if(u)return px(i,s,c);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ee(kn,kn.current),u)break;return null;case 22:case 23:return s.lanes=0,lx(i,s,c);case 24:Es(s,On,i.memoizedState.cache)}return Ha(i,s,c)}function gx(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)Un=!0;else{if(!kp(i,c)&&(s.flags&128)===0)return Un=!1,lN(i,s,c);Un=(i.flags&131072)!==0}else Un=!1,bt&&(s.flags&1048576)!==0&&$_(s,Vf,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,v=u._init;if(u=v(u._payload),s.type=u,typeof u=="function")Hm(u)?(i=qo(u,i),s.tag=1,s=hx(null,s,u,i,c)):(s.tag=0,s=bp(null,s,u,i,c));else{if(u!=null){if(v=u.$$typeof,v===J){s.tag=11,s=ax(null,s,u,i,c);break e}else if(v===N){s.tag=14,s=sx(null,s,u,i,c);break e}}throw s=Ue(u)||u,Error(r(306,s,""))}}return s;case 0:return bp(i,s,s.type,s.pendingProps,c);case 1:return u=s.type,v=qo(u,s.pendingProps),hx(i,s,u,v,c);case 3:e:{if(Ie(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var _=s.memoizedState;v=_.element,np(i,s),Su(s,u,null,c);var R=s.memoizedState;if(u=R.cache,Es(s,On,u),u!==_.cache&&Xm(s,[On],c,!0),wu(),u=R.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:R.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=fx(i,s,u,c);break e}else if(u!==v){v=gi(Error(r(424)),s),gu(v),s=fx(i,s,u,c);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(un=Vi(i.firstChild),Tr=s,bt=!0,jo=null,aa=!0,c=Yy(s,null,u,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(pu(),u===v){s=Ha(i,s,c);break e}Yn(i,s,u,c)}s=s.child}return s;case 26:return sd(i,s),i===null?(c=xE(s.type,null,s.pendingProps,null))?s.memoizedState=c:bt||(c=s.type,i=s.pendingProps,u=Ed(re.current).createElement(c),u[an]=s,u[pn]=i,Xn(u,c,i),ae(u),s.stateNode=u):s.memoizedState=xE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return De(s),i===null&&bt&&(u=s.stateNode=vE(s.type,s.pendingProps,re.current),Tr=s,aa=!0,v=un,Ls(s.type)?(dg=v,un=Vi(u.firstChild)):un=v),Yn(i,s,s.pendingProps.children,c),sd(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&bt&&((v=u=un)&&(u=LN(u,s.type,s.pendingProps,aa),u!==null?(s.stateNode=u,Tr=s,un=Vi(u.firstChild),aa=!1,v=!0):v=!1),v||Uo(s)),De(s),v=s.type,_=s.pendingProps,R=i!==null?i.memoizedProps:null,u=_.children,cg(v,_)?u=null:R!==null&&cg(v,R)&&(s.flags|=32),s.memoizedState!==null&&(v=lp(i,s,eN,null,null,c),$u._currentValue=v),sd(i,s),Yn(i,s,u,c),s.child;case 6:return i===null&&bt&&((i=c=un)&&(c=FN(c,s.pendingProps,aa),c!==null?(s.stateNode=c,Tr=s,un=null,i=!0):i=!1),i||Uo(s)),null;case 13:return dx(i,s,c);case 4:return Ie(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=Gl(s,null,u,c):Yn(i,s,u,c),s.child;case 11:return ax(i,s,s.type,s.pendingProps,c);case 7:return Yn(i,s,s.pendingProps,c),s.child;case 8:return Yn(i,s,s.pendingProps.children,c),s.child;case 12:return Yn(i,s,s.pendingProps.children,c),s.child;case 10:return u=s.pendingProps,Es(s,s.type,u.value),Yn(i,s,u.children,c),s.child;case 9:return v=s.type._context,u=s.pendingProps.children,Bo(s),v=cr(v),u=u(v),s.flags|=1,Yn(i,s,u,c),s.child;case 14:return sx(i,s,s.type,s.pendingProps,c);case 15:return ox(i,s,s.type,s.pendingProps,c);case 19:return px(i,s,c);case 31:return u=s.pendingProps,c=s.mode,u={mode:u.mode,children:u.children},i===null?(c=od(u,c),c.ref=s.ref,s.child=c,c.return=s,s=c):(c=Ma(i.child,u),c.ref=s.ref,s.child=c,c.return=s,s=c),s;case 22:return lx(i,s,c);case 24:return Bo(s),u=cr(On),i===null?(v=Zm(),v===null&&(v=Yt,_=Qm(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=c),v=_),s.memoizedState={parent:u,cache:v},tp(s),Es(s,On,v)):((i.lanes&c)!==0&&(np(i,s),Su(s,null,null,c),wu()),v=i.memoizedState,_=s.memoizedState,v.parent!==u?(v={parent:u,cache:u},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),Es(s,On,u)):(u=_.cache,Es(s,On,u),u!==v.cache&&Xm(s,[On],c,!0))),Yn(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function za(i){i.flags|=4}function vx(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!AE(s)){if(s=xi.current,s!==null&&((yt&4194048)===yt?sa!==null:(yt&62914560)!==yt&&(yt&536870912)===0||s!==sa))throw Eu=ep,ey;i.flags|=8192}}function ld(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ii():536870912,i.lanes|=s,Kl|=s)}function Du(i,s){if(!bt)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var u=null;c!==null;)c.alternate!==null&&(u=c),c=c.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function on(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,u=0;if(s)for(var v=i.child;v!==null;)c|=v.lanes|v.childLanes,u|=v.subtreeFlags&65011712,u|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)c|=v.lanes|v.childLanes,u|=v.subtreeFlags,u|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=u,i.childLanes=c,s}function cN(i,s,c){var u=s.pendingProps;switch($m(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(s),null;case 1:return on(s),null;case 3:return c=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ua(On),Le(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(mu(s)?za(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,K_())),on(s),null;case 26:return c=s.memoizedState,i===null?(za(s),c!==null?(on(s),vx(s,c)):(on(s),s.flags&=-16777217)):c?c!==i.memoizedState?(za(s),on(s),vx(s,c)):(on(s),s.flags&=-16777217):(i.memoizedProps!==u&&za(s),on(s),s.flags&=-16777217),null;case 27:_t(s),c=re.current;var v=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&za(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return on(s),null}i=Y.current,mu(s)?W_(s):(i=vE(v,u,c),s.stateNode=i,za(s))}return on(s),null;case 5:if(_t(s),c=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&za(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return on(s),null}if(i=Y.current,mu(s))W_(s);else{switch(v=Ed(re.current),i){case 1:i=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?v.createElement(c,{is:u.is}):v.createElement(c)}}i[an]=s,i[pn]=u;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)i.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=i;e:switch(Xn(i,c,u),c){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&za(s)}}return on(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&za(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=re.current,mu(s)){if(i=s.stateNode,c=s.memoizedProps,u=null,v=Tr,v!==null)switch(v.tag){case 27:case 5:u=v.memoizedProps}i[an]=s,i=!!(i.nodeValue===c||u!==null&&u.suppressHydrationWarning===!0||uE(i.nodeValue,c)),i||Uo(s)}else i=Ed(i).createTextNode(u),i[an]=s,s.stateNode=i}return on(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=mu(s),u!==null&&u.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[an]=s}else pu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;on(s),v=!1}else v=K_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(Ba(s),s):(Ba(s),null)}if(Ba(s),(s.flags&128)!==0)return s.lanes=c,s;if(c=u!==null,i=i!==null&&i.memoizedState!==null,c){u=s.child,v=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(v=u.alternate.memoizedState.cachePool.pool);var _=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==v&&(u.flags|=2048)}return c!==i&&c&&(s.child.flags|=8192),ld(s,s.updateQueue),on(s),null;case 4:return Le(),i===null&&ig(s.stateNode.containerInfo),on(s),null;case 10:return Ua(s.type),on(s),null;case 19:if(B(kn),v=s.memoizedState,v===null)return on(s),null;if(u=(s.flags&128)!==0,_=v.rendering,_===null)if(u)Du(v,!1);else{if(hn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=rd(i),_!==null){for(s.flags|=128,Du(v,!1),i=_.updateQueue,s.updateQueue=i,ld(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)G_(c,i),c=c.sibling;return ee(kn,kn.current&1|2),s.child}i=i.sibling}v.tail!==null&&Ve()>hd&&(s.flags|=128,u=!0,Du(v,!1),s.lanes=4194304)}else{if(!u)if(i=rd(_),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,ld(s,i),Du(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!bt)return on(s),null}else 2*Ve()-v.renderingStartTime>hd&&c!==536870912&&(s.flags|=128,u=!0,Du(v,!1),s.lanes=4194304);v.isBackwards?(_.sibling=s.child,s.child=_):(i=v.last,i!==null?i.sibling=_:s.child=_,v.last=_)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Ve(),s.sibling=null,i=kn.current,ee(kn,u?i&1|2:i&1),s):(on(s),null);case 22:case 23:return Ba(s),sp(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(c&536870912)!==0&&(s.flags&128)===0&&(on(s),s.subtreeFlags&6&&(s.flags|=8192)):on(s),c=s.updateQueue,c!==null&&ld(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==c&&(s.flags|=2048),i!==null&&B(Ho),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ua(On),on(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function uN(i,s){switch($m(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ua(On),Le(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return _t(s),null;case 13:if(Ba(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));pu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return B(kn),null;case 4:return Le(),null;case 10:return Ua(s.type),null;case 22:case 23:return Ba(s),sp(),i!==null&&B(Ho),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ua(On),null;case 25:return null;default:return null}}function _x(i,s){switch($m(s),s.tag){case 3:Ua(On),Le();break;case 26:case 27:case 5:_t(s);break;case 4:Le();break;case 13:Ba(s);break;case 19:B(kn);break;case 10:Ua(s.type);break;case 22:case 23:Ba(s),sp(),i!==null&&B(Ho);break;case 24:Ua(On)}}function Ou(i,s){try{var c=s.updateQueue,u=c!==null?c.lastEffect:null;if(u!==null){var v=u.next;c=v;do{if((c.tag&i)===i){u=void 0;var _=c.create,R=c.inst;u=_(),R.destroy=u}c=c.next}while(c!==v)}}catch(k){qt(s,s.return,k)}}function Cs(i,s,c){try{var u=s.updateQueue,v=u!==null?u.lastEffect:null;if(v!==null){var _=v.next;u=_;do{if((u.tag&i)===i){var R=u.inst,k=R.destroy;if(k!==void 0){R.destroy=void 0,v=s;var Z=c,he=k;try{he()}catch(Ee){qt(v,Z,Ee)}}}u=u.next}while(u!==_)}}catch(Ee){qt(s,s.return,Ee)}}function yx(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{sy(s,c)}catch(u){qt(i,i.return,u)}}}function xx(i,s,c){c.props=qo(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(u){qt(i,s,u)}}function ku(i,s){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof c=="function"?i.refCleanup=c(u):c.current=u}}catch(v){qt(i,s,v)}}function oa(i,s){var c=i.ref,u=i.refCleanup;if(c!==null)if(typeof u=="function")try{u()}catch(v){qt(i,s,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){qt(i,s,v)}else c.current=null}function Ex(i){var s=i.type,c=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&u.focus();break e;case"img":c.src?u.src=c.src:c.srcSet&&(u.srcset=c.srcSet)}}catch(v){qt(i,i.return,v)}}function Pp(i,s,c){try{var u=i.stateNode;DN(u,i.type,c,s),u[pn]=s}catch(v){qt(i,i.return,v)}}function Tx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ls(i.type)||i.tag===4}function Mp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ls(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Lp(i,s,c){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(i),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=xd));else if(u!==4&&(u===27&&Ls(i.type)&&(c=i.stateNode,s=null),i=i.child,i!==null))for(Lp(i,s,c),i=i.sibling;i!==null;)Lp(i,s,c),i=i.sibling}function cd(i,s,c){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(u!==4&&(u===27&&Ls(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(cd(i,s,c),i=i.sibling;i!==null;)cd(i,s,c),i=i.sibling}function wx(i){var s=i.stateNode,c=i.memoizedProps;try{for(var u=i.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);Xn(s,u,c),s[an]=i,s[pn]=c}catch(_){qt(i,i.return,_)}}var qa=!1,_n=!1,Fp=!1,Sx=typeof WeakSet=="function"?WeakSet:Set,Vn=null;function hN(i,s){if(i=i.containerInfo,og=Rd,i=M_(i),Mm(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var u=c.getSelection&&c.getSelection();if(u&&u.rangeCount!==0){c=u.anchorNode;var v=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var R=0,k=-1,Z=-1,he=0,Ee=0,Se=i,pe=null;t:for(;;){for(var ge;Se!==c||v!==0&&Se.nodeType!==3||(k=R+v),Se!==_||u!==0&&Se.nodeType!==3||(Z=R+u),Se.nodeType===3&&(R+=Se.nodeValue.length),(ge=Se.firstChild)!==null;)pe=Se,Se=ge;for(;;){if(Se===i)break t;if(pe===c&&++he===v&&(k=R),pe===_&&++Ee===u&&(Z=R),(ge=Se.nextSibling)!==null)break;Se=pe,pe=Se.parentNode}Se=ge}c=k===-1||Z===-1?null:{start:k,end:Z}}else c=null}c=c||{start:0,end:0}}else c=null;for(lg={focusedElem:i,selectionRange:c},Rd=!1,Vn=s;Vn!==null;)if(s=Vn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Vn=i;else for(;Vn!==null;){switch(s=Vn,_=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,c=s,v=_.memoizedProps,_=_.memoizedState,u=c.stateNode;try{var et=qo(c.type,v,c.elementType===c.type);i=u.getSnapshotBeforeUpdate(et,_),u.__reactInternalSnapshotBeforeUpdate=i}catch(Qe){qt(c,c.return,Qe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)hg(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":hg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Vn=i;break}Vn=s.return}}function Ax(i,s,c){var u=c.flags;switch(c.tag){case 0:case 11:case 15:Ns(i,c),u&4&&Ou(5,c);break;case 1:if(Ns(i,c),u&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(R){qt(c,c.return,R)}else{var v=qo(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(v,s,i.__reactInternalSnapshotBeforeUpdate)}catch(R){qt(c,c.return,R)}}u&64&&yx(c),u&512&&ku(c,c.return);break;case 3:if(Ns(i,c),u&64&&(i=c.updateQueue,i!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{sy(i,s)}catch(R){qt(c,c.return,R)}}break;case 27:s===null&&u&4&&wx(c);case 26:case 5:Ns(i,c),s===null&&u&4&&Ex(c),u&512&&ku(c,c.return);break;case 12:Ns(i,c);break;case 13:Ns(i,c),u&4&&Cx(i,c),u&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=xN.bind(null,c),jN(i,c))));break;case 22:if(u=c.memoizedState!==null||qa,!u){s=s!==null&&s.memoizedState!==null||_n,v=qa;var _=_n;qa=u,(_n=s)&&!_?Is(i,c,(c.subtreeFlags&8772)!==0):Ns(i,c),qa=v,_n=_}break;case 30:break;default:Ns(i,c)}}function bx(i){var s=i.alternate;s!==null&&(i.alternate=null,bx(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&H(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var en=null,Or=!1;function Ga(i,s,c){for(c=c.child;c!==null;)Rx(i,s,c),c=c.sibling}function Rx(i,s,c){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(hi,c)}catch{}switch(c.tag){case 26:_n||oa(c,s),Ga(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:_n||oa(c,s);var u=en,v=Or;Ls(c.type)&&(en=c.stateNode,Or=!1),Ga(i,s,c),Hu(c.stateNode),en=u,Or=v;break;case 5:_n||oa(c,s);case 6:if(u=en,v=Or,en=null,Ga(i,s,c),en=u,Or=v,en!==null)if(Or)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(c.stateNode)}catch(_){qt(c,s,_)}else try{en.removeChild(c.stateNode)}catch(_){qt(c,s,_)}break;case 18:en!==null&&(Or?(i=en,pE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Xu(i)):pE(en,c.stateNode));break;case 4:u=en,v=Or,en=c.stateNode.containerInfo,Or=!0,Ga(i,s,c),en=u,Or=v;break;case 0:case 11:case 14:case 15:_n||Cs(2,c,s),_n||Cs(4,c,s),Ga(i,s,c);break;case 1:_n||(oa(c,s),u=c.stateNode,typeof u.componentWillUnmount=="function"&&xx(c,s,u)),Ga(i,s,c);break;case 21:Ga(i,s,c);break;case 22:_n=(u=_n)||c.memoizedState!==null,Ga(i,s,c),_n=u;break;default:Ga(i,s,c)}}function Cx(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xu(i)}catch(c){qt(s,s.return,c)}}function fN(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Sx),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Sx),s;default:throw Error(r(435,i.tag))}}function jp(i,s){var c=fN(i);s.forEach(function(u){var v=EN.bind(null,i,u);c.has(u)||(c.add(u),u.then(v,v))})}function Qr(i,s){var c=s.deletions;if(c!==null)for(var u=0;u<c.length;u++){var v=c[u],_=i,R=s,k=R;e:for(;k!==null;){switch(k.tag){case 27:if(Ls(k.type)){en=k.stateNode,Or=!1;break e}break;case 5:en=k.stateNode,Or=!1;break e;case 3:case 4:en=k.stateNode.containerInfo,Or=!0;break e}k=k.return}if(en===null)throw Error(r(160));Rx(_,R,v),en=null,Or=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Nx(s,i),s=s.sibling}var Ui=null;function Nx(i,s){var c=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Qr(s,i),Jr(i),u&4&&(Cs(3,i,i.return),Ou(3,i),Cs(5,i,i.return));break;case 1:Qr(s,i),Jr(i),u&512&&(_n||c===null||oa(c,c.return)),u&64&&qa&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?u:c.concat(u))));break;case 26:var v=Ui;if(Qr(s,i),Jr(i),u&512&&(_n||c===null||oa(c,c.return)),u&4){var _=c!==null?c.memoizedState:null;if(u=i.memoizedState,c===null)if(u===null)if(i.stateNode===null){e:{u=i.type,c=i.memoizedProps,v=v.ownerDocument||v;t:switch(u){case"title":_=v.getElementsByTagName("title")[0],(!_||_[V]||_[an]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(u),v.head.insertBefore(_,v.querySelector("head > title"))),Xn(_,u,c),_[an]=i,ae(_),u=_;break e;case"link":var R=wE("link","href",v).get(u+(c.href||""));if(R){for(var k=0;k<R.length;k++)if(_=R[k],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){R.splice(k,1);break t}}_=v.createElement(u),Xn(_,u,c),v.head.appendChild(_);break;case"meta":if(R=wE("meta","content",v).get(u+(c.content||""))){for(k=0;k<R.length;k++)if(_=R[k],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){R.splice(k,1);break t}}_=v.createElement(u),Xn(_,u,c),v.head.appendChild(_);break;default:throw Error(r(468,u))}_[an]=i,ae(_),u=_}i.stateNode=u}else SE(v,i.type,i.stateNode);else i.stateNode=TE(v,u,i.memoizedProps);else _!==u?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,u===null?SE(v,i.type,i.stateNode):TE(v,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Pp(i,i.memoizedProps,c.memoizedProps)}break;case 27:Qr(s,i),Jr(i),u&512&&(_n||c===null||oa(c,c.return)),c!==null&&u&4&&Pp(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Qr(s,i),Jr(i),u&512&&(_n||c===null||oa(c,c.return)),i.flags&32){v=i.stateNode;try{mi(v,"")}catch(ge){qt(i,i.return,ge)}}u&4&&i.stateNode!=null&&(v=i.memoizedProps,Pp(i,v,c!==null?c.memoizedProps:v)),u&1024&&(Fp=!0);break;case 6:if(Qr(s,i),Jr(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,c=i.stateNode;try{c.nodeValue=u}catch(ge){qt(i,i.return,ge)}}break;case 3:if(Sd=null,v=Ui,Ui=Td(s.containerInfo),Qr(s,i),Ui=v,Jr(i),u&4&&c!==null&&c.memoizedState.isDehydrated)try{Xu(s.containerInfo)}catch(ge){qt(i,i.return,ge)}Fp&&(Fp=!1,Ix(i));break;case 4:u=Ui,Ui=Td(i.stateNode.containerInfo),Qr(s,i),Jr(i),Ui=u;break;case 12:Qr(s,i),Jr(i);break;case 13:Qr(s,i),Jr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(qp=Ve()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,jp(i,u)));break;case 22:v=i.memoizedState!==null;var Z=c!==null&&c.memoizedState!==null,he=qa,Ee=_n;if(qa=he||v,_n=Ee||Z,Qr(s,i),_n=Ee,qa=he,Jr(i),u&8192)e:for(s=i.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(c===null||Z||qa||_n||Go(i)),c=null,s=i;;){if(s.tag===5||s.tag===26){if(c===null){Z=c=s;try{if(_=Z.stateNode,v)R=_.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{k=Z.stateNode;var Se=Z.memoizedProps.style,pe=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;k.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(ge){qt(Z,Z.return,ge)}}}else if(s.tag===6){if(c===null){Z=s;try{Z.stateNode.nodeValue=v?"":Z.memoizedProps}catch(ge){qt(Z,Z.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(c=u.retryQueue,c!==null&&(u.retryQueue=null,jp(i,c))));break;case 19:Qr(s,i),Jr(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,jp(i,u)));break;case 30:break;case 21:break;default:Qr(s,i),Jr(i)}}function Jr(i){var s=i.flags;if(s&2){try{for(var c,u=i.return;u!==null;){if(Tx(u)){c=u;break}u=u.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,_=Mp(i);cd(i,_,v);break;case 5:var R=c.stateNode;c.flags&32&&(mi(R,""),c.flags&=-33);var k=Mp(i);cd(i,k,R);break;case 3:case 4:var Z=c.stateNode.containerInfo,he=Mp(i);Lp(i,he,Z);break;default:throw Error(r(161))}}catch(Ee){qt(i,i.return,Ee)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Ix(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Ix(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ns(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ax(i,s.alternate,s),s=s.sibling}function Go(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Cs(4,s,s.return),Go(s);break;case 1:oa(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&xx(s,s.return,c),Go(s);break;case 27:Hu(s.stateNode);case 26:case 5:oa(s,s.return),Go(s);break;case 22:s.memoizedState===null&&Go(s);break;case 30:Go(s);break;default:Go(s)}i=i.sibling}}function Is(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,v=i,_=s,R=_.flags;switch(_.tag){case 0:case 11:case 15:Is(v,_,c),Ou(4,_);break;case 1:if(Is(v,_,c),u=_,v=u.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(he){qt(u,u.return,he)}if(u=_,v=u.updateQueue,v!==null){var k=u.stateNode;try{var Z=v.shared.hiddenCallbacks;if(Z!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Z.length;v++)ay(Z[v],k)}catch(he){qt(u,u.return,he)}}c&&R&64&&yx(_),ku(_,_.return);break;case 27:wx(_);case 26:case 5:Is(v,_,c),c&&u===null&&R&4&&Ex(_),ku(_,_.return);break;case 12:Is(v,_,c);break;case 13:Is(v,_,c),c&&R&4&&Cx(v,_);break;case 22:_.memoizedState===null&&Is(v,_,c),ku(_,_.return);break;case 30:break;default:Is(v,_,c)}s=s.sibling}}function Up(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&_u(c))}function Vp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&_u(i))}function la(i,s,c,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Dx(i,s,c,u),s=s.sibling}function Dx(i,s,c,u){var v=s.flags;switch(s.tag){case 0:case 11:case 15:la(i,s,c,u),v&2048&&Ou(9,s);break;case 1:la(i,s,c,u);break;case 3:la(i,s,c,u),v&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&_u(i)));break;case 12:if(v&2048){la(i,s,c,u),i=s.stateNode;try{var _=s.memoizedProps,R=_.id,k=_.onPostCommit;typeof k=="function"&&k(R,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Z){qt(s,s.return,Z)}}else la(i,s,c,u);break;case 13:la(i,s,c,u);break;case 23:break;case 22:_=s.stateNode,R=s.alternate,s.memoizedState!==null?_._visibility&2?la(i,s,c,u):Pu(i,s):_._visibility&2?la(i,s,c,u):(_._visibility|=2,$l(i,s,c,u,(s.subtreeFlags&10256)!==0)),v&2048&&Up(R,s);break;case 24:la(i,s,c,u),v&2048&&Vp(s.alternate,s);break;default:la(i,s,c,u)}}function $l(i,s,c,u,v){for(v=v&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=i,R=s,k=c,Z=u,he=R.flags;switch(R.tag){case 0:case 11:case 15:$l(_,R,k,Z,v),Ou(8,R);break;case 23:break;case 22:var Ee=R.stateNode;R.memoizedState!==null?Ee._visibility&2?$l(_,R,k,Z,v):Pu(_,R):(Ee._visibility|=2,$l(_,R,k,Z,v)),v&&he&2048&&Up(R.alternate,R);break;case 24:$l(_,R,k,Z,v),v&&he&2048&&Vp(R.alternate,R);break;default:$l(_,R,k,Z,v)}s=s.sibling}}function Pu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,u=s,v=u.flags;switch(u.tag){case 22:Pu(c,u),v&2048&&Up(u.alternate,u);break;case 24:Pu(c,u),v&2048&&Vp(u.alternate,u);break;default:Pu(c,u)}s=s.sibling}}var Mu=8192;function Wl(i){if(i.subtreeFlags&Mu)for(i=i.child;i!==null;)Ox(i),i=i.sibling}function Ox(i){switch(i.tag){case 26:Wl(i),i.flags&Mu&&i.memoizedState!==null&&QN(Ui,i.memoizedState,i.memoizedProps);break;case 5:Wl(i);break;case 3:case 4:var s=Ui;Ui=Td(i.stateNode.containerInfo),Wl(i),Ui=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Mu,Mu=16777216,Wl(i),Mu=s):Wl(i));break;default:Wl(i)}}function kx(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Lu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var u=s[c];Vn=u,Mx(u,i)}kx(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Px(i),i=i.sibling}function Px(i){switch(i.tag){case 0:case 11:case 15:Lu(i),i.flags&2048&&Cs(9,i,i.return);break;case 3:Lu(i);break;case 12:Lu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ud(i)):Lu(i);break;default:Lu(i)}}function ud(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var u=s[c];Vn=u,Mx(u,i)}kx(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Cs(8,s,s.return),ud(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,ud(s));break;default:ud(s)}i=i.sibling}}function Mx(i,s){for(;Vn!==null;){var c=Vn;switch(c.tag){case 0:case 11:case 15:Cs(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var u=c.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:_u(c.memoizedState.cache)}if(u=c.child,u!==null)u.return=c,Vn=u;else e:for(c=i;Vn!==null;){u=Vn;var v=u.sibling,_=u.return;if(bx(u),u===c){Vn=null;break e}if(v!==null){v.return=_,Vn=v;break e}Vn=_}}}var dN={getCacheForType:function(i){var s=cr(On),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c}},mN=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Yt=null,dt=null,yt=0,kt=0,Zr=null,Ds=!1,Yl=!1,Bp=!1,$a=0,hn=0,Os=0,$o=0,Hp=0,Ei=0,Kl=0,Fu=null,kr=null,zp=!1,qp=0,hd=1/0,fd=null,ks=null,Kn=0,Ps=null,Xl=null,Ql=0,Gp=0,$p=null,Lx=null,ju=0,Wp=null;function ei(){if((Ot&2)!==0&&yt!==0)return yt&-yt;if(ce.T!==null){var i=jl;return i!==0?i:eg()}return Di()}function Fx(){Ei===0&&(Ei=(yt&536870912)===0||bt?fs():536870912);var i=xi.current;return i!==null&&(i.flags|=32),Ei}function ti(i,s,c){(i===Yt&&(kt===2||kt===9)||i.cancelPendingCommit!==null)&&(Jl(i,0),Ms(i,yt,Ei,!1)),rn(i,c),((Ot&2)===0||i!==Yt)&&(i===Yt&&((Ot&2)===0&&($o|=c),hn===4&&Ms(i,yt,Ei,!1)),ca(i))}function jx(i,s,c){if((Ot&6)!==0)throw Error(r(327));var u=!c&&(s&124)===0&&(s&i.expiredLanes)===0||Zi(i,s),v=u?vN(i,s):Xp(i,s,!0),_=u;do{if(v===0){Yl&&!u&&Ms(i,s,0,!1);break}else{if(c=i.current.alternate,_&&!pN(c)){v=Xp(i,s,!1),_=!1;continue}if(v===2){if(_=s,i.errorRecoveryDisabledLanes&_)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){s=R;e:{var k=i;v=Fu;var Z=k.current.memoizedState.isDehydrated;if(Z&&(Jl(k,R).flags|=256),R=Xp(k,R,!1),R!==2){if(Bp&&!Z){k.errorRecoveryDisabledLanes|=_,$o|=_,v=4;break e}_=kr,kr=v,_!==null&&(kr===null?kr=_:kr.push.apply(kr,_))}v=R}if(_=!1,v!==2)continue}}if(v===1){Jl(i,0),Ms(i,s,0,!0);break}e:{switch(u=i,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ms(u,s,Ei,!Ds);break e;case 2:kr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(v=qp+300-Ve(),10<v)){if(Ms(u,s,Ei,!Ds),Nr(u,0,!0)!==0)break e;u.timeoutHandle=dE(Ux.bind(null,u,c,kr,fd,zp,s,Ei,$o,Kl,Ds,_,2,-0,0),v);break e}Ux(u,c,kr,fd,zp,s,Ei,$o,Kl,Ds,_,0,-0,0)}}break}while(!0);ca(i)}function Ux(i,s,c,u,v,_,R,k,Z,he,Ee,Se,pe,ge){if(i.timeoutHandle=-1,Se=s.subtreeFlags,(Se&8192||(Se&16785408)===16785408)&&(Gu={stylesheets:null,count:0,unsuspend:XN},Ox(s),Se=JN(),Se!==null)){i.cancelPendingCommit=Se($x.bind(null,i,s,_,c,u,v,R,k,Z,Ee,1,pe,ge)),Ms(i,_,R,!he);return}$x(i,s,_,c,u,v,R,k,Z)}function pN(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var u=0;u<c.length;u++){var v=c[u],_=v.getSnapshot;v=v.value;try{if(!Kr(_(),v))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ms(i,s,c,u){s&=~Hp,s&=~$o,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var v=s;0<v;){var _=31-Wn(v),R=1<<_;u[_]=-1,v&=~R}c!==0&&ea(i,c,s)}function dd(){return(Ot&6)===0?(Uu(0),!1):!0}function Yp(){if(dt!==null){if(kt===0)var i=dt.return;else i=dt,ja=Vo=null,hp(i),ql=null,Nu=0,i=dt;for(;i!==null;)_x(i.alternate,i),i=i.return;dt=null}}function Jl(i,s){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,kN(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Yp(),Yt=i,dt=c=Ma(i.current,null),yt=s,kt=0,Zr=null,Ds=!1,Yl=Zi(i,s),Bp=!1,Kl=Ei=Hp=$o=Os=hn=0,kr=Fu=null,zp=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var v=31-Wn(u),_=1<<v;s|=i[v],u&=~_}return $a=s,Mf(),c}function Vx(i,s){ct=null,ce.H=ed,s===xu||s===qf?(s=ry(),kt=3):s===ey?(s=ry(),kt=4):kt=s===ix?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Zr=s,dt===null&&(hn=1,ad(i,gi(s,i.current)))}function Bx(){var i=ce.H;return ce.H=ed,i===null?ed:i}function Hx(){var i=ce.A;return ce.A=dN,i}function Kp(){hn=4,Ds||(yt&4194048)!==yt&&xi.current!==null||(Yl=!0),(Os&134217727)===0&&($o&134217727)===0||Yt===null||Ms(Yt,yt,Ei,!1)}function Xp(i,s,c){var u=Ot;Ot|=2;var v=Bx(),_=Hx();(Yt!==i||yt!==s)&&(fd=null,Jl(i,s)),s=!1;var R=hn;e:do try{if(kt!==0&&dt!==null){var k=dt,Z=Zr;switch(kt){case 8:Yp(),R=6;break e;case 3:case 2:case 9:case 6:xi.current===null&&(s=!0);var he=kt;if(kt=0,Zr=null,Zl(i,k,Z,he),c&&Yl){R=0;break e}break;default:he=kt,kt=0,Zr=null,Zl(i,k,Z,he)}}gN(),R=hn;break}catch(Ee){Vx(i,Ee)}while(!0);return s&&i.shellSuspendCounter++,ja=Vo=null,Ot=u,ce.H=v,ce.A=_,dt===null&&(Yt=null,yt=0,Mf()),R}function gN(){for(;dt!==null;)zx(dt)}function vN(i,s){var c=Ot;Ot|=2;var u=Bx(),v=Hx();Yt!==i||yt!==s?(fd=null,hd=Ve()+500,Jl(i,s)):Yl=Zi(i,s);e:do try{if(kt!==0&&dt!==null){s=dt;var _=Zr;t:switch(kt){case 1:kt=0,Zr=null,Zl(i,s,_,1);break;case 2:case 9:if(ty(_)){kt=0,Zr=null,qx(s);break}s=function(){kt!==2&&kt!==9||Yt!==i||(kt=7),ca(i)},_.then(s,s);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:ty(_)?(kt=0,Zr=null,qx(s)):(kt=0,Zr=null,Zl(i,s,_,7));break;case 5:var R=null;switch(dt.tag){case 26:R=dt.memoizedState;case 5:case 27:var k=dt;if(!R||AE(R)){kt=0,Zr=null;var Z=k.sibling;if(Z!==null)dt=Z;else{var he=k.return;he!==null?(dt=he,md(he)):dt=null}break t}}kt=0,Zr=null,Zl(i,s,_,5);break;case 6:kt=0,Zr=null,Zl(i,s,_,6);break;case 8:Yp(),hn=6;break e;default:throw Error(r(462))}}_N();break}catch(Ee){Vx(i,Ee)}while(!0);return ja=Vo=null,ce.H=u,ce.A=v,Ot=c,dt!==null?0:(Yt=null,yt=0,Mf(),hn)}function _N(){for(;dt!==null&&!qr();)zx(dt)}function zx(i){var s=gx(i.alternate,i,$a);i.memoizedProps=i.pendingProps,s===null?md(i):dt=s}function qx(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=ux(c,s,s.pendingProps,s.type,void 0,yt);break;case 11:s=ux(c,s,s.pendingProps,s.type.render,s.ref,yt);break;case 5:hp(s);default:_x(c,s),s=dt=G_(s,$a),s=gx(c,s,$a)}i.memoizedProps=i.pendingProps,s===null?md(i):dt=s}function Zl(i,s,c,u){ja=Vo=null,hp(s),ql=null,Nu=0;var v=s.return;try{if(oN(i,v,s,c,yt)){hn=1,ad(i,gi(c,i.current)),dt=null;return}}catch(_){if(v!==null)throw dt=v,_;hn=1,ad(i,gi(c,i.current)),dt=null;return}s.flags&32768?(bt||u===1?i=!0:Yl||(yt&536870912)!==0?i=!1:(Ds=i=!0,(u===2||u===9||u===3||u===6)&&(u=xi.current,u!==null&&u.tag===13&&(u.flags|=16384))),Gx(s,i)):md(s)}function md(i){var s=i;do{if((s.flags&32768)!==0){Gx(s,Ds);return}i=s.return;var c=cN(s.alternate,s,$a);if(c!==null){dt=c;return}if(s=s.sibling,s!==null){dt=s;return}dt=s=i}while(s!==null);hn===0&&(hn=5)}function Gx(i,s){do{var c=uN(i.alternate,i);if(c!==null){c.flags&=32767,dt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){dt=i;return}dt=i=c}while(i!==null);hn=6,dt=null}function $x(i,s,c,u,v,_,R,k,Z){i.cancelPendingCommit=null;do pd();while(Kn!==0);if((Ot&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Vm,Ca(i,c,_,R,k,Z),i===Yt&&(dt=Yt=null,yt=0),Xl=s,Ps=i,Ql=c,Gp=_,$p=v,Lx=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,TN(or,function(){return Qx(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=ce.T,ce.T=null,v=Re.p,Re.p=2,R=Ot,Ot|=4;try{hN(i,s,c)}finally{Ot=R,Re.p=v,ce.T=u}}Kn=1,Wx(),Yx(),Kx()}}function Wx(){if(Kn===1){Kn=0;var i=Ps,s=Xl,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=ce.T,ce.T=null;var u=Re.p;Re.p=2;var v=Ot;Ot|=4;try{Nx(s,i);var _=lg,R=M_(i.containerInfo),k=_.focusedElem,Z=_.selectionRange;if(R!==k&&k&&k.ownerDocument&&P_(k.ownerDocument.documentElement,k)){if(Z!==null&&Mm(k)){var he=Z.start,Ee=Z.end;if(Ee===void 0&&(Ee=he),"selectionStart"in k)k.selectionStart=he,k.selectionEnd=Math.min(Ee,k.value.length);else{var Se=k.ownerDocument||document,pe=Se&&Se.defaultView||window;if(pe.getSelection){var ge=pe.getSelection(),et=k.textContent.length,Qe=Math.min(Z.start,et),Ht=Z.end===void 0?Qe:Math.min(Z.end,et);!ge.extend&&Qe>Ht&&(R=Ht,Ht=Qe,Qe=R);var ie=k_(k,Qe),ne=k_(k,Ht);if(ie&&ne&&(ge.rangeCount!==1||ge.anchorNode!==ie.node||ge.anchorOffset!==ie.offset||ge.focusNode!==ne.node||ge.focusOffset!==ne.offset)){var oe=Se.createRange();oe.setStart(ie.node,ie.offset),ge.removeAllRanges(),Qe>Ht?(ge.addRange(oe),ge.extend(ne.node,ne.offset)):(oe.setEnd(ne.node,ne.offset),ge.addRange(oe))}}}}for(Se=[],ge=k;ge=ge.parentNode;)ge.nodeType===1&&Se.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Se.length;k++){var we=Se[k];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}Rd=!!og,lg=og=null}finally{Ot=v,Re.p=u,ce.T=c}}i.current=s,Kn=2}}function Yx(){if(Kn===2){Kn=0;var i=Ps,s=Xl,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=ce.T,ce.T=null;var u=Re.p;Re.p=2;var v=Ot;Ot|=4;try{Ax(i,s.alternate,s)}finally{Ot=v,Re.p=u,ce.T=c}}Kn=3}}function Kx(){if(Kn===4||Kn===3){Kn=0,jt();var i=Ps,s=Xl,c=Ql,u=Lx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Kn=5:(Kn=0,Xl=Ps=null,Xx(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(ks=null),yo(c),s=s.stateNode,xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(hi,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=ce.T,v=Re.p,Re.p=2,ce.T=null;try{for(var _=i.onRecoverableError,R=0;R<u.length;R++){var k=u[R];_(k.value,{componentStack:k.stack})}}finally{ce.T=s,Re.p=v}}(Ql&3)!==0&&pd(),ca(i),v=i.pendingLanes,(c&4194090)!==0&&(v&42)!==0?i===Wp?ju++:(ju=0,Wp=i):ju=0,Uu(0)}}function Xx(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,_u(s)))}function pd(i){return Wx(),Yx(),Kx(),Qx()}function Qx(){if(Kn!==5)return!1;var i=Ps,s=Gp;Gp=0;var c=yo(Ql),u=ce.T,v=Re.p;try{Re.p=32>c?32:c,ce.T=null,c=$p,$p=null;var _=Ps,R=Ql;if(Kn=0,Xl=Ps=null,Ql=0,(Ot&6)!==0)throw Error(r(331));var k=Ot;if(Ot|=4,Px(_.current),Dx(_,_.current,R,c),Ot=k,Uu(0,!1),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(hi,_)}catch{}return!0}finally{Re.p=v,ce.T=u,Xx(i,s)}}function Jx(i,s,c){s=gi(c,s),s=Ap(i.stateNode,s,2),i=Ss(i,s,2),i!==null&&(rn(i,2),ca(i))}function qt(i,s,c){if(i.tag===3)Jx(i,i,c);else for(;s!==null;){if(s.tag===3){Jx(s,i,c);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ks===null||!ks.has(u))){i=gi(c,i),c=nx(2),u=Ss(s,c,2),u!==null&&(rx(c,u,s,i),rn(u,2),ca(u));break}}s=s.return}}function Qp(i,s,c){var u=i.pingCache;if(u===null){u=i.pingCache=new mN;var v=new Set;u.set(s,v)}else v=u.get(s),v===void 0&&(v=new Set,u.set(s,v));v.has(c)||(Bp=!0,v.add(c),i=yN.bind(null,i,s,c),s.then(i,i))}function yN(i,s,c){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Yt===i&&(yt&c)===c&&(hn===4||hn===3&&(yt&62914560)===yt&&300>Ve()-qp?(Ot&2)===0&&Jl(i,0):Hp|=c,Kl===yt&&(Kl=0)),ca(i)}function Zx(i,s){s===0&&(s=Ii()),i=Pl(i,s),i!==null&&(rn(i,s),ca(i))}function xN(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),Zx(i,c)}function EN(i,s){var c=0;switch(i.tag){case 13:var u=i.stateNode,v=i.memoizedState;v!==null&&(c=v.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Zx(i,c)}function TN(i,s){return nn(i,s)}var gd=null,ec=null,Jp=!1,vd=!1,Zp=!1,Wo=0;function ca(i){i!==ec&&i.next===null&&(ec===null?gd=ec=i:ec=ec.next=i),vd=!0,Jp||(Jp=!0,SN())}function Uu(i,s){if(!Zp&&vd){Zp=!0;do for(var c=!1,u=gd;u!==null;){if(i!==0){var v=u.pendingLanes;if(v===0)var _=0;else{var R=u.suspendedLanes,k=u.pingedLanes;_=(1<<31-Wn(42|i)+1)-1,_&=v&~(R&~k),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,rE(u,_))}else _=yt,_=Nr(u,u===Yt?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||Zi(u,_)||(c=!0,rE(u,_));u=u.next}while(c);Zp=!1}}function wN(){eE()}function eE(){vd=Jp=!1;var i=0;Wo!==0&&(ON()&&(i=Wo),Wo=0);for(var s=Ve(),c=null,u=gd;u!==null;){var v=u.next,_=tE(u,s);_===0?(u.next=null,c===null?gd=v:c.next=v,v===null&&(ec=c)):(c=u,(i!==0||(_&3)!==0)&&(vd=!0)),u=v}Uu(i)}function tE(i,s){for(var c=i.suspendedLanes,u=i.pingedLanes,v=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var R=31-Wn(_),k=1<<R,Z=v[R];Z===-1?((k&c)===0||(k&u)!==0)&&(v[R]=Ra(k,s)):Z<=s&&(i.expiredLanes|=k),_&=~k}if(s=Yt,c=yt,c=Nr(i,i===s?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,c===0||i===s&&(kt===2||kt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ft(u),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Zi(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(u!==null&&ft(u),yo(c)){case 2:case 8:c=$t;break;case 32:c=or;break;case 268435456:c=ba;break;default:c=or}return u=nE.bind(null,i),c=nn(c,u),i.callbackPriority=s,i.callbackNode=c,s}return u!==null&&u!==null&&ft(u),i.callbackPriority=2,i.callbackNode=null,2}function nE(i,s){if(Kn!==0&&Kn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(pd()&&i.callbackNode!==c)return null;var u=yt;return u=Nr(i,i===Yt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(jx(i,u,s),tE(i,Ve()),i.callbackNode!=null&&i.callbackNode===c?nE.bind(null,i):null)}function rE(i,s){if(pd())return null;jx(i,s,!0)}function SN(){PN(function(){(Ot&6)!==0?nn(Nt,wN):eE()})}function eg(){return Wo===0&&(Wo=fs()),Wo}function iE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Pi(""+i)}function aE(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function AN(i,s,c,u,v){if(s==="submit"&&c&&c.stateNode===v){var _=iE((v[pn]||null).action),R=u.submitter;R&&(s=(s=R[pn]||null)?iE(s.formAction):R.getAttribute("formAction"),s!==null&&(_=s,R=null));var k=new bo("action","action",null,u,v);i.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Wo!==0){var Z=R?aE(v,R):new FormData(v);xp(c,{pending:!0,data:Z,method:v.method,action:_},null,Z)}}else typeof _=="function"&&(k.preventDefault(),Z=R?aE(v,R):new FormData(v),xp(c,{pending:!0,data:Z,method:v.method,action:_},_,Z))},currentTarget:v}]})}}for(var tg=0;tg<Um.length;tg++){var ng=Um[tg],bN=ng.toLowerCase(),RN=ng[0].toUpperCase()+ng.slice(1);ji(bN,"on"+RN)}ji(j_,"onAnimationEnd"),ji(U_,"onAnimationIteration"),ji(V_,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(qC,"onTransitionRun"),ji(GC,"onTransitionStart"),ji($C,"onTransitionCancel"),ji(B_,"onTransitionEnd"),Oe("onMouseEnter",["mouseout","mouseover"]),Oe("onMouseLeave",["mouseout","mouseover"]),Oe("onPointerEnter",["pointerout","pointerover"]),Oe("onPointerLeave",["pointerout","pointerover"]),Ce("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ce("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ce("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ce("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ce("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ce("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function sE(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var u=i[c],v=u.event;u=u.listeners;e:{var _=void 0;if(s)for(var R=u.length-1;0<=R;R--){var k=u[R],Z=k.instance,he=k.currentTarget;if(k=k.listener,Z!==_&&v.isPropagationStopped())break e;_=k,v.currentTarget=he;try{_(v)}catch(Ee){id(Ee)}v.currentTarget=null,_=Z}else for(R=0;R<u.length;R++){if(k=u[R],Z=k.instance,he=k.currentTarget,k=k.listener,Z!==_&&v.isPropagationStopped())break e;_=k,v.currentTarget=he;try{_(v)}catch(Ee){id(Ee)}v.currentTarget=null,_=Z}}}}function mt(i,s){var c=s[Na];c===void 0&&(c=s[Na]=new Set);var u=i+"__bubble";c.has(u)||(oE(s,i,2,!1),c.add(u))}function rg(i,s,c){var u=0;s&&(u|=4),oE(c,i,u,s)}var _d="_reactListening"+Math.random().toString(36).slice(2);function ig(i){if(!i[_d]){i[_d]=!0,de.forEach(function(c){c!=="selectionchange"&&(CN.has(c)||rg(c,!1,i),rg(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[_d]||(s[_d]=!0,rg("selectionchange",!1,s))}}function oE(i,s,c,u){switch(DE(s)){case 2:var v=t4;break;case 8:v=n4;break;default:v=_g}c=v.bind(null,s,c,i),v=void 0,!ka||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),u?v!==void 0?i.addEventListener(s,c,{capture:!0,passive:v}):i.addEventListener(s,c,!0):v!==void 0?i.addEventListener(s,c,{passive:v}):i.addEventListener(s,c,!1)}function ag(i,s,c,u,v){var _=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var R=u.tag;if(R===3||R===4){var k=u.stateNode.containerInfo;if(k===v)break;if(R===4)for(R=u.return;R!==null;){var Z=R.tag;if((Z===3||Z===4)&&R.stateNode.containerInfo===v)return;R=R.return}for(;k!==null;){if(R=G(k),R===null)return;if(Z=R.tag,Z===5||Z===6||Z===26||Z===27){u=_=R;continue e}k=k.parentNode}}u=u.return}wo(function(){var he=_,Ee=ru(c),Se=[];e:{var pe=H_.get(i);if(pe!==void 0){var ge=bo,et=i;switch(i){case"keypress":if(So(c)===0)break e;case"keydown":case"keyup":ge=Il;break;case"focusin":et="focus",ge=Rl;break;case"focusout":et="blur",ge=Rl;break;case"beforeblur":case"afterblur":ge=Rl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Do;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=xs;break;case j_:case U_:case V_:ge=au;break;case B_:ge=E;break;case"scroll":case"scrollend":ge=Co;break;case"wheel":ge=U;break;case"copy":case"cut":case"paste":ge=Cf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=lu;break;case"toggle":case"beforetoggle":ge=ve}var Qe=(s&4)!==0,Ht=!Qe&&(i==="scroll"||i==="scrollend"),ie=Qe?pe!==null?pe+"Capture":null:pe;Qe=[];for(var ne=he,oe;ne!==null;){var we=ne;if(oe=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||oe===null||ie===null||(we=_s(ne,ie),we!=null&&Qe.push(Bu(ne,we,oe))),Ht)break;ne=ne.return}0<Qe.length&&(pe=new ge(pe,et,null,c,Ee),Se.push({event:pe,listeners:Qe}))}}if((s&7)===0){e:{if(pe=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",pe&&c!==nu&&(et=c.relatedTarget||c.fromElement)&&(G(et)||et[Oi]))break e;if((ge||pe)&&(pe=Ee.window===Ee?Ee:(pe=Ee.ownerDocument)?pe.defaultView||pe.parentWindow:window,ge?(et=c.relatedTarget||c.toElement,ge=he,et=et?G(et):null,et!==null&&(Ht=o(et),Qe=et.tag,et!==Ht||Qe!==5&&Qe!==27&&Qe!==6)&&(et=null)):(ge=null,et=he),ge!==et)){if(Qe=Do,we="onMouseLeave",ie="onMouseEnter",ne="mouse",(i==="pointerout"||i==="pointerover")&&(Qe=lu,we="onPointerLeave",ie="onPointerEnter",ne="pointer"),Ht=ge==null?pe:ue(ge),oe=et==null?pe:ue(et),pe=new Qe(we,ne+"leave",ge,c,Ee),pe.target=Ht,pe.relatedTarget=oe,we=null,G(Ee)===he&&(Qe=new Qe(ie,ne+"enter",et,c,Ee),Qe.target=oe,Qe.relatedTarget=Ht,we=Qe),Ht=we,ge&&et)t:{for(Qe=ge,ie=et,ne=0,oe=Qe;oe;oe=tc(oe))ne++;for(oe=0,we=ie;we;we=tc(we))oe++;for(;0<ne-oe;)Qe=tc(Qe),ne--;for(;0<oe-ne;)ie=tc(ie),oe--;for(;ne--;){if(Qe===ie||ie!==null&&Qe===ie.alternate)break t;Qe=tc(Qe),ie=tc(ie)}Qe=null}else Qe=null;ge!==null&&lE(Se,pe,ge,Qe,!1),et!==null&&Ht!==null&&lE(Se,Ht,et,Qe,!0)}}e:{if(pe=he?ue(he):window,ge=pe.nodeName&&pe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&pe.type==="file")var We=R_;else if(A_(pe))if(C_)We=BC;else{We=UC;var ht=jC}else ge=pe.nodeName,!ge||ge.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?he&&Sl(he.elementType)&&(We=R_):We=VC;if(We&&(We=We(i,he))){b_(Se,We,c,Ee);break e}ht&&ht(i,pe,he),i==="focusout"&&he&&pe.type==="number"&&he.memoizedProps.value!=null&&Zc(pe,"number",pe.value)}switch(ht=he?ue(he):window,i){case"focusin":(A_(ht)||ht.contentEditable==="true")&&(Dl=ht,Lm=he,du=null);break;case"focusout":du=Lm=Dl=null;break;case"mousedown":Fm=!0;break;case"contextmenu":case"mouseup":case"dragend":Fm=!1,L_(Se,c,Ee);break;case"selectionchange":if(zC)break;case"keydown":case"keyup":L_(Se,c,Ee)}var Ke;if(it)e:{switch(i){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Fi?Mi(i,c)&&(Je="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Je="onCompositionStart");Je&&(gn&&c.locale!=="ko"&&(Fi||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Fi&&(Ke=Af()):(pi=Ee,Wt="value"in pi?pi.value:pi.textContent,Fi=!0)),ht=yd(he,Je),0<ht.length&&(Je=new ou(Je,i,null,c,Ee),Se.push({event:Je,listeners:ht}),Ke?Je.data=Ke:(Ke=Li(c),Ke!==null&&(Je.data=Ke)))),(Ke=Dt?cu(i,c):MC(i,c))&&(Je=yd(he,"onBeforeInput"),0<Je.length&&(ht=new ou("onBeforeInput","beforeinput",null,c,Ee),Se.push({event:ht,listeners:Je}),ht.data=Ke)),AN(Se,i,he,c,Ee)}sE(Se,s)})}function Bu(i,s,c){return{instance:i,listener:s,currentTarget:c}}function yd(i,s){for(var c=s+"Capture",u=[];i!==null;){var v=i,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=_s(i,c),v!=null&&u.unshift(Bu(i,v,_)),v=_s(i,s),v!=null&&u.push(Bu(i,v,_))),i.tag===3)return u;i=i.return}return[]}function tc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function lE(i,s,c,u,v){for(var _=s._reactName,R=[];c!==null&&c!==u;){var k=c,Z=k.alternate,he=k.stateNode;if(k=k.tag,Z!==null&&Z===u)break;k!==5&&k!==26&&k!==27||he===null||(Z=he,v?(he=_s(c,_),he!=null&&R.unshift(Bu(c,he,Z))):v||(he=_s(c,_),he!=null&&R.push(Bu(c,he,Z)))),c=c.return}R.length!==0&&i.push({event:s,listeners:R})}var NN=/\r\n?/g,IN=/\u0000|\uFFFD/g;function cE(i){return(typeof i=="string"?i:""+i).replace(NN,`
`).replace(IN,"")}function uE(i,s){return s=cE(s),cE(i)===s}function xd(){}function Bt(i,s,c,u,v,_){switch(c){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||mi(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&mi(i,""+u);break;case"className":At(i,"class",u);break;case"tabIndex":At(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":At(i,c,u);break;case"style":tu(i,u,_);break;case"data":if(s!=="object"){At(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(c);break}u=Pi(""+u),i.setAttribute(c,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(s!=="input"&&Bt(i,s,"name",v.name,v,null),Bt(i,s,"formEncType",v.formEncType,v,null),Bt(i,s,"formMethod",v.formMethod,v,null),Bt(i,s,"formTarget",v.formTarget,v,null)):(Bt(i,s,"encType",v.encType,v,null),Bt(i,s,"method",v.method,v,null),Bt(i,s,"target",v.target,v,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(c);break}u=Pi(""+u),i.setAttribute(c,u);break;case"onClick":u!=null&&(i.onclick=xd);break;case"onScroll":u!=null&&mt("scroll",i);break;case"onScrollEnd":u!=null&&mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(c=u.__html,c!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}c=Pi(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(c,""+u):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":u===!0?i.setAttribute(c,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(c,u):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(c,u):i.removeAttribute(c);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(c):i.setAttribute(c,u);break;case"popover":mt("beforetoggle",i),mt("toggle",i),St(i,"popover",u);break;case"xlinkActuate":It(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":It(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":It(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":It(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":It(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":It(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":It(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":It(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":It(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":St(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Tf.get(c)||c,St(i,c,u))}}function sg(i,s,c,u,v,_){switch(c){case"style":tu(i,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(c=u.__html,c!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof u=="string"?mi(i,u):(typeof u=="number"||typeof u=="bigint")&&mi(i,""+u);break;case"onScroll":u!=null&&mt("scroll",i);break;case"onScrollEnd":u!=null&&mt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=xd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!me.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),s=c.slice(2,v?c.length-7:void 0),_=i[pn]||null,_=_!=null?_[c]:null,typeof _=="function"&&i.removeEventListener(s,_,v),typeof u=="function")){typeof _!="function"&&_!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,u,v);break e}c in i?i[c]=u:u===!0?i.setAttribute(c,""):St(i,c,u)}}}function Xn(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",i),mt("load",i);var u=!1,v=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var R=c[_];if(R!=null)switch(_){case"src":u=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Bt(i,s,_,R,c,null)}}v&&Bt(i,s,"srcSet",c.srcSet,c,null),u&&Bt(i,s,"src",c.src,c,null);return;case"input":mt("invalid",i);var k=_=R=v=null,Z=null,he=null;for(u in c)if(c.hasOwnProperty(u)){var Ee=c[u];if(Ee!=null)switch(u){case"name":v=Ee;break;case"type":R=Ee;break;case"checked":Z=Ee;break;case"defaultChecked":he=Ee;break;case"value":_=Ee;break;case"defaultValue":k=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,s));break;default:Bt(i,s,u,Ee,c,null)}}Jc(i,_,k,Z,he,R,v,!1),ps(i);return;case"select":mt("invalid",i),u=R=_=null;for(v in c)if(c.hasOwnProperty(v)&&(k=c[v],k!=null))switch(v){case"value":_=k;break;case"defaultValue":R=k;break;case"multiple":u=k;default:Bt(i,s,v,k,c,null)}s=_,c=R,i.multiple=!!u,s!=null?gs(i,!!u,s,!1):c!=null&&gs(i,!!u,c,!0);return;case"textarea":mt("invalid",i),_=v=u=null;for(R in c)if(c.hasOwnProperty(R)&&(k=c[R],k!=null))switch(R){case"value":u=k;break;case"defaultValue":v=k;break;case"children":_=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:Bt(i,s,R,k,c,null)}Ef(i,u,v,_),ps(i);return;case"option":for(Z in c)if(c.hasOwnProperty(Z)&&(u=c[Z],u!=null))switch(Z){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Bt(i,s,Z,u,c,null)}return;case"dialog":mt("beforetoggle",i),mt("toggle",i),mt("cancel",i),mt("close",i);break;case"iframe":case"object":mt("load",i);break;case"video":case"audio":for(u=0;u<Vu.length;u++)mt(Vu[u],i);break;case"image":mt("error",i),mt("load",i);break;case"details":mt("toggle",i);break;case"embed":case"source":case"link":mt("error",i),mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in c)if(c.hasOwnProperty(he)&&(u=c[he],u!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Bt(i,s,he,u,c,null)}return;default:if(Sl(s)){for(Ee in c)c.hasOwnProperty(Ee)&&(u=c[Ee],u!==void 0&&sg(i,s,Ee,u,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(u=c[k],u!=null&&Bt(i,s,k,u,c,null))}function DN(i,s,c,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,R=null,k=null,Z=null,he=null,Ee=null;for(ge in c){var Se=c[ge];if(c.hasOwnProperty(ge)&&Se!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":Z=Se;default:u.hasOwnProperty(ge)||Bt(i,s,ge,null,u,Se)}}for(var pe in u){var ge=u[pe];if(Se=c[pe],u.hasOwnProperty(pe)&&(ge!=null||Se!=null))switch(pe){case"type":_=ge;break;case"name":v=ge;break;case"checked":he=ge;break;case"defaultChecked":Ee=ge;break;case"value":R=ge;break;case"defaultValue":k=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,s));break;default:ge!==Se&&Bt(i,s,pe,ge,u,Se)}}Qc(i,R,k,Z,he,Ee,_,v);return;case"select":ge=R=k=pe=null;for(_ in c)if(Z=c[_],c.hasOwnProperty(_)&&Z!=null)switch(_){case"value":break;case"multiple":ge=Z;default:u.hasOwnProperty(_)||Bt(i,s,_,null,u,Z)}for(v in u)if(_=u[v],Z=c[v],u.hasOwnProperty(v)&&(_!=null||Z!=null))switch(v){case"value":pe=_;break;case"defaultValue":k=_;break;case"multiple":R=_;default:_!==Z&&Bt(i,s,v,_,u,Z)}s=k,c=R,u=ge,pe!=null?gs(i,!!c,pe,!1):!!u!=!!c&&(s!=null?gs(i,!!c,s,!0):gs(i,!!c,c?[]:"",!1));return;case"textarea":ge=pe=null;for(k in c)if(v=c[k],c.hasOwnProperty(k)&&v!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Bt(i,s,k,null,u,v)}for(R in u)if(v=u[R],_=c[R],u.hasOwnProperty(R)&&(v!=null||_!=null))switch(R){case"value":pe=v;break;case"defaultValue":ge=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&Bt(i,s,R,v,u,_)}xf(i,pe,ge);return;case"option":for(var et in c)if(pe=c[et],c.hasOwnProperty(et)&&pe!=null&&!u.hasOwnProperty(et))switch(et){case"selected":i.selected=!1;break;default:Bt(i,s,et,null,u,pe)}for(Z in u)if(pe=u[Z],ge=c[Z],u.hasOwnProperty(Z)&&pe!==ge&&(pe!=null||ge!=null))switch(Z){case"selected":i.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:Bt(i,s,Z,pe,u,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in c)pe=c[Qe],c.hasOwnProperty(Qe)&&pe!=null&&!u.hasOwnProperty(Qe)&&Bt(i,s,Qe,null,u,pe);for(he in u)if(pe=u[he],ge=c[he],u.hasOwnProperty(he)&&pe!==ge&&(pe!=null||ge!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,s));break;default:Bt(i,s,he,pe,u,ge)}return;default:if(Sl(s)){for(var Ht in c)pe=c[Ht],c.hasOwnProperty(Ht)&&pe!==void 0&&!u.hasOwnProperty(Ht)&&sg(i,s,Ht,void 0,u,pe);for(Ee in u)pe=u[Ee],ge=c[Ee],!u.hasOwnProperty(Ee)||pe===ge||pe===void 0&&ge===void 0||sg(i,s,Ee,pe,u,ge);return}}for(var ie in c)pe=c[ie],c.hasOwnProperty(ie)&&pe!=null&&!u.hasOwnProperty(ie)&&Bt(i,s,ie,null,u,pe);for(Se in u)pe=u[Se],ge=c[Se],!u.hasOwnProperty(Se)||pe===ge||pe==null&&ge==null||Bt(i,s,Se,pe,u,ge)}var og=null,lg=null;function Ed(i){return i.nodeType===9?i:i.ownerDocument}function hE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function cg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ug=null;function ON(){var i=window.event;return i&&i.type==="popstate"?i===ug?!1:(ug=i,!0):(ug=null,!1)}var dE=typeof setTimeout=="function"?setTimeout:void 0,kN=typeof clearTimeout=="function"?clearTimeout:void 0,mE=typeof Promise=="function"?Promise:void 0,PN=typeof queueMicrotask=="function"?queueMicrotask:typeof mE<"u"?function(i){return mE.resolve(null).then(i).catch(MN)}:dE;function MN(i){setTimeout(function(){throw i})}function Ls(i){return i==="head"}function pE(i,s){var c=s,u=0,v=0;do{var _=c.nextSibling;if(i.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"){if(0<u&&8>u){c=u;var R=i.ownerDocument;if(c&1&&Hu(R.documentElement),c&2&&Hu(R.body),c&4)for(c=R.head,Hu(c),R=c.firstChild;R;){var k=R.nextSibling,Z=R.nodeName;R[V]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&R.rel.toLowerCase()==="stylesheet"||c.removeChild(R),R=k}}if(v===0){i.removeChild(_),Xu(s);return}v--}else c==="$"||c==="$?"||c==="$!"?v++:u=c.charCodeAt(0)-48;else u=0;c=_}while(c);Xu(s)}function hg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":hg(c),H(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function LN(i,s,c,u){for(;i.nodeType===1;){var v=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[V])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Vi(i.nextSibling),i===null)break}return null}function FN(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Vi(i.nextSibling),i===null))return null;return i}function fg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function jN(i,s){var c=i.ownerDocument;if(i.data!=="$?"||c.readyState==="complete")s();else{var u=function(){s(),c.removeEventListener("DOMContentLoaded",u)};c.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Vi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var dg=null;function gE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return i;s--}else c==="/$"&&s++}i=i.previousSibling}return null}function vE(i,s,c){switch(s=Ed(c),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Hu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);H(i)}var Ti=new Map,_E=new Set;function Td(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Wa=Re.d;Re.d={f:UN,r:VN,D:BN,C:HN,L:zN,m:qN,X:$N,S:GN,M:WN};function UN(){var i=Wa.f(),s=dd();return i||s}function VN(i){var s=K(i);s!==null&&s.tag===5&&s.type==="form"?jy(s):Wa.r(i)}var nc=typeof document>"u"?null:document;function yE(i,s,c){var u=nc;if(u&&typeof s=="string"&&s){var v=jn(s);v='link[rel="'+i+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),_E.has(v)||(_E.add(v),i={rel:i,crossOrigin:c,href:s},u.querySelector(v)===null&&(s=u.createElement("link"),Xn(s,"link",i),ae(s),u.head.appendChild(s)))}}function BN(i){Wa.D(i),yE("dns-prefetch",i,null)}function HN(i,s){Wa.C(i,s),yE("preconnect",i,s)}function zN(i,s,c){Wa.L(i,s,c);var u=nc;if(u&&i&&s){var v='link[rel="preload"][as="'+jn(s)+'"]';s==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+jn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+jn(c.imageSizes)+'"]')):v+='[href="'+jn(i)+'"]';var _=v;switch(s){case"style":_=rc(i);break;case"script":_=ic(i)}Ti.has(_)||(i=g({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),Ti.set(_,i),u.querySelector(v)!==null||s==="style"&&u.querySelector(zu(_))||s==="script"&&u.querySelector(qu(_))||(s=u.createElement("link"),Xn(s,"link",i),ae(s),u.head.appendChild(s)))}}function qN(i,s){Wa.m(i,s);var c=nc;if(c&&i){var u=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+jn(u)+'"][href="'+jn(i)+'"]',_=v;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ic(i)}if(!Ti.has(_)&&(i=g({rel:"modulepreload",href:i},s),Ti.set(_,i),c.querySelector(v)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(qu(_)))return}u=c.createElement("link"),Xn(u,"link",i),ae(u),c.head.appendChild(u)}}}function GN(i,s,c){Wa.S(i,s,c);var u=nc;if(u&&i){var v=_e(u).hoistableStyles,_=rc(i);s=s||"default";var R=v.get(_);if(!R){var k={loading:0,preload:null};if(R=u.querySelector(zu(_)))k.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},c),(c=Ti.get(_))&&mg(i,c);var Z=R=u.createElement("link");ae(Z),Xn(Z,"link",i),Z._p=new Promise(function(he,Ee){Z.onload=he,Z.onerror=Ee}),Z.addEventListener("load",function(){k.loading|=1}),Z.addEventListener("error",function(){k.loading|=2}),k.loading|=4,wd(R,s,u)}R={type:"stylesheet",instance:R,count:1,state:k},v.set(_,R)}}}function $N(i,s){Wa.X(i,s);var c=nc;if(c&&i){var u=_e(c).hoistableScripts,v=ic(i),_=u.get(v);_||(_=c.querySelector(qu(v)),_||(i=g({src:i,async:!0},s),(s=Ti.get(v))&&pg(i,s),_=c.createElement("script"),ae(_),Xn(_,"link",i),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(v,_))}}function WN(i,s){Wa.M(i,s);var c=nc;if(c&&i){var u=_e(c).hoistableScripts,v=ic(i),_=u.get(v);_||(_=c.querySelector(qu(v)),_||(i=g({src:i,async:!0,type:"module"},s),(s=Ti.get(v))&&pg(i,s),_=c.createElement("script"),ae(_),Xn(_,"link",i),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(v,_))}}function xE(i,s,c,u){var v=(v=re.current)?Td(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=rc(c.href),c=_e(v).hoistableStyles,u=c.get(s),u||(u={type:"style",instance:null,count:0,state:null},c.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=rc(c.href);var _=_e(v).hoistableStyles,R=_.get(i);if(R||(v=v.ownerDocument||v,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,R),(_=v.querySelector(zu(i)))&&!_._p&&(R.instance=_,R.state.loading=5),Ti.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ti.set(i,c),_||YN(v,i,c,R.state))),s&&u===null)throw Error(r(528,""));return R}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ic(c),c=_e(v).hoistableScripts,u=c.get(s),u||(u={type:"script",instance:null,count:0,state:null},c.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function rc(i){return'href="'+jn(i)+'"'}function zu(i){return'link[rel="stylesheet"]['+i+"]"}function EE(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function YN(i,s,c,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Xn(s,"link",c),ae(s),i.head.appendChild(s))}function ic(i){return'[src="'+jn(i)+'"]'}function qu(i){return"script[async]"+i}function TE(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+jn(c.href)+'"]');if(u)return s.instance=u,ae(u),u;var v=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ae(u),Xn(u,"style",v),wd(u,c.precedence,i),s.instance=u;case"stylesheet":v=rc(c.href);var _=i.querySelector(zu(v));if(_)return s.state.loading|=4,s.instance=_,ae(_),_;u=EE(c),(v=Ti.get(v))&&mg(u,v),_=(i.ownerDocument||i).createElement("link"),ae(_);var R=_;return R._p=new Promise(function(k,Z){R.onload=k,R.onerror=Z}),Xn(_,"link",u),s.state.loading|=4,wd(_,c.precedence,i),s.instance=_;case"script":return _=ic(c.src),(v=i.querySelector(qu(_)))?(s.instance=v,ae(v),v):(u=c,(v=Ti.get(_))&&(u=g({},c),pg(u,v)),i=i.ownerDocument||i,v=i.createElement("script"),ae(v),Xn(v,"link",u),i.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,wd(u,c.precedence,i));return s.instance}function wd(i,s,c){for(var u=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=u.length?u[u.length-1]:null,_=v,R=0;R<u.length;R++){var k=u[R];if(k.dataset.precedence===s)_=k;else if(_!==v)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function mg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function pg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Sd=null;function wE(i,s,c){if(Sd===null){var u=new Map,v=Sd=new Map;v.set(c,u)}else v=Sd,u=v.get(c),u||(u=new Map,v.set(c,u));if(u.has(i))return u;for(u.set(i,null),c=c.getElementsByTagName(i),v=0;v<c.length;v++){var _=c[v];if(!(_[V]||_[an]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var R=_.getAttribute(s)||"";R=i+R;var k=u.get(R);k?k.push(_):u.set(R,[_])}}return u}function SE(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function KN(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function AE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Gu=null;function XN(){}function QN(i,s,c){if(Gu===null)throw Error(r(475));var u=Gu;if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var v=rc(c.href),_=i.querySelector(zu(v));if(_){i=_._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Ad.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=_,ae(_);return}_=i.ownerDocument||i,c=EE(c),(v=Ti.get(v))&&mg(c,v),_=_.createElement("link"),ae(_);var R=_;R._p=new Promise(function(k,Z){R.onload=k,R.onerror=Z}),Xn(_,"link",c),s.instance=_}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Ad.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function JN(){if(Gu===null)throw Error(r(475));var i=Gu;return i.stylesheets&&i.count===0&&gg(i,i.stylesheets),0<i.count?function(s){var c=setTimeout(function(){if(i.stylesheets&&gg(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(c)}}:null}function Ad(){if(this.count--,this.count===0){if(this.stylesheets)gg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var bd=null;function gg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,bd=new Map,s.forEach(ZN,i),bd=null,Ad.call(i))}function ZN(i,s){if(!(s.state.loading&4)){var c=bd.get(i);if(c)var u=c.get(null);else{c=new Map,bd.set(i,c);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var R=v[_];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(c.set(R.dataset.precedence,R),u=R)}u&&c.set(null,u)}v=s.instance,R=v.getAttribute("data-precedence"),_=c.get(R)||u,_===u&&c.set(null,v),c.set(R,v),this.count++,u=Ad.bind(this),v.addEventListener("load",u),v.addEventListener("error",u),_?_.parentNode.insertBefore(v,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),s.state.loading|=4}}var $u={$$typeof:j,Provider:null,Consumer:null,_currentValue:He,_currentValue2:He,_threadCount:0};function e4(i,s,c,u,v,_,R,k){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ds(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ds(0),this.hiddenUpdates=ds(null),this.identifierPrefix=u,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function bE(i,s,c,u,v,_,R,k,Z,he,Ee,Se){return i=new e4(i,s,c,R,k,Z,he,Se),s=1,_===!0&&(s|=24),_=Xr(3,null,null,s),i.current=_,_.stateNode=i,s=Qm(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:u,isDehydrated:c,cache:s},tp(_),i}function RE(i){return i?(i=Ml,i):Ml}function CE(i,s,c,u,v,_){v=RE(v),u.context===null?u.context=v:u.pendingContext=v,u=ws(s),u.payload={element:c},_=_===void 0?null:_,_!==null&&(u.callback=_),c=Ss(i,u,s),c!==null&&(ti(c,i,s),Tu(c,i,s))}function NE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function vg(i,s){NE(i,s),(i=i.alternate)&&NE(i,s)}function IE(i){if(i.tag===13){var s=Pl(i,67108864);s!==null&&ti(s,i,67108864),vg(i,67108864)}}var Rd=!0;function t4(i,s,c,u){var v=ce.T;ce.T=null;var _=Re.p;try{Re.p=2,_g(i,s,c,u)}finally{Re.p=_,ce.T=v}}function n4(i,s,c,u){var v=ce.T;ce.T=null;var _=Re.p;try{Re.p=8,_g(i,s,c,u)}finally{Re.p=_,ce.T=v}}function _g(i,s,c,u){if(Rd){var v=yg(u);if(v===null)ag(i,s,u,Cd,c),OE(i,u);else if(i4(v,i,s,c,u))u.stopPropagation();else if(OE(i,u),s&4&&-1<r4.indexOf(i)){for(;v!==null;){var _=K(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var R=Cr(_.pendingLanes);if(R!==0){var k=_;for(k.pendingLanes|=2,k.entangledLanes|=2;R;){var Z=1<<31-Wn(R);k.entanglements[1]|=Z,R&=~Z}ca(_),(Ot&6)===0&&(hd=Ve()+500,Uu(0))}}break;case 13:k=Pl(_,2),k!==null&&ti(k,_,2),dd(),vg(_,2)}if(_=yg(u),_===null&&ag(i,s,u,Cd,c),_===v)break;v=_}v!==null&&u.stopPropagation()}else ag(i,s,u,null,c)}}function yg(i){return i=ru(i),xg(i)}var Cd=null;function xg(i){if(Cd=null,i=G(i),i!==null){var s=o(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=l(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Cd=i,null}function DE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($n()){case Nt:return 2;case $t:return 8;case or:case Tl:return 32;case ba:return 268435456;default:return 32}default:return 32}}var Eg=!1,Fs=null,js=null,Us=null,Wu=new Map,Yu=new Map,Vs=[],r4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function OE(i,s){switch(i){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":Wu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yu.delete(s.pointerId)}}function Ku(i,s,c,u,v,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:c,eventSystemFlags:u,nativeEvent:_,targetContainers:[v]},s!==null&&(s=K(s),s!==null&&IE(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),i)}function i4(i,s,c,u,v){switch(s){case"focusin":return Fs=Ku(Fs,i,s,c,u,v),!0;case"dragenter":return js=Ku(js,i,s,c,u,v),!0;case"mouseover":return Us=Ku(Us,i,s,c,u,v),!0;case"pointerover":var _=v.pointerId;return Wu.set(_,Ku(Wu.get(_)||null,i,s,c,u,v)),!0;case"gotpointercapture":return _=v.pointerId,Yu.set(_,Ku(Yu.get(_)||null,i,s,c,u,v)),!0}return!1}function kE(i){var s=G(i.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){i.blockedOn=s,Xc(i.priority,function(){if(c.tag===13){var u=ei();u=_o(u);var v=Pl(c,u);v!==null&&ti(v,c,u),vg(c,u)}});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Nd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=yg(i.nativeEvent);if(c===null){c=i.nativeEvent;var u=new c.constructor(c.type,c);nu=u,c.target.dispatchEvent(u),nu=null}else return s=K(c),s!==null&&IE(s),i.blockedOn=c,!1;s.shift()}return!0}function PE(i,s,c){Nd(i)&&c.delete(s)}function a4(){Eg=!1,Fs!==null&&Nd(Fs)&&(Fs=null),js!==null&&Nd(js)&&(js=null),Us!==null&&Nd(Us)&&(Us=null),Wu.forEach(PE),Yu.forEach(PE)}function Id(i,s){i.blockedOn===s&&(i.blockedOn=null,Eg||(Eg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,a4)))}var Dd=null;function ME(i){Dd!==i&&(Dd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dd===i&&(Dd=null);for(var s=0;s<i.length;s+=3){var c=i[s],u=i[s+1],v=i[s+2];if(typeof u!="function"){if(xg(u||c)===null)continue;break}var _=K(c);_!==null&&(i.splice(s,3),s-=3,xp(_,{pending:!0,data:v,method:c.method,action:u},u,v))}}))}function Xu(i){function s(Z){return Id(Z,i)}Fs!==null&&Id(Fs,i),js!==null&&Id(js,i),Us!==null&&Id(Us,i),Wu.forEach(s),Yu.forEach(s);for(var c=0;c<Vs.length;c++){var u=Vs[c];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Vs.length&&(c=Vs[0],c.blockedOn===null);)kE(c),c.blockedOn===null&&Vs.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(u=0;u<c.length;u+=3){var v=c[u],_=c[u+1],R=v[pn]||null;if(typeof _=="function")R||ME(c);else if(R){var k=null;if(_&&_.hasAttribute("formAction")){if(v=_,R=_[pn]||null)k=R.formAction;else if(xg(v)!==null)continue}else k=R.action;typeof k=="function"?c[u+1]=k:(c.splice(u,3),u-=3),ME(c)}}}function Tg(i){this._internalRoot=i}Od.prototype.render=Tg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,u=ei();CE(c,u,i,s,null,null)},Od.prototype.unmount=Tg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;CE(i.current,2,null,i,null,null),dd(),s[Oi]=null}};function Od(i){this._internalRoot=i}Od.prototype.unstable_scheduleHydration=function(i){if(i){var s=Di();i={blockedOn:null,target:i,priority:s};for(var c=0;c<Vs.length&&s!==0&&s<Vs[c].priority;c++);Vs.splice(c,0,i),c===0&&kE(i)}};var LE=e.version;if(LE!=="19.1.1")throw Error(r(527,LE,"19.1.1"));Re.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var s4={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ce,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kd.isDisabled&&kd.supportsFiber)try{hi=kd.inject(s4),xn=kd}catch{}}return Ju.createRoot=function(i,s){if(!a(i))throw Error(r(299));var c=!1,u="",v=Jy,_=Zy,R=ex,k=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks)),s=bE(i,1,!1,null,null,c,u,v,_,R,k,null),i[Oi]=s.current,ig(i),new Tg(s)},Ju.hydrateRoot=function(i,s,c){if(!a(i))throw Error(r(299));var u=!1,v="",_=Jy,R=Zy,k=ex,Z=null,he=null;return c!=null&&(c.unstable_strictMode===!0&&(u=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(R=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Z=c.unstable_transitionCallbacks),c.formState!==void 0&&(he=c.formState)),s=bE(i,1,!0,s,c??null,u,v,_,R,k,Z,he),s.context=RE(null),c=s.current,u=ei(),u=_o(u),v=ws(u),v.callback=null,Ss(c,v,u),c=u,s.current.lanes=c,rn(s,c),ca(s),i[Oi]=s.current,ig(i),new Od(s)},Ju.version="19.1.1",Ju}var $E;function g4(){if($E)return Ag.exports;$E=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ag.exports=p4(),Ag.exports}var v4=g4();const _4=$2(v4);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var WE="popstate";function y4(t={}){function e(r,a){let{pathname:o,search:l,hash:h}=r.location;return c1("",{pathname:o,search:l,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Ch(a)}return E4(e,n,null,t)}function tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function x4(){return Math.random().toString(36).substring(2,10)}function YE(t,e){return{usr:t.state,key:t.key,idx:e}}function c1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Mc(e):e,state:n,key:e&&e.key||r||x4()}}function Ch({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Mc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function E4(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,l=a.history,h="POP",d=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function y(){h="POP";let b=g(),O=b==null?null:b-f;f=b,d&&d({action:h,location:w.location,delta:O})}function x(b,O){h="PUSH";let F=c1(w.location,b,O);f=g()+1;let j=YE(F,f),J=w.createHref(F);try{l.pushState(j,"",J)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;a.location.assign(J)}o&&d&&d({action:h,location:w.location,delta:1})}function T(b,O){h="REPLACE";let F=c1(w.location,b,O);f=g();let j=YE(F,f),J=w.createHref(F);l.replaceState(j,"",J),o&&d&&d({action:h,location:w.location,delta:0})}function S(b){return T4(b)}let w={get action(){return h},get location(){return t(a,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(WE,y),d=b,()=>{a.removeEventListener(WE,y),d=null}},createHref(b){return e(a,b)},createURL:S,encodeLocation(b){let O=S(b);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:T,go(b){return l.go(b)}};return w}function T4(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ch(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function W2(t,e,n="/"){return w4(t,e,n,!1)}function w4(t,e,n,r){let a=typeof e=="string"?Mc(e):e,o=ts(a.pathname||"/",n);if(o==null)return null;let l=Y2(t);S4(l);let h=null;for(let d=0;h==null&&d<l.length;++d){let f=M4(o);h=k4(l[d],f,r)}return h}function Y2(t,e=[],n=[],r="",a=!1){let o=(l,h,d=a,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;tn(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let y=Xa([r,g.relativePath]),x=n.concat(g);l.children&&l.children.length>0&&(tn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Y2(l.children,e,x,y,d)),!(l.path==null&&!l.index)&&e.push({path:y,score:D4(y,l.index),routesMeta:x})};return t.forEach((l,h)=>{if(l.path===""||!l.path?.includes("?"))o(l,h);else for(let d of K2(l.path))o(l,h,!0,d)}),e}function K2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let l=K2(r.join("/")),h=[];return h.push(...l.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...l),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function S4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:O4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var A4=/^:[\w-]+$/,b4=3,R4=2,C4=1,N4=10,I4=-2,KE=t=>t==="*";function D4(t,e){let n=t.split("/"),r=n.length;return n.some(KE)&&(r+=I4),e&&(r+=R4),n.filter(a=>!KE(a)).reduce((a,o)=>a+(A4.test(o)?b4:o===""?C4:N4),r)}function O4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function k4(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",l=[];for(let h=0;h<r.length;++h){let d=r[h],f=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=c0({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),x=d.route;if(!y&&f&&n&&!r[r.length-1].route.index&&(y=c0({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),l.push({params:a,pathname:Xa([o,y.pathname]),pathnameBase:U4(Xa([o,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(o=Xa([o,y.pathnameBase]))}return l}function c0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=P4(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:y},x)=>{if(g==="*"){let S=h[x]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const T=h[x];return y&&!T?f[g]=void 0:f[g]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function P4(t,e=!1,n=!0){Yi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function M4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ts(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function L4(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Mc(t):t;return{pathname:n?n.startsWith("/")?n:F4(n,e):e,search:V4(r),hash:B4(a)}}function F4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ng(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function W1(t){let e=j4(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Y1(t,e,n,r=!1){let a;typeof t=="string"?a=Mc(t):(a={...t},tn(!a.pathname||!a.pathname.includes("?"),Ng("?","pathname","search",a)),tn(!a.pathname||!a.pathname.includes("#"),Ng("#","pathname","hash",a)),tn(!a.search||!a.search.includes("#"),Ng("#","search","hash",a)));let o=t===""||a.pathname==="",l=o?"/":a.pathname,h;if(l==null)h=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),y-=1;a.pathname=x.join("/")}h=y>=0?e[y]:"/"}let d=L4(a,h),f=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var Xa=t=>t.join("/").replace(/\/\/+/g,"/"),U4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),V4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,B4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function H4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var X2=["POST","PUT","PATCH","DELETE"];new Set(X2);var z4=["GET",...X2];new Set(z4);var Lc=se.createContext(null);Lc.displayName="DataRouter";var Y0=se.createContext(null);Y0.displayName="DataRouterState";se.createContext(!1);var Q2=se.createContext({isTransitioning:!1});Q2.displayName="ViewTransition";var q4=se.createContext(new Map);q4.displayName="Fetchers";var G4=se.createContext(null);G4.displayName="Await";var Xi=se.createContext(null);Xi.displayName="Navigation";var Yh=se.createContext(null);Yh.displayName="Location";var Qi=se.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var K1=se.createContext(null);K1.displayName="RouteError";function $4(t,{relative:e}={}){tn(Fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=se.useContext(Xi),{hash:a,pathname:o,search:l}=Kh(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Xa([n,o])),r.createHref({pathname:h,search:l,hash:a})}function Fc(){return se.useContext(Yh)!=null}function wa(){return tn(Fc(),"useLocation() may be used only in the context of a <Router> component."),se.useContext(Yh).location}var J2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z2(t){se.useContext(Xi).static||se.useLayoutEffect(t)}function jc(){let{isDataRoute:t}=se.useContext(Qi);return t?oI():W4()}function W4(){tn(Fc(),"useNavigate() may be used only in the context of a <Router> component.");let t=se.useContext(Lc),{basename:e,navigator:n}=se.useContext(Xi),{matches:r}=se.useContext(Qi),{pathname:a}=wa(),o=JSON.stringify(W1(r)),l=se.useRef(!1);return Z2(()=>{l.current=!0}),se.useCallback((d,f={})=>{if(Yi(l.current,J2),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=Y1(d,JSON.parse(o),a,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Xa([e,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[e,n,o,a,t])}var Y4=se.createContext(null);function K4(t){let e=se.useContext(Qi).outlet;return se.useMemo(()=>e&&se.createElement(Y4.Provider,{value:t},e),[e,t])}function Kh(t,{relative:e}={}){let{matches:n}=se.useContext(Qi),{pathname:r}=wa(),a=JSON.stringify(W1(n));return se.useMemo(()=>Y1(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function X4(t,e){return eS(t,e)}function eS(t,e,n,r,a){tn(Fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=se.useContext(Xi),{matches:l}=se.useContext(Qi),h=l[l.length-1],d=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let F=y&&y.path||"";tS(f,!y||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let x=wa(),T;if(e){let F=typeof e=="string"?Mc(e):e;tn(g==="/"||F.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),T=F}else T=x;let S=T.pathname||"/",w=S;if(g!=="/"){let F=g.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(F.length).join("/")}let b=W2(t,{pathname:w});Yi(y||b!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Yi(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=tI(b&&b.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:Xa([g,o.encodeLocation?o.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:Xa([g,o.encodeLocation?o.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),l,n,r,a);return e&&O?se.createElement(Yh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},O):O}function Q4(){let t=sI(),e=H4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=se.createElement(se.Fragment,null,se.createElement("p",null,"💿 Hey developer 👋"),se.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",se.createElement("code",{style:o},"ErrorBoundary")," or"," ",se.createElement("code",{style:o},"errorElement")," prop on your route.")),se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),n?se.createElement("pre",{style:a},n):null,l)}var J4=se.createElement(Q4,null),Z4=class extends se.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?se.createElement(Qi.Provider,{value:this.props.routeContext},se.createElement(K1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eI({routeContext:t,match:e,children:n}){let r=se.useContext(Lc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),se.createElement(Qi.Provider,{value:t},n)}function tI(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let f=o.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);tn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let h=!1,d=-1;if(n)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:y,errors:x}=n,T=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||T){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,g,y)=>{let x,T=!1,S=null,w=null;n&&(x=l&&g.route.id?l[g.route.id]:void 0,S=g.route.errorElement||J4,h&&(d<0&&y===0?(tS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,w=null):d===y&&(T=!0,w=g.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,y+1)),O=()=>{let F;return x?F=S:T?F=w:g.route.Component?F=se.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=f,se.createElement(eI,{match:g,routeContext:{outlet:f,matches:b,isDataRoute:n!=null},children:F})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?se.createElement(Z4,{location:n.location,revalidation:n.revalidation,component:S,error:x,children:O(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):O()},null)}function X1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nI(t){let e=se.useContext(Lc);return tn(e,X1(t)),e}function rI(t){let e=se.useContext(Y0);return tn(e,X1(t)),e}function iI(t){let e=se.useContext(Qi);return tn(e,X1(t)),e}function Q1(t){let e=iI(t),n=e.matches[e.matches.length-1];return tn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function aI(){return Q1("useRouteId")}function sI(){let t=se.useContext(K1),e=rI("useRouteError"),n=Q1("useRouteError");return t!==void 0?t:e.errors?.[n]}function oI(){let{router:t}=nI("useNavigate"),e=Q1("useNavigate"),n=se.useRef(!1);return Z2(()=>{n.current=!0}),se.useCallback(async(a,o={})=>{Yi(n.current,J2),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var XE={};function tS(t,e,n){!e&&!XE[t]&&(XE[t]=!0,Yi(!1,n))}se.memo(lI);function lI({routes:t,future:e,state:n,unstable_onError:r}){return eS(t,void 0,n,r,e)}function u1({to:t,replace:e,state:n,relative:r}){tn(Fc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=se.useContext(Xi);Yi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=se.useContext(Qi),{pathname:l}=wa(),h=jc(),d=Y1(t,W1(o),l,r==="path"),f=JSON.stringify(d);return se.useEffect(()=>{h(JSON.parse(f),{replace:e,state:n,relative:r})},[h,f,r,e,n]),null}function nS(t){return K4(t.context)}function Tt(t){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cI({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){tn(!Fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),h=se.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof n=="string"&&(n=Mc(n));let{pathname:d="/",search:f="",hash:g="",state:y=null,key:x="default"}=n,T=se.useMemo(()=>{let S=ts(d,l);return S==null?null:{location:{pathname:S,search:f,hash:g,state:y,key:x},navigationType:r}},[l,d,f,g,y,x,r]);return Yi(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:se.createElement(Xi.Provider,{value:h},se.createElement(Yh.Provider,{children:e,value:T}))}function uI({children:t,location:e}){return X4(h1(t),e)}function h1(t,e=[]){let n=[];return se.Children.forEach(t,(r,a)=>{if(!se.isValidElement(r))return;let o=[...e,a];if(r.type===se.Fragment){n.push.apply(n,h1(r.props.children,o));return}tn(r.type===Tt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=h1(r.props.children,o)),n.push(l)}),n}var Qd="get",Jd="application/x-www-form-urlencoded";function K0(t){return t!=null&&typeof t.tagName=="string"}function hI(t){return K0(t)&&t.tagName.toLowerCase()==="button"}function fI(t){return K0(t)&&t.tagName.toLowerCase()==="form"}function dI(t){return K0(t)&&t.tagName.toLowerCase()==="input"}function mI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pI(t,e){return t.button===0&&(!e||e==="_self")&&!mI(t)}var Pd=null;function gI(){if(Pd===null)try{new FormData(document.createElement("form"),0),Pd=!1}catch{Pd=!0}return Pd}var vI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ig(t){return t!=null&&!vI.has(t)?(Yi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jd}"`),null):t}function _I(t,e){let n,r,a,o,l;if(fI(t)){let h=t.getAttribute("action");r=h?ts(h,e):null,n=t.getAttribute("method")||Qd,a=Ig(t.getAttribute("enctype"))||Jd,o=new FormData(t)}else if(hI(t)||dI(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?ts(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Qd,a=Ig(t.getAttribute("formenctype"))||Ig(h.getAttribute("enctype"))||Jd,o=new FormData(h,t),!gI()){let{name:f,type:g,value:y}=t;if(g==="image"){let x=f?`${f}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else f&&o.append(f,y)}}else{if(K0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qd,r=null,a=Jd,l=t}return o&&a==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function J1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yI(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ts(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function xI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function TI(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await xI(o,n);return l.links?l.links():[]}return[]}));return bI(r.flat(1).filter(EI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function QE(t,e,n,r,a,o){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,h=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>l(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function wI(t,e,{includeHydrateFallback:n}={}){return SI(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function SI(t){return[...new Set(t)]}function AI(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function bI(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(AI(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function rS(){let t=se.useContext(Lc);return J1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function RI(){let t=se.useContext(Y0);return J1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Z1=se.createContext(void 0);Z1.displayName="FrameworkContext";function iS(){let t=se.useContext(Z1);return J1(t,"You must render this element inside a <HydratedRouter> element"),t}function CI(t,e){let n=se.useContext(Z1),[r,a]=se.useState(!1),[o,l]=se.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:y}=e,x=se.useRef(null);se.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let w=O=>{O.forEach(F=>{l(F.isIntersecting)})},b=new IntersectionObserver(w,{threshold:.5});return x.current&&b.observe(x.current),()=>{b.disconnect()}}},[t]),se.useEffect(()=>{if(r){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[r]);let T=()=>{a(!0)},S=()=>{a(!1),l(!1)};return n?t!=="intent"?[o,x,{}]:[o,x,{onFocus:Zu(h,T),onBlur:Zu(d,S),onMouseEnter:Zu(f,T),onMouseLeave:Zu(g,S),onTouchStart:Zu(y,T)}]:[!1,x,{}]}function Zu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function NI({page:t,...e}){let{router:n}=rS(),r=se.useMemo(()=>W2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?se.createElement(DI,{page:t,matches:r,...e}):null}function II(t){let{manifest:e,routeModules:n}=iS(),[r,a]=se.useState([]);return se.useEffect(()=>{let o=!1;return TI(t,e,n).then(l=>{o||a(l)}),()=>{o=!0}},[t,e,n]),r}function DI({page:t,matches:e,...n}){let r=wa(),{manifest:a,routeModules:o}=iS(),{basename:l}=rS(),{loaderData:h,matches:d}=RI(),f=se.useMemo(()=>QE(t,e,d,a,r,"data"),[t,e,d,a,r]),g=se.useMemo(()=>QE(t,e,d,a,r,"assets"),[t,e,d,a,r]),y=se.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,w=!1;if(e.forEach(O=>{let F=a.routes[O.route.id];!F||!F.hasLoader||(!f.some(j=>j.route.id===O.route.id)&&O.route.id in h&&o[O.route.id]?.shouldRevalidate||F.hasClientLoader?w=!0:S.add(O.route.id))}),S.size===0)return[];let b=yI(t,l,"data");return w&&S.size>0&&b.searchParams.set("_routes",e.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[b.pathname+b.search]},[l,h,r,a,f,e,t,o]),x=se.useMemo(()=>wI(g,a),[g,a]),T=II(g);return se.createElement(se.Fragment,null,y.map(S=>se.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),x.map(S=>se.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),T.map(({key:S,link:w})=>se.createElement("link",{key:S,nonce:n.nonce,...w})))}function OI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aS&&(window.__reactRouterVersion="7.9.3")}catch{}function kI({basename:t,children:e,window:n}){let r=se.useRef();r.current==null&&(r.current=y4({window:n,v5Compat:!0}));let a=r.current,[o,l]=se.useState({action:a.action,location:a.location}),h=se.useCallback(d=>{se.startTransition(()=>l(d))},[l]);return se.useLayoutEffect(()=>a.listen(h),[a,h]),se.createElement(cI,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var sS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ii=se.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:l,state:h,target:d,to:f,preventScrollReset:g,viewTransition:y,...x},T){let{basename:S}=se.useContext(Xi),w=typeof f=="string"&&sS.test(f),b,O=!1;if(typeof f=="string"&&w&&(b=f,aS))try{let C=new URL(window.location.href),P=f.startsWith("//")?new URL(C.protocol+f):new URL(f),L=ts(P.pathname,S);P.origin===C.origin&&L!=null?f=L+P.search+P.hash:O=!0}catch{Yi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=$4(f,{relative:a}),[j,J,X]=CI(r,x),W=LI(f,{replace:l,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:y});function N(C){e&&e(C),C.defaultPrevented||W(C)}let I=se.createElement("a",{...x,...X,href:b||F,onClick:O||o?e:N,ref:OI(T,J),target:d,"data-discover":!w&&n==="render"?"true":void 0});return j&&!w?se.createElement(se.Fragment,null,I,se.createElement(NI,{page:F})):I});ii.displayName="Link";var Kt=se.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:l,viewTransition:h,children:d,...f},g){let y=Kh(l,{relative:f.relative}),x=wa(),T=se.useContext(Y0),{navigator:S,basename:w}=se.useContext(Xi),b=T!=null&&BI(y)&&h===!0,O=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,F=x.pathname,j=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(F=F.toLowerCase(),j=j?j.toLowerCase():null,O=O.toLowerCase()),j&&w&&(j=ts(j,w)||j);const J=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let X=F===O||!a&&F.startsWith(O)&&F.charAt(J)==="/",W=j!=null&&(j===O||!a&&j.startsWith(O)&&j.charAt(O.length)==="/"),N={isActive:X,isPending:W,isTransitioning:b},I=X?e:void 0,C;typeof r=="function"?C=r(N):C=[r,X?"active":null,W?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(N):o;return se.createElement(ii,{...f,"aria-current":I,className:C,ref:g,style:P,to:l,viewTransition:h},typeof d=="function"?d(N):d)});Kt.displayName="NavLink";var PI=se.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:l=Qd,action:h,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:y,...x},T)=>{let S=UI(),w=VI(h,{relative:f}),b=l.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&sS.test(h),F=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let J=j.nativeEvent.submitter,X=J?.getAttribute("formmethod")||l;S(J||j.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:a,state:o,relative:f,preventScrollReset:g,viewTransition:y})};return se.createElement("form",{ref:T,method:b,action:w,onSubmit:r?d:F,...x,"data-discover":!O&&t==="render"?"true":void 0})});PI.displayName="Form";function MI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oS(t){let e=se.useContext(Lc);return tn(e,MI(t)),e}function LI(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:l}={}){let h=jc(),d=wa(),f=Kh(t,{relative:o});return se.useCallback(g=>{if(pI(g,e)){g.preventDefault();let y=n!==void 0?n:Ch(d)===Ch(f);h(t,{replace:y,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[d,h,f,n,r,e,t,a,o,l])}var FI=0,jI=()=>`__${String(++FI)}__`;function UI(){let{router:t}=oS("useSubmit"),{basename:e}=se.useContext(Xi),n=aI();return se.useCallback(async(r,a={})=>{let{action:o,method:l,encType:h,formData:d,body:f}=_I(r,e);if(a.navigate===!1){let g=a.fetcherKey||jI();await t.fetch(g,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||l,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||l,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function VI(t,{relative:e}={}){let{basename:n}=se.useContext(Xi),r=se.useContext(Qi);tn(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Kh(t||".",{relative:e})},l=wa();if(t==null){o.search=l.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Xa([n,o.pathname])),Ch(o)}function BI(t,{relative:e}={}){let n=se.useContext(Q2);tn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=oS("useViewTransitionState"),a=Kh(t,{relative:e});if(!n.isTransitioning)return!1;let o=ts(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ts(n.nextLocation.pathname,r)||n.nextLocation.pathname;return c0(a.pathname,l)!=null||c0(a.pathname,o)!=null}const HI="/mariachis-uclatlan/assets/juliofrenk-xh5a58GC.jpg",zI="/mariachis-uclatlan/assets/brandonPhoto-BqVCcDZm.jpg",qI="/mariachis-uclatlan/assets/rosebowl25-BWtiugWu.jpg",GI=[HI,zI,qI];function $I({images:t=GI,autoPlayMs:e=5e3,showIndicators:n=!0,aspectRatio:r="16/9",className:a=""}){const[o,l]=se.useState(0),h=se.useRef(null),d=se.useRef(null),f=se.useRef(!1),g=se.useRef(null),y=se.useRef(0),x=t.length,T=se.useCallback(J=>{l((J%x+x)%x)},[x]),S=se.useCallback(()=>T(o+1),[T,o]),w=se.useCallback(()=>T(o-1),[T,o]);se.useEffect(()=>{const J=X=>{X.key==="ArrowRight"&&S(),X.key==="ArrowLeft"&&w()};return window.addEventListener("keydown",J),()=>window.removeEventListener("keydown",J)},[S,w]),se.useEffect(()=>{if(!e)return;const J=()=>{d.current!==null&&window.clearInterval(d.current),!f.current&&!document.hidden&&(d.current=window.setInterval(()=>{l(N=>(N+1)%x)},e))},X=()=>{d.current!==null&&window.clearInterval(d.current),d.current=null};J();const W=()=>document.hidden?X():J();return document.addEventListener("visibilitychange",W),()=>{document.removeEventListener("visibilitychange",W),X()}},[e,x]);const b=J=>{g.current=J.touches[0].clientX,y.current=0},O=J=>{if(g.current!==null&&(y.current=J.touches[0].clientX-g.current,h.current)){const X=y.current/h.current.clientWidth*100;h.current.style.transition="none",h.current.style.transform=`translateX(calc(${-o*100}% + ${X}%))`}},F=()=>{h.current&&(h.current.style.transition="");const J=y.current;g.current=null,y.current=0,Math.abs(J)>40?J<0?S():w():h.current&&(h.current.style.transform=`translateX(${-o*100}%)`)},j=se.useMemo(()=>t.map((J,X)=>m.jsx("button",{"aria-label":`Go to slide ${X+1}`,className:`carousel-indicator ${X===o?"active":""}`,onClick:()=>T(X)},X)),[t,o,T]);return m.jsxs("div",{className:`carousel ${a}`,style:{"--carousel-aspect":r},onMouseEnter:()=>f.current=!0,onMouseLeave:()=>f.current=!1,"aria-roledescription":"carousel",children:[m.jsx("div",{className:"carousel-viewport",onTouchStart:b,onTouchMove:O,onTouchEnd:F,children:m.jsx("div",{ref:h,className:"carousel-track",style:{transform:`translateX(${-o*100}%)`},children:t.map((J,X)=>m.jsxs("div",{className:"carousel-slide",role:"group","aria-roledescription":"slide","aria-label":`${X+1} of ${x}`,children:[m.jsx("img",{className:"carousel-image",src:J,loading:"lazy",alt:`Slide ${X+1}`}),m.jsx("div",{className:"carousel-gradient","aria-hidden":"true"})]},X))})}),m.jsx("button",{className:"carousel-button prev",onClick:w,"aria-label":"Previous slide",children:"‹"}),m.jsx("button",{className:"carousel-button next",onClick:S,"aria-label":"Next slide",children:"›"}),n&&m.jsx("div",{className:"carousel-indicators",role:"tablist","aria-label":"Slide indicators",children:j})]})}const JE=()=>m.jsxs("section",{className:"home stack",children:[m.jsxs("header",{className:"welcome",children:[m.jsx("h1",{children:"Welcome to Mariachi de Uclatlán"}),m.jsx("p",{children:"Mariachi de Uclatlán is a student-led musical ensemble at UCLA dedicated to preserving, celebrating, and innovating the traditions of mariachi music. Our group provides students from diverse academic and cultural backgrounds with the opportunity to share the beauty of this art form with the UCLA community and beyond."}),m.jsx("p",{children:"As part of our mission, we honor the roots of Mexican music while bringing it into contemporary spaces. From classrooms to grand stages, Mariachi de Uclatlán fosters a spirit of community, cultural pride, and artistic excellence. Our members balance their roles as students and performers, keeping alive the traditions passed down through generations."}),m.jsx("p",{children:"Alongside our musicians, we are proud to collaborate with UCLA’s Ballet Folklórico, whose dancers bring vibrant movement and color to our performances. Together, music and dance tell stories that embody the energy and passion of Mexican culture, creating a complete and unforgettable experience for audiences."}),m.jsx("p",{children:"Founded in 1961, Mariachi de Uclatlán holds the distinction of being one of the first collegiate mariachi ensembles in the United States. Over six decades, we have built a legacy of performances, community outreach, and cultural preservation. We continue to grow as a family of students dedicated to sharing this living tradition with future generations. ¡Viva el mariachi!"})]}),m.jsx($I,{})]});function WI(){return m.jsxs("div",{className:"about-page",children:[m.jsx("h1",{children:"About Us"}),m.jsx("p",{children:"Welcome to Mariachi de Uclatlán! We are UCLA's premier mariachi ensemble dedicated to preserving the rich traditions of Mexican music and culture. Founded in 1961, our ensemble has a long history of excellence and passion for mariachi music."}),m.jsx("h2",{children:"Watch a Recent Performance"}),m.jsx("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,marginBottom:"2rem"},children:m.jsx("iframe",{src:"https://www.youtube.com/embed/PVT9JTaZokk?start=6720",title:"Mariachi de Uclatlán Performance",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})}),m.jsx("h2",{children:"Our History"}),m.jsx("p",{children:"Mariachi de Uclatlán was established to provide students with an opportunity to experience and perform traditional Mexican music while also promoting cultural awareness. Over the years, we have participated in numerous events and competitions, showcasing the talent and dedication of our members."})]})}const YI=()=>m.jsxs("section",{className:"contact-page",children:[m.jsx("h1",{children:"Contact Us"}),m.jsxs("p",{className:"contact-intro",children:["Email us at"," ",m.jsx("a",{href:"mailto:uclatlan@ucla.edu",className:"contact-link",children:"uclatlan@ucla.edu"})," ","or choose an option below:"]}),m.jsxs("div",{className:"contact-actions",children:[m.jsx(ii,{to:"/hire-us",className:"cta-button",children:"Hiring"}),m.jsx(ii,{to:"/join",className:"cta-button",children:"How to Join Our Group"}),m.jsx(ii,{to:"/contact/form",className:"cta-button",children:"General Questions"})]})]}),KI=()=>{};var ZE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},XI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],l=t[n++],h=t[n++],d=((a&7)<<18|(o&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|l&63)}}return e.join("")},cS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],l=a+1<t.length,h=l?t[a+1]:0,d=a+2<t.length,f=d?t[a+2]:0,g=o>>2,y=(o&3)<<4|h>>4;let x=(h&15)<<2|f>>6,T=f&63;d||(T=64,l||(x=64)),r.push(n[g],n[y],n[x],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const f=a<t.length?n[t.charAt(a)]:64;++a;const y=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||f==null||y==null)throw new QI;const x=o<<2|h>>4;if(r.push(x),f!==64){const T=h<<4&240|f>>2;if(r.push(T),y!==64){const S=f<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JI=function(t){const e=lS(t);return cS.encodeByteArray(e,!0)},u0=function(t){return JI(t).replace(/\./g,"")},uS=function(t){try{return cS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=()=>ZI().__FIREBASE_DEFAULTS__,tD=()=>{if(typeof process>"u"||typeof ZE>"u")return;const t=ZE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uS(t[1]);return e&&JSON.parse(e)},X0=()=>{try{return KI()||eD()||tD()||nD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hS=t=>X0()?.emulatorHosts?.[t],ev=t=>{const e=hS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fS=()=>X0()?.config,dS=t=>X0()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Q0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[u0(JSON.stringify(n)),u0(JSON.stringify(l)),""].join(".")}const dh={};function iD(){const t={prod:[],emulator:[]};for(const e of Object.keys(dh))dh[e]?t.emulator.push(e):t.prod.push(e);return t}function aD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let eT=!1;function J0(t,e){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||dh[t]===e||dh[t]||eT)return;dh[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=iD().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,T){x.setAttribute("width","24"),x.setAttribute("id",T),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{eT=!0,l()},x}function g(x,T){x.setAttribute("id",T),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function y(){const x=aD(r),T=n("text"),S=document.getElementById(T)||document.createElement("span"),w=n("learnmore"),b=document.getElementById(w)||document.createElement("a"),O=n("preprendIcon"),F=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const j=x.element;h(j),g(b,w);const J=f();d(F,O),j.append(F,S,b,J),document.body.appendChild(j)}o?(S.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vr())}function oD(){const t=X0()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hD(){const t=vr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fD(){return!oD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dD(){try{return typeof indexedDB=="object"}catch{return!1}}function mD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="FirebaseError";class Sa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pD,Object.setPrototypeOf(this,Sa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xh.prototype.create)}}class Xh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],l=o?gD(o,r):"Error",h=`${this.serviceName}: ${l} (${a}).`;return new Sa(a,h,r)}}function gD(t,e){return t.replace(vD,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const vD=/\{\$([^}]+)}/g;function _D(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function il(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],l=e[a];if(tT(o)&&tT(l)){if(!il(o,l))return!1}else if(o!==l)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function tT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ah(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function sh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yD(t,e){const n=new xD(t,e);return n.subscribe.bind(n)}class xD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ED(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Dg),a.error===void 0&&(a.error=Dg),a.complete===void 0&&(a.complete=Dg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ED(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){return t&&t._delegate?t._delegate:t}class ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SD(e))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xo){return this.instances.has(e)}getOptions(e=Xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&l.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xo){return this.component?this.component.multipleInstances?e:Xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wD(t){return t===Xo?void 0:t}function SD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pt||(pt={}));const bD={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},RD=pt.INFO,CD={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},ND=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=CD[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tv{constructor(e){this.name=e,this._logLevel=RD,this._logHandler=ND,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const ID=(t,e)=>e.some(n=>t instanceof n);let nT,rT;function DD(){return nT||(nT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OD(){return rT||(rT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pS=new WeakMap,f1=new WeakMap,gS=new WeakMap,Og=new WeakMap,nv=new WeakMap;function kD(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Xs(t.result)),a()},l=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&pS.set(n,t)}).catch(()=>{}),nv.set(e,t),e}function PD(t){if(f1.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),a()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});f1.set(t,e)}let d1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return f1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MD(t){d1=t(d1)}function LD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kg(this),e,...n);return gS.set(r,e.sort?e.sort():[e]),Xs(r)}:OD().includes(t)?function(...e){return t.apply(kg(this),e),Xs(pS.get(this))}:function(...e){return Xs(t.apply(kg(this),e))}}function FD(t){return typeof t=="function"?LD(t):(t instanceof IDBTransaction&&PD(t),ID(t,DD())?new Proxy(t,d1):t)}function Xs(t){if(t instanceof IDBRequest)return kD(t);if(Og.has(t))return Og.get(t);const e=FD(t);return e!==t&&(Og.set(t,e),nv.set(e,t)),e}const kg=t=>nv.get(t);function jD(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const l=indexedDB.open(t,e),h=Xs(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Xs(l.result),d.oldVersion,d.newVersion,Xs(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const UD=["get","getKey","getAll","getAllKeys","count"],VD=["put","add","delete","clear"],Pg=new Map;function iT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pg.get(e))return Pg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=VD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||UD.includes(n)))return;const o=async function(l,...h){const d=this.transaction(l,a?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(h.shift())),(await Promise.all([f[n](...h),a&&d.done]))[0]};return Pg.set(e,o),o}MD(t=>({...t,get:(e,n,r)=>iT(e,n)||t.get(e,n,r),has:(e,n)=>!!iT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HD(t){return t.getComponent()?.type==="VERSION"}const m1="@firebase/app",aT="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new tv("@firebase/app"),zD="@firebase/app-compat",qD="@firebase/analytics-compat",GD="@firebase/analytics",$D="@firebase/app-check-compat",WD="@firebase/app-check",YD="@firebase/auth",KD="@firebase/auth-compat",XD="@firebase/database",QD="@firebase/data-connect",JD="@firebase/database-compat",ZD="@firebase/functions",e3="@firebase/functions-compat",t3="@firebase/installations",n3="@firebase/installations-compat",r3="@firebase/messaging",i3="@firebase/messaging-compat",a3="@firebase/performance",s3="@firebase/performance-compat",o3="@firebase/remote-config",l3="@firebase/remote-config-compat",c3="@firebase/storage",u3="@firebase/storage-compat",h3="@firebase/firestore",f3="@firebase/ai",d3="@firebase/firestore-compat",m3="firebase",p3="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="[DEFAULT]",g3={[m1]:"fire-core",[zD]:"fire-core-compat",[GD]:"fire-analytics",[qD]:"fire-analytics-compat",[WD]:"fire-app-check",[$D]:"fire-app-check-compat",[YD]:"fire-auth",[KD]:"fire-auth-compat",[XD]:"fire-rtdb",[QD]:"fire-data-connect",[JD]:"fire-rtdb-compat",[ZD]:"fire-fn",[e3]:"fire-fn-compat",[t3]:"fire-iid",[n3]:"fire-iid-compat",[r3]:"fire-fcm",[i3]:"fire-fcm-compat",[a3]:"fire-perf",[s3]:"fire-perf-compat",[o3]:"fire-rc",[l3]:"fire-rc-compat",[c3]:"fire-gcs",[u3]:"fire-gcs-compat",[h3]:"fire-fst",[d3]:"fire-fst-compat",[f3]:"fire-vertex","fire-js":"fire-js",[m3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,v3=new Map,g1=new Map;function sT(t,e){try{t.container.addComponent(e)}catch(n){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function eo(t){const e=t.name;if(g1.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;g1.set(e,t);for(const n of Nh.values())sT(n,t);for(const n of v3.values())sT(n,t);return!0}function Qh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new Xh("app","Firebase",_3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=p3;function vS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:p1,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Qs.create("bad-app-name",{appName:String(a)});if(n||(n=fS()),!n)throw Qs.create("no-options");const o=Nh.get(a);if(o){if(il(n,o.options)&&il(r,o.config))return o;throw Qs.create("duplicate-app",{appName:a})}const l=new AD(a);for(const d of g1.values())l.addComponent(d);const h=new y3(n,r,l);return Nh.set(a,h),h}function Z0(t=p1){const e=Nh.get(t);if(!e&&t===p1&&fS())return vS();if(!e)throw Qs.create("no-app",{appName:t});return e}function oT(){return Array.from(Nh.values())}function bi(t,e,n){let r=g3[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(l.join(" "));return}eo(new ns(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="firebase-heartbeat-database",E3=1,Ih="firebase-heartbeat-store";let Mg=null;function _S(){return Mg||(Mg=jD(x3,E3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ih)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qs.create("idb-open",{originalErrorMessage:t.message})})),Mg}async function T3(t){try{const n=(await _S()).transaction(Ih),r=await n.objectStore(Ih).get(yS(t));return await n.done,r}catch(e){if(e instanceof Sa)rs.warn(e.message);else{const n=Qs.create("idb-get",{originalErrorMessage:e?.message});rs.warn(n.message)}}}async function lT(t,e){try{const r=(await _S()).transaction(Ih,"readwrite");await r.objectStore(Ih).put(e,yS(t)),await r.done}catch(n){if(n instanceof Sa)rs.warn(n.message);else{const r=Qs.create("idb-set",{originalErrorMessage:n?.message});rs.warn(r.message)}}}function yS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=1024,S3=30;class A3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>S3){const a=C3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){rs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cT(),{heartbeatsToSend:n,unsentEntries:r}=b3(this._heartbeatsCache.heartbeats),a=u0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return rs.warn(e),""}}}function cT(){return new Date().toISOString().substring(0,10)}function b3(t,e=w3){const n=[];let r=t.slice();for(const a of t){const o=n.find(l=>l.agent===a.agent);if(o){if(o.dates.push(a.date),uT(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),uT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class R3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dD()?mD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await T3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function uT(t){return u0(JSON.stringify({version:2,heartbeats:t})).length}function C3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){eo(new ns("platform-logger",e=>new BD(e),"PRIVATE")),eo(new ns("heartbeat",e=>new A3(e),"PRIVATE")),bi(m1,aT,t),bi(m1,aT,"esm2020"),bi("fire-js","")}N3("");function xS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I3=xS,ES=new Xh("auth","Firebase",xS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new tv("@firebase/auth");function D3(t,...e){h0.logLevel<=pt.WARN&&h0.warn(`Auth (${dl}): ${t}`,...e)}function Zd(t,...e){h0.logLevel<=pt.ERROR&&h0.error(`Auth (${dl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,...e){throw iv(t,...e)}function Lr(t,...e){return iv(t,...e)}function rv(t,e,n){const r={...I3(),[e]:n};return new Xh("auth","Firebase",r).create(e,{appName:t.name})}function ma(t){return rv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O3(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ri(t,"argument-error"),rv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function iv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ES.create(t,...e)}function $e(t,e,...n){if(!t)throw iv(e,...n)}function Ya(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zd(e),new Error(e)}function is(t,e){t||Ya(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(){return typeof self<"u"&&self.location?.href||""}function TS(){return hT()==="http:"||hT()==="https:"}function hT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TS()||cD()||"connection"in navigator)?navigator.onLine:!0}function P3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.shortDelay=e,this.longDelay=n,is(n>e,"Short delay should be less than long delay!"),this.isMobile=sD()||uD()}get(){return k3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t,e){is(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F3=new Jh(3e4,6e4);function zr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ci(t,e,n,r,a={}){return SS(t,a,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const h=Uc({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...o};return lD()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&uo(t.emulatorConfig.host)&&(f.credentials="include"),wS.fetch()(await AS(t,t.config.apiHost,n,h),f)})}async function SS(t,e,n){t._canInitEmulator=!1;const r={...M3,...e};try{const a=new U3(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw oh(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const h=o.ok?l.errorMessage:l.error.message,[d,f]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw oh(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw oh(t,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw rv(t,g,f);Ri(t,g)}}catch(a){if(a instanceof Sa)throw a;Ri(t,"network-request-failed",{message:String(a)})}}async function ho(t,e,n,r,a={}){const o=await ci(t,e,n,r,a);return"mfaPendingCredential"in o&&Ri(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function AS(t,e,n,r){const a=`${e}${n}?${r}`,o=t,l=o.config.emulator?av(t.config,a):`${t.config.apiScheme}://${a}`;return L3.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function j3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),F3.get())})}}function oh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Lr(t,e,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t){return t!==void 0&&t.getResponse!==void 0}function dT(t){return t!==void 0&&t.enterprise!==void 0}class bS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(t){return(await ci(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function RS(t,e){return ci(t,"GET","/v2/recaptchaConfig",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B3(t,e){return ci(t,"POST","/v1/accounts:delete",e)}async function f0(t,e){return ci(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CS(t,e=!1){const n=Gt(t),r=await n.getIdToken(e),a=sv(r);$e(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,l=o?.sign_in_provider;return{claims:a,token:r,authTime:mh(Lg(a.auth_time)),issuedAtTime:mh(Lg(a.iat)),expirationTime:mh(Lg(a.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Lg(t){return Number(t)*1e3}function sv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zd("JWT malformed, contained fewer than 3 sections"),null;try{const a=uS(n);return a?JSON.parse(a):(Zd("Failed to decode base64 JWT payload"),null)}catch(a){return Zd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function mT(t){const e=sv(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Sa&&H3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function H3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mh(this.lastLoginAt),this.creationTime=mh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(t){const e=t.auth,n=await t.getIdToken(),r=await Rc(t,f0(e,{idToken:n}));$e(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?NS(a.providerUserInfo):[],l=G3(t.providerData,o),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!l?.length,f=h?d:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new _1(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function q3(t){const e=Gt(t);await d0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function G3(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function NS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(t,e){const n=await SS(t,{},async()=>{const r=Uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,l=await AS(t,a,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&uo(t.emulatorConfig.host)&&(d.credentials="include"),wS.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W3(t,e){return ci(t,"POST","/v2/accounts:revokeToken",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const n=mT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await $3(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,l=new gc;return r&&($e(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&($e(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),o&&($e(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gc,this.toJSON())}_performRefresh(){return Ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qi{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new z3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new _1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Rc(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CS(this,e)}reload(){return q3(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await d0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mr(this.auth.app))return Promise.reject(ma(this.auth));const e=await this.getIdToken();return await Rc(this,B3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:y,emailVerified:x,isAnonymous:T,providerData:S,stsTokenManager:w}=n;$e(y&&w,e,"internal-error");const b=gc.fromJSON(this.name,w);$e(typeof y=="string",e,"internal-error"),Hs(r,e.name),Hs(a,e.name),$e(typeof x=="boolean",e,"internal-error"),$e(typeof T=="boolean",e,"internal-error"),Hs(o,e.name),Hs(l,e.name),Hs(h,e.name),Hs(d,e.name),Hs(f,e.name),Hs(g,e.name);const O=new qi({uid:y,auth:e,email:a,emailVerified:x,displayName:r,isAnonymous:T,photoURL:l,phoneNumber:o,tenantId:h,stsTokenManager:b,createdAt:f,lastLoginAt:g});return S&&Array.isArray(S)&&(O.providerData=S.map(F=>({...F}))),d&&(O._redirectEventId=d),O}static async _fromIdTokenResponse(e,n,r=!1){const a=new gc;a.updateFromServerResponse(n);const o=new qi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await d0(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];$e(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?NS(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!o?.length,h=new gc;h.updateFromIdToken(r);const d=new qi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:l}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new _1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new Map;function Ka(t){is(t instanceof Function,"Expected a class definition");let e=pT.get(t);return e?(is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IS.type="NONE";const gT=IS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t,e,n){return`firebase:${t}:${e}:${n}`}class vc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=e0(this.userKey,a.apiKey,o),this.fullPersistenceKey=e0("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await f0(this.auth,{idToken:e}).catch(()=>{});return n?qi._fromGetAccountInfoResponse(this.auth,n,e):null}return qi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vc(Ka(gT),e,r);const a=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=a[0]||Ka(gT);const l=e0(r,e.config.apiKey,e.name);let h=null;for(const f of n)try{const g=await f._get(l);if(g){let y;if(typeof g=="string"){const x=await f0(e,{idToken:g}).catch(()=>{});if(!x)break;y=await qi._fromGetAccountInfoResponse(e,x,g)}else y=qi._fromJSON(e,g);f!==o&&(h=y),o=f;break}}catch{}const d=a.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new vc(o,e,r):(o=d[0],h&&await o._set(l,h.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new vc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LS(e))return"Blackberry";if(FS(e))return"Webos";if(OS(e))return"Safari";if((e.includes("chrome/")||kS(e))&&!e.includes("edge/"))return"Chrome";if(MS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function DS(t=vr()){return/firefox\//i.test(t)}function OS(t=vr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kS(t=vr()){return/crios\//i.test(t)}function PS(t=vr()){return/iemobile/i.test(t)}function MS(t=vr()){return/android/i.test(t)}function LS(t=vr()){return/blackberry/i.test(t)}function FS(t=vr()){return/webos/i.test(t)}function ov(t=vr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Y3(t=vr()){return ov(t)&&!!window.navigator?.standalone}function K3(){return hD()&&document.documentMode===10}function jS(t=vr()){return ov(t)||MS(t)||FS(t)||LS(t)||/windows phone/i.test(t)||PS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t,e=[]){let n;switch(t){case"Browser":n=vT(vr());break;case"Worker":n=`${vT(vr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,h)=>{try{const d=e(o);l(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(t,e={}){return ci(t,"GET","/v2/passwordPolicy",zr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=6;class Z3{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??J3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _T(this),this.idTokenSubscription=new _T(this),this.beforeStateQueue=new X3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ES,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ka(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await f0(this,{idToken:e}),r=await qi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===l)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await d0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mr(this.app))return Promise.reject(ma(this));const n=e?Gt(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mr(this.app)?Promise.reject(ma(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mr(this.app)?Promise.reject(ma(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ka(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Q3(this),n=new Z3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await W3(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ka(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await vc.create(this,[Ka(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(h,this,"internal-error"),h.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=US(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&D3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ji(t){return Gt(t)}class _T{constructor(e){this.auth=e,this.observer=null,this.addObserver=yD(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tO(t){Zh=t}function lv(t){return Zh.loadJS(t)}function nO(){return Zh.recaptchaV2Script}function rO(){return Zh.recaptchaEnterpriseScript}function iO(){return Zh.gapiScript}function VS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=500,sO=6e4,Md=1e12;class oO{constructor(e){this.auth=e,this.counter=Md,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new uO(e,this.auth.name,n||{})),this.counter++,r}reset(e){const n=e||Md;this._widgets.get(n)?.delete(),this._widgets.delete(n)}getResponse(e){const n=e||Md;return this._widgets.get(n)?.getResponse()||""}async execute(e){const n=e||Md;return this._widgets.get(n)?.execute(),""}}class lO{constructor(){this.enterprise=new cO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uO{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const a=typeof e=="string"?document.getElementById(e):e;$e(a,"argument-error",{appName:n}),this.container=a,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=hO(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},sO)},aO))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function hO(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const fO="recaptcha-enterprise",ph="NO_RECAPTCHA";class BS{constructor(e){this.type=fO,this.auth=Ji(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,h)=>{RS(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new bS(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{h(d)})})}function a(o,l,h){const d=window.grecaptcha;dT(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(ph)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lO().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(h=>{if(!n&&dT(window.grecaptcha))a(h,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=rO();d.length!==0&&(d+=h),lv(d).then(()=>{a(h,o,l)}).catch(f=>{l(f)})}}).catch(h=>{l(h)})})}}async function eh(t,e,n,r=!1,a=!1){const o=new BS(t);let l;if(a)l=ph;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function _c(t,e,n,r,a){if(a==="EMAIL_PASSWORD_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await eh(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await eh(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)});else if(a==="PHONE_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const o=await eh(t,e,n);return r(t,o).catch(async l=>{if(t._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await eh(t,e,n,!1,!0);return r(t,h)}return Promise.reject(l)})}else{const o=await eh(t,e,n,!1,!0);return r(t,o)}else return Promise.reject(a+" provider is not supported.")}async function dO(t){const e=Ji(t),n=await RS(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new bS(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new BS(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(t,e){const n=Qh(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(il(o,e??{}))return a;Ri(a,"already-initialized")}return n.initialize({options:e})}function pO(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ka);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function gO(t,e,n){const r=Ji(t);$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=HS(e),{host:l,port:h}=vO(e),d=h===null?"":`:${h}`,f={url:`${o}//${l}${d}/`},g=Object.freeze({host:l,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){$e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$e(il(f,r.config.emulator)&&il(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,uo(l)?(Q0(`${o}//${l}${d}`),J0("Auth",!0)):_O()}function HS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vO(t){const e=HS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:yT(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:yT(l)}}}function yT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _O(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ya("not implemented")}_getIdTokenResponse(e){return Ya("not implemented")}_linkToIdToken(e,n){return Ya("not implemented")}_getReauthenticationResolver(e){return Ya("not implemented")}}async function yO(t,e){return ci(t,"POST","/v1/accounts:update",e)}async function xO(t,e){return ci(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(t,e){return ho(t,"POST","/v1/accounts:signInWithPassword",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(t,e){return ho(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))}async function wO(t,e){return ho(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends em{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Dh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Dh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _c(e,n,"signInWithPassword",EO,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return TO(e,{email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _c(e,r,"signUpPassword",xO,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return wO(e,{idToken:n,email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(t,e){return ho(t,"POST","/v1/accounts:signInWithIdp",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="http://localhost";class al extends em{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const l=new al(r,a);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return yc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yc(e,n)}buildRequest(){const e={requestUri:SO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xT(t,e){return ci(t,"POST","/v1/accounts:sendVerificationCode",zr(t,e))}async function AO(t,e){return ho(t,"POST","/v1/accounts:signInWithPhoneNumber",zr(t,e))}async function bO(t,e){const n=await ho(t,"POST","/v1/accounts:signInWithPhoneNumber",zr(t,e));if(n.temporaryProof)throw oh(t,"account-exists-with-different-credential",n);return n}const RO={USER_NOT_FOUND:"user-not-found"};async function CO(t,e){const n={...e,operation:"REAUTH"};return ho(t,"POST","/v1/accounts:signInWithPhoneNumber",zr(t,n),RO)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends em{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new gh({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new gh({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return AO(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return bO(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return CO(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:a}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:a}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:a,temporaryProof:o}=e;return!r&&!n&&!a&&!o?null:new gh({verificationId:n,verificationCode:r,phoneNumber:a,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IO(t){const e=ah(sh(t)).link,n=e?ah(sh(e)).deep_link_id:null,r=ah(sh(t)).deep_link_id;return(r?ah(sh(r)).link:null)||r||n||e||t}class cv{constructor(e){const n=ah(sh(e)),r=n.apiKey??null,a=n.oobCode??null,o=NO(n.mode??null);$e(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=IO(e);try{return new cv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(e,n){return Dh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cv.parseLink(n);return $e(r,"argument-error"),Dh._fromEmailAndCode(e,r.code,r.tenantId)}}ml.PROVIDER_ID="password";ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends uv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends ef{constructor(){super("facebook.com")}static credential(e){return al._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends ef{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return al._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return da.credential(n,r)}catch{return null}}}da.GOOGLE_SIGN_IN_METHOD="google.com";da.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends ef{constructor(){super("github.com")}static credential(e){return al._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends ef{constructor(){super("twitter.com")}static credential(e,n){return al._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $s.credential(n,r)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(t,e){return ho(t,"POST","/v1/accounts:signUp",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await qi._fromIdTokenResponse(e,r,a),l=ET(r);return new sl({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=ET(r);return new sl({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function ET(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends Sa{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,m0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new m0(e,n,r,a)}}function zS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?m0._fromErrorAndOperation(t,o,e,r):o})}async function OO(t,e,n=!1){const r=await Rc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(t,e,n=!1){const{auth:r}=t;if(mr(r.app))return Promise.reject(ma(r));const a="reauthenticate";try{const o=await Rc(t,zS(r,a,e,t),n);$e(o.idToken,r,"internal-error");const l=sv(o.idToken);$e(l,r,"internal-error");const{sub:h}=l;return $e(t.uid===h,r,"user-mismatch"),sl._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ri(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(t,e,n=!1){if(mr(t.app))return Promise.reject(ma(t));const r="signIn",a=await zS(t,r,e),o=await sl._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function $S(t,e){return GS(Ji(t),e)}async function kO(t,e){return qS(Gt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(t){const e=Ji(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PO(t,e,n){if(mr(t.app))return Promise.reject(ma(t));const r=Ji(t),l=await _c(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DO,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&WS(t),d}),h=await sl._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(h.user),h}function MO(t,e,n){return mr(t.app)?Promise.reject(ma(t)):$S(Gt(t),ml.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&WS(t),r})}function LO(t,e){return FO(Gt(t),null,e)}async function FO(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(o.password=n);const l=await Rc(t,yO(r,o));await t._updateTokensIfNecessary(l,!0)}function jO(t,e,n,r){return Gt(t).onIdTokenChanged(e,n,r)}function UO(t,e,n){return Gt(t).beforeAuthStateChanged(e,n)}function tf(t,e,n,r){return Gt(t).onAuthStateChanged(e,n,r)}function VO(t){return Gt(t).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t,e){return ci(t,"POST","/v2/accounts/mfaEnrollment:start",zr(t,e))}const p0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(p0,"1"),this.storage.removeItem(p0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=1e3,HO=10;class KS extends YS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);K3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,HO):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KS.type="LOCAL";const zO=KS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS extends YS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XS.type="SESSION";const QS=XS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new tm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,l=this.handlersMap[a];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(l).map(async f=>f(n.origin,o)),d=await qO(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,l;return new Promise((h,d)=>{const f=hv("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(y){const x=y;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(x.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return window}function $O(t){bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}async function WO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YO(){return navigator?.serviceWorker?.controller||null}function KO(){return fv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firebaseLocalStorageDb",XO=1,g0="firebaseLocalStorage",ZS="fbase_key";class nf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nm(t,e){return t.transaction([g0],e?"readwrite":"readonly").objectStore(g0)}function QO(){const t=indexedDB.deleteDatabase(JS);return new nf(t).toPromise()}function y1(){const t=indexedDB.open(JS,XO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(g0,{keyPath:ZS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(g0)?e(r):(r.close(),await QO(),e(await y1()))})})}async function wT(t,e,n){const r=nm(t,!0).put({[ZS]:e,value:n});return new nf(r).toPromise()}async function JO(t,e){const n=nm(t,!1).get(e),r=await new nf(n).toPromise();return r===void 0?null:r.value}function ST(t,e){const n=nm(t,!0).delete(e);return new nf(n).toPromise()}const ZO=800,ek=3;class eA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await y1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ek)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tm._getInstance(KO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await WO(),!this.activeServiceWorker)return;this.sender=new GO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await y1();return await wT(e,p0,"1"),await ST(e,p0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>JO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ST(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=nm(a,!1).getAll();return new nf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eA.type="LOCAL";const tk=eA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){return ci(t,"POST","/v2/accounts/mfaSignIn:start",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=VS("rcb"),nk=new Jh(3e4,6e4);class rk{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!bn().grecaptcha?.render}load(e,n=""){return $e(ik(n),e,"argument-error"),this.shouldResolveImmediately(n)&&fT(bn().grecaptcha)?Promise.resolve(bn().grecaptcha):new Promise((r,a)=>{const o=bn().setTimeout(()=>{a(Lr(e,"network-request-failed"))},nk.get());bn()[Fg]=()=>{bn().clearTimeout(o),delete bn()[Fg];const h=bn().grecaptcha;if(!h||!fT(h)){a(Lr(e,"internal-error"));return}const d=h.render;h.render=(f,g)=>{const y=d(f,g);return this.counter++,y},this.hostLanguage=n,r(h)};const l=`${nO()}?${Uc({onload:Fg,render:"explicit",hl:n})}`;lv(l).catch(()=>{clearTimeout(o),a(Lr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!bn().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function ik(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class ak{async load(e){return new oO(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="recaptcha",sk={theme:"light",type:"image"};class x1{constructor(e,n,r={...sk}){this.parameters=r,this.type=vh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ji(e),this.isInvisible=this.parameters.size==="invisible",$e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const a=typeof n=="string"?document.getElementById(n):n;$e(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ak:new rk,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(a=>{const o=l=>{l&&(this.tokenChangeListeners.delete(o),a(l))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){$e(!this.parameters.sitekey,this.auth,"argument-error"),$e(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=bn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){$e(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){$e(TS()&&!fv(),this.auth,"internal-error"),await ok(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await V3(this.auth);$e(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return $e(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function ok(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=gh._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function tA(t,e,n){if(mr(t.app))return Promise.reject(ma(t));const r=Ji(t),a=await ck(r,e,Gt(n));return new lk(a,o=>$S(r,o))}async function ck(t,e,n){if(!t._getRecaptchaConfig())try{await dO(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const a=r.session;if("phoneNumber"in r){$e(a.type==="enroll",t,"internal-error");const o={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await _c(t,o,"mfaSmsEnrollment",async(f,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===ph){$e(n?.type===vh,f,"argument-error");const y=await jg(f,g,n);return TT(f,y)}return TT(f,g)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneSessionInfo.sessionInfo}else{$e(a.type==="signin",t,"internal-error");const o=r.multiFactorHint?.uid||r.multiFactorUid;$e(o,t,"missing-multi-factor-info");const l={mfaPendingCredential:a.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await _c(t,l,"mfaSmsSignIn",async(g,y)=>{if(y.phoneSignInInfo.captchaResponse===ph){$e(n?.type===vh,g,"argument-error");const x=await jg(g,y,n);return AT(g,x)}return AT(g,y)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await _c(t,a,"sendVerificationCode",async(d,f)=>{if(f.captchaResponse===ph){$e(n?.type===vh,d,"argument-error");const g=await jg(d,f,n);return xT(d,g)}return xT(d,f)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{n?._reset()}}async function jg(t,e,n){$e(n.type===vh,t,"argument-error");const r=await n.verify();$e(typeof r=="string",t,"argument-error");const a={...e};if("phoneEnrollmentInfo"in a){const o=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.captchaResponse,h=a.phoneEnrollmentInfo.clientType,d=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:l,clientType:h,recaptchaVersion:d}}),a}else if("phoneSignInInfo"in a){const o=a.phoneSignInInfo.captchaResponse,l=a.phoneSignInInfo.clientType,h=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:l,recaptchaVersion:h}}),a}else return Object.assign(a,{recaptchaToken:r}),a}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t,e){return e?Ka(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv extends em{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uk(t){return GS(t.auth,new dv(t),t.bypassAuthState)}function hk(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),qS(n,new dv(t),t.bypassAuthState)}async function fk(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),OO(n,new dv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:l,type:h}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uk;case"linkViaPopup":case"linkViaRedirect":return fk;case"reauthViaPopup":case"reauthViaRedirect":return hk;default:Ri(this.auth,"internal-error")}}resolve(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=new Jh(2e3,1e4);async function iA(t,e,n){if(mr(t.app))return Promise.reject(Lr(t,"operation-not-supported-in-this-environment"));const r=Ji(t);O3(t,e,uv);const a=nA(r,n);return new Jo(r,"signInViaPopup",e,a).executeNotNull()}class Jo extends rA{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const e=hv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dk.get())};e()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="pendingRedirect",t0=new Map;class pk extends rA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=t0.get(this.auth._key());if(!e){try{const r=await gk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}t0.set(this.auth._key(),e)}return this.bypassAuthState||t0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gk(t,e){const n=yk(e),r=_k(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function vk(t,e){t0.set(t._key(),e)}function _k(t){return Ka(t._redirectPersistence)}function yk(t){return e0(mk,t.config.apiKey,t.name)}async function xk(t,e,n=!1){if(mr(t.app))return Promise.reject(ma(t));const r=Ji(t),a=nA(r,e),l=await new pk(r,a,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=600*1e3;class Tk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!aA(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Lr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ek&&this.cachedEventUids.clear(),this.cachedEventUids.has(bT(e))}saveEventToCache(e){this.cachedEventUids.add(bT(e)),this.lastProcessedEventTime=Date.now()}}function bT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function wk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(t,e={}){return ci(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bk=/^https?/;async function Rk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Sk(t);for(const n of e)try{if(Ck(n))return}catch{}Ri(t,"unauthorized-domain")}function Ck(t){const e=v1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!bk.test(n))return!1;if(Ak.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new Jh(3e4,6e4);function RT(){const t=bn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ik(t){return new Promise((e,n)=>{function r(){RT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RT(),n(Lr(t,"network-request-failed"))},timeout:Nk.get()})}if(bn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bn().gapi?.load)r();else{const a=VS("iframefcb");return bn()[a]=()=>{gapi.load?r():n(Lr(t,"network-request-failed"))},lv(`${iO()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw n0=null,e})}let n0=null;function Dk(t){return n0=n0||Ik(t),n0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=new Jh(5e3,15e3),kk="__/auth/iframe",Pk="emulator/auth/iframe",Mk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fk(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?av(e,Pk):`https://${t.config.authDomain}/${kk}`,r={apiKey:e.apiKey,appName:t.name,v:dl},a=Lk.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Uc(r).slice(1)}`}async function jk(t){const e=await Dk(t),n=bn().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:Fk(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mk,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const l=Lr(t,"network-request-failed"),h=bn().setTimeout(()=>{o(l)},Ok.get());function d(){bn().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vk=500,Bk=600,Hk="_blank",zk="http://localhost";class CT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qk(t,e,n,r=Vk,a=Bk){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...Uk,width:r.toString(),height:a.toString(),top:o,left:l},f=vr().toLowerCase();n&&(h=kS(f)?Hk:n),DS(f)&&(e=e||zk,d.scrollbars="yes");const g=Object.entries(d).reduce((x,[T,S])=>`${x}${T}=${S},`,"");if(Y3(f)&&h!=="_self")return Gk(e||"",h),new CT(null);const y=window.open(e||"",h,g);$e(y,t,"popup-blocked");try{y.focus()}catch{}return new CT(y)}function Gk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="__/auth/handler",Wk="emulator/auth/handler",Yk=encodeURIComponent("fac");async function NT(t,e,n,r,a,o){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:dl,eventId:a};if(e instanceof uv){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",_D(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof ef){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),f=d?`#${Yk}=${encodeURIComponent(d)}`:"";return`${Kk(t)}?${Uc(h).slice(1)}${f}`}function Kk({config:t}){return t.emulator?av(t,Wk):`https://${t.authDomain}/${$k}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="webStorageSupport";class Xk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QS,this._completeRedirectFn=xk,this._overrideRedirectResult=vk}async _openPopup(e,n,r,a){is(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await NT(e,n,r,v1(),a);return qk(e,o,hv())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await NT(e,n,r,v1(),a);return $O(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(is(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jk(e),r=new Tk(e);return n.register("authEvent",a=>($e(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ug,{type:Ug},a=>{const o=a?.[0]?.[Ug];o!==void 0&&n(!!o),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Rk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jS()||OS()||ov()}}const Qk=Xk;var IT="@firebase/auth",DT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eP(t){eo(new ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;$e(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:US(t)},f=new eO(r,a,o,d);return pO(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),eo(new ns("auth-internal",e=>{const n=Ji(e.getProvider("auth").getImmediate());return(r=>new Jk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(IT,DT,Zk(t)),bi(IT,DT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=300,nP=dS("authIdTokenMaxAge")||tP;let OT=null;const rP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nP)return;const a=n?.token;OT!==a&&(OT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function iP(t=Z0()){const e=Qh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mO(t,{popupRedirectResolver:Qk,persistence:[tk,zO,QS]}),r=dS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=rP(o.toString());UO(n,l,()=>l(n.currentUser)),jO(n,h=>l(h))}}const a=hS("auth");return a&&gO(n,`http://${a}`),n}function aP(){return document.getElementsByTagName("head")?.[0]??document}tO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Lr("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",aP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eP("Browser");var sP="firebase",oP="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(sP,oP,"app");var kT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,sA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function C(){}C.prototype=I.prototype,N.F=I.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(P,L,z){for(var M=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)M[Ue-2]=arguments[Ue];return I.prototype[L].apply(P,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,I,C){C||(C=0);const P=Array(16);if(typeof I=="string")for(var L=0;L<16;++L)P[L]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(L=0;L<16;++L)P[L]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=N.g[0],C=N.g[1],L=N.g[2];let z=N.g[3],M;M=I+(z^C&(L^z))+P[0]+3614090360&4294967295,I=C+(M<<7&4294967295|M>>>25),M=z+(L^I&(C^L))+P[1]+3905402710&4294967295,z=I+(M<<12&4294967295|M>>>20),M=L+(C^z&(I^C))+P[2]+606105819&4294967295,L=z+(M<<17&4294967295|M>>>15),M=C+(I^L&(z^I))+P[3]+3250441966&4294967295,C=L+(M<<22&4294967295|M>>>10),M=I+(z^C&(L^z))+P[4]+4118548399&4294967295,I=C+(M<<7&4294967295|M>>>25),M=z+(L^I&(C^L))+P[5]+1200080426&4294967295,z=I+(M<<12&4294967295|M>>>20),M=L+(C^z&(I^C))+P[6]+2821735955&4294967295,L=z+(M<<17&4294967295|M>>>15),M=C+(I^L&(z^I))+P[7]+4249261313&4294967295,C=L+(M<<22&4294967295|M>>>10),M=I+(z^C&(L^z))+P[8]+1770035416&4294967295,I=C+(M<<7&4294967295|M>>>25),M=z+(L^I&(C^L))+P[9]+2336552879&4294967295,z=I+(M<<12&4294967295|M>>>20),M=L+(C^z&(I^C))+P[10]+4294925233&4294967295,L=z+(M<<17&4294967295|M>>>15),M=C+(I^L&(z^I))+P[11]+2304563134&4294967295,C=L+(M<<22&4294967295|M>>>10),M=I+(z^C&(L^z))+P[12]+1804603682&4294967295,I=C+(M<<7&4294967295|M>>>25),M=z+(L^I&(C^L))+P[13]+4254626195&4294967295,z=I+(M<<12&4294967295|M>>>20),M=L+(C^z&(I^C))+P[14]+2792965006&4294967295,L=z+(M<<17&4294967295|M>>>15),M=C+(I^L&(z^I))+P[15]+1236535329&4294967295,C=L+(M<<22&4294967295|M>>>10),M=I+(L^z&(C^L))+P[1]+4129170786&4294967295,I=C+(M<<5&4294967295|M>>>27),M=z+(C^L&(I^C))+P[6]+3225465664&4294967295,z=I+(M<<9&4294967295|M>>>23),M=L+(I^C&(z^I))+P[11]+643717713&4294967295,L=z+(M<<14&4294967295|M>>>18),M=C+(z^I&(L^z))+P[0]+3921069994&4294967295,C=L+(M<<20&4294967295|M>>>12),M=I+(L^z&(C^L))+P[5]+3593408605&4294967295,I=C+(M<<5&4294967295|M>>>27),M=z+(C^L&(I^C))+P[10]+38016083&4294967295,z=I+(M<<9&4294967295|M>>>23),M=L+(I^C&(z^I))+P[15]+3634488961&4294967295,L=z+(M<<14&4294967295|M>>>18),M=C+(z^I&(L^z))+P[4]+3889429448&4294967295,C=L+(M<<20&4294967295|M>>>12),M=I+(L^z&(C^L))+P[9]+568446438&4294967295,I=C+(M<<5&4294967295|M>>>27),M=z+(C^L&(I^C))+P[14]+3275163606&4294967295,z=I+(M<<9&4294967295|M>>>23),M=L+(I^C&(z^I))+P[3]+4107603335&4294967295,L=z+(M<<14&4294967295|M>>>18),M=C+(z^I&(L^z))+P[8]+1163531501&4294967295,C=L+(M<<20&4294967295|M>>>12),M=I+(L^z&(C^L))+P[13]+2850285829&4294967295,I=C+(M<<5&4294967295|M>>>27),M=z+(C^L&(I^C))+P[2]+4243563512&4294967295,z=I+(M<<9&4294967295|M>>>23),M=L+(I^C&(z^I))+P[7]+1735328473&4294967295,L=z+(M<<14&4294967295|M>>>18),M=C+(z^I&(L^z))+P[12]+2368359562&4294967295,C=L+(M<<20&4294967295|M>>>12),M=I+(C^L^z)+P[5]+4294588738&4294967295,I=C+(M<<4&4294967295|M>>>28),M=z+(I^C^L)+P[8]+2272392833&4294967295,z=I+(M<<11&4294967295|M>>>21),M=L+(z^I^C)+P[11]+1839030562&4294967295,L=z+(M<<16&4294967295|M>>>16),M=C+(L^z^I)+P[14]+4259657740&4294967295,C=L+(M<<23&4294967295|M>>>9),M=I+(C^L^z)+P[1]+2763975236&4294967295,I=C+(M<<4&4294967295|M>>>28),M=z+(I^C^L)+P[4]+1272893353&4294967295,z=I+(M<<11&4294967295|M>>>21),M=L+(z^I^C)+P[7]+4139469664&4294967295,L=z+(M<<16&4294967295|M>>>16),M=C+(L^z^I)+P[10]+3200236656&4294967295,C=L+(M<<23&4294967295|M>>>9),M=I+(C^L^z)+P[13]+681279174&4294967295,I=C+(M<<4&4294967295|M>>>28),M=z+(I^C^L)+P[0]+3936430074&4294967295,z=I+(M<<11&4294967295|M>>>21),M=L+(z^I^C)+P[3]+3572445317&4294967295,L=z+(M<<16&4294967295|M>>>16),M=C+(L^z^I)+P[6]+76029189&4294967295,C=L+(M<<23&4294967295|M>>>9),M=I+(C^L^z)+P[9]+3654602809&4294967295,I=C+(M<<4&4294967295|M>>>28),M=z+(I^C^L)+P[12]+3873151461&4294967295,z=I+(M<<11&4294967295|M>>>21),M=L+(z^I^C)+P[15]+530742520&4294967295,L=z+(M<<16&4294967295|M>>>16),M=C+(L^z^I)+P[2]+3299628645&4294967295,C=L+(M<<23&4294967295|M>>>9),M=I+(L^(C|~z))+P[0]+4096336452&4294967295,I=C+(M<<6&4294967295|M>>>26),M=z+(C^(I|~L))+P[7]+1126891415&4294967295,z=I+(M<<10&4294967295|M>>>22),M=L+(I^(z|~C))+P[14]+2878612391&4294967295,L=z+(M<<15&4294967295|M>>>17),M=C+(z^(L|~I))+P[5]+4237533241&4294967295,C=L+(M<<21&4294967295|M>>>11),M=I+(L^(C|~z))+P[12]+1700485571&4294967295,I=C+(M<<6&4294967295|M>>>26),M=z+(C^(I|~L))+P[3]+2399980690&4294967295,z=I+(M<<10&4294967295|M>>>22),M=L+(I^(z|~C))+P[10]+4293915773&4294967295,L=z+(M<<15&4294967295|M>>>17),M=C+(z^(L|~I))+P[1]+2240044497&4294967295,C=L+(M<<21&4294967295|M>>>11),M=I+(L^(C|~z))+P[8]+1873313359&4294967295,I=C+(M<<6&4294967295|M>>>26),M=z+(C^(I|~L))+P[15]+4264355552&4294967295,z=I+(M<<10&4294967295|M>>>22),M=L+(I^(z|~C))+P[6]+2734768916&4294967295,L=z+(M<<15&4294967295|M>>>17),M=C+(z^(L|~I))+P[13]+1309151649&4294967295,C=L+(M<<21&4294967295|M>>>11),M=I+(L^(C|~z))+P[4]+4149444226&4294967295,I=C+(M<<6&4294967295|M>>>26),M=z+(C^(I|~L))+P[11]+3174756917&4294967295,z=I+(M<<10&4294967295|M>>>22),M=L+(I^(z|~C))+P[2]+718787259&4294967295,L=z+(M<<15&4294967295|M>>>17),M=C+(z^(L|~I))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+z&4294967295}r.prototype.v=function(N,I){I===void 0&&(I=N.length);const C=I-this.blockSize,P=this.C;let L=this.h,z=0;for(;z<I;){if(L==0)for(;z<=C;)a(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<I;)if(P[L++]=N.charCodeAt(z++),L==this.blockSize){a(this,P),L=0;break}}else for(;z<I;)if(P[L++]=N[z++],L==this.blockSize){a(this,P),L=0;break}}this.h=L,this.o+=I},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;I=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=I&255,I/=256;for(this.v(N),N=Array(16),I=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)N[I++]=this.g[C]>>>P&255;return N};function o(N,I){var C=h;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=I(N)}function l(N,I){this.h=I;const C=[];let P=!0;for(let L=N.length-1;L>=0;L--){const z=N[L]|0;P&&z==I||(C[L]=z,P=!1)}this.g=C}var h={};function d(N){return-128<=N&&N<128?o(N,function(I){return new l([I|0],I<0?-1:0)}):new l([N|0],N<0?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return y;if(N<0)return b(f(-N));const I=[];let C=1;for(let P=0;N>=C;P++)I[P]=N/C|0,C*=4294967296;return new l(I,0)}function g(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return b(g(N.substring(1),I));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=f(Math.pow(I,8));let P=y;for(let z=0;z<N.length;z+=8){var L=Math.min(8,N.length-z);const M=parseInt(N.substring(z,z+L),I);L<8?(L=f(Math.pow(I,L)),P=P.j(L).add(f(M))):(P=P.j(C),P=P.add(f(M)))}return P}var y=d(0),x=d(1),T=d(16777216);t=l.prototype,t.m=function(){if(w(this))return-b(this).m();let N=0,I=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);N+=(P>=0?P:4294967296+P)*I,I*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S(this))return"0";if(w(this))return"-"+b(this).toString(N);const I=f(Math.pow(N,6));var C=this;let P="";for(;;){const L=J(C,I).g;C=O(C,L.j(I));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=L,S(C))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function S(N){if(N.h!=0)return!1;for(let I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function w(N){return N.h==-1}t.l=function(N){return N=O(this,N),w(N)?-1:S(N)?0:1};function b(N){const I=N.g.length,C=[];for(let P=0;P<I;P++)C[P]=~N.g[P];return new l(C,~N.h).add(x)}t.abs=function(){return w(this)?b(this):this},t.add=function(N){const I=Math.max(this.g.length,N.g.length),C=[];let P=0;for(let L=0;L<=I;L++){let z=P+(this.i(L)&65535)+(N.i(L)&65535),M=(z>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);P=M>>>16,z&=65535,M&=65535,C[L]=M<<16|z}return new l(C,C[C.length-1]&-2147483648?-1:0)};function O(N,I){return N.add(b(I))}t.j=function(N){if(S(this)||S(N))return y;if(w(this))return w(N)?b(this).j(b(N)):b(b(this).j(N));if(w(N))return b(this.j(b(N)));if(this.l(T)<0&&N.l(T)<0)return f(this.m()*N.m());const I=this.g.length+N.g.length,C=[];for(var P=0;P<2*I;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let L=0;L<N.g.length;L++){const z=this.i(P)>>>16,M=this.i(P)&65535,Ue=N.i(L)>>>16,ke=N.i(L)&65535;C[2*P+2*L]+=M*ke,F(C,2*P+2*L),C[2*P+2*L+1]+=z*ke,F(C,2*P+2*L+1),C[2*P+2*L+1]+=M*Ue,F(C,2*P+2*L+1),C[2*P+2*L+2]+=z*Ue,F(C,2*P+2*L+2)}for(N=0;N<I;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=I;N<2*I;N++)C[N]=0;return new l(C,0)};function F(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function j(N,I){this.g=N,this.h=I}function J(N,I){if(S(I))throw Error("division by zero");if(S(N))return new j(y,y);if(w(N))return I=J(b(N),I),new j(b(I.g),b(I.h));if(w(I))return I=J(N,b(I)),new j(b(I.g),I.h);if(N.g.length>30){if(w(N)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var C=x,P=I;P.l(N)<=0;)C=X(C),P=X(P);var L=W(C,1),z=W(P,1);for(P=W(P,2),C=W(C,2);!S(P);){var M=z.add(P);M.l(N)<=0&&(L=L.add(C),z=M),P=W(P,1),C=W(C,1)}return I=O(N,L.j(I)),new j(L,I)}for(L=y;N.l(I)>=0;){for(C=Math.max(1,Math.floor(N.m()/I.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=f(C),M=z.j(I);w(M)||M.l(N)>0;)C-=P,z=f(C),M=z.j(I);S(z)&&(z=x),L=L.add(z),N=O(N,M)}return new j(L,N)}t.B=function(N){return J(this,N).h},t.and=function(N){const I=Math.max(this.g.length,N.g.length),C=[];for(let P=0;P<I;P++)C[P]=this.i(P)&N.i(P);return new l(C,this.h&N.h)},t.or=function(N){const I=Math.max(this.g.length,N.g.length),C=[];for(let P=0;P<I;P++)C[P]=this.i(P)|N.i(P);return new l(C,this.h|N.h)},t.xor=function(N){const I=Math.max(this.g.length,N.g.length),C=[];for(let P=0;P<I;P++)C[P]=this.i(P)^N.i(P);return new l(C,this.h^N.h)};function X(N){const I=N.g.length+1,C=[];for(let P=0;P<I;P++)C[P]=N.i(P)<<1|N.i(P-1)>>>31;return new l(C,N.h)}function W(N,I){const C=I>>5;I%=32;const P=N.g.length-C,L=[];for(let z=0;z<P;z++)L[z]=I>0?N.i(z+C)>>>I|N.i(z+C+1)<<32-I:N.i(z+C);return new l(L,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,sA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,Js=l}).apply(typeof kT<"u"?kT:typeof self<"u"?self:typeof window<"u"?window:{});var Ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oA,lh,lA,r0,E1,cA,uA,hA;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ld=="object"&&Ld];for(var E=0;E<p.length;++E){var A=p[E];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function a(p,E){if(E)e:{var A=r;p=p.split(".");for(var U=0;U<p.length-1;U++){var le=p[U];if(!(le in A))break e;A=A[le]}p=p[p.length-1],U=A[p],E=E(U),E!=U&&E!=null&&e(A,p,{configurable:!0,writable:!0,value:E})}}a("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(p){return p||function(E){var A=[],U;for(U in E)Object.prototype.hasOwnProperty.call(E,U)&&A.push([U,E[U]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function h(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function d(p,E,A){return p.call.apply(p.bind,arguments)}function f(p,E,A){return f=d,f.apply(null,arguments)}function g(p,E){var A=Array.prototype.slice.call(arguments,1);return function(){var U=A.slice();return U.push.apply(U,arguments),p.apply(this,U)}}function y(p,E){function A(){}A.prototype=E.prototype,p.Z=E.prototype,p.prototype=new A,p.prototype.constructor=p,p.Ob=function(U,le,ve){for(var je=Array(arguments.length-2),it=2;it<arguments.length;it++)je[it-2]=arguments[it];return E.prototype[le].apply(U,je)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function T(p){const E=p.length;if(E>0){const A=Array(E);for(let U=0;U<E;U++)A[U]=p[U];return A}return[]}function S(p,E){for(let U=1;U<arguments.length;U++){const le=arguments[U];var A=typeof le;if(A=A!="object"?A:le?Array.isArray(le)?"array":A:"null",A=="array"||A=="object"&&typeof le.length=="number"){A=p.length||0;const ve=le.length||0;p.length=A+ve;for(let je=0;je<ve;je++)p[A+je]=le[je]}else p.push(le)}}class w{constructor(E,A){this.i=E,this.j=A,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function b(p){l.setTimeout(()=>{throw p},0)}function O(){var p=N;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class F{constructor(){this.h=this.g=null}add(E,A){const U=j.get();U.set(E,A),this.h?this.h.next=U:this.g=U,this.h=U}}var j=new w(()=>new J,p=>p.reset());class J{constructor(){this.next=this.g=this.h=null}set(E,A){this.h=E,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let X,W=!1,N=new F,I=()=>{const p=Promise.resolve(void 0);X=()=>{p.then(C)}};function C(){for(var p;p=O();){try{p.h.call(p.g)}catch(A){b(A)}var E=j;E.j(p),E.h<100&&(E.h++,p.next=E.g,E.g=p)}W=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const A=()=>{};l.addEventListener("test",A,E),l.removeEventListener("test",A,E)}catch{}return p})();function M(p){return/^[\s\xa0]*$/.test(p)}function Ue(p,E){L.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,E)}y(Ue,L),Ue.prototype.init=function(p,E){const A=this.type=p.type,U=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget,E||(A=="mouseover"?E=p.fromElement:A=="mouseout"&&(E=p.toElement)),this.relatedTarget=E,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&Ue.Z.h.call(this)},Ue.prototype.h=function(){Ue.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ke="closure_listenable_"+(Math.random()*1e6|0),ce=0;function Re(p,E,A,U,le){this.listener=p,this.proxy=null,this.src=E,this.type=A,this.capture=!!U,this.ha=le,this.key=++ce,this.da=this.fa=!1}function He(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ye(p,E,A){for(const U in p)E.call(A,p[U],U,p)}function te(p,E){for(const A in p)E.call(void 0,p[A],A,p)}function fe(p){const E={};for(const A in p)E[A]=p[A];return E}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(p,E){let A,U;for(let le=1;le<arguments.length;le++){U=arguments[le];for(A in U)p[A]=U[A];for(let ve=0;ve<B.length;ve++)A=B[ve],Object.prototype.hasOwnProperty.call(U,A)&&(p[A]=U[A])}}function Y(p){this.src=p,this.g={},this.h=0}Y.prototype.add=function(p,E,A,U,le){const ve=p.toString();p=this.g[ve],p||(p=this.g[ve]=[],this.h++);const je=re(p,E,U,le);return je>-1?(E=p[je],A||(E.fa=!1)):(E=new Re(E,this.src,ve,!!U,le),E.fa=A,p.push(E)),E};function Q(p,E){const A=E.type;if(A in p.g){var U=p.g[A],le=Array.prototype.indexOf.call(U,E,void 0),ve;(ve=le>=0)&&Array.prototype.splice.call(U,le,1),ve&&(He(E),p.g[A].length==0&&(delete p.g[A],p.h--))}}function re(p,E,A,U){for(let le=0;le<p.length;++le){const ve=p[le];if(!ve.da&&ve.listener==E&&ve.capture==!!A&&ve.ha==U)return le}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Ie={};function Le(p,E,A,U,le){if(Array.isArray(E)){for(let ve=0;ve<E.length;ve++)Le(p,E[ve],A,U,le);return null}return A=$n(A),p&&p[ke]?p.J(E,A,h(U)?!!U.capture:!1,le):De(p,E,A,!1,U,le)}function De(p,E,A,U,le,ve){if(!E)throw Error("Invalid event type");const je=h(le)?!!le.capture:!!le;let it=jt(p);if(it||(p[Pe]=it=new Y(p)),A=it.add(E,A,U,je,ve),A.proxy)return A;if(U=_t(),A.proxy=U,U.src=p,U.listener=A,p.addEventListener)z||(le=je),le===void 0&&(le=!1),p.addEventListener(E.toString(),U,le);else if(p.attachEvent)p.attachEvent(ft(E.toString()),U);else if(p.addListener&&p.removeListener)p.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return A}function _t(){function p(A){return E.call(p.src,p.listener,A)}const E=qr;return p}function ot(p,E,A,U,le){if(Array.isArray(E))for(var ve=0;ve<E.length;ve++)ot(p,E[ve],A,U,le);else U=h(U)?!!U.capture:!!U,A=$n(A),p&&p[ke]?(p=p.i,ve=String(E).toString(),ve in p.g&&(E=p.g[ve],A=re(E,A,U,le),A>-1&&(He(E[A]),Array.prototype.splice.call(E,A,1),E.length==0&&(delete p.g[ve],p.h--)))):p&&(p=jt(p))&&(E=p.g[E.toString()],p=-1,E&&(p=re(E,A,U,le)),(A=p>-1?E[p]:null)&&nn(A))}function nn(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[ke])Q(E.i,p);else{var A=p.type,U=p.proxy;E.removeEventListener?E.removeEventListener(A,U,p.capture):E.detachEvent?E.detachEvent(ft(A),U):E.addListener&&E.removeListener&&E.removeListener(U),(A=jt(E))?(Q(A,p),A.h==0&&(A.src=null,E[Pe]=null)):He(p)}}}function ft(p){return p in Ie?Ie[p]:Ie[p]="on"+p}function qr(p,E){if(p.da)p=!0;else{E=new Ue(E,this);const A=p.listener,U=p.ha||p.src;p.fa&&nn(p),p=A.call(U,E)}return p}function jt(p){return p=p[Pe],p instanceof Y?p:null}var Ve="__closure_events_fn_"+(Math.random()*1e9>>>0);function $n(p){return typeof p=="function"?p:(p[Ve]||(p[Ve]=function(E){return p.handleEvent(E)}),p[Ve])}function Nt(){P.call(this),this.i=new Y(this),this.M=this,this.G=null}y(Nt,P),Nt.prototype[ke]=!0,Nt.prototype.removeEventListener=function(p,E,A,U){ot(this,p,E,A,U)};function $t(p,E){var A,U=p.G;if(U)for(A=[];U;U=U.G)A.push(U);if(p=p.M,U=E.type||E,typeof E=="string")E=new L(E,p);else if(E instanceof L)E.target=E.target||p;else{var le=E;E=new L(U,p),ee(E,le)}le=!0;let ve,je;if(A)for(je=A.length-1;je>=0;je--)ve=E.g=A[je],le=or(ve,U,!0,E)&&le;if(ve=E.g=p,le=or(ve,U,!0,E)&&le,le=or(ve,U,!1,E)&&le,A)for(je=0;je<A.length;je++)ve=E.g=A[je],le=or(ve,U,!1,E)&&le}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var p=this.i;for(const E in p.g){const A=p.g[E];for(let U=0;U<A.length;U++)He(A[U]);delete p.g[E],p.h--}}this.G=null},Nt.prototype.J=function(p,E,A,U){return this.i.add(String(p),E,!1,A,U)},Nt.prototype.K=function(p,E,A,U){return this.i.add(String(p),E,!0,A,U)};function or(p,E,A,U){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();let le=!0;for(let ve=0;ve<E.length;++ve){const je=E[ve];if(je&&!je.da&&je.capture==A){const it=je.listener,Qt=je.ha||je.src;je.fa&&Q(p.i,je),le=it.call(Qt,U)!==!1&&le}}return le&&!U.defaultPrevented}function Tl(p,E){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:l.setTimeout(p,E||0)}function ba(p){p.g=Tl(()=>{p.g=null,p.i&&(p.i=!1,ba(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class Rr extends P{constructor(E,A){super(),this.m=E,this.l=A,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:ba(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ui(p){P.call(this),this.h=p,this.g={}}y(ui,P);var hi=[];function xn(p){Ye(p.g,function(E,A){this.g.hasOwnProperty(A)&&nn(E)},p),p.g={}}ui.prototype.N=function(){ui.Z.N.call(this),xn(this)},ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=l.JSON.stringify,Wn=l.JSON.parse,wl=class{stringify(p){return l.JSON.stringify(p,void 0)}parse(p){return l.JSON.parse(p,void 0)}};function go(){}function vo(){}var Gr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ni(){L.call(this,"d")}y(Ni,L);function Cr(){L.call(this,"c")}y(Cr,L);var Nr={},Zi=null;function Ra(){return Zi=Zi||new Nt}Nr.Ia="serverreachability";function fs(p){L.call(this,Nr.Ia,p)}y(fs,L);function Ii(p){const E=Ra();$t(E,new fs(E))}Nr.STAT_EVENT="statevent";function ds(p,E){L.call(this,Nr.STAT_EVENT,p),this.stat=E}y(ds,L);function rn(p){const E=Ra();$t(E,new ds(E,p))}Nr.Ja="timingevent";function Ca(p,E){L.call(this,Nr.Ja,p),this.size=E}y(Ca,L);function ea(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){p()},E)}function ta(){this.g=!0}ta.prototype.ua=function(){this.g=!1};function _o(p,E,A,U,le,ve){p.info(function(){if(p.g)if(ve){var je="",it=ve.split("&");for(let Dt=0;Dt<it.length;Dt++){var Qt=it[Dt].split("=");if(Qt.length>1){const gn=Qt[0];Qt=Qt[1];const Yr=gn.split("_");je=Yr.length>=2&&Yr[1]=="type"?je+(gn+"="+Qt+"&"):je+(gn+"=redacted&")}}}else je=null;else je=ve;return"XMLHTTP REQ ("+U+") [attempt "+le+"]: "+E+`
`+A+`
`+je})}function yo(p,E,A,U,le,ve,je){p.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+le+"]: "+E+`
`+A+`
`+ve+" "+je})}function Di(p,E,A,U){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+fi(p,A)+(U?" "+U:"")})}function Xc(p,E){p.info(function(){return"TIMEOUT: "+E})}ta.prototype.info=function(){};function fi(p,E){if(!p.g)return E;if(!E)return null;try{const ve=JSON.parse(E);if(ve){for(p=0;p<ve.length;p++)if(Array.isArray(ve[p])){var A=ve[p];if(!(A.length<2)){var U=A[1];if(Array.isArray(U)&&!(U.length<1)){var le=U[0];if(le!="noop"&&le!="stop"&&le!="close")for(let je=1;je<U.length;je++)U[je]=""}}}}return En(ve)}catch{return E}}var an={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oi;function Na(){}y(Na,go),Na.prototype.g=function(){return new XMLHttpRequest},Oi=new Na;function Ia(p){return encodeURIComponent(String(p))}function D(p){var E=1;p=p.split(":");const A=[];for(;E>0&&p.length;)A.push(p.shift()),E--;return p.length&&A.push(p.join(":")),A}function q(p,E,A,U){this.j=p,this.i=E,this.l=A,this.S=U||1,this.V=new ui(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new V}function V(){this.i=null,this.g="",this.h=!1}var H={},G={};function K(p,E,A){p.M=1,p.A=Da(sn(E)),p.u=A,p.R=!0,ue(p,null)}function ue(p,E){p.F=Date.now(),me(p),p.B=sn(p.A);var A=p.B,U=p.S;Array.isArray(U)||(U=[String(U)]),Tf(A.i,"t",U),p.C=0,A=p.j.L,p.h=new V,p.g=Nl(p.j,A?E:null,!p.u),p.P>0&&(p.O=new Rr(f(p.Y,p,p.g),p.P)),E=p.V,A=p.g,U=p.ba;var le="readystatechange";Array.isArray(le)||(le&&(hi[0]=le.toString()),le=hi);for(let ve=0;ve<le.length;ve++){const je=Le(A,le[ve],U||E.handleEvent,!1,E.h||E);if(!je)break;E.g[je.key]=je}E=p.J?fe(p.J):{},p.u?(p.v||(p.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,E)):(p.v="GET",p.g.ea(p.B,p.v,null,E)),Ii(),_o(p.i,p.v,p.B,p.l,p.S,p.u)}q.prototype.ba=function(p){p=p.target;const E=this.O;E&&lr(p)==3?E.j():this.Y(p)},q.prototype.Y=function(p){try{if(p==this.g)e:{const it=lr(this.g),Qt=this.g.ya(),Dt=this.g.ca();if(!(it<3)&&(it!=3||this.g&&(this.h.h||this.g.la()||bo(this.g)))){this.K||it!=4||Qt==7||(Qt==8||Dt<=0?Ii(3):Ii(2)),Oe(this);var E=this.g.ca();this.X=E;var A=_e(this);if(this.o=E==200,yo(this.i,this.v,this.B,this.l,this.S,it,E),this.o){if(this.U&&!this.L){t:{if(this.g){var U,le=this.g;if((U=le.g?le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(U)){var ve=U;break t}}ve=null}if(p=ve)Di(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Be(this,p);else{this.o=!1,this.m=3,rn(12),Ne(this),ze(this);break e}}if(this.R){p=!0;let gn;for(;!this.K&&this.C<A.length;)if(gn=de(this,A),gn==G){it==4&&(this.m=4,rn(14),p=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==H){this.m=4,rn(15),Di(this.i,this.l,A,"[Invalid Chunk]"),p=!1;break}else Di(this.i,this.l,gn,null),Be(this,gn);if(ae(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||A.length!=0||this.h.h||(this.m=1,rn(16),p=!1),this.o=this.o&&p,!p)Di(this.i,this.l,A,"[Invalid Chunked Response]"),Ne(this),ze(this);else if(A.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),su(je),je.P=!0,rn(11))}}else Di(this.i,this.l,A,null),Be(this,A);it==4&&Ne(this),this.o&&!this.K&&(it==4?ou(this.j,this):(this.o=!1,me(this)))}else Ro(this.g),E==400&&A.indexOf("Unknown SID")>0?(this.m=3,rn(12)):(this.m=0,rn(13)),Ne(this),ze(this)}}}catch{}finally{}};function _e(p){if(!ae(p))return p.g.la();const E=bo(p.g);if(E==="")return"";let A="";const U=E.length,le=lr(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Ne(p),ze(p),"";p.h.i=new l.TextDecoder}for(let ve=0;ve<U;ve++)p.h.h=!0,A+=p.h.i.decode(E[ve],{stream:!(le&&ve==U-1)});return E.length=0,p.h.g+=A,p.C=0,p.h.g}function ae(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function de(p,E){var A=p.C,U=E.indexOf(`
`,A);return U==-1?G:(A=Number(E.substring(A,U)),isNaN(A)?H:(U+=1,U+A>E.length?G:(E=E.slice(U,U+A),p.C=U+A,E)))}q.prototype.cancel=function(){this.K=!0,Ne(this)};function me(p){p.T=Date.now()+p.H,Ce(p,p.H)}function Ce(p,E){if(p.D!=null)throw Error("WatchDog timer not null");p.D=ea(f(p.aa,p),E)}function Oe(p){p.D&&(l.clearTimeout(p.D),p.D=null)}q.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Xc(this.i,this.B),this.M!=2&&(Ii(),rn(17)),Ne(this),this.m=2,ze(this)):Ce(this,this.T-p)};function ze(p){p.j.I==0||p.K||ou(p.j,p)}function Ne(p){Oe(p);var E=p.O;E&&typeof E.dispose=="function"&&E.dispose(),p.O=null,xn(p.V),p.g&&(E=p.g,p.g=null,E.abort(),E.dispose())}function Be(p,E){try{var A=p.j;if(A.I!=0&&(A.g==p||$r(A.h,p))){if(!p.L&&$r(A.h,p)&&A.I==3){try{var U=A.Ba.g.parse(E)}catch{U=null}if(Array.isArray(U)&&U.length==3){var le=U;if(le[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<p.F)Cl(A),ra(A);else break e;au(A),rn(18)}}else A.xa=le[1],0<A.xa-A.K&&le[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=ea(f(A.Va,A),6e3));It(A.h)<=1&&A.ta&&(A.ta=void 0)}else Pa(A,11)}else if((p.L||A.g==p)&&Cl(A),!M(E))for(le=A.Ba.g.parse(E),E=0;E<le.length;E++){let Dt=le[E];const gn=Dt[0];if(!(gn<=A.K))if(A.K=gn,Dt=Dt[1],A.I==2)if(Dt[0]=="c"){A.M=Dt[1],A.ba=Dt[2];const Yr=Dt[3];Yr!=null&&(A.ka=Yr,A.j.info("VER="+A.ka));const ia=Dt[4];ia!=null&&(A.za=ia,A.j.info("SVER="+A.za));const Mi=Dt[5];Mi!=null&&typeof Mi=="number"&&Mi>0&&(U=1.5*Mi,A.O=U,A.j.info("backChannelRequestTimeoutMs_="+U)),U=A;const Li=p.g;if(Li){const Fi=Li.g?Li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var ve=U.h;ve.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(ve.j=ve.l,ve.g=new Set,ve.h&&(di(ve,ve.h),ve.h=null))}if(U.G){const cu=Li.g?Li.g.getResponseHeader("X-HTTP-Session-Id"):null;cu&&(U.wa=cu,Ut(U.J,U.G,cu))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-p.F,A.j.info("Handshake RTT: "+A.T+"ms")),U=A;var je=p;if(U.na=Df(U,U.L?U.ba:null,U.W),je.L){_r(U.h,je);var it=je,Qt=U.O;Qt&&(it.H=Qt),it.D&&(Oe(it),me(it)),U.g=je}else Rf(U);A.i.length>0&&Do(A)}else Dt[0]!="stop"&&Dt[0]!="close"||Pa(A,7);else A.I==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?Pa(A,7):No(A):Dt[0]!="noop"&&A.l&&A.l.qa(Dt),A.A=0)}}Ii(4)}catch{}}var nt=class{constructor(p,E){this.g=p,this.map=E}};function St(p){this.l=p||10,l.PerformanceNavigationTiming?(p=l.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function At(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function It(p){return p.h?1:p.g?p.g.size:0}function $r(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function di(p,E){p.g?p.g.add(E):p.h=E}function _r(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}St.prototype.cancel=function(){if(this.i=Ir(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Ir(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const A of p.g.values())E=E.concat(A.G);return E}return T(p.i)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(p,E){if(p){p=p.split("&");for(let A=0;A<p.length;A++){const U=p[A].indexOf("=");let le,ve=null;U>=0?(le=p[A].substring(0,U),ve=p[A].substring(U+1)):le=p[A],E(le,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}function ki(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;p instanceof ki?(this.l=p.l,ms(this,p.j),this.o=p.o,this.g=p.g,xo(this,p.u),this.h=p.h,ps(this,wf(p.i)),this.m=p.m):p&&(E=String(p).match(na))?(this.l=!1,ms(this,E[1]||"",!0),this.o=Eo(E[2]||""),this.g=Eo(E[3]||"",!0),xo(this,E[4]),this.h=Eo(E[5]||"",!0),ps(this,E[6]||"",!0),this.m=Eo(E[7]||"")):(this.l=!1,this.i=new mi(null,this.l))}ki.prototype.toString=function(){const p=[];var E=this.j;E&&p.push(jn(E,Jc,!0),":");var A=this.g;return(A||E=="file")&&(p.push("//"),(E=this.o)&&p.push(jn(E,Jc,!0),"@"),p.push(Ia(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&p.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&p.push("/"),p.push(jn(A,A.charAt(0)=="/"?gs:Zc,!0))),(A=this.i.toString())&&p.push("?",A),(A=this.m)&&p.push("#",jn(A,Ef)),p.join("")},ki.prototype.resolve=function(p){const E=sn(this);let A=!!p.j;A?ms(E,p.j):A=!!p.o,A?E.o=p.o:A=!!p.g,A?E.g=p.g:A=p.u!=null;var U=p.h;if(A)xo(E,p.u);else if(A=!!p.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var le=E.h.lastIndexOf("/");le!=-1&&(U=E.h.slice(0,le+1)+U)}if(le=U,le==".."||le==".")U="";else if(le.indexOf("./")!=-1||le.indexOf("/.")!=-1){U=le.lastIndexOf("/",0)==0,le=le.split("/");const ve=[];for(let je=0;je<le.length;){const it=le[je++];it=="."?U&&je==le.length&&ve.push(""):it==".."?((ve.length>1||ve.length==1&&ve[0]!="")&&ve.pop(),U&&je==le.length&&ve.push("")):(ve.push(it),U=!0)}U=ve.join("/")}else U=le}return A?E.h=U:A=p.i.toString()!=="",A?ps(E,wf(p.i)):A=!!p.m,A&&(E.m=p.m),E};function sn(p){return new ki(p)}function ms(p,E,A){p.j=A?Eo(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function xo(p,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);p.u=E}else p.u=null}function ps(p,E,A){E instanceof mi?(p.i=E,nu(p.i,p.l)):(A||(E=jn(E,xf)),p.i=new mi(E,p.l))}function Ut(p,E,A){p.i.set(E,A)}function Da(p){return Ut(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Eo(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function jn(p,E,A){return typeof p=="string"?(p=encodeURI(p).replace(E,Qc),A&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Qc(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Jc=/[#\/\?@]/g,Zc=/[#\?:]/g,gs=/[#\?]/g,xf=/[#\?@]/g,Ef=/#/g;function mi(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Oa(p){p.g||(p.g=new Map,p.h=0,p.i&&Wr(p.i,function(E,A){p.add(decodeURIComponent(E.replace(/\+/g," ")),A)}))}t=mi.prototype,t.add=function(p,E){Oa(this),this.i=null,p=Pi(this,p);let A=this.g.get(p);return A||this.g.set(p,A=[]),A.push(E),this.h+=1,this};function eu(p,E){Oa(p),E=Pi(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function tu(p,E){return Oa(p),E=Pi(p,E),p.g.has(E)}t.forEach=function(p,E){Oa(this),this.g.forEach(function(A,U){A.forEach(function(le){p.call(E,le,U,this)},this)},this)};function Sl(p,E){Oa(p);let A=[];if(typeof E=="string")tu(p,E)&&(A=A.concat(p.g.get(Pi(p,E))));else for(p=Array.from(p.g.values()),E=0;E<p.length;E++)A=A.concat(p[E]);return A}t.set=function(p,E){return Oa(this),this.i=null,p=Pi(this,p),tu(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},t.get=function(p,E){return p?(p=Sl(this,p),p.length>0?String(p[0]):E):E};function Tf(p,E,A){eu(p,E),A.length>0&&(p.i=null,p.g.set(Pi(p,E),T(A)),p.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(let U=0;U<E.length;U++){var A=E[U];const le=Ia(A);A=Sl(this,A);for(let ve=0;ve<A.length;ve++){let je=le;A[ve]!==""&&(je+="="+Ia(A[ve])),p.push(je)}}return this.i=p.join("&")};function wf(p){const E=new mi;return E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),E}function Pi(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function nu(p,E){E&&!p.j&&(Oa(p),p.i=null,p.g.forEach(function(A,U){const le=U.toLowerCase();U!=le&&(eu(this,U),Tf(this,le,A))},p)),p.j=E}function ru(p,E){const A=new ta;if(l.Image){const U=new Image;U.onload=g(yr,A,"TestLoadImage: loaded",!0,E,U),U.onerror=g(yr,A,"TestLoadImage: error",!1,E,U),U.onabort=g(yr,A,"TestLoadImage: abort",!1,E,U),U.ontimeout=g(yr,A,"TestLoadImage: timeout",!1,E,U),l.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=p}else E(!1)}function vs(p,E){const A=new ta,U=new AbortController,le=setTimeout(()=>{U.abort(),yr(A,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:U.signal}).then(ve=>{clearTimeout(le),ve.ok?yr(A,"TestPingServer: ok",!0,E):yr(A,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(le),yr(A,"TestPingServer: error",!1,E)})}function yr(p,E,A,U,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),U(A)}catch{}}function Sf(){this.g=new wl}function To(p){this.i=p.Sb||null,this.h=p.ab||!1}y(To,go),To.prototype.g=function(){return new wo(this.i,this.h)};function wo(p,E){Nt.call(this),this.H=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(wo,Nt),t=wo.prototype,t.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=E,this.readyState=1,ka(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(E.body=p),(this.H||l).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xr(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ka(this)),this.g&&(this.readyState=3,ka(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_s(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function _s(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?xr(this):ka(this),this.readyState==3&&_s(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,xr(this))},t.Na=function(p){this.g&&(this.response=p,xr(this))},t.ga=function(){this.g&&xr(this)};function xr(p){p.readyState=4,p.l=null,p.j=null,p.B=null,ka(p)}t.setRequestHeader=function(p,E){this.A.append(p,E)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var A=E.next();!A.done;)A=A.value,p.push(A[0]+": "+A[1]),A=E.next();return p.join(`\r
`)};function ka(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ys(p){let E="";return Ye(p,function(A,U){E+=U,E+=":",E+=A,E+=`\r
`}),E}function pi(p,E,A){e:{for(U in A){var U=!1;break e}U=!0}U||(A=ys(A),typeof p=="string"?A!=null&&Ia(A):Ut(p,E,A))}function Wt(p){Nt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(Wt,Nt);var Al=/^https?$/i,Af=["POST","PUT"];t=Wt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,E,A,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oi.g(),this.g.onreadystatechange=x(f(this.Ca,this));try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(ve){So(this,ve);return}if(p=A||"",A=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var le in U)A.set(le,U[le]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ve of U.keys())A.set(ve,U.get(ve));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(A.keys()).find(ve=>ve.toLowerCase()=="content-type"),le=l.FormData&&p instanceof l.FormData,!(Array.prototype.indexOf.call(Af,E,void 0)>=0)||U||le||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ve,je]of A)this.g.setRequestHeader(ve,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ve){So(this,ve)}};function So(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.o=5,Ao(p),Dn(p)}function Ao(p){p.A||(p.A=!0,$t(p,"complete"),$t(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,$t(this,"complete"),$t(this,"abort"),Dn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dn(this,!0)),Wt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?iu(this):this.Xa())},t.Xa=function(){iu(this)};function iu(p){if(p.h&&typeof o<"u"){if(p.v&&lr(p)==4)setTimeout(p.Ca.bind(p),0);else if($t(p,"readystatechange"),lr(p)==4){p.h=!1;try{const ve=p.ca();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var A;if(!(A=E)){var U;if(U=ve===0){let je=String(p.D).match(na)[1]||null;!je&&l.self&&l.self.location&&(je=l.self.location.protocol.slice(0,-1)),U=!Al.test(je?je.toLowerCase():"")}A=U}if(A)$t(p,"complete"),$t(p,"success");else{p.o=6;try{var le=lr(p)>2?p.g.statusText:""}catch{le=""}p.l=le+" ["+p.ca()+"]",Ao(p)}}finally{Dn(p)}}}}function Dn(p,E){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const A=p.g;p.g=null,E||$t(p,"ready");try{A.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function lr(p){return p.g?p.g.readyState:0}t.ca=function(){try{return lr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Wn(E)}};function bo(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Ro(p){const E={};p=(p.g&&lr(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<p.length;U++){if(M(p[U]))continue;var A=D(p[U]);const le=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ve=E[le]||[];E[le]=ve,ve.push(A)}te(E,function(U){return U.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Co(p,E,A){return A&&A.internalChannelParams&&A.internalChannelParams[p]||E}function bl(p){this.za=0,this.i=[],this.j=new ta,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Co("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Co("baseRetryDelayMs",5e3,p),this.Za=Co("retryDelaySeedMs",1e4,p),this.Ta=Co("forwardChannelMaxRetries",2,p),this.va=Co("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new St(p&&p.concurrentRequestLimit),this.Ba=new Sf,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=bl.prototype,t.ka=8,t.I=1,t.connect=function(p,E,A,U){rn(0),this.W=p,this.H=E||{},A&&U!==void 0&&(this.H.OSID=A,this.H.OAID=U),this.F=this.X,this.J=Df(this,null,this.W),Do(this)};function No(p){if(Io(p),p.I==3){var E=p.V++,A=sn(p.J);if(Ut(A,"SID",p.M),Ut(A,"RID",E),Ut(A,"TYPE","terminate"),Oo(p,A),E=new q(p,p.j,E),E.M=2,E.A=Da(sn(A)),A=!1,l.navigator&&l.navigator.sendBeacon)try{A=l.navigator.sendBeacon(E.A.toString(),"")}catch{}!A&&l.Image&&(new Image().src=E.A,A=!0),A||(E.g=Nl(E.j,null),E.g.ea(E.A)),E.F=Date.now(),me(E)}If(p)}function ra(p){p.g&&(su(p),p.g.cancel(),p.g=null)}function Io(p){ra(p),p.v&&(l.clearTimeout(p.v),p.v=null),Cl(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&l.clearTimeout(p.m),p.m=null)}function Do(p){if(!At(p.h)&&!p.m){p.m=!0;var E=p.Ea;X||I(),W||(X(),W=!0),N.add(E,p),p.D=0}}function Om(p,E){return It(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=E.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=ea(f(p.Ea,p,E),Nf(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const le=new q(this,this.j,p);let ve=this.o;if(this.U&&(ve?(ve=fe(ve),ee(ve,this.U)):ve=this.U),this.u!==null||this.R||(le.J=ve,ve=null),this.S)e:{for(var E=0,A=0;A<this.i.length;A++){t:{var U=this.i[A];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(E+=U,E>4096){E=A;break e}if(E===4096||A===this.i.length-1){E=A+1;break e}}E=1e3}else E=1e3;E=Rl(this,le,E),A=sn(this.J),Ut(A,"RID",p),Ut(A,"CVER",22),this.G&&Ut(A,"X-HTTP-Session-Id",this.G),Oo(this,A),ve&&(this.R?E="headers="+Ia(ys(ve))+"&"+E:this.u&&pi(A,this.u,ve)),di(this.h,le),this.Ra&&Ut(A,"TYPE","init"),this.S?(Ut(A,"$req",E),Ut(A,"SID","null"),le.U=!0,K(le,A,null)):K(le,A,E),this.I=2}}else this.I==3&&(p?bf(this,p):this.i.length==0||At(this.h)||bf(this))};function bf(p,E){var A;E?A=E.l:A=p.V++;const U=sn(p.J);Ut(U,"SID",p.M),Ut(U,"RID",A),Ut(U,"AID",p.K),Oo(p,U),p.u&&p.o&&pi(U,p.u,p.o),A=new q(p,p.j,A,p.D+1),p.u===null&&(A.J=p.o),E&&(p.i=E.G.concat(p.i)),E=Rl(p,A,1e3),A.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),di(p.h,A),K(A,U,E)}function Oo(p,E){p.H&&Ye(p.H,function(A,U){Ut(E,U,A)}),p.l&&Ye({},function(A,U){Ut(E,U,A)})}function Rl(p,E,A){A=Math.min(p.i.length,A);const U=p.l?f(p.l.Ka,p.l,p):null;e:{var le=p.i;let it=-1;for(;;){const Qt=["count="+A];it==-1?A>0?(it=le[0].g,Qt.push("ofs="+it)):it=0:Qt.push("ofs="+it);let Dt=!0;for(let gn=0;gn<A;gn++){var ve=le[gn].g;const Yr=le[gn].map;if(ve-=it,ve<0)it=Math.max(0,le[gn].g-100),Dt=!1;else try{ve="req"+ve+"_"||"";try{var je=Yr instanceof Map?Yr:Object.entries(Yr);for(const[ia,Mi]of je){let Li=Mi;h(Mi)&&(Li=En(Mi)),Qt.push(ve+ia+"="+encodeURIComponent(Li))}}catch(ia){throw Qt.push(ve+"type="+encodeURIComponent("_badmap")),ia}}catch{U&&U(Yr)}}if(Dt){je=Qt.join("&");break e}}je=void 0}return p=p.i.splice(0,A),E.G=p,je}function Rf(p){if(!p.g&&!p.v){p.Y=1;var E=p.Da;X||I(),W||(X(),W=!0),N.add(E,p),p.A=0}}function au(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=ea(f(p.Da,p),Nf(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Cf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=ea(f(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rn(10),ra(this),Cf(this))};function su(p){p.B!=null&&(l.clearTimeout(p.B),p.B=null)}function Cf(p){p.g=new q(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var E=sn(p.na);Ut(E,"RID","rpc"),Ut(E,"SID",p.M),Ut(E,"AID",p.K),Ut(E,"CI",p.F?"0":"1"),!p.F&&p.ia&&Ut(E,"TO",p.ia),Ut(E,"TYPE","xmlhttp"),Oo(p,E),p.u&&p.o&&pi(E,p.u,p.o),p.O&&(p.g.H=p.O);var A=p.g;p=p.ba,A.M=1,A.A=Da(sn(E)),A.u=null,A.R=!0,ue(A,p)}t.Va=function(){this.C!=null&&(this.C=null,ra(this),au(this),rn(19))};function Cl(p){p.C!=null&&(l.clearTimeout(p.C),p.C=null)}function ou(p,E){var A=null;if(p.g==E){Cl(p),su(p),p.g=null;var U=2}else if($r(p.h,E))A=E.G,_r(p.h,E),U=1;else return;if(p.I!=0){if(E.o)if(U==1){A=E.u?E.u.length:0,E=Date.now()-E.F;var le=p.D;U=Ra(),$t(U,new Ca(U,A)),Do(p)}else Rf(p);else if(le=E.m,le==3||le==0&&E.X>0||!(U==1&&Om(p,E)||U==2&&au(p)))switch(A&&A.length>0&&(E=p.h,E.i=E.i.concat(A)),le){case 1:Pa(p,5);break;case 4:Pa(p,10);break;case 3:Pa(p,6);break;default:Pa(p,2)}}}function Nf(p,E){let A=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(A*=2),A*E}function Pa(p,E){if(p.j.info("Error code "+E),E==2){var A=f(p.bb,p),U=p.Ua;const le=!U;U=new ki(U||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ms(U,"https"),Da(U),le?ru(U.toString(),A):vs(U.toString(),A)}else rn(2);p.I=0,p.l&&p.l.pa(E),If(p),Io(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function If(p){if(p.I=0,p.ja=[],p.l){const E=Ir(p.h);(E.length!=0||p.i.length!=0)&&(S(p.ja,E),S(p.ja,p.i),p.h.i.length=0,T(p.i),p.i.length=0),p.l.oa()}}function Df(p,E,A){var U=A instanceof ki?sn(A):new ki(A);if(U.g!="")E&&(U.g=E+"."+U.g),xo(U,U.u);else{var le=l.location;U=le.protocol,E=E?E+"."+le.hostname:le.hostname,le=+le.port;const ve=new ki(null);U&&ms(ve,U),E&&(ve.g=E),le&&xo(ve,le),A&&(ve.h=A),U=ve}return A=p.G,E=p.wa,A&&E&&Ut(U,A,E),Ut(U,"VER",p.ka),Oo(p,U),U}function Nl(p,E,A){if(E&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Aa&&!p.ma?new Wt(new To({ab:A})):new Wt(p.ma),E.Fa(p.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Of(){}t=Of.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Il(){}Il.prototype.g=function(p,E){return new Er(p,E)};function Er(p,E){Nt.call(this),this.g=new bl(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(p?p["X-WebChannel-Client-Profile"]=E.sa:p={"X-WebChannel-Client-Profile":E.sa}),this.g.U=p,(p=E&&E.Qb)&&!M(p)&&(this.g.u=p),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!M(E)&&(this.g.G=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new xs(this)}y(Er,Nt),Er.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Er.prototype.close=function(){No(this.g)},Er.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var A={};A.__data__=p,p=A}else this.v&&(A={},A.__data__=En(p),p=A);E.i.push(new nt(E.Ya++,p)),E.I==3&&Do(E)},Er.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,Er.Z.N.call(this)};function lu(p){Ni.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const A in E){p=A;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}y(lu,Ni);function kf(){Cr.call(this),this.status=1}y(kf,Cr);function xs(p){this.g=p}y(xs,Of),xs.prototype.ra=function(){$t(this.g,"a")},xs.prototype.qa=function(p){$t(this.g,new lu(p))},xs.prototype.pa=function(p){$t(this.g,new kf)},xs.prototype.oa=function(){$t(this.g,"b")},Il.prototype.createWebChannel=Il.prototype.g,Er.prototype.send=Er.prototype.o,Er.prototype.open=Er.prototype.m,Er.prototype.close=Er.prototype.close,hA=function(){return new Il},uA=function(){return Ra()},cA=Nr,E1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},an.NO_ERROR=0,an.TIMEOUT=8,an.HTTP_ERROR=6,r0=an,pn.COMPLETE="complete",lA=pn,vo.EventType=Gr,Gr.OPEN="a",Gr.CLOSE="b",Gr.ERROR="c",Gr.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,lh=vo,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,oA=Wt}).apply(typeof Ld<"u"?Ld:typeof self<"u"?self:typeof window<"u"?window:{});const PT="@firebase/firestore",MT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=new tv("@firebase/firestore");function cc(){return ol.logLevel}function Ge(t,...e){if(ol.logLevel<=pt.DEBUG){const n=e.map(mv);ol.debug(`Firestore (${Vc}): ${t}`,...n)}}function as(t,...e){if(ol.logLevel<=pt.ERROR){const n=e.map(mv);ol.error(`Firestore (${Vc}): ${t}`,...n)}}function Cc(t,...e){if(ol.logLevel<=pt.WARN){const n=e.map(mv);ol.warn(`Firestore (${Vc}): ${t}`,...n)}}function mv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fA(t,r,n)}function fA(t,e,n){let r=`FIRESTORE (${Vc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw as(r),new Error(r)}function Ct(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||fA(e,a,r)}function at(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends Sa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fr.UNAUTHENTICATED)))}shutdown(){}}class cP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class uP{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ct(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new Qa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qa,e.enqueueRetryable((()=>a(this.currentUser)))};const l=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qa)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string",31837,{l:r}),new dA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new fr(e)}}class hP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new hP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(fr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class LT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ct(this.o===void 0,3512);const r=o=>{o.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new LT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new LT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=mP(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function gt(t,e){return t<e?-1:t>e?1:0}function T1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return Vg(a)===Vg(o)?gt(a,o):Vg(a)?1:-1}return gt(t.length,e.length)}const pP=55296,gP=57343;function Vg(t){const e=t.charCodeAt(0);return e>=pP&&e<=gP}function Nc(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="__name__";class fa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=fa.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return gt(e.length,n.length)}static compareSegments(e,n){const r=fa.isNumericId(e),a=fa.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?fa.extractNumericId(e).compare(fa.extractNumericId(n)):T1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class Xt extends fa{construct(e,n,r){return new Xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new qe(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Xt(n)}static emptyPath(){return new Xt([])}}const vP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class er extends fa{construct(e,n,r){return new er(e,n,r)}static isValidIdentifier(e){return vP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),er.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FT}static keyField(){return new er([FT])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new qe(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new qe(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new qe(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(l=!l,a++):h!=="."||l?(r+=h,a++):(o(),a++)}if(o(),l)throw new qe(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new er(n)}static emptyPath(){return new er([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(Xt.fromString(e))}static fromName(e){return new Xe(Xt.fromString(e).popFirst(5))}static empty(){return new Xe(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new Xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t,e,n){if(!n)throw new qe(Te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _P(t,e,n,r){if(e===!0&&r===!0)throw new qe(Te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jT(t){if(!Xe.isDocumentKey(t))throw new qe(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UT(t){if(Xe.isDocumentKey(t))throw new qe(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ze(12329,{type:typeof t})}function Fr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new qe(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rm(t);throw new qe(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function rf(t,e){if(!pA(t))throw new qe(Te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(a&&typeof l!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new qe(Te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=-62135596800,BT=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*BT);return new ut(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VT)throw new qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BT}_compareTo(e){return this.seconds===e.seconds?gt(this.nanoseconds,e.nanoseconds):gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rf(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Cn("string",ut._jsonSchemaVersion),seconds:Cn("number"),nanoseconds:Cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{static fromTimestamp(e){return new rt(e)}static min(){return new rt(new ut(0,0))}static max(){return new rt(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=-1;function yP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=rt.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new to(a,Xe.empty(),e)}function xP(t){return new to(t.readTime,t.key,Oh)}class to{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new to(rt.min(),Xe.empty(),Oh)}static max(){return new to(rt.max(),Xe.empty(),Oh)}}function EP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Xe.comparator(t.documentKey,e.documentKey),n!==0?n:gt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t){if(t.code!==Te.FAILED_PRECONDITION||t.message!==TP)throw t;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ae(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ae?n:Ae.resolve(n)}catch(n){return Ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.reject(n)}static resolve(e){return new Ae(((n,r)=>{n(e)}))}static reject(e){return new Ae(((n,r)=>{r(e)}))}static waitFor(e){return new Ae(((n,r)=>{let a=0,o=0,l=!1;e.forEach((h=>{++a,h.next((()=>{++o,l&&o===a&&n()}),(d=>r(d)))})),l=!0,o===a&&n()}))}static or(e){let n=Ae.resolve(!1);for(const r of e)n=n.next((a=>a?Ae.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new Ae(((r,a)=>{const o=e.length,l=new Array(o);let h=0;for(let d=0;d<o;d++){const f=d;n(e[f]).next((g=>{l[f]=g,++h,h===o&&r(l)}),(g=>a(g)))}}))}static doWhile(e,n){return new Ae(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}function SP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}im.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=-1;function am(t){return t==null}function v0(t){return t===0&&1/t==-1/0}function AP(t){return typeof t=="number"&&Number.isInteger(t)&&!v0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="";function bP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=HT(e)),e=RP(t.get(n),e);return HT(e)}function RP(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case gA:n+="";break;default:n+=o}}return n}function HT(t){return t+gA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new ln(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new ln(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fd(this.root,e,this.comparator,!0)}}class Fd{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=a??Zn.EMPTY,this.right=o??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new Zn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Zn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ze(27949);return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze(57766)}get value(){throw Ze(16141)}get color(){throw Ze(16727)}get left(){throw Ze(29726)}get right(){throw Ze(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.comparator=e,this.data=new ln(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qT(this.data.getIterator())}getIteratorFrom(e){return new qT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Fn(this.comparator);return n.data=e,n}}class qT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.fields=e,e.sort(er.comparator)}static empty(){return new oi([])}unionWith(e){let n=new Fn(er.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new oi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Nc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _A("Invalid base64 string: "+o):o}})(e);return new ar(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let l=0;l<a.length;++l)o+=String.fromCharCode(a[l]);return o})(e);return new ar(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const CP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(t){if(Ct(!!t,39018),typeof t=="string"){let e=0;const n=CP.exec(t);if(Ct(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yn(t.seconds),nanos:yn(t.nanos)}}function yn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ro(t){return typeof t=="string"?ar.fromBase64String(t):ar.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="server_timestamp",xA="__type__",EA="__previous_value__",TA="__local_write_time__";function vv(t){return(t?.mapValue?.fields||{})[xA]?.stringValue===yA}function sm(t){const e=t.mapValue.fields[EA];return vv(e)?sm(e):e}function kh(t){const e=no(t.mapValue.fields[TA].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n,r,a,o,l,h,d,f,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=g}}const _0="(default)";class Ph{constructor(e,n){this.projectId=e,this.database=n||_0}static empty(){return new Ph("","")}get isDefaultDatabase(){return this.database===_0}isEqual(e){return e instanceof Ph&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="__type__",IP="__max__",jd={mapValue:{}},SA="__vector__",y0="value";function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vv(t)?4:OP(t)?9007199254740991:DP(t)?10:11:Ze(28295,{value:t})}function xa(t,e){if(t===e)return!0;const n=io(t);if(n!==io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kh(t).isEqual(kh(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const l=no(a.timestampValue),h=no(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return ro(a.bytesValue).isEqual(ro(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return yn(a.geoPointValue.latitude)===yn(o.geoPointValue.latitude)&&yn(a.geoPointValue.longitude)===yn(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return yn(a.integerValue)===yn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const l=yn(a.doubleValue),h=yn(o.doubleValue);return l===h?v0(l)===v0(h):isNaN(l)&&isNaN(h)}return!1})(t,e);case 9:return Nc(t.arrayValue.values||[],e.arrayValue.values||[],xa);case 10:case 11:return(function(a,o){const l=a.mapValue.fields||{},h=o.mapValue.fields||{};if(zT(l)!==zT(h))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(h[d]===void 0||!xa(l[d],h[d])))return!1;return!0})(t,e);default:return Ze(52216,{left:t})}}function Mh(t,e){return(t.values||[]).find((n=>xa(n,e)))!==void 0}function Ic(t,e){if(t===e)return 0;const n=io(t),r=io(e);if(n!==r)return gt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gt(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const h=yn(o.integerValue||o.doubleValue),d=yn(l.integerValue||l.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return GT(t.timestampValue,e.timestampValue);case 4:return GT(kh(t),kh(e));case 5:return T1(t.stringValue,e.stringValue);case 6:return(function(o,l){const h=ro(o),d=ro(l);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const h=o.split("/"),d=l.split("/");for(let f=0;f<h.length&&f<d.length;f++){const g=gt(h[f],d[f]);if(g!==0)return g}return gt(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const h=gt(yn(o.latitude),yn(l.latitude));return h!==0?h:gt(yn(o.longitude),yn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return $T(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const h=o.fields||{},d=l.fields||{},f=h[y0]?.arrayValue,g=d[y0]?.arrayValue,y=gt(f?.values?.length||0,g?.values?.length||0);return y!==0?y:$T(f,g)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===jd.mapValue&&l===jd.mapValue)return 0;if(o===jd.mapValue)return 1;if(l===jd.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),f=l.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const x=T1(d[y],g[y]);if(x!==0)return x;const T=Ic(h[d[y]],f[g[y]]);if(T!==0)return T}return gt(d.length,g.length)})(t.mapValue,e.mapValue);default:throw Ze(23264,{he:n})}}function GT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return gt(t,e);const n=no(t),r=no(e),a=gt(n.seconds,r.seconds);return a!==0?a:gt(n.nanos,r.nanos)}function $T(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=Ic(n[a],r[a]);if(o)return o}return gt(n.length,r.length)}function Dc(t){return w1(t)}function w1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=no(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ro(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=w1(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const l of r)o?o=!1:a+=",",a+=`${l}:${w1(n.fields[l])}`;return a+"}"})(t.mapValue):Ze(61005,{value:t})}function i0(t){switch(io(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sm(t);return e?16+i0(e):16;case 5:return 2*t.stringValue.length;case 6:return ro(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+i0(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return fo(r.fields,((o,l)=>{a+=o.length+i0(l)})),a})(t.mapValue);default:throw Ze(13486,{value:t})}}function WT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function S1(t){return!!t&&"integerValue"in t}function _v(t){return!!t&&"arrayValue"in t}function YT(t){return!!t&&"nullValue"in t}function KT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function a0(t){return!!t&&"mapValue"in t}function DP(t){return(t?.mapValue?.fields||{})[wA]?.stringValue===SA}function _h(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=_h(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_h(t.arrayValue.values[n]);return e}return{...t}}function OP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===IP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.value=e}static empty(){return new Mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!a0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_h(n)}setAll(e){let n=er.emptyPath(),r={},a=[];e.forEach(((l,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}l?r[h.lastSegment()]=_h(l):a.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());a0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];a0(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){fo(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new Mr(_h(this.value))}}function AA(t){const e=[];return fo(t.fields,((n,r)=>{const a=new er([n]);if(a0(r)){const o=AA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const l of o)e.push(a.child(l))}else e.push(a)})),new oi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r,a,o,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new dr(e,0,rt.min(),rt.min(),rt.min(),Mr.empty(),0)}static newFoundDocument(e,n,r,a){return new dr(e,1,n,rt.min(),r,a,0)}static newNoDocument(e,n){return new dr(e,2,n,rt.min(),rt.min(),Mr.empty(),0)}static newUnknownDocument(e,n){return new dr(e,3,n,rt.min(),rt.min(),Mr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n){this.position=e,this.inclusive=n}}function XT(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],l=t.position[a];if(o.field.isKeyField()?r=Xe.comparator(Xe.fromName(l.referenceValue),n.key):r=Ic(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function QT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function kP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{}class Rn extends bA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MP(e,n,r):n==="array-contains"?new jP(e,r):n==="in"?new UP(e,r):n==="not-in"?new VP(e,r):n==="array-contains-any"?new BP(e,r):new Rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LP(e,r):new FP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ic(n,this.value)):n!==null&&io(this.value)===io(n)&&this.matchesComparison(Ic(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends bA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ki(e,n)}matches(e){return RA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RA(t){return t.op==="and"}function CA(t){return PP(t)&&RA(t)}function PP(t){for(const e of t.filters)if(e instanceof Ki)return!1;return!0}function A1(t){if(t instanceof Rn)return t.field.canonicalString()+t.op.toString()+Dc(t.value);if(CA(t))return t.filters.map((e=>A1(e))).join(",");{const e=t.filters.map((n=>A1(n))).join(",");return`${t.op}(${e})`}}function NA(t,e){return t instanceof Rn?(function(r,a){return a instanceof Rn&&r.op===a.op&&r.field.isEqual(a.field)&&xa(r.value,a.value)})(t,e):t instanceof Ki?(function(r,a){return a instanceof Ki&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,l,h)=>o&&NA(l,a.filters[h])),!0):!1})(t,e):void Ze(19439)}function IA(t){return t instanceof Rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Dc(n.value)}`})(t):t instanceof Ki?(function(n){return n.op.toString()+" {"+n.getFilters().map(IA).join(" ,")+"}"})(t):"Filter"}class MP extends Rn{constructor(e,n,r){super(e,n,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const n=Xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class LP extends Rn{constructor(e,n){super(e,"in",n),this.keys=DA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class FP extends Rn{constructor(e,n){super(e,"not-in",n),this.keys=DA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function DA(t,e){return(e.arrayValue?.values||[]).map((n=>Xe.fromName(n.referenceValue)))}class jP extends Rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _v(n)&&Mh(n.arrayValue,this.value)}}class UP extends Rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mh(this.value.arrayValue,n)}}class VP extends Rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mh(this.value.arrayValue,n)}}class BP extends Rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_v(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Mh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n=null,r=[],a=[],o=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=l,this.endAt=h,this.Te=null}}function JT(t,e=null,n=[],r=[],a=null,o=null,l=null){return new HP(t,e,n,r,a,o,l)}function yv(t){const e=at(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>A1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),am(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Dc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Dc(r))).join(",")),e.Te=n}return e.Te}function xv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QT(t.startAt,e.startAt)&&QT(t.endAt,e.endAt)}function b1(t){return Xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n=null,r=[],a=[],o=null,l="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=l,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zP(t,e,n,r,a,o,l,h){return new zc(t,e,n,r,a,o,l,h)}function om(t){return new zc(t)}function ZT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OA(t){return t.collectionGroup!==null}function yh(t){const e=at(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new Fn(er.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Lh(o,r))})),n.has(er.keyField().canonicalString())||e.Ie.push(new Lh(er.keyField(),r))}return e.Ie}function pa(t){const e=at(t);return e.Ee||(e.Ee=qP(e,yh(t))),e.Ee}function qP(t,e){if(t.limitType==="F")return JT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Lh(a.field,o)}));const n=t.endAt?new x0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new x0(t.startAt.position,t.startAt.inclusive):null;return JT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function R1(t,e){const n=t.filters.concat([e]);return new zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function E0(t,e,n){return new zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lm(t,e){return xv(pa(t),pa(e))&&t.limitType===e.limitType}function kA(t){return`${yv(pa(t))}|lt:${t.limitType}`}function uc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>IA(a))).join(", ")}]`),am(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Dc(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Dc(a))).join(",")),`Target(${r})`})(pa(t))}; limitType=${t.limitType})`}function cm(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Xe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of yh(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(l,h,d){const f=XT(l,h,d);return l.inclusive?f<=0:f<0})(r.startAt,yh(r),a)||r.endAt&&!(function(l,h,d){const f=XT(l,h,d);return l.inclusive?f>=0:f>0})(r.endAt,yh(r),a))})(t,e)}function GP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PA(t){return(e,n)=>{let r=!1;for(const a of yh(t)){const o=$P(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function $P(t,e,n){const r=t.field.isKeyField()?Xe.comparator(e.key,n.key):(function(o,l,h){const d=l.data.field(o),f=h.data.field(o);return d!==null&&f!==null?Ic(d,f):Ze(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return vA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=new ln(Xe.comparator);function ss(){return WP}const MA=new ln(Xe.comparator);function ch(...t){let e=MA;for(const n of t)e=e.insert(n.key,n);return e}function LA(t){let e=MA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Zo(){return xh()}function FA(){return xh()}function xh(){return new pl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const YP=new ln(Xe.comparator),KP=new Fn(Xe.comparator);function vt(...t){let e=KP;for(const n of t)e=e.add(n);return e}const XP=new Fn(gt);function QP(){return XP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:v0(e)?"-0":e}}function jA(t){return{integerValue:""+t}}function JP(t,e){return AP(e)?jA(e):Ev(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this._=void 0}}function ZP(t,e,n){return t instanceof Fh?(function(a,o){const l={fields:{[xA]:{stringValue:yA},[TA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&vv(o)&&(o=sm(o)),o&&(l.fields[EA]=o),{mapValue:l}})(n,e):t instanceof jh?VA(t,e):t instanceof Uh?BA(t,e):(function(a,o){const l=UA(a,o),h=ew(l)+ew(a.Ae);return S1(l)&&S1(a.Ae)?jA(h):Ev(a.serializer,h)})(t,e)}function e6(t,e,n){return t instanceof jh?VA(t,e):t instanceof Uh?BA(t,e):n}function UA(t,e){return t instanceof T0?(function(r){return S1(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Fh extends um{}class jh extends um{constructor(e){super(),this.elements=e}}function VA(t,e){const n=HA(e);for(const r of t.elements)n.some((a=>xa(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Uh extends um{constructor(e){super(),this.elements=e}}function BA(t,e){let n=HA(e);for(const r of t.elements)n=n.filter((a=>!xa(a,r)));return{arrayValue:{values:n}}}class T0 extends um{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ew(t){return yn(t.integerValue||t.doubleValue)}function HA(t){return _v(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.field=e,this.transform=n}}function n6(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof jh&&a instanceof jh||r instanceof Uh&&a instanceof Uh?Nc(r.elements,a.elements,xa):r instanceof T0&&a instanceof T0?xa(r.Ae,a.Ae):r instanceof Fh&&a instanceof Fh})(t.transform,e.transform)}class r6{constructor(e,n){this.version=e,this.transformResults=n}}class jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function s0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hm{}function zA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tv(t.key,jr.none()):new af(t.key,t.data,jr.none());{const n=t.data,r=Mr.empty();let a=new Fn(er.comparator);for(let o of e.fields)if(!a.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),a=a.add(o)}return new mo(t.key,r,new oi(a.toArray()),jr.none())}}function i6(t,e,n){t instanceof af?(function(a,o,l){const h=a.value.clone(),d=nw(a.fieldTransforms,o,l.transformResults);h.setAll(d),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):t instanceof mo?(function(a,o,l){if(!s0(a.precondition,o))return void o.convertToUnknownDocument(l.version);const h=nw(a.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(qA(a)),d.setAll(h),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(a,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Eh(t,e,n,r){return t instanceof af?(function(o,l,h,d){if(!s0(o.precondition,l))return h;const f=o.value.clone(),g=rw(o.fieldTransforms,d,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof mo?(function(o,l,h,d){if(!s0(o.precondition,l))return h;const f=rw(o.fieldTransforms,d,l),g=l.data;return g.setAll(qA(o)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(o,l,h){return s0(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h})(t,e,n)}function a6(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=UA(r.transform,a||null);o!=null&&(n===null&&(n=Mr.empty()),n.set(r.field,o))}return n||null}function tw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Nc(r,a,((o,l)=>n6(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class af extends hm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class mo extends hm{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function nw(t,e,n){const r=new Map;Ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],l=o.transform,h=e.data.field(o.field);r.set(o.field,e6(l,h,n[a]))}return r}function rw(t,e,n){const r=new Map;for(const a of t){const o=a.transform,l=n.data.field(a.field);r.set(a.field,ZP(o,l,e))}return r}class Tv extends hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s6 extends hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&i6(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FA();return this.mutations.forEach((a=>{const o=e.get(a.key),l=o.overlayedDocument;let h=this.applyToLocalView(l,o.mutatedFields);h=n.has(a.key)?null:h;const d=zA(l,h);d!==null&&r.set(a.key,d),l.isValidDocument()||l.convertToNoDocument(rt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),vt())}isEqual(e){return this.batchId===e.batchId&&Nc(this.mutations,e.mutations,((n,r)=>tw(n,r)))&&Nc(this.baseMutations,e.baseMutations,((n,r)=>tw(n,r)))}}class wv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return YP})();const o=e.mutations;for(let l=0;l<o.length;l++)a=a.insert(o[l].key,r[l].version);return new wv(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An,xt;function u6(t){switch(t){case Te.OK:return Ze(64938);case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return Ze(15467,{code:t})}}function GA(t){if(t===void 0)return as("GRPC error has no .code"),Te.UNKNOWN;switch(t){case An.OK:return Te.OK;case An.CANCELLED:return Te.CANCELLED;case An.UNKNOWN:return Te.UNKNOWN;case An.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case An.INTERNAL:return Te.INTERNAL;case An.UNAVAILABLE:return Te.UNAVAILABLE;case An.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case An.NOT_FOUND:return Te.NOT_FOUND;case An.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case An.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case An.ABORTED:return Te.ABORTED;case An.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case An.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case An.DATA_LOSS:return Te.DATA_LOSS;default:return Ze(39323,{code:t})}}(xt=An||(An={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=new Js([4294967295,4294967295],0);function iw(t){const e=h6().encode(t),n=new sA;return n.update(e),new Uint8Array(n.digest())}function aw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Js([n,r],0),new Js([a,o],0)]}class Sv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uh(`Invalid padding: ${n}`);if(r<0)throw new uh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new uh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Js.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Js.fromNumber(r)));return a.compare(f6)===1&&(a=new Js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=iw(e),[r,a]=aw(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,a,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Sv(o,a,n);return r.forEach((h=>l.insert(h))),l}insert(e){if(this.ge===0)return;const n=iw(e),[r,a]=aw(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,a,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class uh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,sf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fm(rt.min(),a,new ln(gt),ss(),vt())}}class sf{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sf(r,n,vt(),vt(),vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class $A{constructor(e,n){this.targetId=e,this.Ce=n}}class WA{constructor(e,n,r=ar.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class sw{constructor(){this.ve=0,this.Fe=ow(),this.Me=ar.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=vt(),n=vt(),r=vt();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ze(38017,{changeType:o})}})),new sf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ow()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class d6{constructor(e){this.Ge=e,this.ze=new Map,this.je=ss(),this.Je=Ud(),this.He=Ud(),this.Ye=new ln(gt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ze(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(b1(o))if(r===0){const l=new Xe(o.path);this.et(n,l,dr.newNoDocument(l,rt.min()))}else Ct(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const h=this.ut(e),d=h?this.ct(h,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let l,h;try{l=ro(r).toUint8Array()}catch(d){if(d instanceof _A)return Cc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Sv(l,a,o)}catch(d){return Cc(d instanceof uh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const l=this.Ge.ht(),h=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const h=this.ot(l);if(h){if(o.current&&b1(h.target)){const d=new Xe(h.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,dr.newNoDocument(d,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=vt();this.He.forEach(((o,l)=>{let h=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const a=new fm(e,n,this.Ye,this.je,r);return this.je=ss(),this.Je=Ud(),this.He=Ud(),this.Ye=new ln(gt),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new sw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Fn(gt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Fn(gt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ud(){return new ln(Xe.comparator)}function ow(){return new ln(Xe.comparator)}const m6={asc:"ASCENDING",desc:"DESCENDING"},p6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g6={and:"AND",or:"OR"};class v6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function C1(t,e){return t.useProto3Json||am(e)?e:{value:e}}function w0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _6(t,e){return w0(t,e.toTimestamp())}function ga(t){return Ct(!!t,49232),rt.fromTimestamp((function(n){const r=no(n);return new ut(r.seconds,r.nanos)})(t))}function Av(t,e){return N1(t,e).canonicalString()}function N1(t,e){const n=(function(a){return new Xt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function KA(t){const e=Xt.fromString(t);return Ct(eb(e),10190,{key:e.toString()}),e}function I1(t,e){return Av(t.databaseId,e.path)}function Bg(t,e){const n=KA(e);if(n.get(1)!==t.databaseId.projectId)throw new qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xe(QA(n))}function XA(t,e){return Av(t.databaseId,e)}function y6(t){const e=KA(t);return e.length===4?Xt.emptyPath():QA(e)}function D1(t){return new Xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QA(t){return Ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lw(t,e,n){return{name:I1(t,e),fields:n.value.mapValue.fields}}function x6(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ze(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(Ct(g===void 0||typeof g=="string",58123),ar.fromBase64String(g||"")):(Ct(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),ar.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&(function(f){const g=f.code===void 0?Te.UNKNOWN:GA(f.code);return new qe(g,f.message||"")})(l);n=new WA(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Bg(t,r.document.name),o=ga(r.document.updateTime),l=r.document.createTime?ga(r.document.createTime):rt.min(),h=new Mr({mapValue:{fields:r.document.fields}}),d=dr.newFoundDocument(a,o,l,h),f=r.targetIds||[],g=r.removedTargetIds||[];n=new o0(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Bg(t,r.document),o=r.readTime?ga(r.readTime):rt.min(),l=dr.newNoDocument(a,o),h=r.removedTargetIds||[];n=new o0([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Bg(t,r.document),o=r.removedTargetIds||[];n=new o0([],o,a,null)}else{if(!("filter"in e))return Ze(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,l=new c6(a,o),h=r.targetId;n=new $A(h,l)}}return n}function E6(t,e){let n;if(e instanceof af)n={update:lw(t,e.key,e.value)};else if(e instanceof Tv)n={delete:I1(t,e.key)};else if(e instanceof mo)n={update:lw(t,e.key,e.data),updateMask:I6(e.fieldMask)};else{if(!(e instanceof s6))return Ze(16599,{Vt:e.type});n={verify:I1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const h=l.transform;if(h instanceof Fh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof jh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Uh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof T0)return{fieldPath:l.field.canonicalString(),increment:h.Ae};throw Ze(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:_6(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ze(27497)})(t,e.precondition)),n}function T6(t,e){return t&&t.length>0?(Ct(e!==void 0,14353),t.map((n=>(function(a,o){let l=a.updateTime?ga(a.updateTime):ga(o);return l.isEqual(rt.min())&&(l=ga(o)),new r6(l,a.transformResults||[])})(n,e)))):[]}function w6(t,e){return{documents:[XA(t,e.path)]}}function S6(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XA(t,a);const o=(function(f){if(f.length!==0)return ZA(Ki.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((g=>(function(x){return{field:hc(x.field),direction:R6(x.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=C1(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:a}}function A6(t){let e=y6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Ct(r===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(y){const x=JA(y);return x instanceof Ki&&CA(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(y){return y.map((x=>(function(S){return new Lh(fc(S.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(x)))})(n.orderBy));let h=null;n.limit&&(h=(function(y){let x;return x=typeof y=="object"?y.value:y,am(x)?null:x})(n.limit));let d=null;n.startAt&&(d=(function(y){const x=!!y.before,T=y.values||[];return new x0(T,x)})(n.startAt));let f=null;return n.endAt&&(f=(function(y){const x=!y.before,T=y.values||[];return new x0(T,x)})(n.endAt)),zP(e,a,l,o,h,"F",d,f)}function b6(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fc(n.unaryFilter.field);return Rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=fc(n.unaryFilter.field);return Rn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fc(n.unaryFilter.field);return Rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fc(n.unaryFilter.field);return Rn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ze(61313);default:return Ze(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Rn.create(fc(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ze(58110);default:return Ze(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ki.create(n.compositeFilter.filters.map((r=>JA(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ze(1026)}})(n.compositeFilter.op))})(t):Ze(30097,{filter:t})}function R6(t){return m6[t]}function C6(t){return p6[t]}function N6(t){return g6[t]}function hc(t){return{fieldPath:t.canonicalString()}}function fc(t){return er.fromServerFormat(t.fieldPath)}function ZA(t){return t instanceof Rn?(function(n){if(n.op==="=="){if(KT(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NAN"}};if(YT(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KT(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NOT_NAN"}};if(YT(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(n.field),op:C6(n.op),value:n.value}}})(t):t instanceof Ki?(function(n){const r=n.getFilters().map((a=>ZA(a)));return r.length===1?r[0]:{compositeFilter:{op:N6(n.op),filters:r}}})(t):Ze(54877,{filter:t})}function I6(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function eb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r,a,o=rt.min(),l=rt.min(),h=ar.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.yt=e}}function O6(t){const e=A6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?E0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this.Cn=new P6}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ae.resolve()}getCollectionParents(e,n){return Ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ae.resolve()}deleteFieldIndex(e,n){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,n){return Ae.resolve()}getDocumentsMatchingTarget(e,n){return Ae.resolve(null)}getIndexType(e,n){return Ae.resolve(0)}getFieldIndexes(e,n){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,n){return Ae.resolve(to.min())}getMinOffsetFromCollectionGroup(e,n){return Ae.resolve(to.min())}updateCollectionGroup(e,n,r){return Ae.resolve()}updateIndexEntries(e,n){return Ae.resolve()}}class P6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Fn(Xt.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Fn(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tb=41943040;class Pr{static withCacheSize(e){return new Pr(e,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(tb,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Oc(0)}static cr(){return new Oc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="LruGarbageCollector",M6=1048576;function hw([t,e],[n,r]){const a=gt(t,n);return a===0?gt(e,r):a}class L6{constructor(e){this.Ir=e,this.buffer=new Fn(hw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class F6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ge(uw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hc(n)?Ge(uw,"Ignoring IndexedDB error during garbage collection: ",n):await Bc(n)}await this.Vr(3e5)}))}}class j6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ae.resolve(im.ce);const r=new L6(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(cw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,l,h,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,l=Date.now(),this.nthSequenceNumber(e,a)))).next((y=>(r=y,h=Date.now(),this.removeTargets(e,r,n)))).next((y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(f=Date.now(),cc()<=pt.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${a} in `+(h-l)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${y} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:y}))))}}function U6(t,e){return new j6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(){this.changes=new pl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Eh(r.mutation,a,oi.empty(),ut.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,vt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=vt()){const a=Zo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let l=ch();return o.forEach(((h,d)=>{l=l.insert(h,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Zo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,vt())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((l,h)=>{n.set(l,h)}))}))}computeViews(e,n,r,a){let o=ss();const l=xh(),h=(function(){return xh()})();return n.forEach(((d,f)=>{const g=r.get(f.key);a.has(f.key)&&(g===void 0||g.mutation instanceof mo)?o=o.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),Eh(g.mutation,f,g.mutation.getFieldMask(),ut.now())):l.set(f.key,oi.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((f,g)=>l.set(f,g))),n.forEach(((f,g)=>h.set(f,new B6(g,l.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=xh();let a=new ln(((l,h)=>l-h)),o=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const h of l)h.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let g=r.get(d)||oi.empty();g=h.applyToLocalView(f,g),r.set(d,g);const y=(a.get(h.batchId)||vt()).add(d);a=a.insert(h.batchId,y)}))})).next((()=>{const l=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),f=d.key,g=d.value,y=FA();g.forEach((x=>{if(!o.has(x)){const T=zA(n.get(x),r.get(x));T!==null&&y.set(x,T),o=o.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return Ae.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(l){return Xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const l=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):Ae.resolve(Zo());let h=Oh,d=o;return l.next((f=>Ae.forEach(f,((g,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),o.get(g)?Ae.resolve():this.remoteDocumentCache.getEntry(e,g).next((x=>{d=d.insert(g,x)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,d,f,vt()))).next((g=>({batchId:h,changes:LA(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Xe(n)).next((r=>{let a=ch();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let l=ch();return this.indexManager.getCollectionParents(e,o).next((h=>Ae.forEach(h,(d=>{const f=(function(y,x){return new zc(x,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,a).next((g=>{g.forEach(((y,x)=>{l=l.insert(y,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((l=>{o.forEach(((d,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,dr.newInvalidDocument(g)))}));let h=ch();return l.forEach(((d,f)=>{const g=o.get(d);g!==void 0&&Eh(g.mutation,f,oi.empty(),ut.now()),cm(n,f)&&(h=h.insert(d,f))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ga(a.createTime)}})(n)),Ae.resolve()}getNamedQuery(e,n){return Ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:O6(a.bundledQuery),readTime:ga(a.readTime)}})(n)),Ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(){this.overlays=new ln(Xe.comparator),this.qr=new Map}getOverlay(e,n){return Ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zo();return Ae.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),Ae.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Ae.resolve()}getOverlaysForCollection(e,n,r){const a=Zo(),o=n.length+1,l=new Xe(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const d=h.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return Ae.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new ln(((f,g)=>f-g));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=Zo(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const h=Zo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,g)=>h.set(f,g))),!(h.size()>=a)););return Ae.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new l6(n,r));let o=this.qr.get(n);o===void 0&&(o=vt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this.sessionToken=ar.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.Qr=new Fn(Hn.$r),this.Ur=new Fn(Hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Hn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Hn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Xe(new Xt([])),r=new Hn(n,e),a=new Hn(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Xe(new Xt([])),r=new Hn(n,e),a=new Hn(n,e+1);let o=vt();return this.Ur.forEachInRange([r,a],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new Hn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Hn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Xe.comparator(e.key,n.key)||gt(e.Yr,n.Yr)}static Kr(e,n){return gt(e.Yr,n.Yr)||Xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Fn(Hn.$r)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new o6(o,n,r,a);this.mutationQueue.push(l);for(const h of a)this.Zr=this.Zr.add(new Hn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Ae.resolve(l)}lookupMutationBatch(e,n){return Ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return Ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?gv:this.tr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hn(n,0),a=new Hn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(l=>{const h=this.Xr(l.Yr);o.push(h)})),Ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fn(gt);return n.forEach((a=>{const o=new Hn(a,0),l=new Hn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(h=>{r=r.add(h.Yr)}))})),Ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;Xe.isDocumentKey(o)||(o=o.child(""));const l=new Hn(new Xe(o),0);let h=new Fn(gt);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===a&&(h=h.add(d.Yr)),!0)}),l),Ae.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ae.forEach(n.mutations,(a=>{const o=new Hn(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Hn(n,0),a=this.Zr.firstAfterOrEqual(r);return Ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.ri=e,this.docs=(function(){return new ln(Xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ae.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(n))}getEntries(e,n){let r=ss();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():dr.newInvalidDocument(a))})),Ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=ss();const l=n.path,h=new Xe(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||EP(xP(g),r)<=0||(a.has(g.key)||cm(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Ae.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Ze(9500)}ii(e,n){return Ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Y6(this)}getSize(e){return Ae.resolve(this.size)}}class Y6 extends V6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),Ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.persistence=e,this.si=new pl((n=>yv(n)),xv),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.oi=0,this._i=new bv,this.targetCount=0,this.ai=Oc.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Oc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ae.resolve()}updateTargetData(e,n){return this.Pr(n),Ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),Ae.waitFor(o).next((()=>a))}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ae.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ae.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((l=>{o.push(a.markPotentiallyOrphaned(e,l))})),Ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ae.resolve(r)}containsKey(e,n){return Ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n){this.ui={},this.overlays={},this.ci=new im(0),this.li=!1,this.li=!0,this.hi=new G6,this.referenceDelegate=e(this),this.Pi=new K6(this),this.indexManager=new k6,this.remoteDocumentCache=(function(a){return new W6(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new D6(n),this.Ii=new z6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new $6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ge("MemoryPersistence","Starting transaction:",e);const a=new X6(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return Ae.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class X6 extends wP{constructor(e){super(),this.currentSequenceNumber=e}}class Rv{constructor(e){this.persistence=e,this.Ri=new bv,this.Vi=null}static mi(e){return new Rv(e)}get fi(){if(this.Vi)return this.Vi;throw Ze(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.fi,(r=>{const a=Xe.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,rt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ae.or([()=>Ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class S0{constructor(e,n){this.persistence=e,this.pi=new pl((r=>bP(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=U6(this,n)}static mi(e,n){return new S0(e,n)}Ei(){}di(e){return Ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ae.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?Ae.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(l=>this.br(e,l,n).next((h=>{h||(r++,o.removeEntry(l,rt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=i0(e.data.value)),n}br(e,n,r){return Ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return Ae.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=vt(),a=vt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Cv(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fD()?8:SP(vr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new Q6;return this.Ss(e,n,l).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,l,h.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(cc()<=pt.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",uc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ae.resolve()):(cc()<=pt.DEBUG&&Ge("QueryEngine","Query:",uc(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(cc()<=pt.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",uc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pa(n))):Ae.resolve())}ys(e,n){if(ZT(n))return Ae.resolve(null);let r=pa(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=E0(n,null,"F"),r=pa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=vt(...o);return this.ps.getDocuments(e,l).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,h);return this.Cs(n,f,l,d.readTime)?this.ys(e,E0(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,a){return ZT(n)||a.isEqual(rt.min())?Ae.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,a)?Ae.resolve(null):(cc()<=pt.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),uc(n)),this.vs(e,l,n,yP(a,Oh)).next((h=>h)))}))}Ds(e,n){let r=new Fn(PA(e));return n.forEach(((a,o)=>{cm(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return cc()<=pt.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",uc(n)),this.ps.getDocumentsMatchingQuery(e,n,to.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="LocalStore",Z6=3e8;class eM{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new ln(gt),this.xs=new pl((o=>yv(o)),xv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function tM(t,e,n,r){return new eM(t,e,n,r)}async function rb(t,e){const n=at(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],h=[];let d=vt();for(const f of a){l.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){h.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:h})))}))}))}function nM(t,e){const n=at(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,f,g){const y=f.batch,x=y.keys();let T=Ae.resolve();return x.forEach((S=>{T=T.next((()=>g.getEntry(d,S))).next((w=>{const b=f.docVersions.get(S);Ct(b!==null,48541),w.version.compareTo(b)<0&&(y.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),g.addEntry(w)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(d,y)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=vt();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(d=d.add(h.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function ib(t){const e=at(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function rM(t,e){const n=at(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((g,y)=>{const x=a.get(y);if(!x)return;h.push(n.Pi.removeMatchingKeys(o,g.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(o,g.addedDocuments,y))));let T=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(ar.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),a=a.insert(y,T),(function(w,b,O){return w.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=Z6?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(x,T,g)&&h.push(n.Pi.updateTargetData(o,T))}));let d=ss(),f=vt();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),h.push(iM(o,l,e.documentUpdates).next((g=>{d=g.ks,f=g.qs}))),!r.isEqual(rt.min())){const g=n.Pi.getLastRemoteSnapshotVersion(o).next((y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(g)}return Ae.waitFor(h).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,f))).next((()=>d))})).then((o=>(n.Ms=a,o)))}function iM(t,e,n){let r=vt(),a=vt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=ss();return n.forEach(((h,d)=>{const f=o.get(h);d.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(rt.min())?(e.removeEntry(h,d.readTime),l=l.insert(h,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(h,d)):Ge(Nv,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:a}}))}function aM(t,e){const n=at(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=gv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function sM(t,e){const n=at(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,Ae.resolve(a)):n.Pi.allocateTargetId(r).next((l=>(a=new Ws(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function O1(t,e,n){const r=at(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!Hc(l))throw l;Ge(Nv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function fw(t,e,n){const r=at(t);let a=rt.min(),o=vt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,g){const y=at(d),x=y.xs.get(g);return x!==void 0?Ae.resolve(y.Ms.get(x)):y.Pi.getTargetData(f,g)})(r,l,pa(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,h.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?a:rt.min(),n?o:vt()))).next((h=>(oM(r,GP(e),h),{documents:h,Qs:o})))))}function oM(t,e,n){let r=t.Os.get(e)||rt.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class dw{constructor(){this.activeTargetIds=QP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lM{constructor(){this.Mo=new dw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="ConnectivityMonitor";class pw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ge(mw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ge(mw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd=null;function k1(){return Vd===null?Vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vd++,"0x"+Vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="RestConnection",uM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===_0?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const l=k1(),h=this.zo(e,n.toUriEncodedString());Ge(Hg,`Sending RPC '${e}' ${l}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,o);const{host:f}=new URL(h),g=uo(f);return this.Jo(e,h,d,r,g).then((y=>(Ge(Hg,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw Cc(Hg,`RPC '${e}' ${l} failed with error: `,y,"url: ",h,"request:",r),y}))}Ho(e,n,r,a,o,l){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=uM[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="WebChannelConnection";class dM extends hM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const l=k1();return new Promise(((h,d)=>{const f=new oA;f.setWithCredentials(!0),f.listenOnce(lA.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case r0.NO_ERROR:const y=f.getResponseJson();Ge(hr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),h(y);break;case r0.TIMEOUT:Ge(hr,`RPC '${e}' ${l} timed out`),d(new qe(Te.DEADLINE_EXCEEDED,"Request time out"));break;case r0.HTTP_ERROR:const x=f.getStatus();if(Ge(hr,`RPC '${e}' ${l} failed with status:`,x,"response text:",f.getResponseText()),x>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T?.error;if(S&&S.status&&S.message){const w=(function(O){const F=O.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(F)>=0?F:Te.UNKNOWN})(S.status);d(new qe(w,S.message))}else d(new qe(Te.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new qe(Te.UNAVAILABLE,"Connection failed."));break;default:Ze(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ge(hr,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(a);Ge(hr,`RPC '${e}' ${l} sending request:`,a),f.send(n,"POST",g,r,15)}))}T_(e,n,r){const a=k1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=hA(),h=uA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=o.join("");Ge(hr,`Creating RPC '${e}' stream ${a}: ${g}`,d);const y=l.createWebChannel(g,d);this.I_(y);let x=!1,T=!1;const S=new fM({Yo:b=>{T?Ge(hr,`Not sending because RPC '${e}' stream ${a} is closed:`,b):(x||(Ge(hr,`Opening RPC '${e}' stream ${a} transport.`),y.open(),x=!0),Ge(hr,`RPC '${e}' stream ${a} sending:`,b),y.send(b))},Zo:()=>y.close()}),w=(b,O,F)=>{b.listen(O,(j=>{try{F(j)}catch(J){setTimeout((()=>{throw J}),0)}}))};return w(y,lh.EventType.OPEN,(()=>{T||(Ge(hr,`RPC '${e}' stream ${a} transport opened.`),S.o_())})),w(y,lh.EventType.CLOSE,(()=>{T||(T=!0,Ge(hr,`RPC '${e}' stream ${a} transport closed`),S.a_(),this.E_(y))})),w(y,lh.EventType.ERROR,(b=>{T||(T=!0,Cc(hr,`RPC '${e}' stream ${a} transport errored. Name:`,b.name,"Message:",b.message),S.a_(new qe(Te.UNAVAILABLE,"The operation could not be completed")))})),w(y,lh.EventType.MESSAGE,(b=>{if(!T){const O=b.data[0];Ct(!!O,16349);const F=O,j=F?.error||F[0]?.error;if(j){Ge(hr,`RPC '${e}' stream ${a} received error:`,j);const J=j.status;let X=(function(I){const C=An[I];if(C!==void 0)return GA(C)})(J),W=j.message;X===void 0&&(X=Te.INTERNAL,W="Unknown error status: "+J+" with message "+j.message),T=!0,S.a_(new qe(X,W)),y.close()}else Ge(hr,`RPC '${e}' stream ${a} received:`,O),S.u_(O)}})),w(h,cA.STAT_EVENT,(b=>{b.stat===E1.PROXY?Ge(hr,`RPC '${e}' stream ${a} detected buffering proxy`):b.stat===E1.NOPROXY&&Ge(hr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t){return new v6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="PersistentStream";class sb{constructor(e,n,r,a,o,l,h,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ab(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Te.RESOURCE_EXHAUSTED?(as(n.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new qe(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ge(gw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ge(gw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mM extends sb{constructor(e,n,r,a,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=x6(this.serializer,e),r=(function(o){if(!("targetChange"in o))return rt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?rt.min():l.readTime?ga(l.readTime):rt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=D1(this.serializer),n.addTarget=(function(o,l){let h;const d=l.target;if(h=b1(d)?{documents:w6(o,d)}:{query:S6(o,d).ft},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=YA(o,l.resumeToken);const f=C1(o,l.expectedCount);f!==null&&(h.expectedCount=f)}else if(l.snapshotVersion.compareTo(rt.min())>0){h.readTime=w0(o,l.snapshotVersion.toTimestamp());const f=C1(o,l.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const r=b6(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=D1(this.serializer),n.removeTarget=e,this.q_(n)}}class pM extends sb{constructor(e,n,r,a,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=T6(e.writeResults,e.commitTime),r=ga(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=D1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>E6(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{}class vM extends gM{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new qe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,N1(n,r),a,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(Te.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Ho(e,N1(n,r),a,l,h,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new qe(Te.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _M{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(n),this.aa=!1):Ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="RemoteStore";class yM{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{gl(this)&&(Ge(ll,"Restarting streams for network reachability change."),await(async function(d){const f=at(d);f.Ea.add(4),await of(f),f.Ra.set("Unknown"),f.Ea.delete(4),await mm(f)})(this))}))})),this.Ra=new _M(r,a)}}async function mm(t){if(gl(t))for(const e of t.da)await e(!0)}async function of(t){for(const e of t.da)await e(!1)}function ob(t,e){const n=at(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),kv(n)?Ov(n):qc(n).O_()&&Dv(n,e))}function Iv(t,e){const n=at(t),r=qc(n);n.Ia.delete(e),r.O_()&&lb(n,e),n.Ia.size===0&&(r.O_()?r.L_():gl(n)&&n.Ra.set("Unknown"))}function Dv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qc(t).Y_(e)}function lb(t,e){t.Va.Ue(e),qc(t).Z_(e)}function Ov(t){t.Va=new d6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),qc(t).start(),t.Ra.ua()}function kv(t){return gl(t)&&!qc(t).x_()&&t.Ia.size>0}function gl(t){return at(t).Ea.size===0}function cb(t){t.Va=void 0}async function xM(t){t.Ra.set("Online")}async function EM(t){t.Ia.forEach(((e,n)=>{Dv(t,e)}))}async function TM(t,e){cb(t),kv(t)?(t.Ra.ha(e),Ov(t)):t.Ra.set("Unknown")}async function wM(t,e,n){if(t.Ra.set("Online"),e instanceof WA&&e.state===2&&e.cause)try{await(async function(a,o){const l=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,l),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){Ge(ll,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await A0(t,r)}else if(e instanceof o0?t.Va.Ze(e):e instanceof $A?t.Va.st(e):t.Va.tt(e),!n.isEqual(rt.min()))try{const r=await ib(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const h=o.Va.Tt(l);return h.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(d.resumeToken,l))}})),h.targetMismatches.forEach(((d,f)=>{const g=o.Ia.get(d);if(!g)return;o.Ia.set(d,g.withResumeToken(ar.EMPTY_BYTE_STRING,g.snapshotVersion)),lb(o,d);const y=new Ws(g.target,d,f,g.sequenceNumber);Dv(o,y)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){Ge(ll,"Failed to raise snapshot:",r),await A0(t,r)}}async function A0(t,e,n){if(!Hc(e))throw e;t.Ea.add(1),await of(t),t.Ra.set("Offline"),n||(n=()=>ib(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ge(ll,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await mm(t)}))}function ub(t,e){return e().catch((n=>A0(t,n,e)))}async function pm(t){const e=at(t),n=ao(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gv;for(;SM(e);)try{const a=await aM(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,AM(e,a)}catch(a){await A0(e,a)}hb(e)&&fb(e)}function SM(t){return gl(t)&&t.Ta.length<10}function AM(t,e){t.Ta.push(e);const n=ao(t);n.O_()&&n.X_&&n.ea(e.mutations)}function hb(t){return gl(t)&&!ao(t).x_()&&t.Ta.length>0}function fb(t){ao(t).start()}async function bM(t){ao(t).ra()}async function RM(t){const e=ao(t);for(const n of t.Ta)e.ea(n.mutations)}async function CM(t,e,n){const r=t.Ta.shift(),a=wv.from(r,e,n);await ub(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await pm(t)}async function NM(t,e){e&&ao(t).X_&&await(async function(r,a){if((function(l){return u6(l)&&l!==Te.ABORTED})(a.code)){const o=r.Ta.shift();ao(r).B_(),await ub(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await pm(r)}})(t,e),hb(t)&&fb(t)}async function vw(t,e){const n=at(t);n.asyncQueue.verifyOperationInProgress(),Ge(ll,"RemoteStore received new credentials");const r=gl(n);n.Ea.add(3),await of(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await mm(n)}async function IM(t,e){const n=at(t);e?(n.Ea.delete(2),await mm(n)):e||(n.Ea.add(2),await of(n),n.Ra.set("Unknown"))}function qc(t){return t.ma||(t.ma=(function(n,r,a){const o=at(n);return o.sa(),new mM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:xM.bind(null,t),t_:EM.bind(null,t),r_:TM.bind(null,t),H_:wM.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),kv(t)?Ov(t):t.Ra.set("Unknown")):(await t.ma.stop(),cb(t))}))),t.ma}function ao(t){return t.fa||(t.fa=(function(n,r,a){const o=at(n);return o.sa(),new pM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:bM.bind(null,t),r_:NM.bind(null,t),ta:RM.bind(null,t),na:CM.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await pm(t)):(await t.fa.stop(),t.Ta.length>0&&(Ge(ll,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const l=Date.now()+r,h=new Pv(e,n,l,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mv(t,e){if(as("AsyncQueue",`${e}: ${t}`),Hc(t))return new qe(Te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{static emptySet(e){return new xc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Xe.comparator(n.key,r.key):(n,r)=>Xe.comparator(n.key,r.key),this.keyedMap=ch(),this.sortedSet=new ln(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.ga=new ln(Xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ze(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class kc{constructor(e,n,r,a,o,l,h,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,a,o){const l=[];return n.forEach((h=>{l.push({type:0,doc:h})})),new kc(e,n,xc.emptySet(n),l,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class OM{constructor(){this.queries=yw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=at(n),o=a.queries;a.queries=yw(),o.forEach(((l,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new qe(Te.ABORTED,"Firestore shutting down"))}}function yw(){return new pl((t=>kA(t)),lm)}async function Lv(t,e){const n=at(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new DM,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(l){const h=Mv(l,`Initialization of query '${uc(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&jv(n)}async function Fv(t,e){const n=at(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kM(t,e){const n=at(t);let r=!1;for(const a of e){const o=a.query,l=n.queries.get(o);if(l){for(const h of l.Sa)h.Fa(a)&&(r=!0);l.wa=a}}r&&jv(n)}function PM(t,e,n){const r=at(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function jv(t){t.Ca.forEach((e=>{e.next()}))}var P1,xw;(xw=P1||(P1={})).Ma="default",xw.Cache="cache";class Uv{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==P1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.key=e}}class mb{constructor(e){this.key=e}}class MM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=vt(),this.mutatedKeys=vt(),this.eu=PA(e),this.tu=new xc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new _w,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,y)=>{const x=a.get(g),T=cm(this.query,y)?y:null,S=!!x&&this.mutatedKeys.has(x.key),w=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let b=!1;x&&T?x.data.isEqual(T.data)?S!==w&&(r.track({type:3,doc:T}),b=!0):this.su(x,T)||(r.track({type:2,doc:T}),b=!0,(d&&this.eu(T,d)>0||f&&this.eu(T,f)<0)&&(h=!0)):!x&&T?(r.track({type:0,doc:T}),b=!0):x&&!T&&(r.track({type:1,doc:x}),b=!0,(d||f)&&(h=!0)),b&&(T?(l=l.add(T),o=w?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,y)=>(function(T,S){const w=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze(20277,{Rt:b})}};return w(T)-w(S)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new kc(this.query,e.tu,o,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _w,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new mb(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new db(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=vt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return kc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vv="SyncEngine";class LM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class FM{constructor(e){this.key=e,this.hu=!1}}class jM{constructor(e,n,r,a,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new pl((h=>kA(h)),lm),this.Iu=new Map,this.Eu=new Set,this.du=new ln(Xe.comparator),this.Au=new Map,this.Ru=new bv,this.Vu={},this.mu=new Map,this.fu=Oc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UM(t,e,n=!0){const r=xb(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await pb(r,e,n,!0),a}async function VM(t,e){const n=xb(t);await pb(n,e,!0,!1)}async function pb(t,e,n,r){const a=await sM(t.localStore,pa(e)),o=a.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let h;return r&&(h=await BM(t,e,o,l==="current",a.resumeToken)),t.isPrimaryClient&&n&&ob(t.remoteStore,a),h}async function BM(t,e,n,r,a){t.pu=(y,x,T)=>(async function(w,b,O,F){let j=b.view.ru(O);j.Cs&&(j=await fw(w.localStore,b.query,!1).then((({documents:N})=>b.view.ru(N,j))));const J=F&&F.targetChanges.get(b.targetId),X=F&&F.targetMismatches.get(b.targetId)!=null,W=b.view.applyChanges(j,w.isPrimaryClient,J,X);return Tw(w,b.targetId,W.au),W.snapshot})(t,y,x,T);const o=await fw(t.localStore,e,!0),l=new MM(e,o.Qs),h=l.ru(o.documents),d=sf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),f=l.applyChanges(h,t.isPrimaryClient,d);Tw(t,n,f.au);const g=new LM(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function HM(t,e,n){const r=at(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((l=>!lm(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await O1(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Iv(r.remoteStore,a.targetId),M1(r,a.targetId)})).catch(Bc)):(M1(r,a.targetId),await O1(r.localStore,a.targetId,!0))}async function zM(t,e){const n=at(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Iv(n.remoteStore,r.targetId))}async function qM(t,e,n){const r=QM(t);try{const a=await(function(l,h){const d=at(l),f=ut.now(),g=h.reduce(((T,S)=>T.add(S.key)),vt());let y,x;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let S=ss(),w=vt();return d.Ns.getEntries(T,g).next((b=>{S=b,S.forEach(((O,F)=>{F.isValidDocument()||(w=w.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,S))).next((b=>{y=b;const O=[];for(const F of h){const j=a6(F,y.get(F.key).overlayedDocument);j!=null&&O.push(new mo(F.key,j,AA(j.value.mapValue),jr.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,O,h)})).next((b=>{x=b;const O=b.applyToLocalDocumentSet(y,w);return d.documentOverlayCache.saveOverlays(T,b.batchId,O)}))})).then((()=>({batchId:x.batchId,changes:LA(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(l,h,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new ln(gt)),f=f.insert(h,d),l.Vu[l.currentUser.toKey()]=f})(r,a.batchId,n),await lf(r,a.changes),await pm(r.remoteStore)}catch(a){const o=Mv(a,"Failed to persist write");n.reject(o)}}async function gb(t,e){const n=at(t);try{const r=await rM(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const l=n.Au.get(o);l&&(Ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.hu=!0:a.modifiedDocuments.size>0?Ct(l.hu,14607):a.removedDocuments.size>0&&(Ct(l.hu,42227),l.hu=!1))})),await lf(n,r,e)}catch(r){await Bc(r)}}function Ew(t,e,n){const r=at(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,l)=>{const h=l.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(l,h){const d=at(l);d.onlineState=h;let f=!1;d.queries.forEach(((g,y)=>{for(const x of y.Sa)x.va(h)&&(f=!0)})),f&&jv(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GM(t,e,n){const r=at(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let l=new ln(Xe.comparator);l=l.insert(o,dr.newNoDocument(o,rt.min()));const h=vt().add(o),d=new fm(rt.min(),new Map,new ln(gt),l,h);await gb(r,d),r.du=r.du.remove(o),r.Au.delete(e),Bv(r)}else await O1(r.localStore,e,!1).then((()=>M1(r,e,n))).catch(Bc)}async function $M(t,e){const n=at(t),r=e.batch.batchId;try{const a=await nM(n.localStore,e);_b(n,r,null),vb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lf(n,a)}catch(a){await Bc(a)}}async function WM(t,e,n){const r=at(t);try{const a=await(function(l,h){const d=at(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return d.mutationQueue.lookupMutationBatch(f,h).next((y=>(Ct(y!==null,37113),g=y.keys(),d.mutationQueue.removeMutationBatch(f,y)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>d.localDocuments.getDocuments(f,g)))}))})(r.localStore,e);_b(r,e,n),vb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lf(r,a)}catch(a){await Bc(a)}}function vb(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function _b(t,e,n){const r=at(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function M1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||yb(t,r)}))}function yb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Iv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Bv(t))}function Tw(t,e,n){for(const r of n)r instanceof db?(t.Ru.addReference(r.key,e),YM(t,r)):r instanceof mb?(Ge(Vv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||yb(t,r.key)):Ze(19791,{wu:r})}function YM(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ge(Vv,"New document in limbo: "+n),t.Eu.add(r),Bv(t))}function Bv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Xe(Xt.fromString(e)),r=t.fu.next();t.Au.set(r,new FM(n)),t.du=t.du.insert(n,r),ob(t.remoteStore,new Ws(pa(om(n.path)),r,"TargetPurposeLimboResolution",im.ce))}}async function lf(t,e,n){const r=at(t),a=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{l.push(r.pu(d,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){a.push(f);const g=Cv.As(d.targetId,f);o.push(g)}})))})),await Promise.all(l),r.Pu.H_(a),await(async function(d,f){const g=at(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>Ae.forEach(f,(x=>Ae.forEach(x.Es,(T=>g.persistence.referenceDelegate.addReference(y,x.targetId,T))).next((()=>Ae.forEach(x.ds,(T=>g.persistence.referenceDelegate.removeReference(y,x.targetId,T)))))))))}catch(y){if(!Hc(y))throw y;Ge(Nv,"Failed to update sequence numbers: "+y)}for(const y of f){const x=y.targetId;if(!y.fromCache){const T=g.Ms.get(x),S=T.snapshotVersion,w=T.withLastLimboFreeSnapshotVersion(S);g.Ms=g.Ms.insert(x,w)}}})(r.localStore,o))}async function KM(t,e){const n=at(t);if(!n.currentUser.isEqual(e)){Ge(Vv,"User change. New user:",e.toKey());const r=await rb(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new qe(Te.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lf(n,r.Ls)}}function XM(t,e){const n=at(t),r=n.Au.get(e);if(r&&r.hu)return vt().add(r.key);{let a=vt();const o=n.Iu.get(e);if(!o)return a;for(const l of o){const h=n.Tu.get(l);a=a.unionWith(h.view.nu)}return a}}function xb(t){const e=at(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GM.bind(null,e),e.Pu.H_=kM.bind(null,e.eventManager),e.Pu.yu=PM.bind(null,e.eventManager),e}function QM(t){const e=at(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$M.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WM.bind(null,e),e}class b0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tM(this.persistence,new J6,e.initialUser,this.serializer)}Cu(e){return new nb(Rv.mi,this.serializer)}Du(e){return new lM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}b0.provider={build:()=>new b0};class JM extends b0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ct(this.persistence.referenceDelegate instanceof S0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new F6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pr.withCacheSize(this.cacheSizeBytes):Pr.DEFAULT;return new nb((r=>S0.mi(r,n)),this.serializer)}}class L1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ew(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KM.bind(null,this.syncEngine),await IM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OM})()}createDatastore(e){const n=dm(e.databaseInfo.databaseId),r=(function(o){return new dM(o)})(e.databaseInfo);return(function(o,l,h,d){return new vM(o,l,h,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,l,h){return new yM(r,a,o,l,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>Ew(this.syncEngine,n,0)),(function(){return pw.v()?new pw:new cM})())}createSyncEngine(e,n){return(function(a,o,l,h,d,f,g){const y=new jM(a,o,l,h,d,f);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=at(n);Ge(ll,"RemoteStore shutting down."),r.Ea.add(5),await of(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}L1.provider={build:()=>new L1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="FirestoreClient";class ZM{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=fr.UNAUTHENTICATED,this.clientId=pv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{Ge(so,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ge(so,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qg(t,e){t.asyncQueue.verifyOperationInProgress(),Ge(so,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await rb(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ww(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eL(t);Ge(so,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>vw(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>vw(e.remoteStore,a))),t._onlineComponents=e}async function eL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ge(so,"Using user provided OfflineComponentProvider");try{await qg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Te.FAILED_PRECONDITION||a.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Cc("Error using user provided cache. Falling back to memory cache: "+n),await qg(t,new b0)}}else Ge(so,"Using default OfflineComponentProvider"),await qg(t,new JM(void 0));return t._offlineComponents}async function Eb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ge(so,"Using user provided OnlineComponentProvider"),await ww(t,t._uninitializedComponentsProvider._online)):(Ge(so,"Using default OnlineComponentProvider"),await ww(t,new L1))),t._onlineComponents}function tL(t){return Eb(t).then((e=>e.syncEngine))}async function R0(t){const e=await Eb(t),n=e.eventManager;return n.onListen=UM.bind(null,e.syncEngine),n.onUnlisten=HM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zM.bind(null,e.syncEngine),n}function nL(t,e,n={}){const r=new Qa;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,h,d,f){const g=new Hv({next:x=>{g.Nu(),l.enqueueAndForget((()=>Fv(o,y)));const T=x.docs.has(h);!T&&x.fromCache?f.reject(new qe(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&x.fromCache&&d&&d.source==="server"?f.reject(new qe(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),y=new Uv(om(h.path),g,{includeMetadataChanges:!0,qa:!0});return Lv(o,y)})(await R0(t),t.asyncQueue,e,n,r))),r.promise}function rL(t,e,n={}){const r=new Qa;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,h,d,f){const g=new Hv({next:x=>{g.Nu(),l.enqueueAndForget((()=>Fv(o,y))),x.fromCache&&d.source==="server"?f.reject(new qe(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),y=new Uv(h,g,{includeMetadataChanges:!0,qa:!0});return Lv(o,y)})(await R0(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="firestore.googleapis.com",Aw=!0;class bw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new qe(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wb,this.ssl=Aw}else this.host=e.host,this.ssl=e.ssl??Aw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<M6)throw new qe(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_P("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lP;switch(r.type){case"firstParty":return new fP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new qe(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Sw.get(n);r&&(Ge("ComponentProvider","Removing Datastore"),Sw.delete(n),r.terminate())})(this),Promise.resolve()}}function iL(t,e,n,r={}){t=Fr(t,gm);const a=uo(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(Q0(`https://${h}`),J0("Firestore",!0)),o.host!==wb&&o.host!==h&&Cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:r};if(!il(d,l)&&(t._setSettings(d),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=fr.MOCK_USER;else{f=mS(r.mockUserToken,t._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new qe(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new fr(y)}t._authCredentials=new cP(new dA(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new us(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(rf(n,dn._jsonSchema))return new dn(e,r||null,new Xe(Xt.fromString(n.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:Cn("string",dn._jsonSchemaVersion),referencePath:Cn("string")};class Zs extends us{constructor(e,n,r){super(e,n,om(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new Xe(e))}withConverter(e){return new Zs(this.firestore,e,this._path)}}function Jt(t,e,...n){if(t=Gt(t),mA("collection","path",e),t instanceof gm){const r=Xt.fromString(e,...n);return UT(r),new Zs(t,null,r)}{if(!(t instanceof dn||t instanceof Zs))throw new qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return UT(r),new Zs(t.firestore,null,r)}}function cn(t,e,...n){if(t=Gt(t),arguments.length===1&&(e=pv.newId()),mA("doc","path",e),t instanceof gm){const r=Xt.fromString(e,...n);return jT(r),new dn(t,null,new Xe(r))}{if(!(t instanceof dn||t instanceof Zs))throw new qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return jT(r),new dn(t.firestore,t instanceof Zs?t.converter:null,new Xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="AsyncQueue";class Cw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ab(this,"async_queue_retry"),this._c=()=>{const r=zg();r&&Ge(Rw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hc(e))throw e;Ge(Rw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",Nw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Pv.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Ze(47125,{Pc:Nw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Nw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class os extends gm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new Cw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cw(e),this._firestoreClient=void 0,await e}}}function aL(t,e){const n=typeof t=="object"?t:Z0(),r=typeof t=="string"?t:_0,a=Qh(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=ev("firestore");o&&iL(a,...o)}return a}function cf(t){if(t._terminated)throw new qe(Te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sL(t),t._firestoreClient}function sL(t){const e=t._freezeSettings(),n=(function(a,o,l,h){return new NP(a,o,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Tb(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ZM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ai(ar.fromBase64String(e))}catch(n){throw new qe(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ai(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rf(e,Ai._jsonSchema))return Ai.fromBase64String(e.bytes)}}Ai._jsonSchemaVersion="firestore/bytes/1.0",Ai._jsonSchema={type:Cn("string",Ai._jsonSchemaVersion),bytes:Cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new qe(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new qe(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new qe(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return gt(this._lat,e._lat)||gt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:va._jsonSchemaVersion}}static fromJSON(e){if(rf(e,va._jsonSchema))return new va(e.latitude,e.longitude)}}va._jsonSchemaVersion="firestore/geoPoint/1.0",va._jsonSchema={type:Cn("string",va._jsonSchemaVersion),latitude:Cn("number"),longitude:Cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_a._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rf(e,_a._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new _a(e.vectorValues);throw new qe(Te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_a._jsonSchemaVersion="firestore/vectorValue/1.0",_a._jsonSchema={type:Cn("string",_a._jsonSchemaVersion),vectorValues:Cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=/^__.*__$/;class lL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mo(e,this.data,this.fieldMask,n,this.fieldTransforms):new af(e,this.data,n,this.fieldTransforms)}}class Sb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ab(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze(40011,{Ac:t})}}class zv{constructor(e,n,r,a,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return C0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ab(this.Ac)&&oL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dm(e)}Cc(e,n,r,a=!1){return new zv({Ac:e,methodName:n,Dc:r,path:er.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hf(t){const e=t._freezeSettings(),n=dm(t._databaseId);return new cL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qv(t,e,n,r,a,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);$v("Data must be an object, but it was:",l,r);const h=Cb(r,l);let d,f;if(o.merge)d=new oi(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const y of o.mergeFields){const x=F1(e,y,n);if(!l.contains(x))throw new qe(Te.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Ib(g,x)||g.push(x)}d=new oi(g),f=l.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,f=l.fieldTransforms;return new lL(new Mr(h),d,f)}class _m extends vm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _m}}class Gv extends vm{_toFieldTransform(e){return new t6(e.path,new Fh)}isEqual(e){return e instanceof Gv}}function bb(t,e,n,r){const a=t.Cc(1,e,n);$v("Data must be an object, but it was:",a,r);const o=[],l=Mr.empty();fo(r,((d,f)=>{const g=Wv(e,d,n);f=Gt(f);const y=a.yc(g);if(f instanceof _m)o.push(g);else{const x=ff(f,y);x!=null&&(o.push(g),l.set(g,x))}}));const h=new oi(o);return new Sb(l,h,a.fieldTransforms)}function Rb(t,e,n,r,a,o){const l=t.Cc(1,e,n),h=[F1(e,r,n)],d=[a];if(o.length%2!=0)throw new qe(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)h.push(F1(e,o[x])),d.push(o[x+1]);const f=[],g=Mr.empty();for(let x=h.length-1;x>=0;--x)if(!Ib(f,h[x])){const T=h[x];let S=d[x];S=Gt(S);const w=l.yc(T);if(S instanceof _m)f.push(T);else{const b=ff(S,w);b!=null&&(f.push(T),g.set(T,b))}}const y=new oi(f);return new Sb(g,y,l.fieldTransforms)}function uL(t,e,n,r=!1){return ff(n,t.Cc(r?4:3,e))}function ff(t,e){if(Nb(t=Gt(t)))return $v("Unsupported field value:",e,t),Cb(t,e);if(t instanceof vm)return(function(r,a){if(!Ab(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let l=0;for(const h of r){let d=ff(h,a.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=Gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JP(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ut.fromDate(r);return{timestampValue:w0(a.serializer,o)}}if(r instanceof ut){const o=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:w0(a.serializer,o)}}if(r instanceof va)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ai)return{bytesValue:YA(a.serializer,r._byteString)};if(r instanceof dn){const o=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw a.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Av(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof _a)return(function(l,h){return{mapValue:{fields:{[wA]:{stringValue:SA},[y0]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw h.Sc("VectorValues must only contain numeric values.");return Ev(h.serializer,f)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${rm(r)}`)})(t,e)}function Cb(t,e){const n={};return vA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(t,((r,a)=>{const o=ff(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function Nb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof va||t instanceof Ai||t instanceof dn||t instanceof vm||t instanceof _a)}function $v(t,e,n){if(!Nb(n)||!pA(n)){const r=rm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function F1(t,e,n){if((e=Gt(e))instanceof uf)return e._internalPath;if(typeof e=="string")return Wv(t,e);throw C0("Field path arguments must be of type string or ",t,!1,void 0,n)}const hL=new RegExp("[~\\*/\\[\\]]");function Wv(t,e,n){if(e.search(hL)>=0)throw C0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uf(...e.split("."))._internalPath}catch{throw C0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function C0(t,e,n,r,a){const o=r&&!r.isEmpty(),l=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${a}`),d+=")"),new qe(Te.INVALID_ARGUMENT,h+t+d)}function Ib(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ym("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fL extends Db{data(){return super.data()}}function ym(t,e){return typeof e=="string"?Wv(t,e):e instanceof uf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new qe(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yv{}class Kv extends Yv{}function br(t,e,...n){let r=[];e instanceof Yv&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((d=>d instanceof Xv)).length,h=o.filter((d=>d instanceof xm)).length;if(l>1||l>0&&h>0)throw new qe(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class xm extends Kv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xm(e,n,r)}_apply(e){const n=this._parse(e);return kb(e._query,n),new us(e.firestore,e.converter,R1(e._query,n))}_parse(e){const n=hf(e.firestore);return(function(o,l,h,d,f,g,y){let x;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new qe(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Ow(y,g);const S=[];for(const w of y)S.push(Dw(d,o,w));x={arrayValue:{values:S}}}else x=Dw(d,o,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Ow(y,g),x=uL(h,l,y,g==="in"||g==="not-in");return Rn.create(f,g,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ur(t,e,n){const r=e,a=ym("where",t);return xm._create(a,r,n)}class Xv extends Yv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ki.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let l=a;const h=o.getFlattenedFilters();for(const d of h)kb(l,d),l=R1(l,d)})(e._query,n),new us(e.firestore,e.converter,R1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qv extends Kv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Qv(e,n)}_apply(e){const n=(function(a,o,l){if(a.startAt!==null)throw new qe(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new qe(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lh(o,l)})(e._query,this._field,this._direction);return new us(e.firestore,e.converter,(function(a,o){const l=a.explicitOrderBy.concat([o]);return new zc(a.path,a.collectionGroup,l,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Em(t,e="asc"){const n=e,r=ym("orderBy",t);return Qv._create(r,n)}class Jv extends Kv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Jv(e,n,r)}_apply(e){return new us(e.firestore,e.converter,E0(e._query,this._limit,this._limitType))}}function dL(t){return Jv._create("limit",t,"F")}function Dw(t,e,n){if(typeof(n=Gt(n))=="string"){if(n==="")throw new qe(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OA(e)&&n.indexOf("/")!==-1)throw new qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xt.fromString(n));if(!Xe.isDocumentKey(r))throw new qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return WT(t,new Xe(r))}if(n instanceof dn)return WT(t,n._key);throw new qe(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rm(n)}.`)}function Ow(t,e){if(!Array.isArray(t)||t.length===0)throw new qe(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kb(t,e){const n=(function(a,o){for(const l of a)for(const h of l.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mL{convertValue(e,n="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fo(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[y0].arrayValue?.values?.map((r=>yn(r.doubleValue)));return new _a(n)}convertGeoPoint(e){return new va(yn(e.latitude),yn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kh(e));default:return null}}convertTimestamp(e){const n=no(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xt.fromString(e);Ct(eb(r),9688,{name:e});const a=new Ph(r.get(1),r.get(3)),o=new Xe(r.popFirst(5));return a.isEqual(n)||as(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class hh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tl extends Db{constructor(e,n,r,a,o,l){super(e,n,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new l0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ym("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(Te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=tl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}tl._jsonSchemaVersion="firestore/documentSnapshot/1.0",tl._jsonSchema={type:Cn("string",tl._jsonSchemaVersion),bundleSource:Cn("string","DocumentSnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class l0 extends tl{data(e={}){return super.data(e)}}class nl{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new hh(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new l0(this._firestore,this._userDataWriter,r.key,r,new hh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new qe(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map((h=>{const d=new l0(a._firestore,a._userDataWriter,h.doc.key,h.doc,new hh(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new l0(a._firestore,a._userDataWriter,h.doc.key,h.doc,new hh(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,g=-1;return h.type!==0&&(f=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),g=l.indexOf(h.doc.key)),{type:pL(h.type),doc:d,oldIndex:f,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(Te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){t=Fr(t,dn);const e=Fr(t.firestore,os);return nL(cf(e),t._key).then((n=>Pb(e,t,n)))}nl._jsonSchemaVersion="firestore/querySnapshot/1.0",nl._jsonSchema={type:Cn("string",nl._jsonSchemaVersion),bundleSource:Cn("string","QuerySnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class e_ extends mL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function rr(t){t=Fr(t,us);const e=Fr(t.firestore,os),n=cf(e),r=new e_(e);return Ob(t._query),rL(n,t._query).then((a=>new nl(e,r,t,a)))}function ya(t,e,n){t=Fr(t,dn);const r=Fr(t.firestore,os),a=Zv(t.converter,e,n);return Tm(r,[qv(hf(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,jr.none())])}function cl(t,e,n,...r){t=Fr(t,dn);const a=Fr(t.firestore,os),o=hf(a);let l;return l=typeof(e=Gt(e))=="string"||e instanceof uf?Rb(o,"updateDoc",t._key,e,n,r):bb(o,"updateDoc",t._key,e),Tm(a,[l.toMutation(t._key,jr.exists(!0))])}function Vh(t,e){const n=Fr(t.firestore,os),r=cn(t),a=Zv(t.converter,e);return Tm(n,[qv(hf(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,jr.exists(!1))]).then((()=>r))}function df(t,...e){t=Gt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Iw(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Iw(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,l,h;if(t instanceof dn)l=Fr(t.firestore,os),h=om(t._key.path),o={next:d=>{e[r]&&e[r](Pb(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Fr(t,us);l=Fr(d.firestore,os),h=d._query;const f=new e_(l);o={next:g=>{e[r]&&e[r](new nl(l,f,d,g))},error:e[r+1],complete:e[r+2]},Ob(t._query)}return(function(f,g,y,x){const T=new Hv(x),S=new Uv(g,T,y);return f.asyncQueue.enqueueAndForget((async()=>Lv(await R0(f),S))),()=>{T.Nu(),f.asyncQueue.enqueueAndForget((async()=>Fv(await R0(f),S)))}})(cf(l),h,a,o)}function Tm(t,e){return(function(r,a){const o=new Qa;return r.asyncQueue.enqueueAndForget((async()=>qM(await tL(r),a,o))),o.promise})(cf(t),e)}function Pb(t,e,n){const r=n.docs.get(e._key),a=new e_(t);return new tl(t,a,e._key,r,new hh(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=hf(e)}set(e,n,r){this._verifyNotCommitted();const a=Gg(e,this._firestore),o=Zv(a.converter,n,r),l=qv(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,r);return this._mutations.push(l.toMutation(a._key,jr.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const o=Gg(e,this._firestore);let l;return l=typeof(n=Gt(n))=="string"||n instanceof uf?Rb(this._dataReader,"WriteBatch.update",o._key,n,r,a):bb(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(l.toMutation(o._key,jr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Gg(e,this._firestore);return this._mutations=this._mutations.concat(new Tv(n._key,jr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qe(Te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gg(t,e){if((t=Gt(t)).firestore!==e)throw new qe(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ln(){return new Gv("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){return cf(t=Fr(t,os)),new gL(t,(e=>Tm(t,e)))}(function(e,n=!0){(function(a){Vc=a})(dl),eo(new ns("firestore",((r,{instanceIdentifier:a,options:o})=>{const l=r.getProvider("app").getImmediate(),h=new os(new uP(r.getProvider("auth-internal")),new dP(l,r.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new qe(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ph(f.options.projectId,g)})(l,a),l);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),bi(PT,MT,e),bi(PT,MT,"esm2020")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n,r,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,mr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||a?.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:a}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="us-central1";class yL{constructor(e,n,r,a,o=j1,l=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new _L(e,n,r,a),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(o);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=j1}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function xL(t,e,n){const r=uo(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Q0(t.emulatorOrigin+"/backends"),J0("Functions",!0))}const kw="@firebase/functions",Pw="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL="auth-internal",TL="app-check-internal",wL="messaging-internal";function SL(t){const e=(n,{instanceIdentifier:r})=>{const a=n.getProvider("app").getImmediate(),o=n.getProvider(EL),l=n.getProvider(wL),h=n.getProvider(TL);return new yL(a,o,l,h,r)};eo(new ns(Mb,e,"PUBLIC").setMultipleInstances(!0)),bi(kw,Pw,t),bi(kw,Pw,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t=Z0(),e=j1){const r=Qh(Gt(t),Mb).getImmediate({identifier:e}),a=ev("functions");return a&&bL(r,...a),r}function bL(t,e,n){xL(Gt(t),e,n)}SL();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="firebasestorage.googleapis.com",RL="storageBucket",CL=120*1e3,NL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Sa{constructor(e,n,r=0){super($g(e),`Firebase Storage: ${n} (${$g(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Aa.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $g(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ea;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ea||(Ea={}));function $g(t){return"storage/"+t}function IL(){const t="An unknown error occurred, please check the error payload for server response.";return new Aa(Ea.UNKNOWN,t)}function DL(){return new Aa(Ea.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OL(){return new Aa(Ea.CANCELED,"User canceled the upload/download.")}function kL(t){return new Aa(Ea.INVALID_URL,"Invalid URL '"+t+"'.")}function PL(t){return new Aa(Ea.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Mw(t){return new Aa(Ea.INVALID_ARGUMENT,t)}function Fb(){return new Aa(Ea.APP_DELETED,"The Firebase app was deleted.")}function ML(t){return new Aa(Ea.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gi.makeFromUrl(e,n)}catch{return new Gi(e,"")}if(r.path==="")return r;throw PL(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const l="(/(.*))?$",h=new RegExp("^gs://"+a+l,"i"),d={bucket:1,path:3};function f(J){J.path_=decodeURIComponent(J.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",T=new RegExp(`^https?://${y}/${g}/b/${a}/o${x}`,"i"),S={bucket:1,path:3},w=n===Lb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",O=new RegExp(`^https?://${w}/${a}/${b}`,"i"),j=[{regex:h,indices:d,postModify:o},{regex:T,indices:S,postModify:f},{regex:O,indices:{bucket:1,path:2},postModify:f}];for(let J=0;J<j.length;J++){const X=j[J],W=X.regex.exec(e);if(W){const N=W[X.indices.bucket];let I=W[X.indices.path];I||(I=""),r=new Gi(N,I),X.postModify(r);break}}if(r==null)throw kL(e);return r}}class LL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e,n){let r=1,a=null,o=null,l=!1,h=0;function d(){return h===2}let f=!1;function g(...b){f||(f=!0,e.apply(null,b))}function y(b){a=setTimeout(()=>{a=null,t(T,d())},b)}function x(){o&&clearTimeout(o)}function T(b,...O){if(f){x();return}if(b){x(),g.call(null,b,...O);return}if(d()||l){x(),g.call(null,b,...O);return}r<64&&(r*=2);let j;h===1?(h=2,j=0):j=(r+Math.random())*1e3,y(j)}let S=!1;function w(b){S||(S=!0,x(),!f&&(a!==null?(b||(h=2),clearTimeout(a),y(0)):b||(h=1)))}return y(0),o=setTimeout(()=>{l=!0,w(!0)},n),w}function jL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t){return t!==void 0}function Lw(t,e,n,r){if(r<e)throw Mw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Mw(`Invalid value for '${t}'. Expected ${n} or less.`)}function VL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var N0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(N0||(N0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r,a,o,l,h,d,f,g,y,x=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=y,this.retry=x,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,w)=>{this.resolve_=S,this.reject_=w,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Bd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=h=>{const d=h.loaded,f=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const h=o.getErrorCode()===N0.NO_ERROR,d=o.getStatus();if(!h||BL(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===N0.ABORT;r(!1,new Bd(!1,null,g));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new Bd(f,o))})},n=(r,a)=>{const o=this.resolve_,l=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());UL(d)?o(d):o()}catch(d){l(d)}else if(h!==null){const d=IL();d.serverResponse=h.getErrorText(),this.errorCallback_?l(this.errorCallback_(h,d)):l(d)}else if(a.canceled){const d=this.appDelete_?Fb():OL();l(d)}else{const d=DL();l(d)}};this.canceled_?n(!1,new Bd(!1,null,!0)):this.backoffId_=FL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&jL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function zL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function qL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $L(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function WL(t,e,n,r,a,o,l=!0,h=!1){const d=VL(t.urlParams),f=t.url+d,g=Object.assign({},t.headers);return GL(g,e),zL(g,n),qL(g,o),$L(g,r),new HL(f,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,l,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function KL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n){this._service=e,n instanceof Gi?this._location=n:this._location=Gi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new I0(e,n)}get root(){const e=new Gi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KL(this._location.path)}get storage(){return this._service}get parent(){const e=YL(this._location.path);if(e===null)return null;const n=new Gi(this._location.bucket,e);return new I0(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ML(e)}}function Fw(t,e){const n=e?.[RL];return n==null?null:Gi.makeFromBucketSpec(n,t)}function XL(t,e,n,r={}){t.host=`${e}:${n}`;const a=uo(e);a&&(Q0(`https://${t.host}/b`),J0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:mS(o,t.app.options.projectId))}class QL{constructor(e,n,r,a,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=Lb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CL,this._maxUploadRetryTime=NL,this._requests=new Set,a!=null?this._bucket=Gi.makeFromBucketSpec(a,this._host):this._bucket=Fw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gi.makeFromBucketSpec(this._url,e):this._bucket=Fw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Lw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Lw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new I0(this,e)}_makeRequest(e,n,r,a,o=!0){if(this._deleted)return new LL(Fb());{const l=WL(e,this._appId,r,a,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const jw="@firebase/storage",Uw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="storage";function JL(t=Z0(),e){t=Gt(t);const r=Qh(t,jb).getImmediate({identifier:e}),a=ev("storage");return a&&ZL(r,...a),r}function ZL(t,e,n,r={}){XL(t,e,n,r)}function eF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new QL(n,r,a,e,dl)}function tF(){eo(new ns(jb,eF,"PUBLIC").setMultipleInstances(!0)),bi(jw,Uw,""),bi(jw,Uw,"esm2020")}tF();var nF="AIzaSyBTl0Jl9ZMQBA84LBbECwzUz5jcL4dYV3Y",rF="mduwebsite1345.firebaseapp.com",iF="mduwebsite1345",aF="mduwebsite1345.firebasestorage.app",sF="653256711691",oF="1:653256711691:web:5aca0f2e84ed19df90710e";const lF={apiKey:nF,authDomain:rF,projectId:iF,storageBucket:aF,messagingSenderId:sF,appId:oF},wm=oT().length?oT()[0]:vS(lF),Mn=iP(wm),tt=aL(wm);AL(wm);JL(wm);const cF=/^\+[1-9]\d{7,14}$/,uF=()=>{const[t,e]=se.useState(""),[n,r]=se.useState(""),[a,o]=se.useState(""),[l,h]=se.useState(""),[d,f]=se.useState(null),[g,y]=se.useState(""),[x,T]=se.useState(!1),S=jc(),w=()=>S("/members");se.useEffect(()=>{const W=tf(Mn,N=>{N&&w()});return()=>W()},[]);const b=async W=>{if(W.preventDefault(),!x){y(""),T(!0);try{await MO(Mn,t.trim(),n),w()}catch(N){console.error("[Email login] ",N),y(N?.message??"Login failed")}finally{T(!1)}}},O=async()=>{if(!x){y(""),T(!0);try{const W=new da;await iA(Mn,W),w()}catch(W){console.error("[Google login] ",W),y(W?.message??"Google sign-in failed")}finally{T(!1)}}},F=()=>{if(window.recaptchaVerifier)return window.recaptchaVerifier;try{window.recaptchaVerifier=new x1(Mn,"recaptcha-container",{size:"invisible"})}catch(W){console.warn("[reCAPTCHA modular ctor failed, trying compat]",W),window.recaptchaVerifier=new x1("recaptcha-container",{size:"invisible"},Mn)}return window.recaptchaVerifier};se.useEffect(()=>()=>{try{window.recaptchaVerifier?.clear?.()}catch{}window.recaptchaVerifier=void 0},[]);const j=se.useMemo(()=>cF.test(a.trim()),[a]),J=async()=>{if(!(x||!j)){y(""),T(!0);try{const W=F(),N=await tA(Mn,a.trim(),W);f(N)}catch(W){console.error("[sendPhoneCode] ",W),y(W?.message??"Failed to send code");try{window.recaptchaVerifier?.reset?.()}catch{}}finally{T(!1)}}},X=async()=>{if(!(!d||x||l.trim().length<6)){y(""),T(!0);try{await d.confirm(l.trim()),w()}catch(W){console.error("[verifyPhoneCode] ",W),y(W?.message??"Invalid verification code")}finally{T(!1)}}};return m.jsx("div",{children:m.jsxs("div",{className:"background",children:[m.jsx("div",{className:"shape"}),m.jsx("div",{className:"shape"}),m.jsxs("form",{onSubmit:b,"aria-busy":x,children:[m.jsx("h3",{children:"Login Here"}),m.jsx("label",{htmlFor:"email",children:"Email"}),m.jsx("input",{id:"email",type:"email",placeholder:"you@ucla.edu",value:t,onChange:W=>e(W.target.value),autoComplete:"email",required:!0,disabled:x}),m.jsx("label",{htmlFor:"password",children:"Password"}),m.jsx("input",{id:"password",type:"password",placeholder:"Password",value:n,onChange:W=>r(W.target.value),autoComplete:"current-password",required:!0,disabled:x}),m.jsx("button",{type:"submit",disabled:x,children:x?"Signing in…":"Log In"}),m.jsx("div",{className:"social",style:{marginTop:20},children:m.jsx("button",{type:"button",className:"go",onClick:O,"aria-label":"Continue with Google",disabled:x,children:"Continue with Google"})}),m.jsxs("fieldset",{style:{marginTop:24,border:"none",padding:0},children:[m.jsx("legend",{style:{fontWeight:600,marginBottom:8},children:"Or sign in with phone"}),d?m.jsxs(m.Fragment,{children:[m.jsx("label",{htmlFor:"code",children:"Enter verification code"}),m.jsx("input",{id:"code",type:"text",placeholder:"123456",value:l,onChange:W=>h(W.target.value),disabled:x}),m.jsx("button",{type:"button",onClick:X,disabled:x||l.trim().length<6,children:"Verify & Sign in"}),m.jsx("button",{type:"button",onClick:()=>{f(null),h("");try{window.recaptchaVerifier?.reset?.()}catch{}},disabled:x,style:{marginLeft:8},children:"Use a different phone"})]}):m.jsxs(m.Fragment,{children:[m.jsx("label",{htmlFor:"phone",children:"Phone (E.164, e.g. +13105551234)"}),m.jsx("input",{id:"phone",type:"tel",placeholder:"+1##########",value:a,onChange:W=>o(W.target.value),disabled:x,"aria-invalid":a.length>0&&!j}),m.jsx("button",{type:"button",onClick:J,disabled:x||!j,children:"Send verification code"})]})]}),g&&m.jsx("p",{style:{color:"salmon",marginTop:16},role:"alert",children:g}),m.jsx("div",{id:"recaptcha-container"}),m.jsxs("p",{style:{marginTop:16},children:["No account? ",m.jsx(ii,{to:"/register",children:"Register"})]})]})]})})};async function hF(t,e){const n=cn(tt,"users",t),r={uid:t,...e,...Array.isArray(e.roles)?{roles:e.roles}:{},updatedAt:Ln(),...e&&!e.createdAt?{createdAt:Ln()}:{}};await ya(n,r,{merge:!0})}const Vw="recaptcha-container-register",fF=()=>{const[t,e]=se.useState({name:"",email:"",phoneNumber:"",year:"",major:"",instrument:"",instrumentsCsv:"",sectionCsv:"",returning:"",bio:"",emergencyName:"",emergencyPhone:"",emergencyRelation:"",password:""}),[n,r]=se.useState(""),[a,o]=se.useState(!1),[l,h]=se.useState(""),[d,f]=se.useState(""),[g,y]=se.useState(null),x=jc(),T=W=>{const{name:N,value:I}=W.target;e(C=>({...C,[N]:I}))},S=se.useMemo(()=>t.instrumentsCsv.split(",").map(W=>W.trim()).filter(Boolean),[t.instrumentsCsv]),w=se.useMemo(()=>{const W=t.sectionCsv.split(",").map(N=>N.trim()).filter(Boolean);return W.length?W[0]:""},[t.sectionCsv]),b=async(W,N,I)=>{await hF(W,{name:t.name,email:t.email||N||void 0,phoneNumber:t.phoneNumber,year:t.year,major:t.major,instrument:t.instrument,instruments:S.length?S:void 0,section:w||void 0,returning:t.returning,bio:t.bio,emergencyName:t.emergencyName,emergencyPhone:t.emergencyPhone,emergencyRelation:t.emergencyRelation,roles:["performer"],...I||{}})},O=async W=>{W.preventDefault(),r(""),o(!0);try{const N=await PO(Mn,t.email,t.password);await b(N.user.uid,N.user.email),x("/members")}catch(N){r(N?.message||"Failed to create account")}finally{o(!1)}},F=async()=>{r(""),o(!0);try{const W=new da,N=await iA(Mn,W);await b(N.user.uid,N.user.email),x("/members")}catch(W){r(W?.message||"Google sign-in failed")}finally{o(!1)}},j=W=>(window._registerRecaptcha||(window._registerRecaptcha=new x1(W,Vw,{size:"normal"})),window._registerRecaptcha),J=async()=>{if(r(""),!l){r("Enter a phone number in E.164 format, e.g. +13105551234");return}o(!0);try{const W=j(Mn),N=await tA(Mn,l,W);y(N)}catch(W){r(W?.message||"Failed to send verification code")}finally{o(!1)}},X=async()=>{if(r(""),!g||!d){r("Enter the verification code you received");return}o(!0);try{const W=await g.confirm(d);await b(W.user.uid,W.user.email,{phoneNumber:l}),x("/members")}catch(W){r(W?.message||"Verification failed")}finally{o(!1)}};return m.jsxs("section",{className:"register-container",children:[m.jsx("h1",{className:"register-title",children:"Create your account"}),m.jsx("p",{className:"register-subtitle",children:"Use email, Google, or phone. You can edit details later in your portal."}),m.jsxs("form",{onSubmit:O,className:"register-form",children:[m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"name",children:"Full Name"}),m.jsx("input",{className:"input",id:"name",name:"name",value:t.name,onChange:T,placeholder:"Jane Doe",required:!0})]}),m.jsxs("div",{className:"grid-2 gap",children:[m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"email",children:"Email"}),m.jsx("input",{className:"input",id:"email",name:"email",type:"email",value:t.email,onChange:T,placeholder:"you@ucla.edu",autoComplete:"email",required:!0})]}),m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"phoneNumber",children:"Phone"}),m.jsx("input",{className:"input",id:"phoneNumber",name:"phoneNumber",value:t.phoneNumber,onChange:T,placeholder:"(###) ###-####"})]})]}),m.jsxs("div",{className:"grid-2 gap",children:[m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"year",children:"Year in School"}),m.jsxs("select",{className:"input",id:"year",name:"year",value:t.year,onChange:T,required:!0,children:[m.jsx("option",{value:"",children:"Select Year"}),m.jsx("option",{children:"1st Year"}),m.jsx("option",{children:"2nd Year"}),m.jsx("option",{children:"3rd Year"}),m.jsx("option",{children:"4th Year"}),m.jsx("option",{children:"Graduate"}),m.jsx("option",{children:"Alumni"})]})]}),m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"major",children:"Major"}),m.jsx("input",{className:"input",id:"major",name:"major",value:t.major,onChange:T,placeholder:"Physics, EE, Music, ..."})]})]}),m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"instrument",children:"Primary Instrument"}),m.jsx("input",{className:"input",id:"instrument",name:"instrument",value:t.instrument,onChange:T,placeholder:"Violin, Trumpet, Vihuela..."})]}),m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"instrumentsCsv",children:"Instrument(s) (comma-separated)"}),m.jsx("input",{className:"input",id:"instrumentsCsv",name:"instrumentsCsv",value:t.instrumentsCsv,onChange:T,placeholder:"violin, guitar, trumpet, voice"})]}),m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"sectionCsv",children:"Section(s) (comma-separated)"}),m.jsx("input",{className:"input",id:"sectionCsv",name:"sectionCsv",value:t.sectionCsv,onChange:T,placeholder:"violas, violins, harp, voces"})]}),m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"returning",children:"Are you a returning member?"}),m.jsxs("select",{className:"input",id:"returning",name:"returning",value:t.returning,onChange:T,required:!0,children:[m.jsx("option",{value:"",children:"Select"}),m.jsx("option",{value:"Yes",children:"Yes"}),m.jsx("option",{value:"No",children:"No"})]})]}),m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"bio",children:"Short Bio"}),m.jsx("textarea",{className:"input",id:"bio",name:"bio",value:t.bio,onChange:T,placeholder:"Tell us a little about your experience",rows:3})]}),m.jsxs("div",{className:"grid-3 gap",children:[m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"emergencyName",children:"Emergency Contact Name"}),m.jsx("input",{className:"input",id:"emergencyName",name:"emergencyName",value:t.emergencyName,onChange:T})]}),m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"emergencyPhone",children:"Emergency Contact Phone"}),m.jsx("input",{className:"input",id:"emergencyPhone",name:"emergencyPhone",value:t.emergencyPhone,onChange:T})]}),m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"emergencyRelation",children:"Relation"}),m.jsx("input",{className:"input",id:"emergencyRelation",name:"emergencyRelation",value:t.emergencyRelation,onChange:T})]})]}),m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"password",children:"Password"}),m.jsx("input",{className:"input",type:"password",id:"password",name:"password",value:t.password,onChange:T,required:!0})]}),n&&m.jsx("p",{className:"error",children:n}),m.jsx("button",{type:"submit",className:"submit",disabled:a,children:a?"Creating account…":"Register with Email"})]}),m.jsx("div",{className:"divider",children:m.jsx("span",{children:"or"})}),m.jsx("div",{className:"oauth-row",children:m.jsx("button",{type:"button",className:"btn-google",onClick:F,disabled:a,"aria-label":"Continue with Google",children:"Continue with Google"})}),m.jsxs("div",{className:"phone-card",children:[g?m.jsxs("div",{className:"grid-2 gap",children:[m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"code",children:"Enter verification code"}),m.jsx("input",{className:"input",id:"code",value:d,onChange:W=>f(W.target.value),placeholder:"123456"})]}),m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",children:" "}),m.jsx("button",{type:"button",className:"btn-outline",onClick:X,disabled:a||!d,children:"Verify & Create account"})]})]}):m.jsxs("div",{className:"grid-2 gap",children:[m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"phone",children:"Phone (E.164, e.g. +13105551234)"}),m.jsx("input",{className:"input",id:"phone",type:"tel",value:l,onChange:W=>h(W.target.value),placeholder:"+1##########"})]}),m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",children:" "}),m.jsx("button",{type:"button",className:"btn-outline",onClick:J,disabled:a||!l,children:"Send verification code"})]})]}),m.jsx("div",{id:Vw})]})]})},dF={};function mF(t){const e="recaptcha-v3";if(document.getElementById(e))return;const n=document.createElement("script");n.id=e,n.async=!0,n.defer=!0,n.src=`https://www.google.com/recaptcha/api.js?render=${t}`,document.head.appendChild(n)}function Ub(){const[t,e]=se.useState(!1),n=se.useRef(typeof import.meta<"u"?dF?.VITE_RECAPTCHA_SITE_KEY??null:null);se.useEffect(()=>{if(!n.current){e(!0);return}mF(n.current);const a=()=>e(!0),o=window.setInterval(()=>{window.grecaptcha?.execute&&(window.clearInterval(o),a())},100);return()=>window.clearInterval(o)},[]);const r=se.useCallback(async a=>{if(!n.current)return`dev_${a}_${Date.now()}`;const o=window.grecaptcha;if(!o||!o.execute)throw new Error("reCAPTCHA not ready");return await o.execute(n.current,{action:a})},[]);return{ready:t,execute:r}}async function Vb(t){if(!t?.name||!t?.email)throw new Error("Name and email are required");const e={type:"client_request",name:t.name,email:t.email,phone:t.phone??null,org:t.org??null,message:t.message??null,event:t.event??null,recaptchaToken:t.recaptchaToken??null,status:"new",createdAt:Ln(),updatedAt:Ln()},n=await Vh(Jt(tt,"clients"),e);try{t.event&&(t.event.title||t.event.date)&&await Vh(Jt(tt,"events"),{title:t.event.title||"Client Inquiry",date:t.event.date??null,start:t.event.start??null,end:t.event.end??null,location:t.event.location??null,status:"inquiry",visibility:"private",source:"client_form",clientRef:n.path,createdAt:Ln(),updatedAt:Ln()})}catch(a){console.warn("[submitClientRequest] event draft create failed:",a)}const r="https://https://script.google.com/u/0/home/projects/1FIwKXVOJn4P5Toveh84N7GisHXMpfKnGDv3Xrr-_j384zPbr8hW05Lvk/edit";try{await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,firestoreId:n.id})})}catch(a){console.warn("[submitClientRequest] webhook failed:",a)}return{id:n.id}}const pF=()=>{const[t,e]=se.useState({name:"",email:"",phone:"",eventDate:"",eventLocation:"",eventDetails:"",extraDetails:"",website:""}),[n,r]=se.useState("idle"),[a,o]=se.useState(""),{execute:l}=Ub(),h=f=>{e(g=>({...g,[f.target.name]:f.target.value}))};async function d(f){if(f.preventDefault(),o(""),t.website&&t.website.trim().length>0){r("success");return}try{r("submitting");const g=await l("client_booking"),y=t.eventDate?new Date(`${t.eventDate}T09:00`).toISOString():void 0;await Vb({recaptchaToken:g,name:t.name,email:t.email,phone:t.phone||void 0,org:void 0,message:[t.eventDetails?`Details: ${t.eventDetails}`:"",t.extraDetails?`Extra: ${t.extraDetails}`:""].filter(Boolean).join(`
`),event:{title:"Client Inquiry",date:t.eventDate||void 0,start:y,end:void 0,location:t.eventLocation||void 0}}),r("success"),e({name:"",email:"",phone:"",eventDate:"",eventLocation:"",eventDetails:"",extraDetails:"",website:""})}catch(g){r("error"),o(g?.message||"Failed to submit. Please try again later.")}}return m.jsxs("section",{className:"form-page bookus",children:[m.jsx("h1",{children:"Book Us"}),m.jsx("p",{children:"Please fill out this form to request a performance booking."}),m.jsxs("form",{onSubmit:d,className:"bookus-form",children:[m.jsx("input",{name:"website",value:t.website,onChange:h,className:"hp",tabIndex:-1,"aria-hidden":!0}),m.jsx("input",{name:"name",placeholder:"Your Name",value:t.name,onChange:h,required:!0}),m.jsx("input",{name:"email",type:"email",placeholder:"Your Email",value:t.email,onChange:h,required:!0}),m.jsx("input",{name:"phone",placeholder:"Phone Number",value:t.phone,onChange:h,required:!0}),m.jsx("input",{name:"eventDate",type:"date",value:t.eventDate,onChange:h,required:!0}),m.jsx("input",{name:"eventLocation",placeholder:"Event Location",value:t.eventLocation,onChange:h,required:!0}),m.jsx("textarea",{name:"eventDetails",placeholder:"Tell us about your event...",value:t.eventDetails,onChange:h,required:!0}),m.jsx("textarea",{name:"extraDetails",placeholder:"Anything else?",value:t.extraDetails,onChange:h}),m.jsx("button",{type:"submit",disabled:n==="submitting",children:n==="submitting"?"Submitting…":"Submit Request"}),n==="success"&&m.jsx("p",{className:"ok",children:"Thank you for your inquiry! We will get back to you soon."}),n==="error"&&m.jsx("p",{className:"err",children:a})]})]})},gF=()=>{const[t,e]=se.useState({name:"",email:"",phone:"",instrument:"",experience:""}),n=a=>{e({...t,[a.target.name]:a.target.value})},r=a=>{a.preventDefault(),console.log("Join request submitted:",t),alert("Thank you for your interest! We will contact you soon.")};return m.jsxs("section",{className:"form-page",children:[m.jsx("h1",{children:"Join Mariachi de Uclatlán"}),m.jsx("p",{children:"Interested in joining our group? Fill out the form below."}),m.jsxs("form",{onSubmit:r,children:[m.jsx("input",{name:"name",placeholder:"Your Name",onChange:n,required:!0}),m.jsx("input",{name:"email",type:"email",placeholder:"Your Email",onChange:n,required:!0}),m.jsx("input",{name:"phone",placeholder:"Phone Number",onChange:n,required:!0}),m.jsx("input",{name:"instrument",placeholder:"Instrument",onChange:n,required:!0}),m.jsx("textarea",{name:"experience",placeholder:"Tell us about your experience...",onChange:n,required:!0}),m.jsx("button",{type:"submit",children:"Submit Application"})]})]})};async function vF(t){const e={name:t.name,email:t.email,phone:t.phone??null,org:t.org??null,message:t.message??null,event:{title:t.event?.title??null,date:t.event?.date??null,start:t.event?.start??null,end:t.event?.end??null,location:t.event?.location??null},status:"new",createdAt:Ln(),updatedAt:Ln(),meta:{userAgent:t.meta?.userAgent??null,tz:t.meta?.tz??null}};await Vh(Jt(tt,"inquiries"),e)}function _F(){const[t,e]=se.useState({name:"",email:"",phone:"",org:"",title:"",date:"",startTime:"",endTime:"",location:"",details:""}),[n,r]=se.useState(""),[a,o]=se.useState(""),[l,h]=se.useState(!1),{execute:d}=Ub(),f=(y,x)=>{if(!y)return;const T=x&&x.length>=4?x:"00:00";try{return new Date(`${y}T${T}:00`).toISOString()}catch{return}};async function g(y){if(y.preventDefault(),!l){r(""),o(""),h(!0);try{if(!t.name.trim()||!t.email.trim()){o("Please provide your name and email."),h(!1);return}const x=await d("client_booking"),T={name:t.name.trim(),email:t.email.trim(),phone:t.phone.trim()||void 0,org:t.org.trim()||void 0,message:t.details.trim()||void 0,event:{title:(t.title||"Client Inquiry").trim(),date:t.date||void 0,start:f(t.date,t.startTime),end:f(t.date,t.endTime),location:t.location.trim()||void 0},meta:{userAgent:typeof navigator<"u"?navigator.userAgent:void 0,tz:Intl.DateTimeFormat().resolvedOptions().timeZone}};await Promise.all([Vb({recaptchaToken:x,...T}),vF(T)]),r("Thanks! Your request was received. We'll reach out soon."),e({name:"",email:"",phone:"",org:"",title:"",date:"",startTime:"",endTime:"",location:"",details:""})}catch(x){console.error("[HireUs submit] ",x),o(x?.message||"Failed to send")}finally{h(!1)}}}return m.jsxs("div",{className:"hireus",children:[m.jsx("h2",{children:"Hire Us"}),m.jsxs("form",{onSubmit:g,className:"event-form",children:[m.jsx("h3",{children:"Contact"}),m.jsx("input",{placeholder:"Your name",value:t.name,onChange:y=>e(x=>({...x,name:y.target.value})),required:!0}),m.jsx("input",{type:"email",placeholder:"Email",value:t.email,onChange:y=>e(x=>({...x,email:y.target.value})),required:!0}),m.jsx("input",{placeholder:"Phone",value:t.phone,onChange:y=>e(x=>({...x,phone:y.target.value}))}),m.jsx("input",{placeholder:"Organization (optional)",value:t.org,onChange:y=>e(x=>({...x,org:y.target.value}))}),m.jsx("h3",{children:"Event"}),m.jsx("input",{placeholder:"Event title",value:t.title,onChange:y=>e(x=>({...x,title:y.target.value}))}),m.jsx("input",{type:"date",value:t.date,onChange:y=>e(x=>({...x,date:y.target.value}))}),m.jsxs("div",{className:"time-row",children:[m.jsx("input",{type:"time",value:t.startTime,onChange:y=>e(x=>({...x,startTime:y.target.value}))}),m.jsx("input",{type:"time",value:t.endTime,onChange:y=>e(x=>({...x,endTime:y.target.value}))})]}),m.jsx("input",{placeholder:"Location",value:t.location,onChange:y=>e(x=>({...x,location:y.target.value}))}),m.jsx("textarea",{placeholder:"Details / repertoire / special notes",value:t.details,onChange:y=>e(x=>({...x,details:y.target.value}))}),m.jsx("button",{type:"submit",disabled:l,children:l?"Submitting…":"Submit request"}),n&&m.jsx("p",{className:"ok",role:"status",children:n}),a&&m.jsx("p",{className:"err",role:"alert",children:a})]})]})}const yF="/dist/UCLATLAN_Fowler_3.png",xF="Picture Brandon made",EF=()=>{const[t,e]=xe.useState(()=>{try{return localStorage.getItem("members:funnyCaption")||""}catch{return""}});return xe.useEffect(()=>{try{localStorage.setItem("members:funnyCaption",t)}catch{}},[t]),{caption:t,setCaption:e}},TF=()=>{const[t,e]=xe.useState(()=>{try{return JSON.parse(localStorage.getItem("members:halloweenInterest")||"null")??{interest:null,pledge:""}}catch{return{interest:null,pledge:""}}});return xe.useEffect(()=>{try{localStorage.setItem("members:halloweenInterest",JSON.stringify(t))}catch{}},[t]),{state:t,setState:e}},wF=()=>(EF(),TF(),m.jsxs("section",{className:"members-dashboard ucla-content",children:[m.jsxs("header",{className:"welcome",children:[m.jsx("h1",{className:"ucla-heading-xl",children:"Welcome back! 🎶"}),m.jsx("p",{className:"ucla-paragraph",children:"Your space for events, resources, and all things Mariachi de Uclatlán."})]}),m.jsxs("div",{className:"grid",children:[m.jsxs("article",{className:"card announcement",children:[m.jsx("h2",{children:"Hi — welcome to Week 3!"}),m.jsxs("ul",{className:"nice-list",children:[m.jsxs("li",{children:[m.jsx("strong",{children:"Rehearsal"})," is at ",m.jsx("strong",{children:"7:00 PM"}),"."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Dinner"})," is at ",m.jsx("strong",{children:"6:00 PM"})," (location TBA)."]}),m.jsxs("li",{children:["Watch ",m.jsx("strong",{children:"GroupMe"})," and our ",m.jsx("strong",{children:"Instagram chats"})," for updates on socials, gig calls, and any last‑minute changes."]}),m.jsx("li",{children:"Questions? Ping Enrique or any Board member."})]})]}),m.jsxs("article",{className:"card announcement",children:[m.jsx("h2",{children:"Comms Reminder"}),m.jsxs("p",{children:["We’ll post timely updates in ",m.jsx("strong",{children:"GroupMe"})," and the ",m.jsx("strong",{children:"Instagram chats"}),". Make sure you’re in both so you don’t miss rehearsal notes, social plans, and call times."]})]}),m.jsx("article",{className:"card funny-picture",children:m.jsxs("figure",{className:"funny-figure",children:[m.jsx("img",{src:yF,alt:"Mariachi de Uclatlán — members spotlight",className:"funny-image",loading:"lazy",decoding:"async"}),m.jsx("figcaption",{className:"caption",children:xF})]})})]}),m.jsxs("article",{className:"card news",children:[m.jsx("h2",{children:"What’s new"}),m.jsxs("ul",{className:"bullets",children:[m.jsxs("li",{children:["🎺 New: Export your event calendar from ",m.jsx(ii,{to:"/members/settings",children:"Settings → Download .ics"}),"."]}),m.jsx("li",{children:"📅 Remember to update your availability for upcoming gigs."}),m.jsx("li",{children:"📣 For social updates and quick polls, check GroupMe & Instagram chats."})]})]})]}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function SF(t,e,n,r){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function h(g){try{f(r.next(g))}catch(y){l(y)}}function d(g){try{f(r.throw(g))}catch(y){l(y)}}function f(g){g.done?o(g.value):a(g.value).then(h,d)}f((r=r.apply(t,[])).next())})}function AF(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,l;return l={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function h(f){return function(g){return d([f,g])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(o=f[0]&2?a.return:f[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,f[1])).done)return o;switch(a=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,a=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(g){f=[6,g],a=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mc=function(){return mc=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},mc.apply(this,arguments)},Bb=function(t){return{loading:t==null,value:t}},bF=function(){return function(t,e){switch(e.type){case"error":return mc(mc({},t),{error:e.error,loading:!1,value:void 0});case"reset":return Bb(e.defaultValue);case"value":return mc(mc({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},RF=(function(t){var e=t?t():void 0,n=se.useReducer(bF(),Bb(e)),r=n[0],a=n[1],o=se.useCallback(function(){var d=t?t():void 0;a({type:"reset",defaultValue:d})},[t]),l=se.useCallback(function(d){a({type:"error",error:d})},[]),h=se.useCallback(function(d){a({type:"value",value:d})},[]);return se.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:l,setValue:h,value:r.value}},[r.error,r.loading,o,l,h,r.value])}),Hb=(function(t,e){var n=RF(function(){return t.currentUser}),r=n.error,a=n.loading,o=n.setError,l=n.setValue,h=n.value;return se.useEffect(function(){var d=tf(t,function(f){return SF(void 0,void 0,void 0,function(){var g;return AF(this,function(y){switch(y.label){case 0:return[3,4];case 1:return y.trys.push([1,3,,4]),[4,e.onUserChanged(f)];case 2:return y.sent(),[3,4];case 3:return g=y.sent(),o(g),[3,4];case 4:return l(f),[2]}})})},o);return function(){d()}},[t]),[h,a,r]});const el=t=>{if(!t&&t!==0)return null;if(t instanceof Date)return t;if(t&&typeof t=="object"&&"toDate"in t)return t.toDate();const e=new Date(t);return isNaN(e.getTime())?null:e},Bw=(t,e)=>{const n=el(t),r=el(e);if(!n)return"TBA";const a={year:"numeric",month:"short",day:"numeric"},o={hour:"2-digit",minute:"2-digit"};if(!r)return`${n.toLocaleDateString(void 0,a)} ${n.toLocaleTimeString(void 0,o)}`;const l=n.toDateString()===r.toDateString(),h=`${n.toLocaleDateString(void 0,a)} ${n.toLocaleTimeString(void 0,o)}`,d=l?r.toLocaleTimeString(void 0,o):`${r.toLocaleDateString(void 0,a)} ${r.toLocaleTimeString(void 0,o)}`;return`${h} → ${d}`},Hw=t=>{const e=el(t);return e?e.toLocaleString?.()||e.toISOString():""},CF=t=>t==="inquiries"?"/img/inquiry-card.jpg":"/img/event-card.jpg";function NF(t,e,n){if(!e||e.includes("/"))throw new Error("bad id");return cn(tt,t,e,"availability",n)}const IF=()=>{const[t]=Hb(Mn),[e,n]=xe.useState([]),[r,a]=xe.useState([]),[o,l]=xe.useState(!0),[h,d]=xe.useState(""),[f,g]=xe.useState(null),[y,x]=xe.useState(null),T=xe.useMemo(()=>e.find(O=>O.id===f)||null,[e,f]);xe.useEffect(()=>{(async()=>{d(""),l(!0);try{if(!t){l(!1);return}const F=Jt(tt,"availability"),X=(await rr(br(F,Ur("uid","==",t.uid)))).docs.map(C=>({id:C.id,...C.data()})).filter(C=>C.status==="yes");X.sort((C,P)=>(el(C.eventStart)?.getTime()??0)-(el(P.eventStart)?.getTime()??0)),n(X);const W=Jt(tt,"trajes"),I=(await rr(br(W,Ur("assignedTo","==",t.uid)))).docs.map(C=>({id:C.id,...C.data()}));a(I.filter(C=>C.status!=="retired"))}catch(F){console.error("[ProfilePage] load failed",F),d(F?.message||"Failed to load profile data")}finally{l(!1)}})()},[t]);const S=async O=>{try{if(g(O.id),O.source&&O.eventId){const F=await Gc(cn(tt,O.source,O.eventId));x(F.exists()?F.data():{})}else x({})}catch(F){console.error("failed to load event details",F),x({})}},w=()=>{g(null),x(null)},b=async(O,F)=>{if(!(!t||!O.eventId||O.source!=="events"))try{const j=NF("events",O.eventId,t.uid),J={uid:t.uid,displayName:t.displayName||t.email||"Unknown",email:t.email||null,status:F,updatedAt:Ln(),source:O.source,refId:O.eventId,eventId:O.eventId,eventTitle:O.eventTitle||(y?.title??"Untitled Event"),eventStart:O.eventStart??(y?.start||null),eventEnd:O.eventEnd??(y?.end||null),eventLocation:O.eventLocation??(y?.location||null),finalized:O.finalized||!1};await ya(j,J,{merge:!0});const X=`${O.source}_${O.eventId}_${t.uid}`;await ya(cn(tt,"availability",X),J,{merge:!0}),n(W=>{const N=W.map(I=>I.id===O.id?{...I,status:F,updatedAt:ut.now()}:I);return N.sort((I,C)=>(el(I.eventStart)?.getTime()??0)-(el(C.eventStart)?.getTime()??0)),N})}catch(j){console.error("saveRsvp failed",j),d("Could not save RSVP.")}};return t?m.jsxs("section",{className:"profile-wrap",children:[m.jsxs("header",{className:"card profile-card profile-head",children:[m.jsx("div",{className:"avatar",children:t.photoURL?m.jsx("img",{src:t.photoURL,alt:"avatar"}):m.jsx("div",{className:"avatar-placeholder",children:(t.displayName||t.email||"U")[0].toUpperCase()})}),m.jsxs("div",{className:"id-block",children:[m.jsx("h2",{children:t.displayName||"Member"}),m.jsx("div",{className:"muted",children:t.email}),m.jsx("div",{className:"roles",children:m.jsx("span",{className:"role-chip",children:"Member"})})]}),m.jsx("div",{})]}),h&&m.jsxs("div",{className:"inline-banner error",children:[m.jsx("span",{className:"banner-icon",children:"!"}),m.jsx("span",{children:h}),m.jsx("button",{className:"banner-dismiss",onClick:()=>d(""),"aria-label":"Dismiss",children:"×"})]}),o&&m.jsx("p",{className:"muted",children:"Loading your events & inventory…"}),m.jsx("h3",{className:"section-title",children:"My Accepted Performances"}),!o&&e.length===0&&m.jsx("p",{className:"muted",children:"No accepted performances yet."}),m.jsx("div",{className:"accepted-list",children:e.map(O=>m.jsxs("article",{className:"accepted-card",onClick:()=>S(O),role:"button",tabIndex:0,onKeyDown:F=>{F.key==="Enter"&&S(O)},children:[m.jsxs("div",{className:"accepted-head",children:[m.jsx("h4",{className:"accepted-title",children:O.eventTitle||"Untitled"}),m.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[O.finalized&&m.jsx("span",{className:"chip chip--final",children:"Finalized"}),m.jsxs("select",{"aria-label":"Change availability",value:O.status,onClick:F=>F.stopPropagation(),onChange:F=>{F.stopPropagation(),b(O,F.target.value)},disabled:O.finalized||O.source!=="events",children:[m.jsx("option",{value:"yes",children:"Yes"}),m.jsx("option",{value:"maybe",children:"Maybe"}),m.jsx("option",{value:"no",children:"No"})]})]})]}),m.jsx("img",{src:CF(O.source),alt:"event visual",className:"card-img",onError:F=>{F.currentTarget.style.display="none"}}),m.jsxs("dl",{className:"accepted-meta",children:[m.jsxs("div",{className:"meta-row",children:[m.jsx("dt",{children:"When"}),m.jsx("dd",{children:Bw(O.eventStart,O.eventEnd)})]}),!!O.eventLocation&&m.jsxs("div",{className:"meta-row",children:[m.jsx("dt",{children:"Where"}),m.jsx("dd",{children:O.eventLocation})]}),!!O.updatedAt&&m.jsxs("div",{className:"meta-row",children:[m.jsx("dt",{children:"Updated"}),m.jsx("dd",{children:Hw(O.updatedAt)})]})]})]},O.id))}),m.jsx("h3",{className:"section-title",style:{marginTop:"1.25rem"},children:"My Issued Traje Items"}),!o&&r.length===0&&m.jsx("p",{className:"muted",children:"You currently have no issued items."}),m.jsx("div",{className:"accepted-list",children:r.map(O=>m.jsxs("article",{className:"accepted-card",children:[m.jsxs("div",{className:"accepted-head",children:[m.jsx("h4",{className:"accepted-title",children:O.type||"Item"}),m.jsx("span",{className:"chip",children:O.status||"assigned"})]}),m.jsxs("dl",{className:"accepted-meta",children:[O.tag&&m.jsxs("div",{className:"meta-row",children:[m.jsx("dt",{children:"Tag"}),m.jsx("dd",{children:O.tag})]}),O.size&&m.jsxs("div",{className:"meta-row",children:[m.jsx("dt",{children:"Size"}),m.jsx("dd",{children:O.size})]}),O.condition&&m.jsxs("div",{className:"meta-row",children:[m.jsx("dt",{children:"Cond."}),m.jsx("dd",{children:O.condition})]}),O.assignedAt&&m.jsxs("div",{className:"meta-row",children:[m.jsx("dt",{children:"Since"}),m.jsx("dd",{children:Hw(O.assignedAt)})]}),O.notes&&m.jsxs("div",{className:"meta-row",children:[m.jsx("dt",{children:"Notes"}),m.jsx("dd",{children:O.notes})]})]})]},O.id))}),T&&m.jsx("div",{className:"modal-backdrop",onClick:w,children:m.jsxs("div",{className:"modal",role:"dialog","aria-modal":"true","aria-label":"Event details",onClick:O=>O.stopPropagation(),children:[m.jsxs("header",{className:"modal-head",children:[m.jsx("h4",{className:"modal-title",children:T.eventTitle||"Event"}),m.jsx("button",{className:"modal-close",onClick:w,"aria-label":"Close",children:"×"})]}),m.jsxs("div",{className:"modal-body",children:[m.jsxs("p",{className:"muted",children:[T.source==="events"?"Event":"Inquiry"," • ",Bw(T.eventStart,T.eventEnd)]}),T.eventLocation&&m.jsxs("p",{children:[m.jsx("strong",{children:"Location:"})," ",T.eventLocation]}),y?.description&&m.jsx("p",{className:"multi",children:y.description}),!y?.description&&m.jsx("p",{className:"muted",children:"No description provided."}),m.jsxs("div",{style:{marginTop:12},children:[m.jsxs("label",{className:"field",children:[m.jsx("span",{children:"My Availability"}),m.jsxs("select",{value:T.status,onChange:O=>b(T,O.target.value),disabled:T.finalized||T.source!=="events",children:[m.jsx("option",{value:"yes",children:"Yes"}),m.jsx("option",{value:"maybe",children:"Maybe"}),m.jsx("option",{value:"no",children:"No"})]})]}),T.finalized&&m.jsx("div",{className:"inline-banner error",style:{marginTop:8},children:"This RSVP was finalized by an admin."}),T.source!=="events"&&m.jsx("div",{className:"inline-banner error",style:{marginTop:8},children:"Availability can only be submitted on confirmed events."})]})]})]})})]}):m.jsx("section",{className:"profile-wrap",children:m.jsxs("div",{className:"inline-banner error",children:[m.jsx("span",{className:"banner-icon",children:"!"}),m.jsx("span",{children:"Please sign in to view your profile."})]})})},DF=t=>t==="published"?m.jsx("span",{className:"status published",children:"Published"}):t==="draft"?m.jsx("span",{className:"status draft",children:"Draft"}):t==="cancelled"?m.jsx("span",{className:"status cancelled",children:"Cancelled"}):null,zb=({event:t,canManage:e=!1,canRSVP:n=!1,onEdit:r,onDelete:a})=>m.jsxs("article",{className:`event-card ${t.status??""}`,children:[m.jsxs("header",{className:"event-head",children:[m.jsx("h3",{className:"event-title",children:t.title}),DF(t.status)]}),t.subtitle&&m.jsx("p",{className:"event-sub",children:t.subtitle}),m.jsxs("ul",{className:"event-meta",children:[m.jsxs("li",{children:[m.jsx("strong",{children:"When:"})," ",t.dateStr]}),t.location&&m.jsxs("li",{children:[m.jsx("strong",{children:"Where:"})," ",t.location]})]}),t.notes&&m.jsx("p",{className:"event-notes",children:t.notes}),m.jsxs("footer",{className:"event-actions",children:[n&&m.jsxs("div",{className:"left-actions",children:[m.jsx("button",{className:"btn",children:"I can play"}),m.jsx("button",{className:"btn btn-light",children:"Can’t make it"})]}),e&&m.jsxs("div",{className:"right-actions",children:[m.jsx("button",{className:"btn",onClick:()=>r?.(t.id),children:"Edit"}),m.jsx("button",{className:"btn btn-danger",onClick:()=>a?.(t.id),children:"Delete"})]})]})]}),OF=({event:t,onClose:e})=>{const n=t.dateStr?t.dateStr.split(","):[],r=n[0]?n[0].trim():"",a=n[1]?n[1].trim():"";return m.jsx("div",{className:"modal-overlay",onClick:e,children:m.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[m.jsx("h2",{className:"modal-title",children:t.title}),r&&m.jsxs("p",{children:[m.jsx("strong",{children:"Date:"})," ",r]}),a&&m.jsxs("p",{children:[m.jsx("strong",{children:"Time:"})," ",a]}),t.location&&m.jsxs("p",{children:[m.jsx("strong",{children:"Location:"})," ",t.location]}),t.notes&&m.jsx("p",{className:"modal-desc",children:t.notes}),m.jsx("div",{className:"modal-actions",children:m.jsx("button",{onClick:e,children:"Close"})})]})})};function zw(t){if(t)return t instanceof ut?t.toDate():t instanceof Date?t:new Date(t)}function kF(t){return{...t,start:zw(t.start),end:zw(t.end)}}function qb(t,e,n){const r=typeof t=="object"&&"start"in t&&!(t instanceof Date),a=Intl.DateTimeFormat().resolvedOptions().timeZone,o={dateStyle:"medium",timeZone:a},l={timeStyle:"short",timeZone:a};if(r){const h=t,d=new Intl.DateTimeFormat(void 0,o).format(h.start),f=new Intl.DateTimeFormat(void 0,l).format(h.start),g=h.end?new Intl.DateTimeFormat(void 0,l).format(h.end):"";return{date:d,time:g?`${f} – ${g}`:f}}else{const h=t,d=new Intl.DateTimeFormat(void 0,o).format(h),f=new Intl.DateTimeFormat(void 0,l).format(h),g="";return g?`${d} • ${f} – ${g}`:`${d} • ${f}`}}const t_="events";function Gb(t,e){const n=br(Jt(tt,t_),Em("start","asc"));return df(n,r=>{const a=r.docs.map(o=>kF({id:o.id,...o.data()}));t(a)},r=>e?.(r))}async function PF(t){return Vh(Jt(tt,t_),{...t,createdAt:Ln(),updatedAt:Ln()})}async function qw(t,e){await cl(cn(tt,t_,t),{...e,updatedAt:Ln()})}function MF(t){const{date:e,time:n}=qb(t);return{id:t.id,title:t.title,dateStr:n?`${e}, ${n}`:e,location:t.location||"",notes:t.description||"",status:t.status}}const LF=()=>{const[t,e]=xe.useState([]),[n,r]=xe.useState(null),[a,o]=xe.useState(!0);return xe.useEffect(()=>{const l=Gb(h=>{e(h.map(MF)),o(!1)},h=>{console.error("[Events subscribe]",h),o(!1)});return()=>l()},[]),m.jsxs("section",{className:"ucla-content",style:{maxWidth:980,margin:"0 auto"},children:[m.jsx("h1",{className:"ucla-heading-xl",children:"Upcoming Events"}),a&&m.jsx("p",{children:"Loading events…"}),!a&&t.length===0&&m.jsx("p",{children:"No events yet."}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:16,marginTop:16},children:t.map(l=>m.jsx(zb,{event:l,onClick:()=>r(l)},l.id))}),n&&m.jsx(OF,{event:n,onClose:()=>r(null)})]})},FF="https://ucla.app.box.com/folder/248008790297",jF="https://www.instagram.com/mariachideuclatlan/",UF="https://groupme.com/",VF=()=>m.jsxs("section",{className:"ucla-content resources-shell",children:[m.jsxs("header",{className:"resources-header",children:[m.jsx("h1",{className:"ucla-heading-xl",children:"Resources"}),m.jsx("p",{className:"lede",children:"Quick links for members: sheet music, Instagram, and GroupMe."})]}),m.jsxs("div",{className:"resources-grid",children:[m.jsxs("article",{className:"card res-card",children:[m.jsx("h2",{className:"res-title",children:"🎼 Sheet Music Library"}),m.jsx("p",{className:"res-desc",children:"Access PDF parts for each instrument section via UCLA Box."}),m.jsx("a",{className:"btn btn-primary",href:FF,target:"_blank",rel:"noopener noreferrer",children:"Open Sheet Music Library →"})]}),m.jsxs("article",{className:"card res-card",children:[m.jsx("h2",{className:"res-title",children:"📸 Instagram"}),m.jsx("p",{className:"res-desc",children:"Follow for announcements, gig photos, and social updates."}),m.jsx("a",{className:"btn insta",href:jF,target:"_blank",rel:"noopener noreferrer","aria-label":"Open the official Instagram page",children:"Open Instagram →"})]}),m.jsxs("article",{className:"card res-card",children:[m.jsx("h2",{className:"res-title",children:"💬 GroupMe"}),m.jsx("p",{className:"res-desc",children:"Join the GroupMe for day-of logistics and last‑minute updates. If this link doesn’t work for you, ping the Board for the latest invite."}),m.jsx("a",{className:"btn groupme",href:UF,target:"_blank",rel:"noopener noreferrer","aria-label":"Open the GroupMe group",children:"Open GroupMe →"})]})]}),m.jsx("footer",{className:"resources-foot",children:m.jsxs("p",{className:"muted",children:["Tip: we can move these URLs into Firestore (e.g., ",m.jsx("code",{children:"config/publicLinks"}),") so admins can update them without a code change."]})})]}),Gw=t=>{if(!t&&t!==0)return null;if(typeof t=="object"&&t&&typeof t.toDate=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number"){const e=new Date(t);return isNaN(e.getTime())?null:e}return null},th=t=>t<10?`0${t}`:`${t}`,Wg=t=>`${t.getUTCFullYear()}${th(t.getUTCMonth()+1)}${th(t.getUTCDate())}T${th(t.getUTCHours())}${th(t.getUTCMinutes())}${th(t.getUTCSeconds())}Z`,Yg=t=>t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"").replace(/[,;]/g,e=>`\\${e}`),BF=t=>{const e=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Uclatlán//Mariachi Events//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH","X-WR-CALNAME:Mariachi de Uclatlán — Events"];for(const n of t)e.push("BEGIN:VEVENT",`UID:${n.id}@uclatlanmariachi`,`DTSTAMP:${Wg(new Date)}`,`DTSTART:${Wg(n.start)}`,`DTEND:${Wg(n.end)}`,`SUMMARY:${Yg(n.title)}`,n.location?`LOCATION:${Yg(n.location)}`:"",n.description?`DESCRIPTION:${Yg(n.description)}`:"","END:VEVENT");return e.push("END:VCALENDAR"),e.filter(Boolean).join(`\r
`)},HF=()=>{const t=jc(),e=async()=>{try{await VO(Mn),localStorage.removeItem("adminAccess"),t("/login")}catch(j){console.error("Error during logout:",j)}},[n,r]=xe.useState(!1),[a,o]=xe.useState(""),l=xe.useCallback(async()=>{r(!0),o("");try{const j=br(Jt(tt,"events"),Ur("status","in",["published","confirmed","active"]),Em("start","asc")),J=await rr(j),X=[];J.forEach(P=>{const L=P.data(),z=Gw(L.start),M=Gw(L.end);!z||!M||X.push({id:P.id,title:L.title??"Untitled Event",start:z,end:M,location:L.location??"",description:L.description??""})});const W=BF(X),N=new Blob([W],{type:"text/calendar;charset=utf-8"}),I=URL.createObjectURL(N),C=document.createElement("a");C.href=I,C.download="uclatlan_events.ics",document.body.appendChild(C),C.click(),C.remove(),URL.revokeObjectURL(I),o(`Exported ${X.length} event${X.length===1?"":"s"} to .ics`)}catch(j){console.error("[Settings] Download ICS failed",j),o("Failed to export calendar")}finally{r(!1)}},[]),[h,d]=xe.useState(""),[f,g]=xe.useState(""),[y,x]=xe.useState(""),[T,S]=xe.useState(""),[w,b]=xe.useState(!1),O=h.length>0&&f.length>=8&&f===y,F=async j=>{j.preventDefault(),S("");const J=Mn.currentUser;if(!J){S("You must be logged in.");return}if(!O){S("Please fill all fields. Password must be at least 8 characters and match.");return}try{b(!0);const X=J.email;if(!X)throw new Error("This account uses a provider login (e.g., Google). Change your password with your provider.");if(h===f)throw new Error("New password must be different from the current password.");const W=ml.credential(X,h);await kO(J,W),await LO(J,f),d(""),g(""),x(""),S("Password updated successfully.")}catch(X){S(X?.message??"Failed to change password")}finally{b(!1)}};return m.jsxs("section",{className:"settings ucla-content",children:[m.jsx("h1",{className:"ucla-heading-xl",children:"Account Settings"}),m.jsx("p",{className:"ucla-paragraph",children:"Manage your session, export your calendar, and update your password."}),m.jsxs("div",{className:"settings-card",children:[m.jsx("h2",{children:"Calendar"}),m.jsx("p",{className:"muted",children:"Export all published/confirmed events to an .ics file for Google/Apple/Outlook."}),m.jsx("button",{className:"btn primary",onClick:l,disabled:n,children:n?"Building calendar…":"Download .ics of events"}),a&&m.jsx("p",{className:"status",children:a})]}),m.jsxs("div",{className:"settings-card",children:[m.jsx("h2",{children:"Change Password"}),m.jsxs("form",{className:"form",onSubmit:F,children:[m.jsxs("label",{children:[m.jsx("span",{children:"Current password"}),m.jsx("input",{type:"password",value:h,onChange:j=>d(j.target.value),autoComplete:"current-password",required:!0})]}),m.jsxs("label",{children:[m.jsx("span",{children:"New password"}),m.jsx("input",{type:"password",value:f,onChange:j=>g(j.target.value),minLength:8,autoComplete:"new-password",required:!0})]}),m.jsxs("label",{children:[m.jsx("span",{children:"Confirm new password"}),m.jsx("input",{type:"password",value:y,onChange:j=>x(j.target.value),minLength:8,autoComplete:"new-password",required:!0})]}),m.jsx("button",{className:"btn primary",type:"submit",disabled:!O||w,children:w?"Updating…":"Update password"}),T&&m.jsx("p",{className:`status ${/failed|error|requires|different/i.test(T)?"error":""}`,children:T}),m.jsx("p",{className:"muted tiny",children:"Note: If you signed in with Google/SSO, change your password with your provider."})]})]}),m.jsxs("div",{className:"settings-card danger",children:[m.jsx("h2",{children:"Session"}),m.jsx("p",{className:"muted",children:"Sign out of your account on this device."}),m.jsx("button",{className:"btn danger",onClick:e,children:"Log out"})]})]})},Ec=t=>{if(t){if(t instanceof Date)return t;if(t instanceof ut)return t.toDate();try{const e=new Date(t);return isNaN(e.getTime())?void 0:e}catch{return}}},$w=t=>{const e=Ec(t);return e?ut.fromDate(e):null},zF=(t,e)=>{const n=Ec(t),r=Ec(e);if(!n)return"";const a={year:"numeric",month:"short",day:"numeric"},o={hour:"2-digit",minute:"2-digit"};if(!r)return`${n.toLocaleDateString(void 0,a)} ${n.toLocaleTimeString(void 0,o)}`;const l=n.toDateString()===r.toDateString(),h=`${n.toLocaleDateString(void 0,a)} ${n.toLocaleTimeString(void 0,o)}`,d=l?r.toLocaleTimeString(void 0,o):`${r.toLocaleDateString(void 0,a)} ${r.toLocaleTimeString(void 0,o)}`;return`${h} → ${d}`},Ww=(t,e)=>{if(!t)throw new Error(e)},Yw=(t,e)=>(Ww(t&&typeof t=="string","[PerformerAvailability] Missing eventId"),Ww(e&&typeof e=="string","[PerformerAvailability] Missing uid"),(t==="availability"||t.includes("/"))&&console.error("[PerformerAvailability] Suspicious eventId detected:",{eventId:t,uid:e}),cn(tt,"events",t,"availability",e)),qF=(t,e)=>cn(tt,"availability",`${t}_${e}`),GF=(t,e)=>cn(tt,"availability_responses",`${t}_${e}`),$F=()=>{const[t]=Hb(Mn),[e,n]=xe.useState(!0),[r,a]=xe.useState(null),[o,l]=xe.useState([]),[h,d]=xe.useState({}),[f,g]=xe.useState({}),[y,x]=xe.useState({}),[T,S]=xe.useState(null),w=xe.useRef(null);xe.useEffect(()=>((async()=>{a(null),n(!0);try{const N=br(Jt(tt,"events"),Ur("status","==","published")),C=(await rr(N)).docs.map(Ue=>({id:Ue.id,...Ue.data()}));console.table(C.map(Ue=>({id:Ue.id,title:Ue.title})));const P=Date.now(),L=C.filter(Ue=>{const ke=Ec(Ue.start)?.getTime();return typeof ke=="number"?ke>=P-1e3*60*60*24:!0}).sort((Ue,ke)=>{const ce=Ec(Ue.start)?.getTime()??0,Re=Ec(ke.start)?.getTime()??0;return ce-Re});l(L);const z={},M={};for(const Ue of L)z[Ue.id]="",M[Ue.id]=!1;if(d(z),x(M),t){const Ue={...z},ke={...M};for(const ce of L){if(!ce?.id){console.warn("[PerformerAvailability] Skipping event with missing id:",ce);continue}try{const Re=Yw(ce.id,t.uid),He=await Gc(Re),Ye=He.exists()?He.data():void 0,te=Ye?.status||"",fe=!!Ye?.finalized;Ue[ce.id]=te,ke[ce.id]=fe}catch(Re){console.error("[PerformerAvailability] Failed to read availability for event",ce.id,Re)}}d(Ue),x(ke)}}catch(N){console.error(N),a(N?.message||"Failed to load events")}finally{n(!1)}})(),()=>{w.current&&window.clearTimeout(w.current)}),[t]);const b=(W,N)=>{const I=N.target.value;d(C=>({...C,[W]:I}))},O=W=>{S({type:"success",text:W}),w.current&&window.clearTimeout(w.current),w.current=window.setTimeout(()=>S(null),3500)},F=W=>{w.current&&window.clearTimeout(w.current),S({type:"error",text:W})},j=async(W,N)=>{if(!t)throw new Error("no-auth");const I=o.find(L=>L.id===W),C=Yw(W,t.uid),P={uid:t.uid,displayName:t.displayName||t.email||"Unknown",email:t.email||null,status:N,updatedAt:Ln(),eventId:W,eventTitle:I?.title||"Untitled Event",eventStart:$w(I?.start),eventEnd:$w(I?.end),eventLocation:I?.location||null,finalized:!1};await ya(C,P,{merge:!0}),await ya(GF(W,t.uid),P,{merge:!0}),await ya(qF(W,t.uid),P,{merge:!0})},J=async W=>{if(!t){F("Please try again.");return}const N=`Apply "${W.toUpperCase()}" to all events? Locked (finalized) items will be skipped.`;if(window.confirm(N)){d(I=>{const C={...I};for(const P of o)y[P.id]||(C[P.id]=W);return C});try{let I=0,C=0,P=0;for(const M of o){if(y[M.id]){C++;continue}try{await j(M.id,W),I++}catch(Ue){console.error("[PerformerAvailability] Bulk write failed for",M.id,Ue),P++}}const L=[];I&&L.push(`${I} updated`),C&&L.push(`${C} skipped`),P&&L.push(`${P} failed`);const z=L.length?L.join(" • "):"No changes";P?F(`Done with issues — ${z}`):O(`Done — ${z}.`)}catch(I){console.error(I),F("Please try again.")}}},X=async W=>{if(!t){F("Please try again.");return}if(y[W]){F("This RSVP was finalized by an admin.");return}const N=h[W]||"";if(!N){F("Please select an availability first.");return}g(I=>({...I,[W]:!0}));try{await j(W,N),O("Thank you for submitting your availability.")}catch(I){console.error(I),F("Please try again.")}finally{g(I=>({...I,[W]:!1}))}};return t?m.jsxs("section",{className:"ucla-content availability-shell",children:[m.jsx("h1",{className:"ucla-heading-xl",children:"Performer Availability"}),T&&m.jsxs("div",{className:`inline-banner ${T.type}`,role:"status","aria-live":"polite",children:[T.type==="success"?m.jsx("span",{className:"banner-icon","aria-hidden":!0,children:"✓"}):m.jsx("span",{className:"banner-icon","aria-hidden":!0,children:"!"}),m.jsx("span",{children:T.text}),m.jsx("button",{className:"banner-dismiss",onClick:()=>S(null),"aria-label":"Dismiss",children:"×"})]}),m.jsxs("div",{className:"bulk-toolbar",children:[m.jsx("span",{className:"muted",children:"Apply to all:"}),m.jsx("button",{className:"btn bulk yes",onClick:()=>J("yes"),children:"Mark all Yes"}),m.jsx("button",{className:"btn bulk maybe",onClick:()=>J("maybe"),children:"Mark all Maybe"}),m.jsx("button",{className:"btn bulk no",onClick:()=>J("no"),children:"Mark all No"})]}),e&&m.jsx("p",{className:"muted",children:"Loading events…"}),r&&m.jsx("p",{className:"error-text",children:r}),m.jsxs("div",{className:"availability-list",children:[o.map(W=>m.jsxs("article",{className:"availability-card",children:[m.jsxs("header",{className:"availability-head",children:[m.jsx("h3",{className:"availability-title",children:W.title||"Untitled Event"}),m.jsx("span",{className:`status-pill ${W.status}`,children:W.status})]}),m.jsxs("dl",{className:"availability-meta",children:[m.jsxs("div",{className:"meta-row",children:[m.jsx("dt",{children:"When"}),m.jsx("dd",{children:zF(W.start,W.end)||"TBA"})]}),W.location&&m.jsxs("div",{className:"meta-row",children:[m.jsx("dt",{children:"Where"}),m.jsx("dd",{children:W.location})]})]}),m.jsxs("div",{className:"availability-actions",children:[m.jsxs("label",{className:"sr-only",htmlFor:`sel-${W.id}`,children:["Availability for ",W.title]}),m.jsxs("select",{id:`sel-${W.id}`,value:h[W.id]||"",onChange:N=>b(W.id,N),disabled:y[W.id]||!!f[W.id],children:[m.jsx("option",{value:"",children:"Select availability…"}),m.jsx("option",{value:"yes",children:"Yes"}),m.jsx("option",{value:"maybe",children:"Maybe"}),m.jsx("option",{value:"no",children:"No"})]}),m.jsx("button",{className:"btn-primary",disabled:y[W.id]||!!f[W.id],onClick:()=>X(W.id),children:f[W.id]?"Saving…":y[W.id]?"Finalized":"Submit"})]}),y[W.id]&&m.jsx("p",{className:"finalized-note",children:"This RSVP was finalized by an admin and can’t be changed."})]},W.id)),!e&&!o.length&&m.jsx("p",{className:"muted",children:"No upcoming events yet."})]})]}):m.jsxs("section",{className:"ucla-content availability-shell",children:[m.jsx("h1",{className:"ucla-heading-xl",children:"Performer Availability"}),m.jsx("p",{children:"Please log in to set availability."})]})},WF=["angelrocks0319@gmail.com","angelr19@g.ucla.edu","angelr19@ucla.edu","uclatlan@ucla.edu","uclatlan@g.ucla.edu","enriquerodgon09@g.ucla.edu","andelapena1374@gmail.com"],$b=t=>{if(!t)return!1;const e=t.toLowerCase();return WF.some(n=>n.toLowerCase()===e)};function D0(t,e){if(!t)return new Date;if(t instanceof ut)return t.toDate();if(typeof t=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(t))return new Date(`${t}T12:00:00`);const n=new Date(t);return isNaN(+n)?e??new Date:n}return t instanceof Date?t:e??new Date}function YF(t){const e=t.statuses??["published"],n=[];e.length===1?n.push(Ur("status","==",e[0])):e.length>1&&n.push(Ur("status","in",e.slice(0,10)));const r=br(Jt(tt,"events"),...n);return df(r,a=>{const o=a.docs.map(l=>{const h=l.data(),d=D0(h.start??h.date),f=h.end?D0(h.end):null,g=h.title??"Untitled Event";return{id:l.id,type:"event",title:g,start:d,end:f,location:h.location??null,status:h.status,raw:h}});o.sort((l,h)=>+l.start-+h.start),t.onChange(o)})}function KF(t){const e=br(Jt(tt,"calendar_feed"));return df(e,n=>{const r=n.docs.map(a=>{const o=a.data(),l=D0(o.start??o.date),h=o.end?D0(o.end):null,d=o.title??"Client Inquiry";return{id:a.id,type:"inquiry",title:d,start:l,end:h,location:o.location??null,status:o.status??"new",raw:o}});r.sort((a,o)=>+a.start-+o.start),t(r)})}function XF(t,e){const n=[...t,...e];return n.sort((r,a)=>+r.start-+a.start),n}const QF=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],JF=(t,e)=>t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate(),U1=(t,e)=>{const n=new Date(t);return n.setDate(n.getDate()+e),n};function ZF(t,e){const n=new Date(t.getFullYear(),t.getMonth(),1),r=(n.getDay()-e+7)%7,a=U1(n,-r),o=[];for(let l=0;l<42;l++)o.push(U1(a,l));return o}const e8=t=>t.toLocaleString(void 0,{month:"long",year:"numeric"});function t8(t,e){return t.slice(e).concat(t.slice(0,e))}function O0(t){const e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`}function n8(t,e){const n=new Map;for(const r of t){const a=new Date(r.start.getFullYear(),r.start.getMonth(),r.start.getDate()),o=r.end&&r.end>r.start?new Date(r.end.getFullYear(),r.end.getMonth(),r.end.getDate()):a;if(!e){const d=O0(a);n.has(d)||n.set(d,[]),n.get(d).push(r);continue}let l=a,h=0;for(;l<=o&&h++<60;){const d=O0(l);n.has(d)||n.set(d,[]),n.get(d).push(r),l=U1(l,1)}}return n}function r8(t,e){const n=t.audience;return!n||n==="public"?!0:n==="members"?e==="member"||e==="admin":n==="admins"?e==="admin":!0}const Kg=t=>{const e={yes:0,maybe:0,no:0};if(!t)return e;for(const n of t)n.status==="going"?e.yes++:n.status==="maybe"?e.maybe++:n.status==="declined"&&e.no++;return e},i8=({events:t,month:e,year:n,firstDayOfWeek:r=0,onEventClick:a,onMonthChange:o,renderEvent:l,maxPillsPerDay:h=3,expandMultiDay:d=!0,view:f="month",showViewToggle:g=!0,canViewParticipants:y=!1,fetchParticipants:x,subscribeParticipants:T,viewerRole:S="guest",filterByAudience:w=!0,showAvailabilityBadges:b=!0})=>{const[O,F]=xe.useState(()=>new Date(n??new Date().getFullYear(),e??new Date().getMonth(),1)),[j,J]=xe.useState(f),[X,W]=xe.useState(!1),[N,I]=xe.useState(null),[C,P]=xe.useState(null),[L,z]=xe.useState(!1),[M,Ue]=xe.useState({}),ke=xe.useRef({});xe.useEffect(()=>{o?.(O.getFullYear(),O.getMonth())},[O.getFullYear(),O.getMonth()]),xe.useEffect(()=>{J(f)},[f]),xe.useEffect(()=>{if(!X)return;const Y=Q=>{Q.key==="Escape"&&W(!1)};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[X]);const ce=xe.useMemo(()=>(w?t.filter(Y=>r8(Y,S)):t).sort((Y,Q)=>+Y.start-+Q.start),[t,S,w]),Re=xe.useMemo(()=>ZF(O,r),[O,r]),He=xe.useMemo(()=>n8(ce,d),[ce,d]),Ye=xe.useMemo(()=>t8(QF,r),[r]),te=xe.useMemo(()=>{const Y=new Map;for(const Q of ce){const re=O0(Q.start);Y.has(re)||Y.set(re,[]),Y.get(re).push(Q)}return Array.from(Y.entries()).sort((Q,re)=>Q[0].localeCompare(re[0]))},[ce]);xe.useEffect(()=>{if(Object.values(ke.current).forEach(re=>re()),ke.current={},!T){(async()=>{const re=new Set,Pe=j==="month"?Array.from(He.values()).flat():ce;for(const Le of Pe)re.add(Le.id);const Ie={};if(x){for(const Le of re)try{const De=await x(Le);Ie[Le]=Kg(De)}catch{}Ue(Le=>({...Le,...Ie}))}})();return}const Y=re=>{if(ke.current[re])return;const Pe=T(re,Ie=>{Ue(Le=>({...Le,[re]:Kg(Ie)}))});ke.current[re]=Pe},Q=j==="month"?Array.from(He.values()).flat():ce;for(const re of Q)Y(re.id);return()=>{Object.values(ke.current).forEach(re=>re()),ke.current={}}},[j,He,ce,T,x]);const fe=async Y=>{if(a?.(Y),I(Y),W(!0),y&&x){z(!0);try{const Q=await x(Y.id);P(Q),Ue(re=>({...re,[Y.id]:Kg(Q)}))}finally{z(!1)}}else P(null)},B=()=>{W(!1),I(null),P(null)},ee=({id:Y})=>{if(!b)return null;const Q=M[Y];return!Q||Q.yes+Q.maybe+Q.no===0?null:m.jsxs("div",{className:"av-badges","aria-label":`Availability: ${Q.yes} yes, ${Q.maybe} maybe, ${Q.no} no`,children:[m.jsxs("span",{className:"av-chip yes",children:["Yes ",Q.yes]}),Q.maybe?m.jsxs("span",{className:"av-chip maybe",children:["Maybe ",Q.maybe]}):null,Q.no?m.jsxs("span",{className:"av-chip no",children:["No ",Q.no]}):null]})};return m.jsxs("div",{className:"cal-wrap",role:"group","aria-label":"Calendar",children:[m.jsxs("div",{className:"cal-header",children:[m.jsxs("div",{className:"left-ctrls",children:[m.jsx("button",{type:"button",className:"cal-nav",onClick:()=>F(new Date(O.getFullYear(),O.getMonth()-1,1)),"aria-label":"Previous month",children:"◀"}),m.jsx("div",{className:"cal-title","aria-live":"polite",children:e8(O)}),m.jsx("button",{type:"button",className:"cal-nav",onClick:()=>F(new Date(O.getFullYear(),O.getMonth()+1,1)),"aria-label":"Next month",children:"▶"})]}),g&&m.jsxs("div",{className:"view-toggle",role:"tablist","aria-label":"Calendar view selector",children:[m.jsx("button",{className:`view-btn ${j==="month"?"active":""}`,role:"tab","aria-selected":j==="month",onClick:()=>J("month"),children:"Month"}),m.jsx("button",{className:`view-btn ${j==="agenda"?"active":""}`,role:"tab","aria-selected":j==="agenda",onClick:()=>J("agenda"),children:"Agenda"})]})]}),j==="month"?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"cal-grid cal-weekdays",role:"row",children:Ye.map(Y=>m.jsx("div",{className:"cal-weekday",role:"columnheader","aria-label":Y,children:Y},Y))}),m.jsx("div",{className:"cal-grid cal-cells",role:"grid","aria-readonly":!0,children:Re.map((Y,Q)=>{const re=O0(Y),Pe=He.get(re)||[],Ie=JF(Y,new Date),Le=Y.getMonth()===O.getMonth();return m.jsxs("div",{className:`cal-cell ${Le?"":"muted"}`,role:"gridcell","aria-selected":Ie,children:[m.jsx("div",{className:`cal-date ${Ie?"today":""}`,"aria-label":Y.toDateString(),children:Y.getDate()}),m.jsxs("div",{className:"cal-events",children:[Pe.slice(0,h).map(De=>m.jsxs("div",{className:"cal-pill-wrap",children:[m.jsx("button",{type:"button",className:`cal-pill${De.status?` status-${De.status}`:""}`,title:`${De.title}${De.location?" @ "+De.location:""}`,onClick:()=>fe(De),children:l?l(De):De.title}),m.jsx(ee,{id:De.id})]},De.id)),Pe.length>h&&m.jsxs("div",{className:"cal-more",children:["+",Pe.length-h," more"]})]})]},Q)})})]}):m.jsxs("div",{className:"agenda-wrap",children:[te.length===0&&m.jsx("p",{className:"muted-text",children:"No items."}),te.map(([Y,Q])=>m.jsxs("div",{className:"agenda-day",children:[m.jsx("h3",{className:"agenda-day-head",children:new Date(Y).toLocaleDateString()}),m.jsx("ul",{className:"agenda-items",children:Q.map(re=>m.jsxs("li",{className:"agenda-item",children:[m.jsxs("span",{className:"agenda-time",children:[re.start.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),re.end?` – ${re.end.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""]}),m.jsxs("div",{className:"agenda-pill-wrap",children:[m.jsxs("button",{type:"button",className:`agenda-pill${re.status?` status-${re.status}`:""}`,onClick:()=>fe(re),title:`${re.title}${re.location?" @ "+re.location:""}`,children:[m.jsx("strong",{children:re.title}),re.location?m.jsxs("span",{className:"agenda-loc",children:[" • ",re.location]}):null]}),m.jsx(ee,{id:re.id})]})]},re.id))})]},Y))]}),X&&N&&m.jsxs("div",{className:"cal-drawer-container","aria-hidden":!X,children:[m.jsx("div",{className:"cal-drawer-backdrop",onClick:B}),m.jsxs("div",{className:"cal-drawer-panel",role:"dialog","aria-modal":!0,"aria-label":"Event details",onClick:Y=>Y.stopPropagation(),children:[m.jsxs("div",{className:"drawer-head",children:[m.jsxs("div",{children:[m.jsx("div",{className:"drawer-title",children:N.title}),m.jsxs("div",{className:"drawer-meta",children:[N.start.toLocaleString(),N.end?` – ${N.end.toLocaleTimeString()}`:"",N.location?` • ${N.location}`:""]})]}),m.jsx("button",{className:"drawer-close",onClick:B,"aria-label":"Close",children:"✕"})]}),m.jsx("div",{className:"drawer-body",children:m.jsxs("div",{className:"stack",children:[m.jsx("div",{className:"muted-text",children:N.description??"No description provided."}),m.jsx("div",{children:m.jsx(ee,{id:N.id})}),y?L?m.jsx("div",{className:"loading",children:"Loading attendees…"}):C&&C.length?m.jsx(a8,{list:C}):m.jsx("div",{className:"muted-text",children:"No attendee data."}):m.jsx("div",{className:"muted-text",children:"Attendee visibility disabled."})]})})]})]})]})},a8=({list:t})=>{const[e,n]=xe.useState("going"),r=xe.useMemo(()=>{const l=t.filter(f=>f.status==="going"),h=t.filter(f=>f.status==="maybe"),d=t.filter(f=>f.status==="declined");return{g:l,m:h,d}},[t]),a=l=>m.jsxs("tr",{children:[m.jsx("td",{children:l.name??l.uid}),m.jsx("td",{className:`status ${l.status??"unknown"}`,children:l.status??"unknown"}),m.jsx("td",{children:l.section??"—"})]},l.uid),o=e==="all"?t:e==="going"?r.g:e==="maybe"?r.m:r.d;return m.jsxs("div",{className:"att-wrap",children:[m.jsxs("div",{className:"att-tabs",role:"tablist","aria-label":"Attendee filters",children:[m.jsxs("button",{className:`att-tab ${e==="going"?"active":""}`,onClick:()=>n("going"),role:"tab","aria-selected":e==="going",children:["Going (",r.g.length,")"]}),m.jsxs("button",{className:`att-tab ${e==="maybe"?"active":""}`,onClick:()=>n("maybe"),role:"tab","aria-selected":e==="maybe",children:["Maybe (",r.m.length,")"]}),m.jsxs("button",{className:`att-tab ${e==="declined"?"active":""}`,onClick:()=>n("declined"),role:"tab","aria-selected":e==="declined",children:["Declined (",r.d.length,")"]}),m.jsxs("button",{className:`att-tab ${e==="all"?"active":""}`,onClick:()=>n("all"),role:"tab","aria-selected":e==="all",children:["All (",t.length,")"]})]}),m.jsxs("table",{className:"att-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Performer"}),m.jsx("th",{children:"Status"}),m.jsx("th",{children:"Section"})]})}),m.jsx("tbody",{children:o.length?o.map(a):m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"muted-text",style:{textAlign:"center"},children:"No one here."})})})]})]})},Wb=["participation","availability","avaiablity","rsvps","rsvp"];function Hd(t){if(!t)return;if(t instanceof ut||typeof t=="object"&&t&&"toDate"in t)return t.toDate();const e=new Date(t);return Number.isNaN(e.getTime())?void 0:e}function s8(t){if(typeof t=="string"){const e=t.toLowerCase();if(["going","yes","attending","available","confirm","confirmed"].includes(e))return"going";if(["maybe","tentative","unsure"].includes(e))return"maybe";if(["declined","no","unavailable","cant","can't","cannot"].includes(e))return"declined"}return typeof t=="boolean"?t?"going":"declined":"unknown"}function Yb(t,e){const n=e.uid||t,r=e.name||e.displayName,a=e.section||e.instrument,o=e.status??e.availability??e.response??e.rsvp??e.going,l=s8(o),h=Hd(e.updatedAt)||Hd(e.updated_at)||Hd(e.lastUpdated)||Hd(e._updated)||void 0;return{uid:n,name:r,status:l,section:a,updatedAt:h}}function o8(t,e){if(!t)return e;if(!e)return t;if(t.updatedAt&&e.updatedAt)return t.updatedAt>e.updatedAt?t:e;if(t.updatedAt&&!e.updatedAt)return t;if(!t.updatedAt&&e.updatedAt)return e;const n={going:3,maybe:2,declined:1,unknown:0},r=n[t.status??"unknown"],a=n[e.status??"unknown"];return r!==a&&r>a?t:e}function Kb(t){const e=new Map;for(const n of t)for(const r of n)e.set(r.uid,o8(e.get(r.uid),r));return Array.from(e.values())}async function l8(t){const e=[];for(const n of Wb)try{const r=await rr(Jt(tt,`events/${t}/${n}`));r.empty||e.push(r.docs.map(a=>Yb(a.id,a.data())))}catch{}return Kb(e)}function c8(t,e){const n=[],r=new Map,a=()=>e(Kb(Array.from(r.values())));for(const o of Wb)try{const l=Jt(tt,`events/${t}/${o}`),h=df(l,d=>{const f=d.docs.map(g=>Yb(g.id,g.data()));r.set(o,f),a()},()=>{r.delete(o),a()});n.push(h)}catch{}return()=>{for(const o of n)try{o()}catch{}}}const u8=t=>l8(t),h8=(t,e)=>c8(t,e),f8=()=>{const[t,e]=xe.useState(!1),[n,r]=xe.useState([]),[a,o]=xe.useState([]),[l,h]=xe.useState([]);xe.useEffect(()=>{const f=tf(Mn,g=>{e($b(g?.email??void 0))});return()=>f()},[]),xe.useEffect(()=>{const f=YF({statuses:["published"],onChange:r}),g=KF(o);return()=>{f(),g()}},[]),xe.useEffect(()=>{h(XF(n,a))},[n,a]);const d=xe.useMemo(()=>l,[l]);return m.jsxs("section",{className:"calendar-page",children:[m.jsx("h1",{className:"ucla-heading-xl",children:"Calendar"}),m.jsxs("p",{className:"ucla-paragraph",children:["Published events",t?" + client inquiries":"","."]}),d.length===0?m.jsx("p",{children:"No upcoming items yet."}):m.jsx(i8,{events:d,view:"agenda",showViewToggle:!0,canViewParticipants:!0,fetchParticipants:u8,subscribeParticipants:h8,viewerRole:t?"admin":"member",filterByAudience:!0,showAvailabilityBadges:!0})]})},Kw=t=>{if(t){if(t instanceof Date)return t;if(t instanceof ut)return t.toDate();try{const e=new Date(t);return isNaN(e.getTime())?void 0:e}catch{return}}},Xg=({label:t,value:e,loading:n,error:r})=>m.jsxs("div",{className:"stat-card","aria-live":"polite",children:[m.jsx("div",{className:"stat-value",children:n?"…":r?"!":e}),m.jsx("div",{className:"stat-label",children:n?"Loading…":r||t})]}),Xw=()=>{const[t,e]=xe.useState(!1),[n,r]=xe.useState(!0),[a,o]=xe.useState(null),[l,h]=xe.useState("—"),[d,f]=xe.useState("—"),[g,y]=xe.useState("—"),[x,T]=xe.useState(null),[S,w]=xe.useState(null),[b,O]=xe.useState(null);xe.useEffect(()=>{const j=tf(Mn,J=>e(!!J));return()=>j()},[]),xe.useEffect(()=>{if(!t)return;(async()=>{r(!0),o(null),T(null),w(null),O(null);const J=Date.now(),X=new Date(J-1440*60*1e3),W=(async()=>{try{const C=Jt(tt,"events"),P=br(C,Ur("status","==","published")),z=(await rr(P)).docs.filter(M=>{const Ue=Kw(M.data().start)?.getTime();return typeof Ue=="number"?Ue>=J-7200*1e3:!1}).length;h(z)}catch(C){h("—"),T(C?.code==="permission-denied"?"No permission":"Error")}})(),N=(async()=>{try{const C=Jt(tt,"inquiries"),L=(await rr(C)).docs.filter(z=>{const M=z.data();return typeof M.pushed=="boolean"?M.pushed===!1:M.status!=="closed"}).length;f(L)}catch(C){f("—"),w(C?.code==="permission-denied"?"No permission":"Error")}})(),I=(async()=>{try{const C=Jt(tt,"availability_responses"),P=br(C,Ur("status","==","yes")),z=(await rr(P)).docs.filter(M=>{const Ue=M.data(),ke=Kw(Ue.eventStart);return ke?ke>=X:!1}).length;y(z)}catch(C){y("—"),O(C?.code==="permission-denied"?"No permission":"Error")}})();try{await Promise.all([W,N,I])}catch(C){o(C?.message||"Failed to load stats")}finally{r(!1)}})()},[t]);const F=[{to:"events",title:"Events",desc:"Create, publish, and manage upcoming events.",icon:m.jsx("svg",{viewBox:"0 0 24 24",className:"icon","aria-hidden":!0,children:m.jsx("path",{d:"M7 2v2M17 2v2M3 8h18M5 6h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm3 5h4m-4 4h8",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round"})})},{to:"managemembers",title:"Manage Members",desc:"Search members and assign roles.",icon:m.jsx("svg",{viewBox:"0 0 24 24",className:"icon","aria-hidden":!0,children:m.jsx("path",{d:"M12 12a4 4 0 1 0-0.001-8.001A4 4 0 0 0 12 12zm0 2c-4.418 0-8 2.239-8 5v1h16v-1c0-2.761-3.582-5-8-5z",fill:"currentColor"})})},{to:"reports",title:"Reports",desc:"Export availability & payouts (CSV/PDF).",icon:m.jsxs("svg",{viewBox:"0 0 24 24",className:"icon","aria-hidden":!0,children:[m.jsx("path",{d:"M7 3h10a2 2 0 0 1 2 2v10l-4 4H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm8 0v4h4",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("path",{d:"M8 13h8M8 9h6M8 17h4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})},{to:"inquiries",title:"Requests",desc:"Accept/decline Hire Us inquiries → events.",icon:m.jsxs("svg",{viewBox:"0 0 24 24",className:"icon","aria-hidden":!0,children:[m.jsx("path",{d:"M21 7v10a2 2 0 0 1-2 2H9l-6 3V7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("path",{d:"M8 10h8M8 14h5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})},{to:"participation",title:"Participation",desc:"Attendance & financial summaries.",icon:m.jsx("svg",{viewBox:"0 0 24 24",className:"icon","aria-hidden":!0,children:m.jsx("path",{d:"M4 19V5m16 14V5M9 19V9m6 10V12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})}];return m.jsxs("div",{className:"admin-page",children:[m.jsx("header",{className:"admin-header",children:m.jsxs("div",{children:[m.jsx("h1",{className:"admin-title",children:"Admin Dashboard"}),m.jsx("p",{className:"admin-sub",children:"Manage members, assign roles, and oversee events."})]})}),m.jsxs("section",{className:"admin-stats","aria-label":"Quick Stats",children:[m.jsx(Xg,{label:"Upcoming Events",value:l,loading:n,error:x}),m.jsx(Xg,{label:"Pending Requests",value:d,loading:n,error:S}),m.jsx(Xg,{label:"Performers Confirmed",value:g,loading:n,error:b})]}),a&&m.jsx("p",{className:"admin-sub",style:{color:"#b91c1c"},children:a}),m.jsx("section",{className:"admin-grid","aria-label":"Admin Navigation",children:F.map(j=>m.jsxs(Kt,{className:({isActive:J})=>`admin-card ${J?"active":""}`,to:j.to,children:[j.icon,m.jsxs("div",{className:"card-body",children:[m.jsx("h3",{children:j.title}),m.jsx("p",{children:j.desc})]}),m.jsx("span",{className:"chev","aria-hidden":!0,children:"›"})]},j.to))})]})},Xb=()=>{const t=({isActive:e})=>e?"active":void 0;return m.jsxs("nav",{className:"member-navbar",children:[m.jsx("div",{className:"member-brand",children:"Performer Portal"}),m.jsxs("ul",{className:"member-links",children:[m.jsx("li",{children:m.jsx(Kt,{to:"/dashboard",className:t,children:"Dashboard"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/members/profile",className:t,children:"Profile"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/members/events",className:t,children:"Events"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/members/calendar",className:t,children:"Calendar"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/members/performer-availability",className:t,children:"Availability"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/members/resources",className:t,children:"Resources"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/members/settings",className:t,children:"Settings"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/",className:t,children:"Public Site"})})]})]})},Qw=()=>m.jsxs(m.Fragment,{children:[m.jsx(Xb,{}),m.jsxs("div",{style:{padding:"2rem"},children:[m.jsx("h1",{children:"Performer Dashboard"}),m.jsx("p",{children:"Welcome to the Performer Dashboard. Here you can see your events, resources, and manage your profile."})]})]}),Qb=()=>m.jsxs("nav",{className:"navbar",children:[m.jsx("div",{className:"nav-brand",children:"Mariachi de Uclatlán"}),m.jsxs("ul",{className:"nav-links",children:[m.jsx("li",{children:m.jsx(ii,{to:"/",children:"Home"})}),m.jsx("li",{children:m.jsx(ii,{to:"/about",children:"About"})}),m.jsx("li",{children:m.jsx(ii,{to:"/members",children:"Members"})}),m.jsx("li",{children:m.jsx(ii,{to:"/contact",children:"Contact"})}),m.jsx("li",{children:m.jsx(ii,{to:"/Login",children:"Login"})}),m.jsx("li",{children:m.jsx(ii,{to:"/Register",children:"Register"})})]})]}),d8=()=>m.jsxs("footer",{className:"footer compact-footer",children:[m.jsxs("p",{children:["© ",new Date().getFullYear()," Mariachi de Uclatlán."]}),m.jsxs("p",{children:["Developed by Angel Ramirez | ",m.jsx("a",{href:"/contact",children:"Contact"})]})]}),Jb=()=>{const t=({isActive:e})=>e?"active":void 0;return m.jsxs("nav",{className:"member-navbar",children:[m.jsx("div",{className:"member-brand",children:m.jsx(Kt,{to:"/members",className:t,children:"Members Portal"})}),m.jsxs("ul",{className:"member-links",children:[m.jsx("li",{children:m.jsx(Kt,{to:"/members/profile",className:t,children:"Profile"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/members/events",className:t,children:"Events"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/members/calendar",className:t,children:"Calendar"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/members/performer-availability",className:t,children:"Availability"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/members/resources",className:t,children:"Resources"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/members/settings",className:t,children:"Settings"})}),m.jsx("li",{className:"divider"}),m.jsx("li",{children:m.jsx(Kt,{to:"/admin-password",className:t,children:"Admin"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/",className:t,children:"Public Site"})})]})]})},n_=()=>m.jsxs("nav",{className:"admin-navbar",role:"navigation","aria-label":"Admin Navigation Bar",children:[m.jsx("div",{className:"admin-brand",children:"Admin Portal"}),m.jsx("button",{className:"admin-menu-toggle","aria-label":"Toggle menu",onClick:()=>{document.querySelector(".admin-links")?.classList.toggle("open")},children:"☰"}),m.jsxs("ul",{className:"admin-links",children:[m.jsx("li",{children:m.jsx(Kt,{to:"/admin",end:!0,className:({isActive:t})=>t?"active":"",children:"Dashboard"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/admin/inquiries",className:({isActive:t})=>t?"active":"",children:"Requests"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/admin/events",className:({isActive:t})=>t?"active":"",children:"Events"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/admin/managemembers",className:({isActive:t})=>t?"active":"",children:"Manage Members"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/admin/reports",className:({isActive:t})=>t?"active":"",children:"Reports"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/members/performer-availability",className:({isActive:t})=>t?"active":"",children:"Availability"})}),m.jsx("li",{className:"divider","aria-hidden":!0,children:"│"}),m.jsx("li",{children:m.jsx(Kt,{to:"/",className:({isActive:t})=>t?"active":"",children:"Public Site"})})]})]}),m8=({user:t,isAdmin:e,claims:n})=>{const[r,a]=xe.useState(!1),o=()=>{console.log("AdminDebug -> user:",t),console.log("AdminDebug -> isAdmin:",e),console.log("AdminDebug -> claims:",n),a(l=>!l)};return m.jsxs("div",{className:"admin-debug",children:[m.jsx("button",{className:"admin-debug-btn",onClick:o,children:r?"Hide Debug":"Show Debug"}),r&&m.jsxs("div",{className:"admin-debug-info",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"User email:"})," ",t?.email||"None"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"isAdmin:"})," ",e?"true":"false"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Claims:"})," ",JSON.stringify(n)||"{}"]})]})]})},Qg=({user:t,children:e,isAdminUser:n,requiresAdmin:r})=>{const a=wa();return t?r&&!n?m.jsx(u1,{to:"/",replace:!0}):m.jsx(m.Fragment,{children:e}):m.jsx(u1,{to:"/login",replace:!0,state:{from:a}})},p8="chuy1345",g8=()=>{const[t,e]=se.useState(""),[n,r]=se.useState(""),a=jc(),o=l=>{l.preventDefault(),t===p8?(localStorage.setItem("adminAccess","true"),a("/admin")):r("Invalid password. Try again.")};return m.jsxs("section",{className:"ucla-content",children:[m.jsx("h1",{className:"ucla-heading-xl",children:"Admin Access"}),m.jsxs("form",{onSubmit:o,style:{marginTop:"1rem"},children:[m.jsx("label",{htmlFor:"admin-password",style:{display:"block",marginBottom:".5rem"},children:"Enter admin password:"}),m.jsx("input",{id:"admin-password",type:"password",value:t,onChange:l=>{e(l.target.value),r("")},required:!0,style:{padding:"0.5rem",fontSize:"1rem",marginBottom:".5rem"}}),m.jsx("button",{type:"submit",style:{padding:"0.5rem 1rem"},children:"Enter"}),n&&m.jsx("p",{style:{color:"red",marginTop:".5rem"},children:n})]})]})},v8=()=>m.jsxs("div",{className:"admin-shell",children:[m.jsx(n_,{}),m.jsx("div",{className:"admin-content",children:m.jsx(nS,{})})]}),_8=({open:t,onClose:e,onCreate:n,defaultValues:r})=>{const[a,o]=xe.useState(()=>({title:r?.title??"",date:r?.date??new Date().toISOString().slice(0,10),startTime:r?.startTime??"",endTime:r?.endTime??"",location:r?.location??"",description:r?.description??"",status:r?.status??"draft"})),[l,h]=xe.useState(!1),[d,f]=xe.useState(null);if(xe.useEffect(()=>{t&&(o(x=>({...x,title:r?.title??"",date:r?.date??new Date().toISOString().slice(0,10),startTime:r?.startTime??"",endTime:r?.endTime??"",location:r?.location??"",description:r?.description??"",status:r?.status??"draft"})),f(null))},[t]),!t)return null;const g=x=>{const{name:T,value:S}=x.target;o(w=>({...w,[T]:S}))},y=async x=>{if(x.preventDefault(),f(null),!a.title.trim())return f("Title is required.");if(!/^\d{4}-\d{2}-\d{2}$/.test(a.date))return f("Date must be YYYY-MM-DD.");try{h(!0),await n(a),h(!1),e()}catch(T){console.error("[CreateEventModal] create error",T),h(!1),f(T?.message??"Failed to create event.")}};return m.jsx("div",{className:"cem-backdrop",role:"dialog","aria-modal":"true","aria-label":"Create event",children:m.jsxs("div",{className:"cem-modal",children:[m.jsxs("header",{className:"cem-header",children:[m.jsx("h2",{children:"Create Event"}),m.jsx("button",{className:"cem-icon",onClick:e,"aria-label":"Close",children:"×"})]}),m.jsxs("form",{className:"cem-form",onSubmit:y,children:[d&&m.jsx("div",{className:"cem-error",children:d}),m.jsxs("label",{className:"cem-field",children:[m.jsx("span",{children:"Title *"}),m.jsx("input",{name:"title",value:a.title,onChange:g,placeholder:"e.g., Wedding at Royce Hall"})]}),m.jsxs("div",{className:"cem-row",children:[m.jsxs("label",{className:"cem-field",children:[m.jsx("span",{children:"Date *"}),m.jsx("input",{type:"date",name:"date",value:a.date,onChange:g})]}),m.jsxs("label",{className:"cem-field",children:[m.jsx("span",{children:"Start"}),m.jsx("input",{type:"time",name:"startTime",value:a.startTime,onChange:g})]}),m.jsxs("label",{className:"cem-field",children:[m.jsx("span",{children:"End"}),m.jsx("input",{type:"time",name:"endTime",value:a.endTime,onChange:g})]})]}),m.jsxs("label",{className:"cem-field",children:[m.jsx("span",{children:"Location"}),m.jsx("input",{name:"location",value:a.location,onChange:g,placeholder:"Address or venue"})]}),m.jsxs("label",{className:"cem-field",children:[m.jsx("span",{children:"Description/Notes"}),m.jsx("textarea",{name:"description",value:a.description,onChange:g,placeholder:"Any details for performers or client..."})]}),m.jsxs("label",{className:"cem-field",children:[m.jsx("span",{children:"Status"}),m.jsxs("select",{name:"status",value:a.status,onChange:g,children:[m.jsx("option",{value:"draft",children:"Draft"}),m.jsx("option",{value:"published",children:"Published"}),m.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),m.jsxs("footer",{className:"cem-footer",children:[m.jsx("button",{type:"button",className:"btn btn-light",onClick:e,disabled:l,children:"Cancel"}),m.jsx("button",{type:"submit",className:"btn",disabled:l,children:l?"Saving…":"Create Event"})]})]})]})})},Jw={title:"",location:"",description:"",status:"draft",date:"",startTime:"",endTime:""},y8=({open:t,initialValues:e,onClose:n,onSave:r})=>{const[a,o]=xe.useState(e??Jw),[l,h]=xe.useState(!1);if(xe.useEffect(()=>{o(e??Jw)},[e,t]),!t)return null;const d=g=>o(y=>({...y,...g})),f=async g=>{g.preventDefault(),h(!0);try{await r(a)}finally{h(!1)}};return m.jsx("div",{className:"modal",role:"dialog","aria-modal":"true",children:m.jsxs("div",{className:"modal__card",children:[m.jsxs("header",{className:"modal__header",children:[m.jsx("h2",{className:"modal__title",children:"Edit Event"}),m.jsx("button",{className:"modal__close",onClick:n,"aria-label":"Close",children:"×"})]}),m.jsxs("form",{onSubmit:f,className:"modal__body",children:[m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field__label",children:"Title"}),m.jsx("input",{className:"field__input",value:a.title,onChange:g=>d({title:g.target.value}),required:!0})]}),m.jsxs("div",{className:"field-row",children:[m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field__label",children:"Date (optional)"}),m.jsx("input",{type:"date",className:"field__input",value:a.date||"",onChange:g=>d({date:g.target.value})})]}),m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field__label",children:"Start (optional)"}),m.jsx("input",{type:"time",className:"field__input",value:a.startTime||"",onChange:g=>d({startTime:g.target.value})})]}),m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field__label",children:"End (optional)"}),m.jsx("input",{type:"time",className:"field__input",value:a.endTime||"",onChange:g=>d({endTime:g.target.value})})]})]}),m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field__label",children:"Location"}),m.jsx("input",{className:"field__input",value:a.location,onChange:g=>d({location:g.target.value})})]}),m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field__label",children:"Description"}),m.jsx("textarea",{className:"field__textarea",rows:4,value:a.description,onChange:g=>d({description:g.target.value})})]}),m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field__label",children:"Status"}),m.jsxs("select",{className:"field__select",value:a.status,onChange:g=>d({status:g.target.value}),children:[m.jsx("option",{value:"draft",children:"Draft"}),m.jsx("option",{value:"published",children:"Published"}),m.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),m.jsxs("footer",{className:"modal__footer",children:[m.jsx("button",{type:"button",className:"btn btn--ghost",onClick:n,disabled:l,children:"Cancel"}),m.jsx("button",{type:"submit",className:"btn",disabled:l,children:l?"Saving…":"Save changes"})]})]})]})})};function x8(t){const{date:e,time:n}=qb(t);return{id:t.id,title:t.title,dateStr:n?`${e}, ${n}`:e,location:t.location||"",notes:t.description||"",status:t.status}}const E8=()=>{const[t,e]=xe.useState([]),[n,r]=xe.useState(!0),[a,o]=xe.useState(!1),[l,h]=xe.useState(null),[d,f]=xe.useState(null);xe.useEffect(()=>{const S=Gb(w=>{e(w.map(x8)),r(!1)},w=>{console.error("[AdminEvents subscribe]",w),r(!1)});return()=>S()},[]);const g=async S=>{const w=t.find(O=>O.id===S);if(!w)return;const b={title:w.title,location:w.location||"",description:w.notes||"",date:"",startTime:"",endTime:"",status:w.status||"draft"};h(S),f(b)},y=async S=>{if(confirm("Delete (cancel) this event?"))try{await qw(S,{status:"cancelled"})}catch(w){console.error("[handleDelete]",w),alert("Failed to delete (cancel) event.")}},x=async S=>{const w={title:S.title.trim(),date:S.date,startTime:S.startTime||null,endTime:S.endTime||null,location:S.location?.trim()||"",description:S.description?.trim()||"",status:S.status??"draft"};await PF(w)},T=async S=>{if(!l)return;const w={title:S.title.trim(),location:S.location.trim(),description:S.description.trim(),status:S.status};S.date&&(w.date=S.date),S.startTime&&(w.startTime=S.startTime),S.endTime&&(w.endTime=S.endTime);try{await qw(l,w),h(null),f(null)}catch(b){console.error("[handleSaveEdit]",b),alert("Failed to update event.")}};return m.jsxs("section",{className:"ucla-content admin-events",style:{maxWidth:1024,margin:"0 auto"},children:[m.jsxs("div",{className:"admin-events__header",children:[m.jsx("h1",{className:"ucla-heading-xl",children:"Manage Events"}),m.jsx("button",{className:"btn",onClick:()=>o(!0),children:"+ Create Event"})]}),n&&m.jsx("p",{children:"Loading events…"}),!n&&m.jsx("div",{className:"admin-events__grid",children:t.map(S=>m.jsx(zb,{event:S,canManage:!0,onEdit:()=>g(S.id),onDelete:()=>y(S.id)},S.id))}),!n&&t.length===0&&m.jsx("p",{children:"No events found."}),m.jsx(_8,{open:a,onClose:()=>o(!1),onCreate:x}),m.jsx(y8,{open:!!l,initialValues:d||void 0,onClose:()=>{h(null),f(null)},onSave:T})]})};function V1(t){const e=["admin","performer","member"];return t?(Array.isArray(t)?t:[t]).map(r=>typeof r=="string"?r.toLowerCase():r).filter(r=>e.includes(r)):[]}const Zb="users";async function T8(){return(await rr(Jt(tt,Zb))).docs.map(e=>{const n=e.data();return{uid:e.id,email:n.email??"",...n}})}async function w8(t,e){const n=cn(tt,Zb,t);await ya(n,{roles:e,isAdmin:e.includes("admin"),updatedAt:Ln()},{merge:!0})}const Zw={name:"",phoneNumber:"",year:"",major:"",instrument:"",instruments:[],section:"",bio:"",roles:["member"],returning:"",emergencyName:"",emergencyPhone:"",emergencyRelation:"",photoURL:""};async function S8(){const t=Mn.currentUser;if(!t)return!1;try{if((await t.getIdTokenResult())?.claims?.admin)return!0}catch{}try{const e=await Gc(cn(tt,"users",t.uid));return!!e.exists()&&!!e.data()?.isAdmin}catch{}return!1}function A8(){const[t,e]=xe.useState([]),[n,r]=xe.useState(!0),[a,o]=xe.useState(null);return xe.useEffect(()=>{let l=!0;return(async()=>{r(!0),o(null);const h=Mn.currentUser;if(!h){o("Not signed in"),r(!1);return}try{if(await S8()){const g=(await T8()).map(y=>({...Zw,...y,uid:y.uid,email:y.email??"",roles:V1(y.roles),instruments:Array.isArray(y.instruments)?y.instruments:[]}));l&&e(g)}else{const f=await Gc(cn(tt,"users",h.uid)),g=f.exists()?f.data():{},y={...Zw,...g,uid:h.uid,email:g?.email??h.email??"",roles:V1(g?.roles),instruments:Array.isArray(g?.instruments)?g?.instruments:[]};l&&e([y])}}catch(d){console.error("[useUsersRoster] failed",d),l&&o(d?.message||"Failed to load users")}finally{l&&r(!1)}})(),()=>{l=!1}},[]),{profiles:t,loading:n,error:a}}const b8={member:"#e2e8f0",performer:"#cffafe",admin:"#fde68a"},R8={member:"Member",performer:"Performer",admin:"Admin"},C8=({role:t})=>m.jsx("span",{style:{background:b8[t],borderRadius:9999,padding:"2px 10px",fontSize:12,border:"1px solid rgba(0,0,0,0.06)"},children:R8[t]}),N8=({value:t,onChange:e,disabled:n})=>m.jsxs("select",{value:t,onChange:r=>e(r.target.value),disabled:n,style:{padding:"6px 8px"},children:[m.jsx("option",{value:"member",children:"Member"}),m.jsx("option",{value:"performer",children:"Performer"}),m.jsx("option",{value:"admin",children:"Admin"})]});function I8(t){return!t||t.length===0?"member":t.includes("admin")?"admin":t.includes("performer")?"performer":"member"}const D8=({checked:t,onChange:e,disabled:n,label:r})=>m.jsx("button",{type:"button",className:`toggle ${t?"on":""}`,"aria-pressed":t,disabled:n,onClick:()=>e(!t),title:r,children:m.jsx("span",{className:"knob"})}),Tc=t=>{if(t){if(t instanceof Date)return t;if(t instanceof ut)return t.toDate();try{const e=new Date(t);return isNaN(e.getTime())?void 0:e}catch{return}}},e2=t=>{const e=Tc(t);return e?ut.fromDate(e):null},O8=(t,e)=>{const n=Tc(t),r=Tc(e);if(!n)return"";const a=n.toLocaleString?.()||n.toISOString();if(!r)return a;const l=n.toDateString()===r.toDateString()?r.toLocaleTimeString?.():r.toLocaleString?.();return`${a} → ${l}`},t2=t=>t?t.toDate().toLocaleString?.()||t.toDate().toISOString():"",Yo=(t,e)=>`${t}/${e}`,Jg=(t,e)=>{if(!t)throw new Error(e)},n2=(t,e,n)=>(Jg(t==="events"||t==="inquiries",`[AdminManageMembers] bad source: ${t}`),Jg(e&&typeof e=="string","[AdminManageMembers] missing id"),Jg(n&&typeof n=="string","[AdminManageMembers] missing uid"),(e==="availability"||e.includes("/"))&&console.error("[AdminManageMembers] Suspicious id used to build availability path",{source:t,id:e,uid:n}),cn(tt,t,e,"availability",n)),k8=({member:t,open:e,onClose:n})=>{const[r,a]=xe.useState([]),[o,l]=xe.useState({}),[h,d]=xe.useState({}),[f,g]=xe.useState({}),[y,x]=xe.useState({}),[T,S]=xe.useState(!1),[w,b]=xe.useState(null);xe.useEffect(()=>{let X=!0;return(async()=>{try{if(!e)return;if(!t||!t.uid){a([]);return}S(!0),b(null);const N=Jt(tt,"events");let I=[];try{I=(await rr(br(N,Ur("status","==","published")))).docs,I.length||(I=(await rr(N)).docs,console.warn('[AdminManageMembers] No events with status=="published". Falling back to ALL events.'))}catch(fe){console.error("[AdminManageMembers] events fetch failed:",fe),I=[]}const L=[...I.map(fe=>{const B=(typeof fe.data=="function"?fe.data():fe.data)||{};return{...B||{},id:String(fe.id),source:"inquiries",title:B.title||B.name||"Untitled",start:B.start??B.date??null,end:B.end??null,location:B.location??null,status:B.status||"inquiry"}}),...r].filter(fe=>{const B=!!(fe&&typeof fe.id=="string"&&fe.id.trim());return B||console.error("[AdminManageMembers] Dropping item with missing id",fe),B});try{console.table(L.map(fe=>({source:fe.source,id:fe.id,title:fe.title})))}catch{}const z=Date.now(),M=L.filter(fe=>{const B=Tc(fe.start)?.getTime();return typeof B=="number"?B>=z-1e3*60*60*24:!0}).sort((fe,B)=>(Tc(fe.start)?.getTime()??0)-(Tc(B.start)?.getTime()??0)),Ue={},ke={},ce={};for(const fe of M){const B=Yo(fe.source,fe.id);Ue[B]="",ke[B]=!1,ce[B]=void 0}const Re=await Promise.all(M.map(async fe=>{try{return await Gc(n2(fe.source,fe.id,t.uid))}catch(B){return console.error("[AdminManageMembers] availability get failed:",fe,B),null}})),He={...Ue},Ye={...ke},te={...ce};if(Re.forEach((fe,B)=>{if(!fe||!fe.exists?.())return;const ee=fe.data(),Y=M[B];if(!Y)return;const Q=Yo(Y.source,Y.id);He[Q]=ee.status||"",Ye[Q]=!!ee.finalized,te[Q]=ee.updatedAt||ee.respondedAt}),!X)return;a(M),l(He),d(Ye),g(te)}catch(N){console.error("[AdminManageMembers] load crashed:",N),X&&b(N?.message||"Failed to load items")}finally{X&&S(!1)}})(),()=>{X=!1}},[e,t]);const O=(X,W,N)=>{const I=Yo(X,W);l(C=>({...C,[I]:N}))},F=(X,W,N)=>{const I=Yo(X,W);d(C=>({...C,[I]:N}))},j=async X=>{if(!t||!t.uid)return;const W=Yo(X.source,X.id),N=o[W]||"";if(N){x(I=>({...I,[W]:!0}));try{const I=!!h[W],C={uid:t.uid,displayName:t.name||t.email||"Unknown",email:t.email||null,status:N,updatedAt:ut.now(),source:X.source,refId:X.id,eventId:X.id,eventTitle:X.title||"Untitled",eventStart:e2(X.start),eventEnd:e2(X.end),eventLocation:X.location||null,finalized:I,finalizedBy:I?"admin":null,finalizedAt:I?ut.now():null},P=n2(X.source,X.id,t.uid);await ya(P,C,{merge:!0});const L=`${X.source}_${X.id}_${t.uid}`,z=cn(tt,"availability",L);await ya(z,C,{merge:!0}),g(M=>({...M,[W]:C.updatedAt}))}catch(I){console.error("[AdminManageMembers] saveOne failed:",I)}finally{x(I=>({...I,[W]:!1}))}}},J=async()=>{for(const X of r){const W=Yo(X.source,X.id);o[W]&&await j(X)}};return m.jsxs("div",{className:`drawer ${e?"open":""}`,"aria-hidden":!e,children:[m.jsx("div",{className:"drawer-backdrop",onClick:n}),m.jsxs("div",{className:"drawer-panel",role:"dialog","aria-modal":"true","aria-label":"Manage Member RSVPs",children:[m.jsxs("div",{className:"drawer-head",children:[m.jsxs("div",{className:"drawer-title",children:[m.jsx("div",{className:"avatar sm",children:t?.photoURL?m.jsx("img",{src:t.photoURL,alt:"avatar"}):m.jsx("div",{className:"avatar-placeholder",children:(t?.name||t?.email||"U")[0].toUpperCase()})}),m.jsxs("div",{children:[m.jsx("h3",{children:t?.name||"Member"}),m.jsx("p",{className:"muted",children:t?.email})]})]}),m.jsxs("div",{className:"drawer-actions",children:[m.jsx("button",{className:"btn-light",onClick:n,children:"Close"}),m.jsx("button",{className:"btn",onClick:J,disabled:T,children:"Save All"})]})]}),m.jsxs("div",{className:"drawer-body",children:[T&&m.jsx("p",{className:"muted",children:"Loading events & inquiries…"}),w&&m.jsx("p",{className:"error-text",children:w}),!T&&!r.length&&!w&&m.jsx("p",{className:"muted",children:"No upcoming items."}),m.jsx("div",{className:"event-list",children:r.map(X=>{const W=Yo(X.source,X.id),N=!!o[W],I=!!h[W],C=f[W];return m.jsxs("article",{className:"event-card",children:[m.jsx("header",{className:"event-head",children:m.jsxs("div",{children:[m.jsx("h4",{children:X.title||"Untitled"}),m.jsxs("div",{className:"meta-line",children:[m.jsx("span",{className:`status-pill ${X.status}`,children:X.status||X.source}),m.jsx("span",{className:"chip",children:X.source==="events"?"Event":"Inquiry"}),N?m.jsxs("span",{className:"chip chip--ok",title:`Last update: ${t2(C)}`,children:["Responded",C?` • ${t2(C)}`:""]}):m.jsx("span",{className:"chip",children:"No response"}),I&&m.jsx("span",{className:"chip chip--final",children:"Finalized"})]})]})}),m.jsxs("dl",{className:"event-meta",children:[m.jsxs("div",{className:"meta-row",children:[m.jsx("dt",{children:"When"}),m.jsx("dd",{children:O8(X.start,X.end)||"TBA"})]}),X.location&&m.jsxs("div",{className:"meta-row",children:[m.jsx("dt",{children:"Where"}),m.jsx("dd",{children:X.location})]})]}),m.jsxs("div",{className:"event-actions",children:[m.jsxs("label",{className:"sr-only",htmlFor:`sel-${t?.uid}-${W}`,children:["RSVP for ",X.title]}),m.jsxs("select",{id:`sel-${t?.uid}-${W}`,value:o[W]||"",onChange:P=>O(X.source,X.id,P.target.value),disabled:!!y[W],children:[m.jsx("option",{value:"",children:"Select…"}),m.jsx("option",{value:"yes",children:"Yes"}),m.jsx("option",{value:"maybe",children:"Maybe"}),m.jsx("option",{value:"no",children:"No"})]}),m.jsxs("label",{className:"finalize-toggle",children:[m.jsx("input",{type:"checkbox",checked:!!h[W],onChange:P=>F(X.source,X.id,P.target.checked),disabled:!!y[W]}),m.jsx("span",{children:"Finalize"})]}),m.jsx("button",{className:"btn-primary",disabled:!!y[W]||!o[W],onClick:()=>j(X),children:y[W]?"Saving…":"Save"})]}),h[W]&&m.jsxs("p",{className:"finalized-note",children:["This RSVP will be ",m.jsx("strong",{children:"locked for the performer"}),"."]})]},W)})})]})]})]})},P8=()=>{const{profiles:t,loading:e,error:n}=A8(),[r,a]=xe.useState(""),[o,l]=xe.useState({}),[h,d]=xe.useState(null),[f,g]=xe.useState(!1),y=xe.useMemo(()=>{const w=r.trim().toLowerCase();return w?t.filter(b=>{const O=(b?.name??"").toLowerCase(),F=(b?.email??"").toLowerCase(),j=(b?.instruments??[]).join(", ").toLowerCase();return O.includes(w)||F.includes(w)||j.includes(w)}):t},[t,r]),x=async(w,b)=>{const O=b==="admin"?["admin"]:b==="performer"?["performer"]:["member"];await w8(w.uid,O)},T=async(w,b)=>{try{l(F=>({...F,[w.uid]:!0}));const O=cn(tt,"users",w.uid);await ya(O,{canSeeEvents:b},{merge:!0})}finally{l(O=>({...O,[w.uid]:!1}))}},S=w=>{d(w||null),g(!0)};return m.jsxs("section",{className:"ucla-content",style:{maxWidth:1100,margin:"0 auto"},children:[m.jsx("h1",{className:"ucla-heading-xl",children:"Manage Members"}),m.jsx("p",{children:"Search, assign roles, control event access, and finalize RSVPs."}),m.jsx("div",{style:{margin:"12px 0"},children:m.jsx("input",{value:r,onChange:w=>a(w.target.value),placeholder:"Search by name, email, instrument…",style:{width:"100%",maxWidth:420}})}),e&&m.jsx("p",{children:"Loading members…"}),n&&m.jsx("p",{style:{color:"salmon"},children:String(n)}),!e&&!n&&m.jsxs("table",{className:"members-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Name"}),m.jsx("th",{children:"Email"}),m.jsx("th",{children:"Instruments"}),m.jsx("th",{children:"Role"}),m.jsx("th",{children:"Change Role"}),m.jsx("th",{children:"See Events?"}),m.jsx("th",{children:"RSVPs"})]})}),m.jsx("tbody",{children:y.map(w=>{const b=V1(w?.roles),O=I8(b),F=!!w?.canSeeEvents,j=!!o[w.uid];return m.jsxs("tr",{children:[m.jsx("td",{children:w?.name??""}),m.jsx("td",{children:w?.email??""}),m.jsx("td",{children:(w?.instruments??[]).join(", ")}),m.jsx("td",{children:m.jsx(C8,{role:O})}),m.jsx("td",{children:m.jsx(N8,{value:O,onChange:J=>x(w,J)})}),m.jsx("td",{children:m.jsxs("div",{className:"perm-cell",children:[m.jsx(D8,{checked:F,disabled:j,onChange:J=>T(w,J),label:"Can view members events"}),m.jsx("span",{className:"perm-label",children:F?"Allowed":"Hidden"})]})}),m.jsx("td",{children:m.jsx("button",{className:"btn",onClick:()=>S(w),disabled:!w?.uid,children:"Manage"})})]},w.uid)})})]}),m.jsx(k8,{member:h,open:f,onClose:()=>g(!1)})]})};function nh(t){if(t){if(typeof t=="string")return t;if(t instanceof ut)return t.toDate().toISOString()}}async function r2(t,e){const n=br(Jt(tt,"calendar_feed"),Ur("sourceId","==",t),dL(1)),a=(await rr(n)).docs[0];a&&await cl(cn(tt,"calendar_feed",a.id),{status:e,updatedAt:Ln()})}const M8=()=>{const[t,e]=xe.useState([]),[n,r]=xe.useState(""),[a,o]=xe.useState("");xe.useEffect(()=>{const d=br(Jt(tt,"inquiries"),Em("createdAt","desc")),f=df(d,g=>{const y=g.docs.map(x=>({id:x.id,...x.data()}));e(y)},g=>o(g?.message||"Failed to load inquiries"));return()=>f()},[]);const l=async d=>{try{r(d.id),o("");const f=d.event||{},g=nh(f.start)||(f.date?new Date(`${f.date}T12:00:00`).toISOString():void 0),y=nh(f.end),x={title:f.title||"Client Performance",date:f.date||void 0,start:g,end:y,location:f.location||"",status:"published",source:"inquiry",sourceId:d.id,createdAt:Ln(),updatedAt:Ln()},T=await Vh(Jt(tt,"events"),x);await cl(cn(tt,"inquiries",d.id),{status:"in_progress",eventId:T.id,updatedAt:Ln()}),await r2(d.id,"in_progress")}catch(f){console.error("[accept inquiry]",f),o(f?.message||"Failed to accept request")}finally{r("")}},h=async d=>{try{r(d.id),o(""),await cl(cn(tt,"inquiries",d.id),{status:"closed",updatedAt:Ln()}),await r2(d.id,"closed")}catch(f){console.error("[decline inquiry]",f),o(f?.message||"Failed to decline request")}finally{r("")}};return m.jsxs("section",{className:"admin-inquiries ucla-content",children:[m.jsx("h1",{className:"ucla-heading-xl",children:"Performance Requests"}),m.jsx("p",{children:"Review client inquiries. Accept to create an Event; Decline to close."}),a&&m.jsx("p",{className:"err",role:"alert",children:a}),m.jsx("div",{className:"inq-list",children:t.map(d=>{const f=d.event||{};return m.jsxs("article",{className:`inq-card status-${d.status||"new"}`,children:[m.jsxs("header",{className:"inq-head",children:[m.jsxs("div",{children:[m.jsx("h3",{children:f.title||"Client Inquiry"}),m.jsxs("div",{className:"muted",children:["From: ",d.name," • ",d.email,d.org?` • ${d.org}`:""]})]}),m.jsx("span",{className:`chip ${d.status||"new"}`,children:d.status||"new"})]}),m.jsxs("dl",{className:"grid",children:[m.jsxs("div",{children:[m.jsx("dt",{children:"Date"}),m.jsx("dd",{children:f.date||(typeof f.start=="string"?f.start.slice(0,10):"")||"—"})]}),m.jsxs("div",{children:[m.jsx("dt",{children:"Time"}),m.jsx("dd",{children:(nh(f.start)?.slice(11,16)||"—")+(nh(f.end)?` – ${nh(f.end).slice(11,16)}`:"")})]}),m.jsxs("div",{children:[m.jsx("dt",{children:"Location"}),m.jsx("dd",{children:f.location||"—"})]}),m.jsxs("div",{className:"span-2",children:[m.jsx("dt",{children:"Notes"}),m.jsx("dd",{children:d.message||"—"})]})]}),m.jsxs("footer",{className:"actions",children:[m.jsx("button",{className:"btn",disabled:n===d.id,onClick:()=>l(d),children:"Accept"}),m.jsx("button",{className:"btn btn-light",disabled:n===d.id,onClick:()=>h(d),children:"Decline"})]})]},d.id)})}),t.length===0&&m.jsx("p",{children:"No requests yet."})]})};async function L8(t){const e=Jt(tt,"events"),n=[Em("date","desc")];t?.statusIn&&t.statusIn.length&&n.unshift(Ur("status","in",t.statusIn));const r=br(e,...n),a=await rr(r),o=[];for(const l of a.docs){const h={id:l.id,...l.data()},d=Jt(tt,`events/${l.id}/participation`),g=(await rr(d)).docs.map(S=>({uid:S.id,...S.data()}));let y=0,x=0,T=0;for(const S of g){if(!(S.status==="going"))continue;y+=1;const b=typeof S.compensatedHours=="number"?S.compensatedHours:h.eventDurationHours??0,O=typeof S.hourlyRateOverride=="number"?S.hourlyRateOverride:h.hourlyRate??0;x+=b,T+=b*O}o.push({...h,participants:g,totals:{headcountGoing:y,totalCompHours:x,totalPayout:T}})}return o}async function F8(t){await cl(cn(tt,"events",t),{status:"published"})}async function j8(t){await cl(cn(tt,"events",t),{status:"hidden"})}async function U8(t){await cl(cn(tt,"events",t),{status:"canceled"})}async function V8(t){const e=vL(tt),n=cn(tt,"events",t),r=Jt(tt,`events/${t}/participation`);(await rr(r)).forEach(o=>e.delete(o.ref)),e.delete(n),await e.commit()}const B8=t=>t?t.toDate().toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"—",Ko=t=>typeof t=="number"?`$${t.toFixed(2)}`:"—",H8=({status:t})=>m.jsx("span",{className:`status badge ${t}`,children:t}),i2=()=>{const[t,e]=xe.useState(!0),[n,r]=xe.useState([]),[a,o]=xe.useState("all"),[l,h]=xe.useState(""),d=xe.useCallback(async()=>{e(!0);const y=await L8({statusIn:a==="all"?void 0:[a]});r(y),e(!1)},[a]);xe.useEffect(()=>{d()},[d]);const f=xe.useMemo(()=>{const g=l.trim().toLowerCase();return n.filter(y=>!g||y.title.toLowerCase().includes(g))},[n,l]);return m.jsxs("section",{className:"participation-page",children:[m.jsx("h1",{children:"Participation & Event Financials"}),m.jsxs("div",{className:"toolbar",children:[m.jsx("input",{placeholder:"Search events by title…",value:l,onChange:g=>h(g.target.value)}),m.jsxs("select",{value:a,onChange:g=>o(g.target.value),children:[m.jsx("option",{value:"all",children:"All statuses"}),m.jsx("option",{value:"published",children:"Published"}),m.jsx("option",{value:"draft",children:"Draft"}),m.jsx("option",{value:"hidden",children:"Hidden"}),m.jsx("option",{value:"canceled",children:"Canceled"})]}),m.jsx("button",{onClick:d,disabled:t,children:t?"Loading…":"Reload"})]}),f.map(g=>m.jsxs("details",{className:"event-card",children:[m.jsx("summary",{children:m.jsxs("div",{className:"ev-summary",children:[m.jsxs("div",{className:"ev-title",children:[m.jsx("h3",{children:g.title}),m.jsxs("div",{className:"meta",children:[m.jsx("span",{children:B8(g.date)}),m.jsxs("span",{children:["• ",g.startTime??"—","–",g.endTime??"—"]}),m.jsxs("span",{children:["• ",g.venue??"—"]})]})]}),m.jsxs("div",{className:"ev-stats",children:[m.jsx(H8,{status:g.status}),m.jsxs("div",{className:"kpis",children:[m.jsxs("div",{children:[m.jsx("small",{children:"Going"}),m.jsx("strong",{children:g.totals.headcountGoing})]}),m.jsxs("div",{children:[m.jsx("small",{children:"Comp Hours"}),m.jsx("strong",{children:g.totals.totalCompHours.toFixed(2)})]}),m.jsxs("div",{children:[m.jsx("small",{children:"Total Payout"}),m.jsx("strong",{children:Ko(g.totals.totalPayout)})]}),m.jsxs("div",{children:[m.jsx("small",{children:"Client Charge"}),m.jsx("strong",{children:Ko(g.clientCharge)})]})]})]})]})}),m.jsxs("div",{className:"ev-actions",children:[m.jsx("button",{onClick:()=>F8(g.id).then(d),children:"Publish"}),m.jsx("button",{onClick:()=>j8(g.id).then(d),children:"Hide"}),m.jsx("button",{onClick:()=>U8(g.id).then(d),children:"Cancel"}),m.jsx("button",{className:"danger",onClick:()=>{confirm("Delete event and all participation? This cannot be undone.")&&V8(g.id).then(d)},children:"Delete"})]}),m.jsxs("div",{className:"ev-financials",children:[m.jsx("h4",{children:"Financial Summary"}),m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Hourly Rate"}),m.jsx("th",{children:"Event Duration (hrs)"}),m.jsx("th",{children:"Headcount (Going)"}),m.jsx("th",{children:"Total Comp Hours"}),m.jsx("th",{children:"Total Payout"}),m.jsx("th",{children:"Client Charge"})]})}),m.jsx("tbody",{children:m.jsxs("tr",{children:[m.jsx("td",{children:Ko(g.hourlyRate??null)}),m.jsx("td",{children:g.eventDurationHours??"—"}),m.jsx("td",{children:g.totals.headcountGoing}),m.jsx("td",{children:g.totals.totalCompHours.toFixed(2)}),m.jsx("td",{children:Ko(g.totals.totalPayout)}),m.jsx("td",{children:Ko(g.clientCharge)})]})})]})]}),m.jsxs("div",{className:"ev-participants",children:[m.jsx("h4",{children:"Who’s Going"}),m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Performer"}),m.jsx("th",{children:"Status"}),m.jsx("th",{children:"Compensated Time (hrs)"}),m.jsx("th",{children:"Rate ($/hr)"}),m.jsx("th",{children:"Performer Payout"})]})}),m.jsxs("tbody",{children:[g.participants.filter(y=>y.status==="going").map(y=>{const x=y.compensatedHours??g.eventDurationHours??0,T=y.hourlyRateOverride??g.hourlyRate??0,S=x*T;return m.jsxs("tr",{children:[m.jsx("td",{children:y.name??y.uid}),m.jsx("td",{children:y.status}),m.jsx("td",{children:typeof x=="number"?x.toFixed(2):"—"}),m.jsx("td",{children:Ko(T)}),m.jsx("td",{children:Ko(S)})]},y.uid)}),g.participants.filter(y=>y.status==="going").length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:5,style:{textAlign:"center",opacity:.65},children:"No confirmed performers yet."})})]})]}),m.jsxs("details",{className:"others",children:[m.jsx("summary",{children:"View others (maybe/declined/unknown)"}),m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Performer"}),m.jsx("th",{children:"Status"}),m.jsx("th",{children:"Notes"})]})}),m.jsx("tbody",{children:g.participants.filter(y=>y.status!=="going").map(y=>m.jsxs("tr",{children:[m.jsx("td",{children:y.name??y.uid}),m.jsx("td",{children:y.status??"unknown"}),m.jsx("td",{children:"—"})]},y.uid))})]})]})]})]},g.id)),!t&&f.length===0&&m.jsx("p",{style:{opacity:.7},children:"No events match your filter."})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var k0={};k0.version="0.18.5";var eR=1252,z8=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],tR=function(t){z8.indexOf(t)!=-1&&(eR=t)};function q8(){tR(1252)}var Bh=function(t){tR(t)};function G8(){Bh(1200),q8()}var zd=function(e){return String.fromCharCode(e)},a2=function(e){return String.fromCharCode(e)},P0,Ys="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Hh(t){for(var e="",n=0,r=0,a=0,o=0,l=0,h=0,d=0,f=0;f<t.length;)n=t.charCodeAt(f++),o=n>>2,r=t.charCodeAt(f++),l=(n&3)<<4|r>>4,a=t.charCodeAt(f++),h=(r&15)<<2|a>>6,d=a&63,isNaN(r)?h=d=64:isNaN(a)&&(d=64),e+=Ys.charAt(o)+Ys.charAt(l)+Ys.charAt(h)+Ys.charAt(d);return e}function ls(t){var e="",n=0,r=0,a=0,o=0,l=0,h=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)o=Ys.indexOf(t.charAt(f++)),l=Ys.indexOf(t.charAt(f++)),n=o<<2|l>>4,e+=String.fromCharCode(n),h=Ys.indexOf(t.charAt(f++)),r=(l&15)<<4|h>>2,h!==64&&(e+=String.fromCharCode(r)),d=Ys.indexOf(t.charAt(f++)),a=(h&3)<<6|d,d!==64&&(e+=String.fromCharCode(a));return e}var Rt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),hs=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function ul(t){return Rt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function s2(t){return Rt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var zi=function(e){return Rt?hs(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Sm(t){if(typeof ArrayBuffer>"u")return zi(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function mf(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function $8(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var tr=Rt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:hs(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),a=0;for(e=0,n=0;e<t.length;n+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function W8(t){for(var e=[],n=0,r=t.length+250,a=ul(t.length+255),o=0;o<t.length;++o){var l=t.charCodeAt(o);if(l<128)a[n++]=l;else if(l<2048)a[n++]=192|l>>6&31,a[n++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var h=t.charCodeAt(++o)&1023;a[n++]=240|l>>8&7,a[n++]=128|l>>2&63,a[n++]=128|h>>6&15|(l&3)<<4,a[n++]=128|h&63}else a[n++]=224|l>>12&15,a[n++]=128|l>>6&63,a[n++]=128|l&63;n>r&&(e.push(a.slice(0,n)),n=0,a=ul(65535),r=65530)}return e.push(a.slice(0,n)),tr(e)}var Th=/\u0000/g,qd=/[\u0001-\u0006]/g;function wc(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function $i(t,e){var n=""+t;return n.length>=e?n:fn("0",e-n.length)+n}function r_(t,e){var n=""+t;return n.length>=e?n:fn(" ",e-n.length)+n}function M0(t,e){var n=""+t;return n.length>=e?n:n+fn(" ",e-n.length)}function Y8(t,e){var n=""+Math.round(t);return n.length>=e?n:fn("0",e-n.length)+n}function K8(t,e){var n=""+t;return n.length>=e?n:fn("0",e-n.length)+n}var o2=Math.pow(2,32);function ac(t,e){if(t>o2||t<-o2)return Y8(t,e);var n=Math.round(t);return K8(n,e)}function L0(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var l2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Zg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function X8(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var mn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},c2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Q8={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function F0(t,e,n){for(var r=t<0?-1:1,a=t*r,o=0,l=1,h=0,d=1,f=0,g=0,y=Math.floor(a);f<e&&(y=Math.floor(a),h=y*l+o,g=y*f+d,!(a-y<5e-8));)a=1/(a-y),o=l,l=h,d=f,f=g;if(g>e&&(f>e?(g=d,h=o):(g=f,h=l)),!n)return[0,r*h,g];var x=Math.floor(r*h/g);return[x,r*h-x*g,g]}function Gd(t,e,n){if(t>2958465||t<0)return null;var r=t|0,a=Math.floor(86400*(t-r)),o=0,l=[],h={D:r,T:a,u:86400*(t-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(h.u)<1e-6&&(h.u=0),e&&e.date1904&&(r+=1462),h.u>.9999&&(h.u=0,++a==86400&&(h.T=a=0,++r,++h.D)),r===60)l=n?[1317,10,29]:[1900,2,29],o=3;else if(r===0)l=n?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;var d=new Date(1900,0,1);d.setDate(d.getDate()+r-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],o=d.getDay(),r<60&&(o=(o+6)%7),n&&(o=i5(d,l))}return h.y=l[0],h.m=l[1],h.d=l[2],h.S=a%60,a=Math.floor(a/60),h.M=a%60,a=Math.floor(a/60),h.H=a,h.q=o,h}var nR=new Date(1899,11,31,0,0,0),J8=nR.getTime(),Z8=new Date(1900,2,1,0,0,0);function rR(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=Z8&&(n+=1440*60*1e3),(n-(J8+(t.getTimezoneOffset()-nR.getTimezoneOffset())*6e4))/(1440*60*1e3)}function i_(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function e5(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function t5(t){var e=t<0?12:11,n=i_(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function n5(t){var e=i_(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function r5(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=t5(t):e===10?n=t.toFixed(10).substr(0,12):n=n5(t),i_(e5(n.toUpperCase()))}function B1(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):r5(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return oo(14,rR(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function i5(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function a5(t,e,n,r){var a="",o=0,l=0,h=n.y,d,f=0;switch(t){case 98:h=n.y+543;case 121:switch(e.length){case 1:case 2:d=h%100,f=2;break;default:d=h%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:d=n.m,f=e.length;break;case 3:return Zg[n.m-1][1];case 5:return Zg[n.m-1][0];default:return Zg[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=n.d,f=e.length;break;case 3:return l2[n.q][0];default:return l2[n.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(n.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=n.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=n.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?$i(n.S,e.length):(r>=2?l=r===3?1e3:100:l=r===1?10:1,o=Math.round(l*(n.S+n.u)),o>=60*l&&(o=0),e==="s"?o===0?"0":""+o/l:(a=$i(o,2+r),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=n.D*24+n.H;break;case"[m]":case"[mm]":d=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":d=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:d=h,f=1;break}var g=f>0?$i(d,f):"";return g}function Ks(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var iR=/%/g;function s5(t,e,n){var r=e.replace(iR,""),a=e.length-r.length;return Ja(t,r,n*Math.pow(10,2*a))+fn("%",a)}function o5(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ja(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function aR(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+aR(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%a;if(o<0&&(o+=a),n=(e/Math.pow(10,o)).toPrecision(r+1+(a+o)%a),n.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+o):n+="E+"+(l-o);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(h,d,f,g){return d+f+g.substr(0,(a+o)%a)+"."+g.substr(o)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var sR=/# (\?+)( ?)\/( ?)(\d+)/;function l5(t,e,n){var r=parseInt(t[4],10),a=Math.round(e*r),o=Math.floor(a/r),l=a-o*r,h=r;return n+(o===0?"":""+o)+" "+(l===0?fn(" ",t[1].length+1+t[4].length):r_(l,t[1].length)+t[2]+"/"+t[3]+$i(h,t[4].length))}function c5(t,e,n){return n+(e===0?"":""+e)+fn(" ",t[1].length+2+t[4].length)}var oR=/^#*0*\.([0#]+)/,lR=/\).*[0#]/,cR=/\(###\) ###\\?-####/;function wr(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function u2(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function h2(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function u5(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function h5(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function wi(t,e,n){if(t.charCodeAt(0)===40&&!e.match(lR)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?wi("n",r,n):"("+wi("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return o5(t,e,n);if(e.indexOf("%")!==-1)return s5(t,e,n);if(e.indexOf("E")!==-1)return aR(e,n);if(e.charCodeAt(0)===36)return"$"+wi(t,e.substr(e.charAt(1)==" "?2:1),n);var a,o,l,h,d=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+ac(d,e.length);if(e.match(/^[#?]+$/))return a=ac(n,0),a==="0"&&(a=""),a.length>e.length?a:wr(e.substr(0,e.length-a.length))+a;if(o=e.match(sR))return l5(o,d,f);if(e.match(/^#+0+$/))return f+ac(d,e.length-e.indexOf("0"));if(o=e.match(oR))return a=u2(n,o[1].length).replace(/^([^\.]+)$/,"$1."+wr(o[1])).replace(/\.$/,"."+wr(o[1])).replace(/\.(\d*)$/,function(S,w){return"."+w+fn("0",wr(o[1]).length-w.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return f+u2(d,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return f+Ks(ac(d,0));if(o=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+wi(t,e,-n):Ks(""+(Math.floor(n)+u5(n,o[1].length)))+"."+$i(h2(n,o[1].length),o[1].length);if(o=e.match(/^#,#*,#0/))return wi(t,e.replace(/^#,#*,/,""),n);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=wc(wi(t,e.replace(/[\\-]/g,""),n)),l=0,wc(wc(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<a.length?a.charAt(l++):S==="0"?"0":""}));if(e.match(cR))return a=wi(t,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var g="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),h=F0(d,Math.pow(10,l)-1,!1),a=""+f,g=Ja("n",o[1],h[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),a+=g+o[2]+"/"+o[3],g=M0(h[2],l),g.length<o[4].length&&(g=wr(o[4].substr(o[4].length-g.length))+g),a+=g,a;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),h=F0(d,Math.pow(10,l)-1,!0),f+(h[0]||(h[1]?"":"0"))+" "+(h[1]?r_(h[1],l)+o[2]+"/"+o[3]+M0(h[2],l):fn(" ",2*l+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return a=ac(n,0),e.length<=a.length?a:wr(e.substr(0,e.length-a.length))+a;if(o=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var y=e.indexOf(".")-l,x=e.length-a.length-y;return wr(e.substr(0,y)+a+e.substr(e.length-x))}if(o=e.match(/^00,000\.([#0]*0)$/))return l=h2(n,o[1].length),n<0?"-"+wi(t,e,-n):Ks(h5(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?$i(0,3-S.length):"")+S})+"."+$i(l,o[1].length);switch(e){case"###,##0.00":return wi(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var T=Ks(ac(d,0));return T!=="0"?f+T:"";case"###,###.00":return wi(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return wi(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function f5(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ja(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function d5(t,e,n){var r=e.replace(iR,""),a=e.length-r.length;return Ja(t,r,n*Math.pow(10,2*a))+fn("%",a)}function uR(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+uR(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%a;if(o<0&&(o+=a),n=(e/Math.pow(10,o)).toPrecision(r+1+(a+o)%a),!n.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+o):n+="E+"+(l-o),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(h,d,f,g){return d+f+g.substr(0,(a+o)%a)+"."+g.substr(o)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function ua(t,e,n){if(t.charCodeAt(0)===40&&!e.match(lR)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ua("n",r,n):"("+ua("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return f5(t,e,n);if(e.indexOf("%")!==-1)return d5(t,e,n);if(e.indexOf("E")!==-1)return uR(e,n);if(e.charCodeAt(0)===36)return"$"+ua(t,e.substr(e.charAt(1)==" "?2:1),n);var a,o,l,h,d=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+$i(d,e.length);if(e.match(/^[#?]+$/))return a=""+n,n===0&&(a=""),a.length>e.length?a:wr(e.substr(0,e.length-a.length))+a;if(o=e.match(sR))return c5(o,d,f);if(e.match(/^#+0+$/))return f+$i(d,e.length-e.indexOf("0"));if(o=e.match(oR))return a=(""+n).replace(/^([^\.]+)$/,"$1."+wr(o[1])).replace(/\.$/,"."+wr(o[1])),a=a.replace(/\.(\d*)$/,function(S,w){return"."+w+fn("0",wr(o[1]).length-w.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return f+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return f+Ks(""+d);if(o=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ua(t,e,-n):Ks(""+n)+"."+fn("0",o[1].length);if(o=e.match(/^#,#*,#0/))return ua(t,e.replace(/^#,#*,/,""),n);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=wc(ua(t,e.replace(/[\\-]/g,""),n)),l=0,wc(wc(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<a.length?a.charAt(l++):S==="0"?"0":""}));if(e.match(cR))return a=ua(t,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var g="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),h=F0(d,Math.pow(10,l)-1,!1),a=""+f,g=Ja("n",o[1],h[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),a+=g+o[2]+"/"+o[3],g=M0(h[2],l),g.length<o[4].length&&(g=wr(o[4].substr(o[4].length-g.length))+g),a+=g,a;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),h=F0(d,Math.pow(10,l)-1,!0),f+(h[0]||(h[1]?"":"0"))+" "+(h[1]?r_(h[1],l)+o[2]+"/"+o[3]+M0(h[2],l):fn(" ",2*l+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return a=""+n,e.length<=a.length?a:wr(e.substr(0,e.length-a.length))+a;if(o=e.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var y=e.indexOf(".")-l,x=e.length-a.length-y;return wr(e.substr(0,y)+a+e.substr(e.length-x))}if(o=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+ua(t,e,-n):Ks(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?$i(0,3-S.length):"")+S})+"."+$i(0,o[1].length);switch(e){case"###,###":case"##,###":case"#,###":var T=Ks(""+d);return T!=="0"?f+T:"";default:if(e.match(/\.[0#?]*$/))return ua(t,e.slice(0,e.lastIndexOf(".")),n)+wr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ja(t,e,n){return(n|0)===n?ua(t,e,n):wi(t,e,n)}function m5(t){for(var e=[],n=!1,r=0,a=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(a,r-a),a=r+1}if(e[e.length]=t.substr(a),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var hR=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fR(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":L0(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(hR))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function p5(t,e,n,r){for(var a=[],o="",l=0,h="",d="t",f,g,y,x="H";l<t.length;)switch(h=t.charAt(l)){case"G":if(!L0(t,l))throw new Error("unrecognized character "+h+" in "+t);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(o="";(y=t.charCodeAt(++l))!==34&&l<t.length;)o+=String.fromCharCode(y);a[a.length]={t:"t",v:o},++l;break;case"\\":var T=t.charAt(++l),S=T==="("||T===")"?T:"t";a[a.length]={t:S,v:T},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:e},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(f==null&&(f=Gd(e,n,t.charAt(l+1)==="2"),f==null))return"";a[a.length]={t:"X",v:t.substr(l,2)},d=h,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":h=h.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=Gd(e,n),f==null))return"";for(o=h;++l<t.length&&t.charAt(l).toLowerCase()===h;)o+=h;h==="m"&&d.toLowerCase()==="h"&&(h="M"),h==="h"&&(h=x),a[a.length]={t:h,v:o},d=h;break;case"A":case"a":case"上":var w={t:h,v:h};if(f==null&&(f=Gd(e,n)),t.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(w.v=f.H>=12?"P":"A"),w.t="T",x="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(w.v=f.H>=12?"PM":"AM"),w.t="T",l+=5,x="h"):t.substr(l,5).toUpperCase()==="上午/下午"?(f!=null&&(w.v=f.H>=12?"下午":"上午"),w.t="T",l+=5,x="h"):(w.t="t",++l),f==null&&w.t==="T")return"";a[a.length]=w,d=h;break;case"[":for(o=h;t.charAt(l++)!=="]"&&l<t.length;)o+=t.charAt(l);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(hR)){if(f==null&&(f=Gd(e,n),f==null))return"";a[a.length]={t:"Z",v:o.toLowerCase()},d=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",fR(t)||(a[a.length]={t:"t",v:o}));break;case".":if(f!=null){for(o=h;++l<t.length&&(h=t.charAt(l))==="0";)o+=h;a[a.length]={t:"s",v:o};break}case"0":case"#":for(o=h;++l<t.length&&"0#?.,E+-%".indexOf(h=t.charAt(l))>-1;)o+=h;a[a.length]={t:"n",v:o};break;case"?":for(o=h;t.charAt(++l)===h;)o+=h;a[a.length]={t:h,v:o},d=h;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:r===1?"t":h,v:h},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=h;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)o+=t.charAt(l);a[a.length]={t:"D",v:o};break;case" ":a[a.length]={t:h,v:h},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(h)===-1)throw new Error("unrecognized character "+h+" in "+t);a[a.length]={t:"t",v:h},++l;break}var b=0,O=0,F;for(l=a.length-1,d="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=x,d="h",b<1&&(b=1);break;case"s":(F=a[l].v.match(/\.0+$/))&&(O=Math.max(O,F[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":d=a[l].t;break;case"m":d==="s"&&(a[l].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&a[l].v.match(/[Hh]/)&&(b=1),b<2&&a[l].v.match(/[Mm]/)&&(b=2),b<3&&a[l].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var j="",J;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=a5(a[l].t.charCodeAt(0),a[l].v,f,O),a[l].t="t";break;case"n":case"?":for(J=l+1;a[J]!=null&&((h=a[J].t)==="?"||h==="D"||(h===" "||h==="t")&&a[J+1]!=null&&(a[J+1].t==="?"||a[J+1].t==="t"&&a[J+1].v==="/")||a[l].t==="("&&(h===" "||h==="n"||h===")")||h==="t"&&(a[J].v==="/"||a[J].v===" "&&a[J+1]!=null&&a[J+1].t=="?"));)a[l].v+=a[J].v,a[J]={v:"",t:";"},++J;j+=a[l].v,l=J-1;break;case"G":a[l].t="t",a[l].v=B1(e,n);break}var X="",W,N;if(j.length>0){j.charCodeAt(0)==40?(W=e<0&&j.charCodeAt(0)===45?-e:e,N=Ja("n",j,W)):(W=e<0&&r>1?-e:e,N=Ja("n",j,W),W<0&&a[0]&&a[0].t=="t"&&(N=N.substr(1),a[0].v="-"+a[0].v)),J=N.length-1;var I=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){I=l;break}var C=a.length;if(I===a.length&&N.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(J>=a[l].v.length-1?(J-=a[l].v.length,a[l].v=N.substr(J+1,a[l].v.length)):J<0?a[l].v="":(a[l].v=N.substr(0,J+1),J=-1),a[l].t="t",C=l);J>=0&&C<a.length&&(a[C].v=N.substr(0,J+1)+a[C].v)}else if(I!==a.length&&N.indexOf("E")===-1){for(J=N.indexOf(".")-1,l=I;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(g=a[l].v.indexOf(".")>-1&&l===I?a[l].v.indexOf(".")-1:a[l].v.length-1,X=a[l].v.substr(g+1);g>=0;--g)J>=0&&(a[l].v.charAt(g)==="0"||a[l].v.charAt(g)==="#")&&(X=N.charAt(J--)+X);a[l].v=X,a[l].t="t",C=l}for(J>=0&&C<a.length&&(a[C].v=N.substr(0,J+1)+a[C].v),J=N.indexOf(".")+1,l=I;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==I)){for(g=a[l].v.indexOf(".")>-1&&l===I?a[l].v.indexOf(".")+1:0,X=a[l].v.substr(0,g);g<a[l].v.length;++g)J<N.length&&(X+=N.charAt(J++));a[l].v=X,a[l].t="t",C=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(W=r>1&&e<0&&l>0&&a[l-1].v==="-"?-e:e,a[l].v=Ja(a[l].t,a[l].v,W),a[l].t="t");var P="";for(l=0;l!==a.length;++l)a[l]!=null&&(P+=a[l].v);return P}var f2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function d2(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function g5(t,e){var n=m5(t),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var o=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,o];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var l=n[0].match(f2),h=n[1].match(f2);return d2(e,l)?[r,n[0]]:d2(e,h)?[r,n[1]]:[r,n[l!=null&&h!=null?2:1]]}return[r,o]}function oo(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:mn)[t],r==null&&(r=n.table&&n.table[c2[t]]||mn[c2[t]]),r==null&&(r=Q8[t]||"General");break}if(L0(r,0))return B1(e,n);e instanceof Date&&(e=rR(e,n.date1904));var a=g5(r,e);if(L0(a[1]))return B1(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return p5(a[1],e,n,a[0])}function dR(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(mn[n]==null){e<0&&(e=n);continue}if(mn[n]==t){e=n;break}}e<0&&(e=391)}return mn[e]=t,e}function Am(t){for(var e=0;e!=392;++e)t[e]!==void 0&&dR(t[e],e)}function bm(){mn=X8()}var mR=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function v5(t){var e=typeof t=="number"?mn[t]:t;return e=e.replace(mR,"(\\d+)"),new RegExp("^"+e+"$")}function _5(t,e,n){var r=-1,a=-1,o=-1,l=-1,h=-1,d=-1;(e.match(mR)||[]).forEach(function(y,x){var T=parseInt(n[x+1],10);switch(y.toLowerCase().charAt(0)){case"y":r=T;break;case"d":o=T;break;case"h":l=T;break;case"s":d=T;break;case"m":l>=0?h=T:a=T;break}}),d>=0&&h==-1&&a>=0&&(h=a,a=-1);var f=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var g=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&h==-1&&d==-1?f:r==-1&&a==-1&&o==-1?g:f+"T"+g}var y5=(function(){var t={};t.version="1.2.0";function e(){for(var N=0,I=new Array(256),C=0;C!=256;++C)N=C,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,I[C]=N;return typeof Int32Array<"u"?new Int32Array(I):I}var n=e();function r(N){var I=0,C=0,P=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)L[P]=N[P];for(P=0;P!=256;++P)for(C=N[P],I=256+P;I<4096;I+=256)C=L[I]=C>>>8^N[C&255];var z=[];for(P=1;P!=16;++P)z[P-1]=typeof Int32Array<"u"?L.subarray(P*256,P*256+256):L.slice(P*256,P*256+256);return z}var a=r(n),o=a[0],l=a[1],h=a[2],d=a[3],f=a[4],g=a[5],y=a[6],x=a[7],T=a[8],S=a[9],w=a[10],b=a[11],O=a[12],F=a[13],j=a[14];function J(N,I){for(var C=I^-1,P=0,L=N.length;P<L;)C=C>>>8^n[(C^N.charCodeAt(P++))&255];return~C}function X(N,I){for(var C=I^-1,P=N.length-15,L=0;L<P;)C=j[N[L++]^C&255]^F[N[L++]^C>>8&255]^O[N[L++]^C>>16&255]^b[N[L++]^C>>>24]^w[N[L++]]^S[N[L++]]^T[N[L++]]^x[N[L++]]^y[N[L++]]^g[N[L++]]^f[N[L++]]^d[N[L++]]^h[N[L++]]^l[N[L++]]^o[N[L++]]^n[N[L++]];for(P+=15;L<P;)C=C>>>8^n[(C^N[L++])&255];return~C}function W(N,I){for(var C=I^-1,P=0,L=N.length,z=0,M=0;P<L;)z=N.charCodeAt(P++),z<128?C=C>>>8^n[(C^z)&255]:z<2048?(C=C>>>8^n[(C^(192|z>>6&31))&255],C=C>>>8^n[(C^(128|z&63))&255]):z>=55296&&z<57344?(z=(z&1023)+64,M=N.charCodeAt(P++)&1023,C=C>>>8^n[(C^(240|z>>8&7))&255],C=C>>>8^n[(C^(128|z>>2&63))&255],C=C>>>8^n[(C^(128|M>>6&15|(z&3)<<4))&255],C=C>>>8^n[(C^(128|M&63))&255]):(C=C>>>8^n[(C^(224|z>>12&15))&255],C=C>>>8^n[(C^(128|z>>6&63))&255],C=C>>>8^n[(C^(128|z&63))&255]);return~C}return t.table=n,t.bstr=J,t.buf=X,t.str=W,t})(),zt=(function(){var e={};e.version="1.2.1";function n(D,q){for(var V=D.split("/"),H=q.split("/"),G=0,K=0,ue=Math.min(V.length,H.length);G<ue;++G){if(K=V[G].length-H[G].length)return K;if(V[G]!=H[G])return V[G]<H[G]?-1:1}return V.length-H.length}function r(D){if(D.charAt(D.length-1)=="/")return D.slice(0,-1).indexOf("/")===-1?D:r(D.slice(0,-1));var q=D.lastIndexOf("/");return q===-1?D:D.slice(0,q+1)}function a(D){if(D.charAt(D.length-1)=="/")return a(D.slice(0,-1));var q=D.lastIndexOf("/");return q===-1?D:D.slice(q+1)}function o(D,q){typeof q=="string"&&(q=new Date(q));var V=q.getHours();V=V<<6|q.getMinutes(),V=V<<5|q.getSeconds()>>>1,D.write_shift(2,V);var H=q.getFullYear()-1980;H=H<<4|q.getMonth()+1,H=H<<5|q.getDate(),D.write_shift(2,H)}function l(D){var q=D.read_shift(2)&65535,V=D.read_shift(2)&65535,H=new Date,G=V&31;V>>>=5;var K=V&15;V>>>=4,H.setMilliseconds(0),H.setFullYear(V+1980),H.setMonth(K-1),H.setDate(G);var ue=q&31;q>>>=5;var _e=q&63;return q>>>=6,H.setHours(q),H.setMinutes(_e),H.setSeconds(ue<<1),H}function h(D){ri(D,0);for(var q={},V=0;D.l<=D.length-4;){var H=D.read_shift(2),G=D.read_shift(2),K=D.l+G,ue={};switch(H){case 21589:V=D.read_shift(1),V&1&&(ue.mtime=D.read_shift(4)),G>5&&(V&2&&(ue.atime=D.read_shift(4)),V&4&&(ue.ctime=D.read_shift(4))),ue.mtime&&(ue.mt=new Date(ue.mtime*1e3));break}D.l=K,q[H]=ue}return q}var d;function f(){return d||(d={})}function g(D,q){if(D[0]==80&&D[1]==75)return Ii(D,q);if((D[0]|32)==109&&(D[1]|32)==105)return Xc(D,q);if(D.length<512)throw new Error("CFB file size "+D.length+" < 512");var V=3,H=512,G=0,K=0,ue=0,_e=0,ae=0,de=[],me=D.slice(0,512);ri(me,0);var Ce=y(me);switch(V=Ce[0],V){case 3:H=512;break;case 4:H=4096;break;case 0:if(Ce[1]==0)return Ii(D,q);default:throw new Error("Major Version: Expected 3 or 4 saw "+V)}H!==512&&(me=D.slice(0,H),ri(me,28));var Oe=D.slice(0,H);x(me,V);var ze=me.read_shift(4,"i");if(V===3&&ze!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ze);me.l+=4,ue=me.read_shift(4,"i"),me.l+=4,me.chk("00100000","Mini Stream Cutoff Size: "),_e=me.read_shift(4,"i"),G=me.read_shift(4,"i"),ae=me.read_shift(4,"i"),K=me.read_shift(4,"i");for(var Ne=-1,Be=0;Be<109&&(Ne=me.read_shift(4,"i"),!(Ne<0));++Be)de[Be]=Ne;var nt=T(D,H);b(ae,K,nt,H,de);var St=F(nt,ue,de,H);St[ue].name="!Directory",G>0&&_e!==M&&(St[_e].name="!MiniFAT"),St[de[0]].name="!FAT",St.fat_addrs=de,St.ssz=H;var At={},It=[],$r=[],di=[];j(ue,St,nt,It,G,At,$r,_e),S($r,di,It),It.shift();var _r={FileIndex:$r,FullPaths:di};return q&&q.raw&&(_r.raw={header:Oe,sectors:nt}),_r}function y(D){if(D[D.l]==80&&D[D.l+1]==75)return[0,0];D.chk(Ue,"Header Signature: "),D.l+=16;var q=D.read_shift(2,"u");return[D.read_shift(2,"u"),q]}function x(D,q){var V=9;switch(D.l+=2,V=D.read_shift(2)){case 9:if(q!=3)throw new Error("Sector Shift: Expected 9 saw "+V);break;case 12:if(q!=4)throw new Error("Sector Shift: Expected 12 saw "+V);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+V)}D.chk("0600","Mini Sector Shift: "),D.chk("000000000000","Reserved: ")}function T(D,q){for(var V=Math.ceil(D.length/q)-1,H=[],G=1;G<V;++G)H[G-1]=D.slice(G*q,(G+1)*q);return H[V-1]=D.slice(V*q),H}function S(D,q,V){for(var H=0,G=0,K=0,ue=0,_e=0,ae=V.length,de=[],me=[];H<ae;++H)de[H]=me[H]=H,q[H]=V[H];for(;_e<me.length;++_e)H=me[_e],G=D[H].L,K=D[H].R,ue=D[H].C,de[H]===H&&(G!==-1&&de[G]!==G&&(de[H]=de[G]),K!==-1&&de[K]!==K&&(de[H]=de[K])),ue!==-1&&(de[ue]=H),G!==-1&&H!=de[H]&&(de[G]=de[H],me.lastIndexOf(G)<_e&&me.push(G)),K!==-1&&H!=de[H]&&(de[K]=de[H],me.lastIndexOf(K)<_e&&me.push(K));for(H=1;H<ae;++H)de[H]===H&&(K!==-1&&de[K]!==K?de[H]=de[K]:G!==-1&&de[G]!==G&&(de[H]=de[G]));for(H=1;H<ae;++H)if(D[H].type!==0){if(_e=H,_e!=de[_e])do _e=de[_e],q[H]=q[_e]+"/"+q[H];while(_e!==0&&de[_e]!==-1&&_e!=de[_e]);de[H]=-1}for(q[0]+="/",H=1;H<ae;++H)D[H].type!==2&&(q[H]+="/")}function w(D,q,V){for(var H=D.start,G=D.size,K=[],ue=H;V&&G>0&&ue>=0;)K.push(q.slice(ue*z,ue*z+z)),G-=z,ue=Qo(V,ue*4);return K.length===0?ye(0):tr(K).slice(0,D.size)}function b(D,q,V,H,G){var K=M;if(D===M){if(q!==0)throw new Error("DIFAT chain shorter than expected")}else if(D!==-1){var ue=V[D],_e=(H>>>2)-1;if(!ue)return;for(var ae=0;ae<_e&&(K=Qo(ue,ae*4))!==M;++ae)G.push(K);b(Qo(ue,H-4),q-1,V,H,G)}}function O(D,q,V,H,G){var K=[],ue=[];G||(G=[]);var _e=H-1,ae=0,de=0;for(ae=q;ae>=0;){G[ae]=!0,K[K.length]=ae,ue.push(D[ae]);var me=V[Math.floor(ae*4/H)];if(de=ae*4&_e,H<4+de)throw new Error("FAT boundary crossed: "+ae+" 4 "+H);if(!D[me])break;ae=Qo(D[me],de)}return{nodes:K,data:E2([ue])}}function F(D,q,V,H){var G=D.length,K=[],ue=[],_e=[],ae=[],de=H-1,me=0,Ce=0,Oe=0,ze=0;for(me=0;me<G;++me)if(_e=[],Oe=me+q,Oe>=G&&(Oe-=G),!ue[Oe]){ae=[];var Ne=[];for(Ce=Oe;Ce>=0;){Ne[Ce]=!0,ue[Ce]=!0,_e[_e.length]=Ce,ae.push(D[Ce]);var Be=V[Math.floor(Ce*4/H)];if(ze=Ce*4&de,H<4+ze)throw new Error("FAT boundary crossed: "+Ce+" 4 "+H);if(!D[Be]||(Ce=Qo(D[Be],ze),Ne[Ce]))break}K[Oe]={nodes:_e,data:E2([ae])}}return K}function j(D,q,V,H,G,K,ue,_e){for(var ae=0,de=H.length?2:0,me=q[D].data,Ce=0,Oe=0,ze;Ce<me.length;Ce+=128){var Ne=me.slice(Ce,Ce+128);ri(Ne,64),Oe=Ne.read_shift(2),ze=c_(Ne,0,Oe-de),H.push(ze);var Be={name:ze,type:Ne.read_shift(1),color:Ne.read_shift(1),L:Ne.read_shift(4,"i"),R:Ne.read_shift(4,"i"),C:Ne.read_shift(4,"i"),clsid:Ne.read_shift(16),state:Ne.read_shift(4,"i"),start:0,size:0},nt=Ne.read_shift(2)+Ne.read_shift(2)+Ne.read_shift(2)+Ne.read_shift(2);nt!==0&&(Be.ct=J(Ne,Ne.l-8));var St=Ne.read_shift(2)+Ne.read_shift(2)+Ne.read_shift(2)+Ne.read_shift(2);St!==0&&(Be.mt=J(Ne,Ne.l-8)),Be.start=Ne.read_shift(4,"i"),Be.size=Ne.read_shift(4,"i"),Be.size<0&&Be.start<0&&(Be.size=Be.type=0,Be.start=M,Be.name=""),Be.type===5?(ae=Be.start,G>0&&ae!==M&&(q[ae].name="!StreamData")):Be.size>=4096?(Be.storage="fat",q[Be.start]===void 0&&(q[Be.start]=O(V,Be.start,q.fat_addrs,q.ssz)),q[Be.start].name=Be.name,Be.content=q[Be.start].data.slice(0,Be.size)):(Be.storage="minifat",Be.size<0?Be.size=0:ae!==M&&Be.start!==M&&q[ae]&&(Be.content=w(Be,q[ae].data,(q[_e]||{}).data))),Be.content&&ri(Be.content,0),K[ze]=Be,ue.push(Be)}}function J(D,q){return new Date((si(D,q+4)/1e7*Math.pow(2,32)+si(D,q)/1e7-11644473600)*1e3)}function X(D,q){return f(),g(d.readFileSync(D),q)}function W(D,q){var V=q&&q.type;switch(V||Rt&&Buffer.isBuffer(D)&&(V="buffer"),V||"base64"){case"file":return X(D,q);case"base64":return g(zi(ls(D)),q);case"binary":return g(zi(D),q)}return g(D,q)}function N(D,q){var V=q||{},H=V.root||"Root Entry";if(D.FullPaths||(D.FullPaths=[]),D.FileIndex||(D.FileIndex=[]),D.FullPaths.length!==D.FileIndex.length)throw new Error("inconsistent CFB structure");D.FullPaths.length===0&&(D.FullPaths[0]=H+"/",D.FileIndex[0]={name:H,type:5}),V.CLSID&&(D.FileIndex[0].clsid=V.CLSID),I(D)}function I(D){var q="Sh33tJ5";if(!zt.find(D,"/"+q)){var V=ye(4);V[0]=55,V[1]=V[3]=50,V[2]=54,D.FileIndex.push({name:q,type:2,content:V,size:4,L:69,R:69,C:69}),D.FullPaths.push(D.FullPaths[0]+q),C(D)}}function C(D,q){N(D);for(var V=!1,H=!1,G=D.FullPaths.length-1;G>=0;--G){var K=D.FileIndex[G];switch(K.type){case 0:H?V=!0:(D.FileIndex.pop(),D.FullPaths.pop());break;case 1:case 2:case 5:H=!0,isNaN(K.R*K.L*K.C)&&(V=!0),K.R>-1&&K.L>-1&&K.R==K.L&&(V=!0);break;default:V=!0;break}}if(!(!V&&!q)){var ue=new Date(1987,1,19),_e=0,ae=Object.create?Object.create(null):{},de=[];for(G=0;G<D.FullPaths.length;++G)ae[D.FullPaths[G]]=!0,D.FileIndex[G].type!==0&&de.push([D.FullPaths[G],D.FileIndex[G]]);for(G=0;G<de.length;++G){var me=r(de[G][0]);H=ae[me],H||(de.push([me,{name:a(me).replace("/",""),type:1,clsid:ce,ct:ue,mt:ue,content:null}]),ae[me]=!0)}for(de.sort(function(ze,Ne){return n(ze[0],Ne[0])}),D.FullPaths=[],D.FileIndex=[],G=0;G<de.length;++G)D.FullPaths[G]=de[G][0],D.FileIndex[G]=de[G][1];for(G=0;G<de.length;++G){var Ce=D.FileIndex[G],Oe=D.FullPaths[G];if(Ce.name=a(Oe).replace("/",""),Ce.L=Ce.R=Ce.C=-(Ce.color=1),Ce.size=Ce.content?Ce.content.length:0,Ce.start=0,Ce.clsid=Ce.clsid||ce,G===0)Ce.C=de.length>1?1:-1,Ce.size=0,Ce.type=5;else if(Oe.slice(-1)=="/"){for(_e=G+1;_e<de.length&&r(D.FullPaths[_e])!=Oe;++_e);for(Ce.C=_e>=de.length?-1:_e,_e=G+1;_e<de.length&&r(D.FullPaths[_e])!=r(Oe);++_e);Ce.R=_e>=de.length?-1:_e,Ce.type=1}else r(D.FullPaths[G+1]||"")==r(Oe)&&(Ce.R=G+1),Ce.type=2}}}function P(D,q){var V=q||{};if(V.fileType=="mad")return fi(D,V);switch(C(D),V.fileType){case"zip":return rn(D,V)}var H=(function(ze){for(var Ne=0,Be=0,nt=0;nt<ze.FileIndex.length;++nt){var St=ze.FileIndex[nt];if(St.content){var At=St.content.length;At>0&&(At<4096?Ne+=At+63>>6:Be+=At+511>>9)}}for(var It=ze.FullPaths.length+3>>2,$r=Ne+7>>3,di=Ne+127>>7,_r=$r+Be+It+di,Ir=_r+127>>7,na=Ir<=109?0:Math.ceil((Ir-109)/127);_r+Ir+na+127>>7>Ir;)na=++Ir<=109?0:Math.ceil((Ir-109)/127);var Wr=[1,na,Ir,di,It,Be,Ne,0];return ze.FileIndex[0].size=Ne<<6,Wr[7]=(ze.FileIndex[0].start=Wr[0]+Wr[1]+Wr[2]+Wr[3]+Wr[4]+Wr[5])+(Wr[6]+7>>3),Wr})(D),G=ye(H[7]<<9),K=0,ue=0;{for(K=0;K<8;++K)G.write_shift(1,ke[K]);for(K=0;K<8;++K)G.write_shift(2,0);for(G.write_shift(2,62),G.write_shift(2,3),G.write_shift(2,65534),G.write_shift(2,9),G.write_shift(2,6),K=0;K<3;++K)G.write_shift(2,0);for(G.write_shift(4,0),G.write_shift(4,H[2]),G.write_shift(4,H[0]+H[1]+H[2]+H[3]-1),G.write_shift(4,0),G.write_shift(4,4096),G.write_shift(4,H[3]?H[0]+H[1]+H[2]-1:M),G.write_shift(4,H[3]),G.write_shift(-4,H[1]?H[0]-1:M),G.write_shift(4,H[1]),K=0;K<109;++K)G.write_shift(-4,K<H[2]?H[1]+K:-1)}if(H[1])for(ue=0;ue<H[1];++ue){for(;K<236+ue*127;++K)G.write_shift(-4,K<H[2]?H[1]+K:-1);G.write_shift(-4,ue===H[1]-1?M:ue+1)}var _e=function(ze){for(ue+=ze;K<ue-1;++K)G.write_shift(-4,K+1);ze&&(++K,G.write_shift(-4,M))};for(ue=K=0,ue+=H[1];K<ue;++K)G.write_shift(-4,Re.DIFSECT);for(ue+=H[2];K<ue;++K)G.write_shift(-4,Re.FATSECT);_e(H[3]),_e(H[4]);for(var ae=0,de=0,me=D.FileIndex[0];ae<D.FileIndex.length;++ae)me=D.FileIndex[ae],me.content&&(de=me.content.length,!(de<4096)&&(me.start=ue,_e(de+511>>9)));for(_e(H[6]+7>>3);G.l&511;)G.write_shift(-4,Re.ENDOFCHAIN);for(ue=K=0,ae=0;ae<D.FileIndex.length;++ae)me=D.FileIndex[ae],me.content&&(de=me.content.length,!(!de||de>=4096)&&(me.start=ue,_e(de+63>>6)));for(;G.l&511;)G.write_shift(-4,Re.ENDOFCHAIN);for(K=0;K<H[4]<<2;++K){var Ce=D.FullPaths[K];if(!Ce||Ce.length===0){for(ae=0;ae<17;++ae)G.write_shift(4,0);for(ae=0;ae<3;++ae)G.write_shift(4,-1);for(ae=0;ae<12;++ae)G.write_shift(4,0);continue}me=D.FileIndex[K],K===0&&(me.start=me.size?me.start-1:M);var Oe=K===0&&V.root||me.name;if(de=2*(Oe.length+1),G.write_shift(64,Oe,"utf16le"),G.write_shift(2,de),G.write_shift(1,me.type),G.write_shift(1,me.color),G.write_shift(-4,me.L),G.write_shift(-4,me.R),G.write_shift(-4,me.C),me.clsid)G.write_shift(16,me.clsid,"hex");else for(ae=0;ae<4;++ae)G.write_shift(4,0);G.write_shift(4,me.state||0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,me.start),G.write_shift(4,me.size),G.write_shift(4,0)}for(K=1;K<D.FileIndex.length;++K)if(me=D.FileIndex[K],me.size>=4096)if(G.l=me.start+1<<9,Rt&&Buffer.isBuffer(me.content))me.content.copy(G,G.l,0,me.size),G.l+=me.size+511&-512;else{for(ae=0;ae<me.size;++ae)G.write_shift(1,me.content[ae]);for(;ae&511;++ae)G.write_shift(1,0)}for(K=1;K<D.FileIndex.length;++K)if(me=D.FileIndex[K],me.size>0&&me.size<4096)if(Rt&&Buffer.isBuffer(me.content))me.content.copy(G,G.l,0,me.size),G.l+=me.size+63&-64;else{for(ae=0;ae<me.size;++ae)G.write_shift(1,me.content[ae]);for(;ae&63;++ae)G.write_shift(1,0)}if(Rt)G.l=G.length;else for(;G.l<G.length;)G.write_shift(1,0);return G}function L(D,q){var V=D.FullPaths.map(function(ae){return ae.toUpperCase()}),H=V.map(function(ae){var de=ae.split("/");return de[de.length-(ae.slice(-1)=="/"?2:1)]}),G=!1;q.charCodeAt(0)===47?(G=!0,q=V[0].slice(0,-1)+q):G=q.indexOf("/")!==-1;var K=q.toUpperCase(),ue=G===!0?V.indexOf(K):H.indexOf(K);if(ue!==-1)return D.FileIndex[ue];var _e=!K.match(qd);for(K=K.replace(Th,""),_e&&(K=K.replace(qd,"!")),ue=0;ue<V.length;++ue)if((_e?V[ue].replace(qd,"!"):V[ue]).replace(Th,"")==K||(_e?H[ue].replace(qd,"!"):H[ue]).replace(Th,"")==K)return D.FileIndex[ue];return null}var z=64,M=-2,Ue="d0cf11e0a1b11ae1",ke=[208,207,17,224,161,177,26,225],ce="00000000000000000000000000000000",Re={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:Ue,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ce,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function He(D,q,V){f();var H=P(D,V);d.writeFileSync(q,H)}function Ye(D){for(var q=new Array(D.length),V=0;V<D.length;++V)q[V]=String.fromCharCode(D[V]);return q.join("")}function te(D,q){var V=P(D,q);switch(q&&q.type||"buffer"){case"file":return f(),d.writeFileSync(q.filename,V),V;case"binary":return typeof V=="string"?V:Ye(V);case"base64":return Hh(typeof V=="string"?V:Ye(V));case"buffer":if(Rt)return Buffer.isBuffer(V)?V:hs(V);case"array":return typeof V=="string"?zi(V):V}return V}var fe;function B(D){try{var q=D.InflateRaw,V=new q;if(V._processChunk(new Uint8Array([3,0]),V._finishFlushFlag),V.bytesRead)fe=D;else throw new Error("zlib does not expose bytesRead")}catch(H){console.error("cannot use native zlib: "+(H.message||H))}}function ee(D,q){if(!fe)return Ra(D,q);var V=fe.InflateRaw,H=new V,G=H._processChunk(D.slice(D.l),H._finishFlushFlag);return D.l+=H.bytesRead,G}function Y(D){return fe?fe.deflateRawSync(D):wl(D)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Pe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ie(D){var q=(D<<1|D<<11)&139536|(D<<5|D<<15)&558144;return(q>>16|q>>8|q)&255}for(var Le=typeof Uint8Array<"u",De=Le?new Uint8Array(256):[],_t=0;_t<256;++_t)De[_t]=Ie(_t);function ot(D,q){var V=De[D&255];return q<=8?V>>>8-q:(V=V<<8|De[D>>8&255],q<=16?V>>>16-q:(V=V<<8|De[D>>16&255],V>>>24-q))}function nn(D,q){var V=q&7,H=q>>>3;return(D[H]|(V<=6?0:D[H+1]<<8))>>>V&3}function ft(D,q){var V=q&7,H=q>>>3;return(D[H]|(V<=5?0:D[H+1]<<8))>>>V&7}function qr(D,q){var V=q&7,H=q>>>3;return(D[H]|(V<=4?0:D[H+1]<<8))>>>V&15}function jt(D,q){var V=q&7,H=q>>>3;return(D[H]|(V<=3?0:D[H+1]<<8))>>>V&31}function Ve(D,q){var V=q&7,H=q>>>3;return(D[H]|(V<=1?0:D[H+1]<<8))>>>V&127}function $n(D,q,V){var H=q&7,G=q>>>3,K=(1<<V)-1,ue=D[G]>>>H;return V<8-H||(ue|=D[G+1]<<8-H,V<16-H)||(ue|=D[G+2]<<16-H,V<24-H)||(ue|=D[G+3]<<24-H),ue&K}function Nt(D,q,V){var H=q&7,G=q>>>3;return H<=5?D[G]|=(V&7)<<H:(D[G]|=V<<H&255,D[G+1]=(V&7)>>8-H),q+3}function $t(D,q,V){var H=q&7,G=q>>>3;return V=(V&1)<<H,D[G]|=V,q+1}function or(D,q,V){var H=q&7,G=q>>>3;return V<<=H,D[G]|=V&255,V>>>=8,D[G+1]=V,q+8}function Tl(D,q,V){var H=q&7,G=q>>>3;return V<<=H,D[G]|=V&255,V>>>=8,D[G+1]=V&255,D[G+2]=V>>>8,q+16}function ba(D,q){var V=D.length,H=2*V>q?2*V:q+5,G=0;if(V>=q)return D;if(Rt){var K=s2(H);if(D.copy)D.copy(K);else for(;G<D.length;++G)K[G]=D[G];return K}else if(Le){var ue=new Uint8Array(H);if(ue.set)ue.set(D);else for(;G<V;++G)ue[G]=D[G];return ue}return D.length=H,D}function Rr(D){for(var q=new Array(D),V=0;V<D;++V)q[V]=0;return q}function ui(D,q,V){var H=1,G=0,K=0,ue=0,_e=0,ae=D.length,de=Le?new Uint16Array(32):Rr(32);for(K=0;K<32;++K)de[K]=0;for(K=ae;K<V;++K)D[K]=0;ae=D.length;var me=Le?new Uint16Array(ae):Rr(ae);for(K=0;K<ae;++K)de[G=D[K]]++,H<G&&(H=G),me[K]=0;for(de[0]=0,K=1;K<=H;++K)de[K+16]=_e=_e+de[K-1]<<1;for(K=0;K<ae;++K)_e=D[K],_e!=0&&(me[K]=de[_e+16]++);var Ce=0;for(K=0;K<ae;++K)if(Ce=D[K],Ce!=0)for(_e=ot(me[K],H)>>H-Ce,ue=(1<<H+4-Ce)-1;ue>=0;--ue)q[_e|ue<<Ce]=Ce&15|K<<4;return H}var hi=Le?new Uint16Array(512):Rr(512),xn=Le?new Uint16Array(32):Rr(32);if(!Le){for(var En=0;En<512;++En)hi[En]=0;for(En=0;En<32;++En)xn[En]=0}(function(){for(var D=[],q=0;q<32;q++)D.push(5);ui(D,xn,32);var V=[];for(q=0;q<=143;q++)V.push(8);for(;q<=255;q++)V.push(9);for(;q<=279;q++)V.push(7);for(;q<=287;q++)V.push(8);ui(V,hi,288)})();var Wn=(function(){for(var q=Le?new Uint8Array(32768):[],V=0,H=0;V<Pe.length-1;++V)for(;H<Pe[V+1];++H)q[H]=V;for(;H<32768;++H)q[H]=29;var G=Le?new Uint8Array(259):[];for(V=0,H=0;V<re.length-1;++V)for(;H<re[V+1];++H)G[H]=V;function K(_e,ae){for(var de=0;de<_e.length;){var me=Math.min(65535,_e.length-de),Ce=de+me==_e.length;for(ae.write_shift(1,+Ce),ae.write_shift(2,me),ae.write_shift(2,~me&65535);me-- >0;)ae[ae.l++]=_e[de++]}return ae.l}function ue(_e,ae){for(var de=0,me=0,Ce=Le?new Uint16Array(32768):[];me<_e.length;){var Oe=Math.min(65535,_e.length-me);if(Oe<10){for(de=Nt(ae,de,+(me+Oe==_e.length)),de&7&&(de+=8-(de&7)),ae.l=de/8|0,ae.write_shift(2,Oe),ae.write_shift(2,~Oe&65535);Oe-- >0;)ae[ae.l++]=_e[me++];de=ae.l*8;continue}de=Nt(ae,de,+(me+Oe==_e.length)+2);for(var ze=0;Oe-- >0;){var Ne=_e[me];ze=(ze<<5^Ne)&32767;var Be=-1,nt=0;if((Be=Ce[ze])&&(Be|=me&-32768,Be>me&&(Be-=32768),Be<me))for(;_e[Be+nt]==_e[me+nt]&&nt<250;)++nt;if(nt>2){Ne=G[nt],Ne<=22?de=or(ae,de,De[Ne+1]>>1)-1:(or(ae,de,3),de+=5,or(ae,de,De[Ne-23]>>5),de+=3);var St=Ne<8?0:Ne-4>>2;St>0&&(Tl(ae,de,nt-re[Ne]),de+=St),Ne=q[me-Be],de=or(ae,de,De[Ne]>>3),de-=3;var At=Ne<4?0:Ne-2>>1;At>0&&(Tl(ae,de,me-Be-Pe[Ne]),de+=At);for(var It=0;It<nt;++It)Ce[ze]=me&32767,ze=(ze<<5^_e[me])&32767,++me;Oe-=nt-1}else Ne<=143?Ne=Ne+48:de=$t(ae,de,1),de=or(ae,de,De[Ne]),Ce[ze]=me&32767,++me}de=or(ae,de,0)-1}return ae.l=(de+7)/8|0,ae.l}return function(ae,de){return ae.length<8?K(ae,de):ue(ae,de)}})();function wl(D){var q=ye(50+Math.floor(D.length*1.1)),V=Wn(D,q);return q.slice(0,V)}var go=Le?new Uint16Array(32768):Rr(32768),vo=Le?new Uint16Array(32768):Rr(32768),Gr=Le?new Uint16Array(128):Rr(128),Ni=1,Cr=1;function Nr(D,q){var V=jt(D,q)+257;q+=5;var H=jt(D,q)+1;q+=5;var G=qr(D,q)+4;q+=4;for(var K=0,ue=Le?new Uint8Array(19):Rr(19),_e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ae=1,de=Le?new Uint8Array(8):Rr(8),me=Le?new Uint8Array(8):Rr(8),Ce=ue.length,Oe=0;Oe<G;++Oe)ue[Q[Oe]]=K=ft(D,q),ae<K&&(ae=K),de[K]++,q+=3;var ze=0;for(de[0]=0,Oe=1;Oe<=ae;++Oe)me[Oe]=ze=ze+de[Oe-1]<<1;for(Oe=0;Oe<Ce;++Oe)(ze=ue[Oe])!=0&&(_e[Oe]=me[ze]++);var Ne=0;for(Oe=0;Oe<Ce;++Oe)if(Ne=ue[Oe],Ne!=0){ze=De[_e[Oe]]>>8-Ne;for(var Be=(1<<7-Ne)-1;Be>=0;--Be)Gr[ze|Be<<Ne]=Ne&7|Oe<<3}var nt=[];for(ae=1;nt.length<V+H;)switch(ze=Gr[Ve(D,q)],q+=ze&7,ze>>>=3){case 16:for(K=3+nn(D,q),q+=2,ze=nt[nt.length-1];K-- >0;)nt.push(ze);break;case 17:for(K=3+ft(D,q),q+=3;K-- >0;)nt.push(0);break;case 18:for(K=11+Ve(D,q),q+=7;K-- >0;)nt.push(0);break;default:nt.push(ze),ae<ze&&(ae=ze);break}var St=nt.slice(0,V),At=nt.slice(V);for(Oe=V;Oe<286;++Oe)St[Oe]=0;for(Oe=H;Oe<30;++Oe)At[Oe]=0;return Ni=ui(St,go,286),Cr=ui(At,vo,30),q}function Zi(D,q){if(D[0]==3&&!(D[1]&3))return[ul(q),2];for(var V=0,H=0,G=s2(q||1<<18),K=0,ue=G.length>>>0,_e=0,ae=0;(H&1)==0;){if(H=ft(D,V),V+=3,H>>>1)H>>1==1?(_e=9,ae=5):(V=Nr(D,V),_e=Ni,ae=Cr);else{V&7&&(V+=8-(V&7));var de=D[V>>>3]|D[(V>>>3)+1]<<8;if(V+=32,de>0)for(!q&&ue<K+de&&(G=ba(G,K+de),ue=G.length);de-- >0;)G[K++]=D[V>>>3],V+=8;continue}for(;;){!q&&ue<K+32767&&(G=ba(G,K+32767),ue=G.length);var me=$n(D,V,_e),Ce=H>>>1==1?hi[me]:go[me];if(V+=Ce&15,Ce>>>=4,(Ce>>>8&255)===0)G[K++]=Ce;else{if(Ce==256)break;Ce-=257;var Oe=Ce<8?0:Ce-4>>2;Oe>5&&(Oe=0);var ze=K+re[Ce];Oe>0&&(ze+=$n(D,V,Oe),V+=Oe),me=$n(D,V,ae),Ce=H>>>1==1?xn[me]:vo[me],V+=Ce&15,Ce>>>=4;var Ne=Ce<4?0:Ce-2>>1,Be=Pe[Ce];for(Ne>0&&(Be+=$n(D,V,Ne),V+=Ne),!q&&ue<ze&&(G=ba(G,ze+100),ue=G.length);K<ze;)G[K]=G[K-Be],++K}}}return q?[G,V+7>>>3]:[G.slice(0,K),V+7>>>3]}function Ra(D,q){var V=D.slice(D.l||0),H=Zi(V,q);return D.l+=H[1],H[0]}function fs(D,q){if(D)typeof console<"u"&&console.error(q);else throw new Error(q)}function Ii(D,q){var V=D;ri(V,0);var H=[],G=[],K={FileIndex:H,FullPaths:G};N(K,{root:q.root});for(var ue=V.length-4;(V[ue]!=80||V[ue+1]!=75||V[ue+2]!=5||V[ue+3]!=6)&&ue>=0;)--ue;V.l=ue+4,V.l+=4;var _e=V.read_shift(2);V.l+=6;var ae=V.read_shift(4);for(V.l=ae,ue=0;ue<_e;++ue){V.l+=20;var de=V.read_shift(4),me=V.read_shift(4),Ce=V.read_shift(2),Oe=V.read_shift(2),ze=V.read_shift(2);V.l+=8;var Ne=V.read_shift(4),Be=h(V.slice(V.l+Ce,V.l+Ce+Oe));V.l+=Ce+Oe+ze;var nt=V.l;V.l=Ne+4,ds(V,de,me,K,Be),V.l=nt}return K}function ds(D,q,V,H,G){D.l+=2;var K=D.read_shift(2),ue=D.read_shift(2),_e=l(D);if(K&8257)throw new Error("Unsupported ZIP encryption");for(var ae=D.read_shift(4),de=D.read_shift(4),me=D.read_shift(4),Ce=D.read_shift(2),Oe=D.read_shift(2),ze="",Ne=0;Ne<Ce;++Ne)ze+=String.fromCharCode(D[D.l++]);if(Oe){var Be=h(D.slice(D.l,D.l+Oe));(Be[21589]||{}).mt&&(_e=Be[21589].mt),((G||{})[21589]||{}).mt&&(_e=G[21589].mt)}D.l+=Oe;var nt=D.slice(D.l,D.l+de);switch(ue){case 8:nt=ee(D,me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ue)}var St=!1;K&8&&(ae=D.read_shift(4),ae==134695760&&(ae=D.read_shift(4),St=!0),de=D.read_shift(4),me=D.read_shift(4)),de!=q&&fs(St,"Bad compressed size: "+q+" != "+de),me!=V&&fs(St,"Bad uncompressed size: "+V+" != "+me),pn(H,ze,nt,{unsafe:!0,mt:_e})}function rn(D,q){var V=q||{},H=[],G=[],K=ye(1),ue=V.compression?8:0,_e=0,ae=0,de=0,me=0,Ce=0,Oe=D.FullPaths[0],ze=Oe,Ne=D.FileIndex[0],Be=[],nt=0;for(ae=1;ae<D.FullPaths.length;++ae)if(ze=D.FullPaths[ae].slice(Oe.length),Ne=D.FileIndex[ae],!(!Ne.size||!Ne.content||ze=="Sh33tJ5")){var St=me,At=ye(ze.length);for(de=0;de<ze.length;++de)At.write_shift(1,ze.charCodeAt(de)&127);At=At.slice(0,At.l),Be[Ce]=y5.buf(Ne.content,0);var It=Ne.content;ue==8&&(It=Y(It)),K=ye(30),K.write_shift(4,67324752),K.write_shift(2,20),K.write_shift(2,_e),K.write_shift(2,ue),Ne.mt?o(K,Ne.mt):K.write_shift(4,0),K.write_shift(-4,Be[Ce]),K.write_shift(4,It.length),K.write_shift(4,Ne.content.length),K.write_shift(2,At.length),K.write_shift(2,0),me+=K.length,H.push(K),me+=At.length,H.push(At),me+=It.length,H.push(It),K=ye(46),K.write_shift(4,33639248),K.write_shift(2,0),K.write_shift(2,20),K.write_shift(2,_e),K.write_shift(2,ue),K.write_shift(4,0),K.write_shift(-4,Be[Ce]),K.write_shift(4,It.length),K.write_shift(4,Ne.content.length),K.write_shift(2,At.length),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(4,0),K.write_shift(4,St),nt+=K.l,G.push(K),nt+=At.length,G.push(At),++Ce}return K=ye(22),K.write_shift(4,101010256),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,Ce),K.write_shift(2,Ce),K.write_shift(4,nt),K.write_shift(4,me),K.write_shift(2,0),tr([tr(H),tr(G),K])}var Ca={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ea(D,q){if(D.ctype)return D.ctype;var V=D.name||"",H=V.match(/\.([^\.]+)$/);return H&&Ca[H[1]]||q&&(H=(V=q).match(/[\.\\]([^\.\\])+$/),H&&Ca[H[1]])?Ca[H[1]]:"application/octet-stream"}function ta(D){for(var q=Hh(D),V=[],H=0;H<q.length;H+=76)V.push(q.slice(H,H+76));return V.join(`\r
`)+`\r
`}function _o(D){var q=D.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(de){var me=de.charCodeAt(0).toString(16).toUpperCase();return"="+(me.length==1?"0"+me:me)});q=q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),q.charAt(0)==`
`&&(q="=0D"+q.slice(1)),q=q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var V=[],H=q.split(`\r
`),G=0;G<H.length;++G){var K=H[G];if(K.length==0){V.push("");continue}for(var ue=0;ue<K.length;){var _e=76,ae=K.slice(ue,ue+_e);ae.charAt(_e-1)=="="?_e--:ae.charAt(_e-2)=="="?_e-=2:ae.charAt(_e-3)=="="&&(_e-=3),ae=K.slice(ue,ue+_e),ue+=_e,ue<K.length&&(ae+="="),V.push(ae)}}return V.join(`\r
`)}function yo(D){for(var q=[],V=0;V<D.length;++V){for(var H=D[V];V<=D.length&&H.charAt(H.length-1)=="=";)H=H.slice(0,H.length-1)+D[++V];q.push(H)}for(var G=0;G<q.length;++G)q[G]=q[G].replace(/[=][0-9A-Fa-f]{2}/g,function(K){return String.fromCharCode(parseInt(K.slice(1),16))});return zi(q.join(`\r
`))}function Di(D,q,V){for(var H="",G="",K="",ue,_e=0;_e<10;++_e){var ae=q[_e];if(!ae||ae.match(/^\s*$/))break;var de=ae.match(/^(.*?):\s*([^\s].*)$/);if(de)switch(de[1].toLowerCase()){case"content-location":H=de[2].trim();break;case"content-type":K=de[2].trim();break;case"content-transfer-encoding":G=de[2].trim();break}}switch(++_e,G.toLowerCase()){case"base64":ue=zi(ls(q.slice(_e).join("")));break;case"quoted-printable":ue=yo(q.slice(_e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+G)}var me=pn(D,H.slice(V.length),ue,{unsafe:!0});K&&(me.ctype=K)}function Xc(D,q){if(Ye(D.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var V=q&&q.root||"",H=(Rt&&Buffer.isBuffer(D)?D.toString("binary"):Ye(D)).split(`\r
`),G=0,K="";for(G=0;G<H.length;++G)if(K=H[G],!!/^Content-Location:/i.test(K)&&(K=K.slice(K.indexOf("file")),V||(V=K.slice(0,K.lastIndexOf("/")+1)),K.slice(0,V.length)!=V))for(;V.length>0&&(V=V.slice(0,V.length-1),V=V.slice(0,V.lastIndexOf("/")+1),K.slice(0,V.length)!=V););var ue=(H[1]||"").match(/boundary="(.*?)"/);if(!ue)throw new Error("MAD cannot find boundary");var _e="--"+(ue[1]||""),ae=[],de=[],me={FileIndex:ae,FullPaths:de};N(me);var Ce,Oe=0;for(G=0;G<H.length;++G){var ze=H[G];ze!==_e&&ze!==_e+"--"||(Oe++&&Di(me,H.slice(Ce,G),V),Ce=G)}return me}function fi(D,q){var V=q||{},H=V.boundary||"SheetJS";H="------="+H;for(var G=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+H.slice(2)+'"',"","",""],K=D.FullPaths[0],ue=K,_e=D.FileIndex[0],ae=1;ae<D.FullPaths.length;++ae)if(ue=D.FullPaths[ae].slice(K.length),_e=D.FileIndex[ae],!(!_e.size||!_e.content||ue=="Sh33tJ5")){ue=ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(nt){return"_x"+nt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(nt){return"_u"+nt.charCodeAt(0).toString(16)+"_"});for(var de=_e.content,me=Rt&&Buffer.isBuffer(de)?de.toString("binary"):Ye(de),Ce=0,Oe=Math.min(1024,me.length),ze=0,Ne=0;Ne<=Oe;++Ne)(ze=me.charCodeAt(Ne))>=32&&ze<128&&++Ce;var Be=Ce>=Oe*4/5;G.push(H),G.push("Content-Location: "+(V.root||"file:///C:/SheetJS/")+ue),G.push("Content-Transfer-Encoding: "+(Be?"quoted-printable":"base64")),G.push("Content-Type: "+ea(_e,ue)),G.push(""),G.push(Be?_o(me):ta(me))}return G.push(H+`--\r
`),G.join(`\r
`)}function an(D){var q={};return N(q,D),q}function pn(D,q,V,H){var G=H&&H.unsafe;G||N(D);var K=!G&&zt.find(D,q);if(!K){var ue=D.FullPaths[0];q.slice(0,ue.length)==ue?ue=q:(ue.slice(-1)!="/"&&(ue+="/"),ue=(ue+q).replace("//","/")),K={name:a(q),type:2},D.FileIndex.push(K),D.FullPaths.push(ue),G||zt.utils.cfb_gc(D)}return K.content=V,K.size=V?V.length:0,H&&(H.CLSID&&(K.clsid=H.CLSID),H.mt&&(K.mt=H.mt),H.ct&&(K.ct=H.ct)),K}function Oi(D,q){N(D);var V=zt.find(D,q);if(V){for(var H=0;H<D.FileIndex.length;++H)if(D.FileIndex[H]==V)return D.FileIndex.splice(H,1),D.FullPaths.splice(H,1),!0}return!1}function Na(D,q,V){N(D);var H=zt.find(D,q);if(H){for(var G=0;G<D.FileIndex.length;++G)if(D.FileIndex[G]==H)return D.FileIndex[G].name=a(V),D.FullPaths[G]=V,!0}return!1}function Ia(D){C(D,!0)}return e.find=L,e.read=W,e.parse=g,e.write=te,e.writeFile=He,e.utils={cfb_new:an,cfb_add:pn,cfb_del:Oi,cfb_mov:Na,cfb_gc:Ia,ReadShift:Sh,CheckField:OR,prep_blob:ri,bconcat:tr,use_zlib:B,_deflateRaw:wl,_inflateRaw:Ra,consts:Re},e})();function x5(t){return typeof t=="string"?Sm(t):Array.isArray(t)?$8(t):t}function pf(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=Sm(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?qh(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var a=new Blob([x5(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,t);if(typeof saveAs<"u")return saveAs(a,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:t,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=t,l.href=o,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var h=File(t);return h.open("w"),h.encoding="binary",Array.isArray(e)&&(e=mf(e)),h.write(e),h.close(),e}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function sr(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function m2(t,e){for(var n=[],r=sr(t),a=0;a!==r.length;++a)n[t[r[a]][e]]==null&&(n[t[r[a]][e]]=r[a]);return n}function a_(t){for(var e=[],n=sr(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function Rm(t){for(var e=[],n=sr(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function E5(t){for(var e=[],n=sr(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var j0=new Date(1899,11,30,0,0,0);function Br(t,e){var n=t.getTime(),r=j0.getTime()+(t.getTimezoneOffset()-j0.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var pR=new Date,T5=j0.getTime()+(pR.getTimezoneOffset()-j0.getTimezoneOffset())*6e4,p2=pR.getTimezoneOffset();function gR(t){var e=new Date;return e.setTime(t*24*60*60*1e3+T5),e.getTimezoneOffset()!==p2&&e.setTime(e.getTime()+(e.getTimezoneOffset()-p2)*6e4),e}var g2=new Date("2017-02-19T19:06:09.000Z"),vR=isNaN(g2.getFullYear())?new Date("2/19/17"):g2,w5=vR.getFullYear()==2017;function Ar(t,e){var n=new Date(t);if(w5)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(vR.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function Cm(t,e){if(Rt&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(o){return n[o]||o})}catch{}for(var r=[],a=0;a!=t.length;++a)r.push(String.fromCharCode(t[a]));return r.join("")}function Hr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Hr(t[n]));return e}function fn(t,e){for(var n="";n.length<e;)n+=t;return n}function Za(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(a,o){return n=-n,o}),!isNaN(e=Number(r)))?e/n:e}var S5=["january","february","march","april","may","june","july","august","september","october","november","december"];function zh(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),a=e.getMonth(),o=e.getDate();if(isNaN(o))return n;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&S5.indexOf(l)==-1)return n}else if(l.match(/[a-z]/))return n;return r<0||r>8099?n:(a>0||o>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function lt(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Rt?r=hs(n):r=W8(n),zt.utils.cfb_add(t,e,r)}zt.utils.cfb_add(t,e,n)}else t.file(e,n)}function s_(){return zt.utils.cfb_new()}var In=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,A5={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},o_=a_(A5),l_=/[&<>'"]/g,b5=/[\u0000-\u0008\u000b-\u001f]/g;function Lt(t){var e=t+"";return e.replace(l_,function(n){return o_[n]}).replace(b5,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function v2(t){return Lt(t).replace(/ /g,"_x0020_")}var _R=/[\u0000-\u001f]/g;function R5(t){var e=t+"";return e.replace(l_,function(n){return o_[n]}).replace(/\n/g,"<br/>").replace(_R,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function C5(t){var e=t+"";return e.replace(l_,function(n){return o_[n]}).replace(_R,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function N5(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function I5(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function e1(t){for(var e="",n=0,r=0,a=0,o=0,l=0,h=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(a=t.charCodeAt(n++),r>191&&r<224){l=(r&31)<<6,l|=a&63,e+=String.fromCharCode(l);continue}if(o=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(a&63)<<6|o&63);continue}l=t.charCodeAt(n++),h=((r&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(h>>>10&1023)),e+=String.fromCharCode(56320+(h&1023))}return e}function _2(t){var e=ul(2*t.length),n,r,a=1,o=0,l=0,h;for(r=0;r<t.length;r+=a)a=1,(h=t.charCodeAt(r))<128?n=h:h<224?(n=(h&31)*64+(t.charCodeAt(r+1)&63),a=2):h<240?(n=(h&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),a=3):(a=4,n=(h&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,l=55296+(n>>>10&1023),n=56320+(n&1023)),l!==0&&(e[o++]=l&255,e[o++]=l>>>8,l=0),e[o++]=n%256,e[o++]=n>>>8;return e.slice(0,o).toString("ucs2")}function y2(t){return hs(t,"binary").toString("utf8")}var $d="foo bar bazâð£",wh=Rt&&(y2($d)==e1($d)&&y2||_2($d)==e1($d)&&_2)||e1,qh=Rt?function(t){return hs(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,a=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,a=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},D5=(function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)r=r.replace(t[a][0],t[a][1]);return r}})(),yR=/(^\s|\s$|\n)/;function nr(t,e){return"<"+t+(e.match(yR)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Gh(t){return sr(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Me(t,e,n){return"<"+t+(n!=null?Gh(n):"")+(e!=null?(e.match(yR)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function H1(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function O5(t,e){switch(typeof t){case"string":var n=Me("vt:lpwstr",Lt(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Me((t|0)==t?"vt:i4":"vt:r8",Lt(String(t)));case"boolean":return Me("vt:bool",t?"true":"false")}if(t instanceof Date)return Me("vt:filetime",H1(t));throw new Error("Unable to serialize "+t)}var zn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},$c=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ai={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function k5(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,o=5;o>=0;--o)a=a*256+t[e+o];return r==2047?a==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,a+=Math.pow(2,52)),n*Math.pow(2,r-52)*a)}function P5(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,a=0,o=0,l=r?-e:e;isFinite(l)?l==0?a=o=0:(a=Math.floor(Math.log(l)/Math.LN2),o=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?a=-1022:(o-=Math.pow(2,52),a+=1023)):(a=2047,o=isNaN(e)?26985:0);for(var h=0;h<=5;++h,o/=256)t[n+h]=o&255;t[n+6]=(a&15)<<4|o&15,t[n+7]=a>>4|r}var x2=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var a=0,o=t[0][r].length;a<o;a+=n)e.push.apply(e,t[0][r].slice(a,a+n));return e},E2=Rt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:hs(e)})):x2(t)}:x2,T2=function(t,e,n){for(var r=[],a=e;a<n;a+=2)r.push(String.fromCharCode(fh(t,a)));return r.join("").replace(Th,"")},c_=Rt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Th,""):T2(t,e,n)}:T2,w2=function(t,e,n){for(var r=[],a=e;a<e+n;++a)r.push(("0"+t[a].toString(16)).slice(-2));return r.join("")},xR=Rt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):w2(t,e,n)}:w2,S2=function(t,e,n){for(var r=[],a=e;a<n;a++)r.push(String.fromCharCode(dc(t,a)));return r.join("")},gf=Rt?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):S2(e,n,r)}:S2,ER=function(t,e){var n=si(t,e);return n>0?gf(t,e+4,e+4+n-1):""},TR=ER,wR=function(t,e){var n=si(t,e);return n>0?gf(t,e+4,e+4+n-1):""},SR=wR,AR=function(t,e){var n=2*si(t,e);return n>0?gf(t,e+4,e+4+n-1):""},bR=AR,RR=function(e,n){var r=si(e,n);return r>0?c_(e,n+4,n+4+r):""},CR=RR,NR=function(t,e){var n=si(t,e);return n>0?gf(t,e+4,e+4+n):""},IR=NR,DR=function(t,e){return k5(t,e)},U0=DR,u_=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Rt&&(TR=function(e,n){if(!Buffer.isBuffer(e))return ER(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},SR=function(e,n){if(!Buffer.isBuffer(e))return wR(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},bR=function(e,n){if(!Buffer.isBuffer(e))return AR(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},CR=function(e,n){if(!Buffer.isBuffer(e))return RR(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},IR=function(e,n){if(!Buffer.isBuffer(e))return NR(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},U0=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):DR(e,n)},u_=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var dc=function(t,e){return t[e]},fh=function(t,e){return t[e+1]*256+t[e]},M5=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},si=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Qo=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},L5=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Sh(t,e){var n="",r,a,o=[],l,h,d,f;switch(e){case"dbcs":if(f=this.l,Rt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)n+=String.fromCharCode(fh(this,f)),f+=2;t*=2;break;case"utf8":n=gf(this,this.l,this.l+t);break;case"utf16le":t*=2,n=c_(this,this.l,this.l+t);break;case"wstr":return Sh.call(this,t,"dbcs");case"lpstr-ansi":n=TR(this,this.l),t=4+si(this,this.l);break;case"lpstr-cp":n=SR(this,this.l),t=4+si(this,this.l);break;case"lpwstr":n=bR(this,this.l),t=4+2*si(this,this.l);break;case"lpp4":t=4+si(this,this.l),n=CR(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+si(this,this.l),n=IR(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(l=dc(this,this.l+t++))!==0;)o.push(zd(l));n=o.join("");break;case"_wstr":for(t=0,n="";(l=fh(this,this.l+t))!==0;)o.push(zd(l)),t+=2;t+=2,n=o.join("");break;case"dbcs-cont":for(n="",f=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return l=dc(this,f),this.l=f+1,h=Sh.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),o.join("")+h;o.push(zd(fh(this,f))),f+=2}n=o.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",f=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return l=dc(this,f),this.l=f+1,h=Sh.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),o.join("")+h;o.push(zd(dc(this,f))),f+=1}n=o.join("");break;default:switch(t){case 1:return r=dc(this,this.l),this.l++,r;case 2:return r=(e==="i"?M5:fh)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Qo:L5)(this,this.l),this.l+=4,r):(a=si(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=U0(this,this.l):a=U0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:n=xR(this,this.l,t);break}}return this.l+=t,n}var F5=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},j5=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},U5=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function V5(t,e,n){var r=0,a=0;if(n==="dbcs"){for(a=0;a!=e.length;++a)U5(this,e.charCodeAt(a),this.l+2*a);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;r=e.length}else if(n==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(n==="utf16le"){var o=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var l=e.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,F5(this,e,this.l);break;case 8:if(r=8,n==="f"){P5(this,e,this.l);break}case 16:break;case-4:r=4,j5(this,e,this.l);break}return this.l+=r,this}function OR(t,e){var n=xR(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function ri(t,e){t.l=e,t.read_shift=Sh,t.chk=OR,t.write_shift=V5}function Ta(t,e){t.l+=e}function ye(t){var e=ul(t);return ri(e,0),e}function Vr(){var t=[],e=Rt?256:2048,n=function(f){var g=ye(f);return ri(g,0),g},r=n(e),a=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},o=function(f){return r&&f<r.length-r.l?r:(a(),r=n(Math.max(f+1,e)))},l=function(){return a(),tr(t)},h=function(f){a(),r=f,r.l==null&&(r.l=r.length),o(e)};return{next:o,push:h,end:l,_bufs:t}}function be(t,e,n,r){var a=+e,o;if(!isNaN(a)){r||(r=kB[a].p||(n||[]).length||0),o=1+(a>=128?1:0)+1,r>=128&&++o,r>=16384&&++o,r>=2097152&&++o;var l=t.next(o);a<=127?l.write_shift(1,a):(l.write_shift(1,(a&127)+128),l.write_shift(1,a>>7));for(var h=0;h!=4;++h)if(r>=128)l.write_shift(1,(r&127)+128),r>>=7;else{l.write_shift(1,r);break}r>0&&u_(n)&&t.push(n)}}function Ah(t,e,n){var r=Hr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function A2(t,e,n){var r=Hr(t);return r.s=Ah(r.s,e.s,n),r.e=Ah(r.e,e.s,n),r}function bh(t,e){if(t.cRel&&t.c<0)for(t=Hr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Hr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Ft(t);return!t.cRel&&t.cRel!=null&&(n=z5(n)),!t.rRel&&t.rRel!=null&&(n=B5(n)),n}function t1(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+pr(t.s.c)+":"+(t.e.cRel?"":"$")+pr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ir(t.s.r)+":"+(t.e.rRel?"":"$")+ir(t.e.r):bh(t.s,e.biff)+":"+bh(t.e,e.biff)}function h_(t){return parseInt(H5(t),10)-1}function ir(t){return""+(t+1)}function B5(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function H5(t){return t.replace(/\$(\d+)$/,"$1")}function f_(t){for(var e=q5(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function pr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function z5(t){return t.replace(/^([A-Z])/,"$$$1")}function q5(t){return t.replace(/^\$([A-Z])/,"$1")}function G5(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function qn(t){for(var e=0,n=0,r=0;r<t.length;++r){var a=t.charCodeAt(r);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:e-1}}function Ft(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function li(t){var e=t.indexOf(":");return e==-1?{s:qn(t),e:qn(t)}:{s:qn(t.slice(0,e)),e:qn(t.slice(e+1))}}function Nn(t,e){return typeof e>"u"||typeof e=="number"?Nn(t.s,t.e):(typeof t!="string"&&(t=Ft(t)),typeof e!="string"&&(e=Ft(e)),t==e?t:t+":"+e)}function Zt(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,a=0,o=t.length;for(n=0;r<o&&!((a=t.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(e.s.c=--n,n=0;r<o&&!((a=t.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;if(e.s.r=--n,r===o||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=o&&!((a=t.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(e.e.c=--n,n=0;r!=o&&!((a=t.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;return e.e.r=--n,e}function b2(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=oo(t.z,n?Br(e):e)}catch{}try{return t.w=oo((t.XF||{}).numFmtId||(n?14:0),n?Br(e):e)}catch{return""+e}}function cs(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?vf[t.v]||t.v:e==null?b2(t,t.v):b2(t,e))}function vl(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function kR(t,e,n){var r=n||{},a=t?Array.isArray(t):r.dense,o=t||(a?[]:{}),l=0,h=0;if(o&&r.origin!=null){if(typeof r.origin=="number")l=r.origin;else{var d=typeof r.origin=="string"?qn(r.origin):r.origin;l=d.r,h=d.c}o["!ref"]||(o["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var g=Zt(o["!ref"]);f.s.c=g.s.c,f.s.r=g.s.r,f.e.c=Math.max(f.e.c,g.e.c),f.e.r=Math.max(f.e.r,g.e.r),l==-1&&(f.e.r=l=g.e.r+1)}for(var y=0;y!=e.length;++y)if(e[y]){if(!Array.isArray(e[y]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=e[y].length;++x)if(!(typeof e[y][x]>"u")){var T={v:e[y][x]},S=l+y,w=h+x;if(f.s.r>S&&(f.s.r=S),f.s.c>w&&(f.s.c=w),f.e.r<S&&(f.e.r=S),f.e.c<w&&(f.e.c=w),e[y][x]&&typeof e[y][x]=="object"&&!Array.isArray(e[y][x])&&!(e[y][x]instanceof Date))T=e[y][x];else if(Array.isArray(T.v)&&(T.f=e[y][x][1],T.v=T.v[0]),T.v===null)if(T.f)T.t="n";else if(r.nullError)T.t="e",T.v=0;else if(r.sheetStubs)T.t="z";else continue;else typeof T.v=="number"?T.t="n":typeof T.v=="boolean"?T.t="b":T.v instanceof Date?(T.z=r.dateNF||mn[14],r.cellDates?(T.t="d",T.w=oo(T.z,Br(T.v))):(T.t="n",T.v=Br(T.v),T.w=oo(T.z,T.v))):T.t="s";if(a)o[S]||(o[S]=[]),o[S][w]&&o[S][w].z&&(T.z=o[S][w].z),o[S][w]=T;else{var b=Ft({c:w,r:S});o[b]&&o[b].z&&(T.z=o[b].z),o[b]=T}}}return f.s.c<1e7&&(o["!ref"]=Nn(f)),o}function Wc(t,e){return kR(null,t,e)}function $5(t){return t.read_shift(4,"i")}function Wi(t,e){return e||(e=ye(4)),e.write_shift(4,t),e}function gr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Gn(t,e){var n=!1;return e==null&&(n=!0,e=ye(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function W5(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Y5(t,e){return e||(e=ye(4)),e.write_shift(2,0),e.write_shift(2,0),e}function d_(t,e){var n=t.l,r=t.read_shift(1),a=gr(t),o=[],l={t:a,h:a};if((r&1)!==0){for(var h=t.read_shift(4),d=0;d!=h;++d)o.push(W5(t));l.r=o}else l.r=[{ich:0,ifnt:0}];return t.l=n+e,l}function K5(t,e){var n=!1;return e==null&&(n=!0,e=ye(15+4*t.t.length)),e.write_shift(1,0),Gn(t.t,e),n?e.slice(0,e.l):e}var X5=d_;function Q5(t,e){var n=!1;return e==null&&(n=!0,e=ye(23+4*t.t.length)),e.write_shift(1,1),Gn(t.t,e),e.write_shift(4,1),Y5({},e),n?e.slice(0,e.l):e}function Ci(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function _l(t,e){return e==null&&(e=ye(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function yl(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function xl(t,e){return e==null&&(e=ye(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var J5=gr,PR=Gn;function m_(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function V0(t,e){var n=!1;return e==null&&(n=!0,e=ye(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var Z5=gr,z1=m_,p_=V0;function MR(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var a=r===0?U0([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Qo(e,0)>>2;return n?a/100:a}function LR(t,e){e==null&&(e=ye(4));var n=0,r=0,a=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?a:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function FR(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function ej(t,e){return e||(e=ye(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var El=FR,Yc=ej;function Kc(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function hl(t,e){return(e||ye(8)).write_shift(8,t,"f")}function tj(t){var e={},n=t.read_shift(1),r=n>>>1,a=t.read_shift(1),o=t.read_shift(2,"i"),l=t.read_shift(1),h=t.read_shift(1),d=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=a;var f=uj[a];f&&(e.rgb=F2(f));break;case 2:e.rgb=F2([l,h,d]);break;case 3:e.theme=a;break}return o!=0&&(e.tint=o>0?o/32767:o/32768),e}function B0(t,e){if(e||(e=ye(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function nj(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function rj(t,e){e||(e=ye(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var jR=2,ni=3,Wd=11,H0=19,Yd=64,ij=65,aj=71,sj=4108,oj=4126,Jn=80,R2={1:{n:"CodePage",t:jR},2:{n:"Category",t:Jn},3:{n:"PresentationFormat",t:Jn},4:{n:"ByteCount",t:ni},5:{n:"LineCount",t:ni},6:{n:"ParagraphCount",t:ni},7:{n:"SlideCount",t:ni},8:{n:"NoteCount",t:ni},9:{n:"HiddenCount",t:ni},10:{n:"MultimediaClipCount",t:ni},11:{n:"ScaleCrop",t:Wd},12:{n:"HeadingPairs",t:sj},13:{n:"TitlesOfParts",t:oj},14:{n:"Manager",t:Jn},15:{n:"Company",t:Jn},16:{n:"LinksUpToDate",t:Wd},17:{n:"CharacterCount",t:ni},19:{n:"SharedDoc",t:Wd},22:{n:"HyperlinksChanged",t:Wd},23:{n:"AppVersion",t:ni,p:"version"},24:{n:"DigSig",t:ij},26:{n:"ContentType",t:Jn},27:{n:"ContentStatus",t:Jn},28:{n:"Language",t:Jn},29:{n:"Version",t:Jn},255:{},2147483648:{n:"Locale",t:H0},2147483651:{n:"Behavior",t:H0},1919054434:{}},C2={1:{n:"CodePage",t:jR},2:{n:"Title",t:Jn},3:{n:"Subject",t:Jn},4:{n:"Author",t:Jn},5:{n:"Keywords",t:Jn},6:{n:"Comments",t:Jn},7:{n:"Template",t:Jn},8:{n:"LastAuthor",t:Jn},9:{n:"RevNumber",t:Jn},10:{n:"EditTime",t:Yd},11:{n:"LastPrinted",t:Yd},12:{n:"CreatedDate",t:Yd},13:{n:"ModifiedDate",t:Yd},14:{n:"PageCount",t:ni},15:{n:"WordCount",t:ni},16:{n:"CharCount",t:ni},17:{n:"Thumbnail",t:aj},18:{n:"Application",t:Jn},19:{n:"DocSecurity",t:ni},255:{},2147483648:{n:"Locale",t:H0},2147483651:{n:"Behavior",t:H0},1919054434:{}};function lj(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var cj=lj([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),uj=Hr(cj),vf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},hj={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Kd={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function UR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function VR(t,e){var n=E5(hj),r=[],a;r[r.length]=In,r[r.length]=Me("Types",null,{xmlns:zn.CT,"xmlns:xsd":zn.xsd,"xmlns:xsi":zn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Me("Default",null,{Extension:d[0],ContentType:d[1]})}));var o=function(d){t[d]&&t[d].length>0&&(a=t[d][0],r[r.length]=Me("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Kd[d][e.bookType]||Kd[d].xlsx}))},l=function(d){(t[d]||[]).forEach(function(f){r[r.length]=Me("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:Kd[d][e.bookType]||Kd[d].xlsx})})},h=function(d){(t[d]||[]).forEach(function(f){r[r.length]=Me("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:n[d][0]})})};return o("workbooks"),l("sheets"),l("charts"),h("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(h),h("vba"),h("comments"),h("threadedcomments"),h("drawings"),l("metadata"),h("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var wt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function BR(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Sc(t){var e=[In,Me("Relationships",null,{xmlns:zn.RELS})];return sr(t["!id"]).forEach(function(n){e[e.length]=Me("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Mt(t,e,n,r,a,o){if(a||(a={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,a.Id="rId"+e,a.Type=r,a.Target=n,[wt.HLINK,wt.XPATH,wt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),t["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][a.Id]=a,t[("/"+a.Target).replace("//","/")]=a,e}function fj(t){var e=[In];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function N2(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function dj(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function mj(t){var e=[In];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(N2(t[n][0],t[n][1])),e.push(dj("",t[n][0]));return e.push(N2("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function HR(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+k0.version+"</meta:generator></office:meta></office:document-meta>"}var rl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function n1(t,e,n,r,a){a[t]!=null||e==null||e===""||(a[t]=e,e=Lt(e),r[r.length]=n?Me(t,e,n):nr(t,e))}function zR(t,e){var n=e||{},r=[In,Me("cp:coreProperties",null,{"xmlns:cp":zn.CORE_PROPS,"xmlns:dc":zn.dc,"xmlns:dcterms":zn.dcterms,"xmlns:dcmitype":zn.dcmitype,"xmlns:xsi":zn.xsi})],a={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&n1("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:H1(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a),t.ModifiedDate!=null&&n1("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:H1(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a));for(var o=0;o!=rl.length;++o){var l=rl[o],h=n.Props&&n.Props[l[1]]!=null?n.Props[l[1]]:t?t[l[1]]:null;h===!0?h="1":h===!1?h="0":typeof h=="number"&&(h=String(h)),h!=null&&n1(l[0],h,null,r,a)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Ac=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],qR=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function GR(t){var e=[],n=Me;return t||(t={}),t.Application="SheetJS",e[e.length]=In,e[e.length]=Me("Properties",null,{xmlns:zn.EXT_PROPS,"xmlns:vt":zn.vt}),Ac.forEach(function(r){if(t[r[1]]!==void 0){var a;switch(r[2]){case"string":a=Lt(String(t[r[1]]));break;case"bool":a=t[r[1]]?"true":"false";break}a!==void 0&&(e[e.length]=n(r[0],a))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+Lt(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function $R(t){var e=[In,Me("Properties",null,{xmlns:zn.CUST_PROPS,"xmlns:vt":zn.vt})];if(!t)return e.join("");var n=1;return sr(t).forEach(function(a){++n,e[e.length]=Me("property",O5(t[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Lt(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var I2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function pj(t,e){var n=[];return sr(I2).map(function(r){for(var a=0;a<rl.length;++a)if(rl[a][1]==r)return rl[a];for(a=0;a<Ac.length;++a)if(Ac[a][1]==r)return Ac[a];throw r}).forEach(function(r){if(t[r[1]]!=null){var a=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),n.push(nr(I2[r[1]]||r[1],a))}}),Me("DocumentProperties",n.join(""),{xmlns:ai.o})}function gj(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",a=[];return t&&sr(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)){for(var l=0;l<rl.length;++l)if(o==rl[l][1])return;for(l=0;l<Ac.length;++l)if(o==Ac[l][1])return;for(l=0;l<n.length;++l)if(o==n[l])return;var h=t[o],d="string";typeof h=="number"?(d="float",h=String(h)):h===!0||h===!1?(d="boolean",h=h?"1":"0"):h=String(h),a.push(Me(v2(o),h,{"dt:dt":d}))}}),e&&sr(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)&&!(t&&Object.prototype.hasOwnProperty.call(t,o))){var l=e[o],h="string";typeof l=="number"?(h="float",l=String(l)):l===!0||l===!1?(h="boolean",l=l?"1":"0"):l instanceof Date?(h="dateTime.tz",l=l.toISOString()):l=String(l),a.push(Me(v2(o),l,{"dt:dt":h}))}}),"<"+r+' xmlns="'+ai.o+'">'+a.join("")+"</"+r+">"}function vj(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),a=(n-r)/Math.pow(2,32);r*=1e7,a*=1e7;var o=r/Math.pow(2,32)|0;o>0&&(r=r%Math.pow(2,32),a+=o);var l=ye(8);return l.write_shift(4,r),l.write_shift(4,a),l}function D2(t,e){var n=ye(4),r=ye(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=ye(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=vj(e);break;case 31:case 80:for(r=ye(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return tr([n,r])}var WR=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function _j(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function O2(t,e,n){var r=ye(8),a=[],o=[],l=8,h=0,d=ye(8),f=ye(8);if(d.write_shift(4,2),d.write_shift(4,1200),f.write_shift(4,1),o.push(d),a.push(f),l+=8+d.length,!e){f=ye(8),f.write_shift(4,0),a.unshift(f);var g=[ye(4)];for(g[0].write_shift(4,t.length),h=0;h<t.length;++h){var y=t[h][0];for(d=ye(8+2*(y.length+1)+(y.length%2?0:2)),d.write_shift(4,h+2),d.write_shift(4,y.length+1),d.write_shift(0,y,"dbcs");d.l!=d.length;)d.write_shift(1,0);g.push(d)}d=tr(g),o.unshift(d),l+=8+d.length}for(h=0;h<t.length;++h)if(!(e&&!e[t[h][0]])&&!(WR.indexOf(t[h][0])>-1||qR.indexOf(t[h][0])>-1)&&t[h][1]!=null){var x=t[h][1],T=0;if(e){T=+e[t[h][0]];var S=n[T];if(S.p=="version"&&typeof x=="string"){var w=x.split(".");x=(+w[0]<<16)+(+w[1]||0)}d=D2(S.t,x)}else{var b=_j(x);b==-1&&(b=31,x=String(x)),d=D2(b,x)}o.push(d),f=ye(8),f.write_shift(4,e?T:2+h),a.push(f),l+=8+d.length}var O=8*(o.length+1);for(h=0;h<o.length;++h)a[h].write_shift(4,O),O+=o[h].length;return r.write_shift(4,l),r.write_shift(4,o.length),tr([r].concat(a).concat(o))}function k2(t,e,n,r,a,o){var l=ye(a?68:48),h=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,zt.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,a?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,a?68:48);var d=O2(t,n,r);if(h.push(d),a){var f=O2(a,null,null);l.write_shift(16,o,"hex"),l.write_shift(4,68+d.length),h.push(f)}return tr(h)}function yj(t,e){e||(e=ye(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function xj(t,e){return t.read_shift(e)===1}function Sr(t,e){return e||(e=ye(2)),e.write_shift(2,+!!t),e}function YR(t){return t.read_shift(2,"u")}function Si(t,e){return e||(e=ye(2)),e.write_shift(2,t),e}function KR(t,e,n){return n||(n=ye(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function XR(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var o=t.read_shift(1);o&&(a="dbcs-cont")}else n.biff==12&&(a="wstr");n.biff>=2&&n.biff<=5&&(a="cpstr");var l=r?t.read_shift(r,a):"";return l}function Ej(t){var e=t.t||"",n=ye(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=ye(2*e.length);r.write_shift(2*e.length,e,"utf16le");var a=[n,r];return tr(a)}function Tj(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function wj(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):Tj(t,r,n)}function Sj(t,e,n){if(n.biff>5)return wj(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function QR(t,e,n){return n||(n=ye(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function P2(t,e){e||(e=ye(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function Aj(t){var e=ye(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var a=r.indexOf("#"),o=a>-1?31:23;switch(r.charAt(0)){case"#":o=28;break;case".":o&=-3;break}e.write_shift(4,2),e.write_shift(4,o);var l=[8,6815827,6619237,4849780,83];for(n=0;n<l.length;++n)e.write_shift(4,l[n]);if(o==28)r=r.slice(1),P2(r,e);else if(o&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<l.length;++n)e.write_shift(1,parseInt(l[n],16));var h=a>-1?r.slice(0,a):r;for(e.write_shift(4,2*(h.length+1)),n=0;n<h.length;++n)e.write_shift(2,h.charCodeAt(n));e.write_shift(2,0),o&8&&P2(a>-1?r.slice(a+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<l.length;++n)e.write_shift(1,parseInt(l[n],16));for(var d=0;r.slice(d*3,d*3+3)=="../"||r.slice(d*3,d*3+3)=="..\\";)++d;for(e.write_shift(2,d),e.write_shift(4,r.length-3*d+1),n=0;n<r.length-3*d;++n)e.write_shift(1,r.charCodeAt(n+3*d)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function fl(t,e,n,r){return r||(r=ye(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function bj(t,e,n){var r=n.biff>8?4:2,a=t.read_shift(r),o=t.read_shift(r,"i"),l=t.read_shift(r,"i");return[a,o,l]}function Rj(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(2);return{s:{c:r,r:e},e:{c:a,r:n}}}function JR(t,e){return e||(e=ye(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function g_(t,e,n){var r=1536,a=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,a=8;break;case"biff4":r=4,a=6;break;case"biff3":r=3,a=6;break;case"biff2":r=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=ye(a);return o.write_shift(2,r),o.write_shift(2,e),a>4&&o.write_shift(2,29282),a>6&&o.write_shift(2,1997),a>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function Cj(t,e){var n=!e||e.biff==8,r=ye(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function Nj(t,e){var n=!e||e.biff>=8?2:1,r=ye(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var a=r.slice(0,r.l);return a.l=r.l,a}function Ij(t,e){var n=ye(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],a=0;a<t.length;++a)r[a]=Ej(t[a]);var o=tr([n].concat(r));return o.parts=[n.length].concat(r.map(function(l){return l.length})),o}function Dj(){var t=ye(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Oj(t){var e=ye(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function kj(t,e){var n=t.name||"Arial",r=e&&e.biff==5,a=r?15+n.length:16+2*n.length,o=ye(a);return o.write_shift(2,t.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,n.length),r||o.write_shift(1,1),o.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),o}function Pj(t,e,n,r){var a=ye(10);return fl(t,e,r,a),a.write_shift(4,n),a}function Mj(t,e,n,r,a){var o=!a||a.biff==8,l=ye(8+ +o+(1+o)*n.length);return fl(t,e,r,l),l.write_shift(2,n.length),o&&l.write_shift(1,1),l.write_shift((1+o)*n.length,n,o?"utf16le":"sbcs"),l}function Lj(t,e,n,r){var a=n&&n.biff==5;r||(r=ye(a?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(a?1:2,e.length),a||r.write_shift(1,1),r.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var o=r.length>r.l?r.slice(0,r.l):r;return o.l==null&&(o.l=o.length),o}function Fj(t,e){var n=e.biff==8||!e.biff?4:2,r=ye(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function M2(t,e,n,r){var a=n&&n.biff==5;r||(r=ye(a?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var o=0;return t.numFmtId>0&&a&&(o|=1024),r.write_shift(4,o),r.write_shift(4,0),a||r.write_shift(4,0),r.write_shift(2,0),r}function jj(t){var e=ye(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function Uj(t,e,n,r,a,o){var l=ye(8);return fl(t,e,r,l),KR(n,o,l),l}function Vj(t,e,n,r){var a=ye(14);return fl(t,e,r,a),hl(n,a),a}function Bj(t,e,n){if(n.biff<8)return Hj(t,e,n);for(var r=[],a=t.l+e,o=t.read_shift(n.biff>8?4:2);o--!==0;)r.push(bj(t,n.biff>8?12:6,n));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return r}function Hj(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=XR(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function zj(t){var e=ye(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)JR(t[n],e);return e}function qj(t){var e=ye(24),n=qn(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(r[a],16));return tr([e,Aj(t[1])])}function Gj(t){var e=t[1].Tooltip,n=ye(10+2*(e.length+1));n.write_shift(2,2048);var r=qn(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var a=0;a<e.length;++a)n.write_shift(2,e.charCodeAt(a));return n.write_shift(2,0),n}function $j(t){return t||(t=ye(4)),t.write_shift(2,1),t.write_shift(2,1),t}function Wj(t,e,n){if(!n.cellStyles)return Ta(t,e);var r=n&&n.biff>=12?4:2,a=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(r),h=t.read_shift(r),d=t.read_shift(2);r==2&&(t.l+=2);var f={s:a,e:o,w:l,ixfe:h,flags:d};return(n.biff>=5||!n.biff)&&(f.level=d>>8&7),f}function Yj(t,e){var n=ye(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function Kj(t){for(var e=ye(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function Xj(t,e,n){var r=ye(15);return yf(r,t,e),r.write_shift(8,n,"f"),r}function Qj(t,e,n){var r=ye(9);return yf(r,t,e),r.write_shift(2,n),r}var Jj=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=a_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(h,d){var f=[],g=ul(1);switch(d.type){case"base64":g=zi(ls(h));break;case"binary":g=zi(h);break;case"buffer":case"array":g=h;break}ri(g,0);var y=g.read_shift(1),x=!!(y&136),T=!1,S=!1;switch(y){case 2:break;case 3:break;case 48:T=!0,x=!0;break;case 49:T=!0,x=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+y.toString(16))}var w=0,b=521;y==2&&(w=g.read_shift(2)),g.l+=3,y!=2&&(w=g.read_shift(4)),w>1048576&&(w=1e6),y!=2&&(b=g.read_shift(2));var O=g.read_shift(2),F=d.codepage||1252;y!=2&&(g.l+=16,g.read_shift(1),g[g.l]!==0&&(F=t[g[g.l]]),g.l+=1,g.l+=2),S&&(g.l+=36);for(var j=[],J={},X=Math.min(g.length,y==2?521:b-10-(T?264:0)),W=S?32:11;g.l<X&&g[g.l]!=13;)switch(J={},J.name=P0.utils.decode(F,g.slice(g.l,g.l+W)).replace(/[\u0000\r\n].*$/g,""),g.l+=W,J.type=String.fromCharCode(g.read_shift(1)),y!=2&&!S&&(J.offset=g.read_shift(4)),J.len=g.read_shift(1),y==2&&(J.offset=g.read_shift(2)),J.dec=g.read_shift(1),J.name.length&&j.push(J),y!=2&&(g.l+=S?13:14),J.type){case"B":(!T||J.len!=8)&&d.WTF&&console.log("Skipping "+J.name+":"+J.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+J.name+":"+J.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+J.type)}if(g[g.l]!==13&&(g.l=b-1),g.read_shift(1)!==13)throw new Error("DBF Terminator not found "+g.l+" "+g[g.l]);g.l=b;var N=0,I=0;for(f[0]=[],I=0;I!=j.length;++I)f[0][I]=j[I].name;for(;w-- >0;){if(g[g.l]===42){g.l+=O;continue}for(++g.l,f[++N]=[],I=0,I=0;I!=j.length;++I){var C=g.slice(g.l,g.l+j[I].len);g.l+=j[I].len,ri(C,0);var P=P0.utils.decode(F,C);switch(j[I].type){case"C":P.trim().length&&(f[N][I]=P.replace(/\s+$/,""));break;case"D":P.length===8?f[N][I]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):f[N][I]=P;break;case"F":f[N][I]=parseFloat(P.trim());break;case"+":case"I":f[N][I]=S?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":f[N][I]=!0;break;case"N":case"F":f[N][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+y.toString(16));f[N][I]="##MEMO##"+(S?parseInt(P.trim(),10):C.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(f[N][I]=+P||0);break;case"@":f[N][I]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":f[N][I]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":f[N][I]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[N][I]=-C.read_shift(-8,"f");break;case"B":if(T&&j[I].len==8){f[N][I]=C.read_shift(8,"f");break}case"G":case"P":C.l+=j[I].len;break;case"0":if(j[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[I].type)}}}if(y!=2&&g.l<g.length&&g[g.l++]!=26)throw new Error("DBF EOF Marker missing "+(g.l-1)+" of "+g.length+" "+g[g.l-1].toString(16));return d&&d.sheetRows&&(f=f.slice(0,d.sheetRows)),d.DBF=j,f}function r(h,d){var f=d||{};f.dateNF||(f.dateNF="yyyymmdd");var g=Wc(n(h,f),f);return g["!cols"]=f.DBF.map(function(y){return{wch:y.len,DBF:y}}),delete f.DBF,g}function a(h,d){try{return vl(r(h,d),d)}catch(f){if(d&&d.WTF)throw f}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function l(h,d){var f=d||{};if(+f.codepage>=0&&Bh(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var g=Vr(),y=W0(h,{header:1,raw:!0,cellDates:!0}),x=y[0],T=y.slice(1),S=h["!cols"]||[],w=0,b=0,O=0,F=1;for(w=0;w<x.length;++w){if(((S[w]||{}).DBF||{}).name){x[w]=S[w].DBF.name,++O;continue}if(x[w]!=null){if(++O,typeof x[w]=="number"&&(x[w]=x[w].toString(10)),typeof x[w]!="string")throw new Error("DBF Invalid column name "+x[w]+" |"+typeof x[w]+"|");if(x.indexOf(x[w])!==w){for(b=0;b<1024;++b)if(x.indexOf(x[w]+"_"+b)==-1){x[w]+="_"+b;break}}}}var j=Zt(h["!ref"]),J=[],X=[],W=[];for(w=0;w<=j.e.c-j.s.c;++w){var N="",I="",C=0,P=[];for(b=0;b<T.length;++b)T[b][w]!=null&&P.push(T[b][w]);if(P.length==0||x[w]==null){J[w]="?";continue}for(b=0;b<P.length;++b){switch(typeof P[b]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=P[b]instanceof Date?"D":"C";break;default:I="C"}C=Math.max(C,String(P[b]).length),N=N&&N!=I?"C":I}C>250&&(C=250),I=((S[w]||{}).DBF||{}).type,I=="C"&&S[w].DBF.len>C&&(C=S[w].DBF.len),N=="B"&&I=="N"&&(N="N",W[w]=S[w].DBF.dec,C=S[w].DBF.len),X[w]=N=="C"||I=="N"?C:o[N]||0,F+=X[w],J[w]=N}var L=g.next(32);for(L.write_shift(4,318902576),L.write_shift(4,T.length),L.write_shift(2,296+32*O),L.write_shift(2,F),w=0;w<4;++w)L.write_shift(4,0);for(L.write_shift(4,0|(+e[eR]||3)<<8),w=0,b=0;w<x.length;++w)if(x[w]!=null){var z=g.next(32),M=(x[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);z.write_shift(1,M,"sbcs"),z.write_shift(1,J[w]=="?"?"C":J[w],"sbcs"),z.write_shift(4,b),z.write_shift(1,X[w]||o[J[w]]||0),z.write_shift(1,W[w]||0),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(1,0),z.write_shift(4,0),z.write_shift(4,0),b+=X[w]||o[J[w]]||0}var Ue=g.next(264);for(Ue.write_shift(4,13),w=0;w<65;++w)Ue.write_shift(4,0);for(w=0;w<T.length;++w){var ke=g.next(F);for(ke.write_shift(1,0),b=0;b<x.length;++b)if(x[b]!=null)switch(J[b]){case"L":ke.write_shift(1,T[w][b]==null?63:T[w][b]?84:70);break;case"B":ke.write_shift(8,T[w][b]||0,"f");break;case"N":var ce="0";for(typeof T[w][b]=="number"&&(ce=T[w][b].toFixed(W[b]||0)),O=0;O<X[b]-ce.length;++O)ke.write_shift(1,32);ke.write_shift(1,ce,"sbcs");break;case"D":T[w][b]?(ke.write_shift(4,("0000"+T[w][b].getFullYear()).slice(-4),"sbcs"),ke.write_shift(2,("00"+(T[w][b].getMonth()+1)).slice(-2),"sbcs"),ke.write_shift(2,("00"+T[w][b].getDate()).slice(-2),"sbcs")):ke.write_shift(8,"00000000","sbcs");break;case"C":var Re=String(T[w][b]!=null?T[w][b]:"").slice(0,X[b]);for(ke.write_shift(1,Re,"sbcs"),O=0;O<X[b]-Re.length;++O)ke.write_shift(1,32);break}}return g.next(1).write_shift(1,26),g.end()}return{to_workbook:a,to_sheet:r,from_sheet:l}})(),Zj=(function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+sr(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(x,T){var S=t[T];return typeof S=="number"?a2(S):S},r=function(x,T,S){var w=T.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return w==59?x:a2(w)};t["|"]=254;function a(x,T){switch(T.type){case"base64":return o(ls(x),T);case"binary":return o(x,T);case"buffer":return o(Rt&&Buffer.isBuffer(x)?x.toString("binary"):mf(x),T);case"array":return o(Cm(x),T)}throw new Error("Unrecognized type "+T.type)}function o(x,T){var S=x.split(/[\n\r]+/),w=-1,b=-1,O=0,F=0,j=[],J=[],X=null,W={},N=[],I=[],C=[],P=0,L;for(+T.codepage>=0&&Bh(+T.codepage);O!==S.length;++O){P=0;var z=S[O].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),M=z.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),Ue=M[0],ke;if(z.length>0)switch(Ue){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&J.push(z.slice(3).replace(/;;/g,";"));break;case"C":var ce=!1,Re=!1,He=!1,Ye=!1,te=-1,fe=-1;for(F=1;F<M.length;++F)switch(M[F].charAt(0)){case"A":break;case"X":b=parseInt(M[F].slice(1))-1,Re=!0;break;case"Y":for(w=parseInt(M[F].slice(1))-1,Re||(b=0),L=j.length;L<=w;++L)j[L]=[];break;case"K":ke=M[F].slice(1),ke.charAt(0)==='"'?ke=ke.slice(1,ke.length-1):ke==="TRUE"?ke=!0:ke==="FALSE"?ke=!1:isNaN(Za(ke))?isNaN(zh(ke).getDate())||(ke=Ar(ke)):(ke=Za(ke),X!==null&&fR(X)&&(ke=gR(ke))),ce=!0;break;case"E":Ye=!0;var B=Q9(M[F].slice(1),{r:w,c:b});j[w][b]=[j[w][b],B];break;case"S":He=!0,j[w][b]=[j[w][b],"S5S"];break;case"G":break;case"R":te=parseInt(M[F].slice(1))-1;break;case"C":fe=parseInt(M[F].slice(1))-1;break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+z)}if(ce&&(j[w][b]&&j[w][b].length==2?j[w][b][0]=ke:j[w][b]=ke,X=null),He){if(Ye)throw new Error("SYLK shared formula cannot have own formula");var ee=te>-1&&j[te][fe];if(!ee||!ee[1])throw new Error("SYLK shared formula cannot find base");j[w][b][1]=J9(ee[1],{r:w-te,c:b-fe})}break;case"F":var Y=0;for(F=1;F<M.length;++F)switch(M[F].charAt(0)){case"X":b=parseInt(M[F].slice(1))-1,++Y;break;case"Y":for(w=parseInt(M[F].slice(1))-1,L=j.length;L<=w;++L)j[L]=[];break;case"M":P=parseInt(M[F].slice(1))/20;break;case"F":break;case"G":break;case"P":X=J[parseInt(M[F].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=M[F].slice(1).split(" "),L=parseInt(C[0],10);L<=parseInt(C[1],10);++L)P=parseInt(C[2],10),I[L-1]=P===0?{hidden:!0}:{wch:P},v_(I[L-1]);break;case"C":b=parseInt(M[F].slice(1))-1,I[b]||(I[b]={});break;case"R":w=parseInt(M[F].slice(1))-1,N[w]||(N[w]={}),P>0?(N[w].hpt=P,N[w].hpx=rC(P)):P===0&&(N[w].hidden=!0);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+z)}Y<1&&(X=null);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+z)}}return N.length>0&&(W["!rows"]=N),I.length>0&&(W["!cols"]=I),T&&T.sheetRows&&(j=j.slice(0,T.sheetRows)),[j,W]}function l(x,T){var S=a(x,T),w=S[0],b=S[1],O=Wc(w,T);return sr(b).forEach(function(F){O[F]=b[F]}),O}function h(x,T){return vl(l(x,T),T)}function d(x,T,S,w){var b="C;Y"+(S+1)+";X"+(w+1)+";K";switch(x.t){case"n":b+=x.v||0,x.f&&!x.F&&(b+=";E"+y_(x.f,{r:S,c:w}));break;case"b":b+=x.v?"TRUE":"FALSE";break;case"e":b+=x.w||x.v;break;case"d":b+='"'+(x.w||x.v)+'"';break;case"s":b+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function f(x,T){T.forEach(function(S,w){var b="F;W"+(w+1)+" "+(w+1)+" ";S.hidden?b+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=z0(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=q0(S.wpx)),typeof S.wch=="number"&&(b+=Math.round(S.wch))),b.charAt(b.length-1)!=" "&&x.push(b)})}function g(x,T){T.forEach(function(S,w){var b="F;";S.hidden?b+="M0;":S.hpt?b+="M"+20*S.hpt+";":S.hpx&&(b+="M"+20*G0(S.hpx)+";"),b.length>2&&x.push(b+"R"+(w+1))})}function y(x,T){var S=["ID;PWXL;N;E"],w=[],b=Zt(x["!ref"]),O,F=Array.isArray(x),j=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),x["!cols"]&&f(S,x["!cols"]),x["!rows"]&&g(S,x["!rows"]),S.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var J=b.s.r;J<=b.e.r;++J)for(var X=b.s.c;X<=b.e.c;++X){var W=Ft({r:J,c:X});O=F?(x[J]||[])[X]:x[W],!(!O||O.v==null&&(!O.f||O.F))&&w.push(d(O,x,J,X))}return S.join(j)+j+w.join(j)+j+"E"+j}return{to_workbook:h,to_sheet:l,from_sheet:y}})(),e9=(function(){function t(o,l){switch(l.type){case"base64":return e(ls(o),l);case"binary":return e(o,l);case"buffer":return e(Rt&&Buffer.isBuffer(o)?o.toString("binary"):mf(o),l);case"array":return e(Cm(o),l)}throw new Error("Unrecognized type "+l.type)}function e(o,l){for(var h=o.split(`
`),d=-1,f=-1,g=0,y=[];g!==h.length;++g){if(h[g].trim()==="BOT"){y[++d]=[],f=0;continue}if(!(d<0)){var x=h[g].trim().split(","),T=x[0],S=x[1];++g;for(var w=h[g]||"";(w.match(/["]/g)||[]).length&1&&g<h.length-1;)w+=`
`+h[++g];switch(w=w.trim(),+T){case-1:if(w==="BOT"){y[++d]=[],f=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?y[d][f]=!0:w==="FALSE"?y[d][f]=!1:isNaN(Za(S))?isNaN(zh(S).getDate())?y[d][f]=S:y[d][f]=Ar(S):y[d][f]=Za(S),++f;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),y[d][f++]=w!==""?w:null;break}if(w==="EOD")break}}return l&&l.sheetRows&&(y=y.slice(0,l.sheetRows)),y}function n(o,l){return Wc(t(o,l),l)}function r(o,l){return vl(n(o,l),l)}var a=(function(){var o=function(d,f,g,y,x){d.push(f),d.push(g+","+y),d.push('"'+x.replace(/"/g,'""')+'"')},l=function(d,f,g,y){d.push(f+","+g),d.push(f==1?'"'+y.replace(/"/g,'""')+'"':y)};return function(d){var f=[],g=Zt(d["!ref"]),y,x=Array.isArray(d);o(f,"TABLE",0,1,"sheetjs"),o(f,"VECTORS",0,g.e.r-g.s.r+1,""),o(f,"TUPLES",0,g.e.c-g.s.c+1,""),o(f,"DATA",0,0,"");for(var T=g.s.r;T<=g.e.r;++T){l(f,-1,0,"BOT");for(var S=g.s.c;S<=g.e.c;++S){var w=Ft({r:T,c:S});if(y=x?(d[T]||[])[S]:d[w],!y){l(f,1,0,"");continue}switch(y.t){case"n":var b=y.w;!b&&y.v!=null&&(b=y.v),b==null?y.f&&!y.F?l(f,1,0,"="+y.f):l(f,1,0,""):l(f,0,b,"V");break;case"b":l(f,0,y.v?1:0,y.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(y.v)?y.v:'="'+y.v+'"');break;case"d":y.w||(y.w=oo(y.z||mn[14],Br(Ar(y.v)))),l(f,0,y.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var O=`\r
`,F=f.join(O);return F}})();return{to_workbook:r,to_sheet:n,from_sheet:a}})(),ZR=(function(){function t(y){return y.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(y){return y.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(y,x){for(var T=y.split(`
`),S=-1,w=-1,b=0,O=[];b!==T.length;++b){var F=T[b].trim().split(":");if(F[0]==="cell"){var j=qn(F[1]);if(O.length<=j.r)for(S=O.length;S<=j.r;++S)O[S]||(O[S]=[]);switch(S=j.r,w=j.c,F[2]){case"t":O[S][w]=t(F[3]);break;case"v":O[S][w]=+F[3];break;case"vtf":var J=F[F.length-1];case"vtc":switch(F[3]){case"nl":O[S][w]=!!+F[4];break;default:O[S][w]=+F[4];break}F[2]=="vtf"&&(O[S][w]=[O[S][w],J])}}}return x&&x.sheetRows&&(O=O.slice(0,x.sheetRows)),O}function r(y,x){return Wc(n(y,x),x)}function a(y,x){return vl(r(y,x),x)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,h=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function f(y){if(!y||!y["!ref"])return"";for(var x=[],T=[],S,w="",b=li(y["!ref"]),O=Array.isArray(y),F=b.s.r;F<=b.e.r;++F)for(var j=b.s.c;j<=b.e.c;++j)if(w=Ft({r:F,c:j}),S=O?(y[F]||[])[j]:y[w],!(!S||S.v==null||S.t==="z")){switch(T=["cell",w,"t"],S.t){case"s":case"str":T.push(e(S.v));break;case"n":S.f?(T[2]="vtf",T[3]="n",T[4]=S.v,T[5]=e(S.f)):(T[2]="v",T[3]=S.v);break;case"b":T[2]="vt"+(S.f?"f":"c"),T[3]="nl",T[4]=S.v?"1":"0",T[5]=e(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var J=Br(Ar(S.v));T[2]="vtc",T[3]="nd",T[4]=""+J,T[5]=S.w||oo(S.z||mn[14],J);break;case"e":continue}x.push(T.join(":"))}return x.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function g(y){return[o,l,h,l,f(y),d].join(`
`)}return{to_workbook:a,to_sheet:r,from_sheet:g}})(),t9=(function(){function t(g,y,x,T,S){S.raw?y[x][T]=g:g===""||(g==="TRUE"?y[x][T]=!0:g==="FALSE"?y[x][T]=!1:isNaN(Za(g))?isNaN(zh(g).getDate())?y[x][T]=g:y[x][T]=Ar(g):y[x][T]=Za(g))}function e(g,y){var x=y||{},T=[];if(!g||g.length===0)return T;for(var S=g.split(/[\r\n]/),w=S.length-1;w>=0&&S[w].length===0;)--w;for(var b=10,O=0,F=0;F<=w;++F)O=S[F].indexOf(" "),O==-1?O=S[F].length:O++,b=Math.max(b,O);for(F=0;F<=w;++F){T[F]=[];var j=0;for(t(S[F].slice(0,b).trim(),T,F,j,x),j=1;j<=(S[F].length-b)/10+1;++j)t(S[F].slice(b+(j-1)*10,b+j*10).trim(),T,F,j,x)}return x.sheetRows&&(T=T.slice(0,x.sheetRows)),T}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(g){for(var y={},x=!1,T=0,S=0;T<g.length;++T)(S=g.charCodeAt(T))==34?x=!x:!x&&S in n&&(y[S]=(y[S]||0)+1);S=[];for(T in y)Object.prototype.hasOwnProperty.call(y,T)&&S.push([y[T],T]);if(!S.length){y=r;for(T in y)Object.prototype.hasOwnProperty.call(y,T)&&S.push([y[T],T])}return S.sort(function(w,b){return w[0]-b[0]||r[w[1]]-r[b[1]]}),n[S.pop()[1]]||44}function o(g,y){var x=y||{},T="",S=x.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};g.slice(0,4)=="sep="?g.charCodeAt(5)==13&&g.charCodeAt(6)==10?(T=g.charAt(4),g=g.slice(7)):g.charCodeAt(5)==13||g.charCodeAt(5)==10?(T=g.charAt(4),g=g.slice(6)):T=a(g.slice(0,1024)):x&&x.FS?T=x.FS:T=a(g.slice(0,1024));var b=0,O=0,F=0,j=0,J=0,X=T.charCodeAt(0),W=!1,N=0,I=g.charCodeAt(0);g=g.replace(/\r\n/mg,`
`);var C=x.dateNF!=null?v5(x.dateNF):null;function P(){var L=g.slice(j,J),z={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)z.t="z";else if(x.raw)z.t="s",z.v=L;else if(L.trim().length===0)z.t="s",z.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(z.t="s",z.v=L.slice(2,-1).replace(/""/g,'"')):Z9(L)?(z.t="n",z.f=L.slice(1)):(z.t="s",z.v=L);else if(L=="TRUE")z.t="b",z.v=!0;else if(L=="FALSE")z.t="b",z.v=!1;else if(!isNaN(F=Za(L)))z.t="n",x.cellText!==!1&&(z.w=L),z.v=F;else if(!isNaN(zh(L).getDate())||C&&L.match(C)){z.z=x.dateNF||mn[14];var M=0;C&&L.match(C)&&(L=_5(L,x.dateNF,L.match(C)||[]),M=1),x.cellDates?(z.t="d",z.v=Ar(L,M)):(z.t="n",z.v=Br(Ar(L,M))),x.cellText!==!1&&(z.w=oo(z.z,z.v instanceof Date?Br(z.v):z.v)),x.cellNF||delete z.z}else z.t="s",z.v=L;if(z.t=="z"||(x.dense?(S[b]||(S[b]=[]),S[b][O]=z):S[Ft({c:O,r:b})]=z),j=J+1,I=g.charCodeAt(j),w.e.c<O&&(w.e.c=O),w.e.r<b&&(w.e.r=b),N==X)++O;else if(O=0,++b,x.sheetRows&&x.sheetRows<=b)return!0}e:for(;J<g.length;++J)switch(N=g.charCodeAt(J)){case 34:I===34&&(W=!W);break;case X:case 10:case 13:if(!W&&P())break e;break}return J-j>0&&P(),S["!ref"]=Nn(w),S}function l(g,y){return!(y&&y.PRN)||y.FS||g.slice(0,4)=="sep="||g.indexOf("	")>=0||g.indexOf(",")>=0||g.indexOf(";")>=0?o(g,y):Wc(e(g,y),y)}function h(g,y){var x="",T=y.type=="string"?[0,0,0,0]:dH(g,y);switch(y.type){case"base64":x=ls(g);break;case"binary":x=g;break;case"buffer":y.codepage==65001?x=g.toString("utf8"):y.codepage&&typeof P0<"u"||(x=Rt&&Buffer.isBuffer(g)?g.toString("binary"):mf(g));break;case"array":x=Cm(g);break;case"string":x=g;break;default:throw new Error("Unrecognized type "+y.type)}return T[0]==239&&T[1]==187&&T[2]==191?x=wh(x.slice(3)):y.type!="string"&&y.type!="buffer"&&y.codepage==65001?x=wh(x):y.type=="binary"&&typeof P0<"u",x.slice(0,19)=="socialcalc:version:"?ZR.to_sheet(y.type=="string"?x:wh(x),y):l(x,y)}function d(g,y){return vl(h(g,y),y)}function f(g){for(var y=[],x=Zt(g["!ref"]),T,S=Array.isArray(g),w=x.s.r;w<=x.e.r;++w){for(var b=[],O=x.s.c;O<=x.e.c;++O){var F=Ft({r:w,c:O});if(T=S?(g[w]||[])[O]:g[F],!T||T.v==null){b.push("          ");continue}for(var j=(T.w||(cs(T),T.w)||"").slice(0,10);j.length<10;)j+=" ";b.push(j+(O===0?" ":""))}y.push(b.join(""))}return y.join(`
`)}return{to_workbook:d,to_sheet:h,from_sheet:f}})(),L2=(function(){function t(B,ee,Y){if(B){ri(B,B.l||0);for(var Q=Y.Enum||te;B.l<B.length;){var re=B.read_shift(2),Pe=Q[re]||Q[65535],Ie=B.read_shift(2),Le=B.l+Ie,De=Pe.f&&Pe.f(B,Ie,Y);if(B.l=Le,ee(De,Pe,re))return}}}function e(B,ee){switch(ee.type){case"base64":return n(zi(ls(B)),ee);case"binary":return n(zi(B),ee);case"buffer":case"array":return n(B,ee)}throw"Unsupported type "+ee.type}function n(B,ee){if(!B)return B;var Y=ee||{},Q=Y.dense?[]:{},re="Sheet1",Pe="",Ie=0,Le={},De=[],_t=[],ot={s:{r:0,c:0},e:{r:0,c:0}},nn=Y.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)Y.Enum=te,t(B,function(Ve,$n,Nt){switch(Nt){case 0:Y.vers=Ve,Ve>=4096&&(Y.qpro=!0);break;case 6:ot=Ve;break;case 204:Ve&&(Pe=Ve);break;case 222:Pe=Ve;break;case 15:case 51:Y.qpro||(Ve[1].v=Ve[1].v.slice(1));case 13:case 14:case 16:Nt==14&&(Ve[2]&112)==112&&(Ve[2]&15)>1&&(Ve[2]&15)<15&&(Ve[1].z=Y.dateNF||mn[14],Y.cellDates&&(Ve[1].t="d",Ve[1].v=gR(Ve[1].v))),Y.qpro&&Ve[3]>Ie&&(Q["!ref"]=Nn(ot),Le[re]=Q,De.push(re),Q=Y.dense?[]:{},ot={s:{r:0,c:0},e:{r:0,c:0}},Ie=Ve[3],re=Pe||"Sheet"+(Ie+1),Pe="");var $t=Y.dense?(Q[Ve[0].r]||[])[Ve[0].c]:Q[Ft(Ve[0])];if($t){$t.t=Ve[1].t,$t.v=Ve[1].v,Ve[1].z!=null&&($t.z=Ve[1].z),Ve[1].f!=null&&($t.f=Ve[1].f);break}Y.dense?(Q[Ve[0].r]||(Q[Ve[0].r]=[]),Q[Ve[0].r][Ve[0].c]=Ve[1]):Q[Ft(Ve[0])]=Ve[1];break}},Y);else if(B[2]==26||B[2]==14)Y.Enum=fe,B[2]==14&&(Y.qpro=!0,B.l=0),t(B,function(Ve,$n,Nt){switch(Nt){case 204:re=Ve;break;case 22:Ve[1].v=Ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ve[3]>Ie&&(Q["!ref"]=Nn(ot),Le[re]=Q,De.push(re),Q=Y.dense?[]:{},ot={s:{r:0,c:0},e:{r:0,c:0}},Ie=Ve[3],re="Sheet"+(Ie+1)),nn>0&&Ve[0].r>=nn)break;Y.dense?(Q[Ve[0].r]||(Q[Ve[0].r]=[]),Q[Ve[0].r][Ve[0].c]=Ve[1]):Q[Ft(Ve[0])]=Ve[1],ot.e.c<Ve[0].c&&(ot.e.c=Ve[0].c),ot.e.r<Ve[0].r&&(ot.e.r=Ve[0].r);break;case 27:Ve[14e3]&&(_t[Ve[14e3][0]]=Ve[14e3][1]);break;case 1537:_t[Ve[0]]=Ve[1],Ve[0]==Ie&&(re=Ve[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(Q["!ref"]=Nn(ot),Le[Pe||re]=Q,De.push(Pe||re),!_t.length)return{SheetNames:De,Sheets:Le};for(var ft={},qr=[],jt=0;jt<_t.length;++jt)Le[De[jt]]?(qr.push(_t[jt]||De[jt]),ft[_t[jt]]=Le[_t[jt]]||Le[De[jt]]):(qr.push(_t[jt]),ft[_t[jt]]={"!ref":"A1"});return{SheetNames:qr,Sheets:ft}}function r(B,ee){var Y=ee||{};if(+Y.codepage>=0&&Bh(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=Vr(),re=Zt(B["!ref"]),Pe=Array.isArray(B),Ie=[];Fe(Q,0,o(1030)),Fe(Q,6,d(re));for(var Le=Math.min(re.e.r,8191),De=re.s.r;De<=Le;++De)for(var _t=ir(De),ot=re.s.c;ot<=re.e.c;++ot){De===re.s.r&&(Ie[ot]=pr(ot));var nn=Ie[ot]+_t,ft=Pe?(B[De]||[])[ot]:B[nn];if(!(!ft||ft.t=="z"))if(ft.t=="n")(ft.v|0)==ft.v&&ft.v>=-32768&&ft.v<=32767?Fe(Q,13,T(De,ot,ft.v)):Fe(Q,14,w(De,ot,ft.v));else{var qr=cs(ft);Fe(Q,15,y(De,ot,qr.slice(0,239)))}}return Fe(Q,1),Q.end()}function a(B,ee){var Y=ee||{};if(+Y.codepage>=0&&Bh(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=Vr();Fe(Q,0,l(B));for(var re=0,Pe=0;re<B.SheetNames.length;++re)(B.Sheets[B.SheetNames[re]]||{})["!ref"]&&Fe(Q,27,Ye(B.SheetNames[re],Pe++));var Ie=0;for(re=0;re<B.SheetNames.length;++re){var Le=B.Sheets[B.SheetNames[re]];if(!(!Le||!Le["!ref"])){for(var De=Zt(Le["!ref"]),_t=Array.isArray(Le),ot=[],nn=Math.min(De.e.r,8191),ft=De.s.r;ft<=nn;++ft)for(var qr=ir(ft),jt=De.s.c;jt<=De.e.c;++jt){ft===De.s.r&&(ot[jt]=pr(jt));var Ve=ot[jt]+qr,$n=_t?(Le[ft]||[])[jt]:Le[Ve];if(!(!$n||$n.t=="z"))if($n.t=="n")Fe(Q,23,P(ft,jt,Ie,$n.v));else{var Nt=cs($n);Fe(Q,22,N(ft,jt,Ie,Nt.slice(0,239)))}}++Ie}}return Fe(Q,1),Q.end()}function o(B){var ee=ye(2);return ee.write_shift(2,B),ee}function l(B){var ee=ye(26);ee.write_shift(2,4096),ee.write_shift(2,4),ee.write_shift(4,0);for(var Y=0,Q=0,re=0,Pe=0;Pe<B.SheetNames.length;++Pe){var Ie=B.SheetNames[Pe],Le=B.Sheets[Ie];if(!(!Le||!Le["!ref"])){++re;var De=li(Le["!ref"]);Y<De.e.r&&(Y=De.e.r),Q<De.e.c&&(Q=De.e.c)}}return Y>8191&&(Y=8191),ee.write_shift(2,Y),ee.write_shift(1,re),ee.write_shift(1,Q),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(1,1),ee.write_shift(1,2),ee.write_shift(4,0),ee.write_shift(4,0),ee}function h(B,ee,Y){var Q={s:{c:0,r:0},e:{c:0,r:0}};return ee==8&&Y.qpro?(Q.s.c=B.read_shift(1),B.l++,Q.s.r=B.read_shift(2),Q.e.c=B.read_shift(1),B.l++,Q.e.r=B.read_shift(2),Q):(Q.s.c=B.read_shift(2),Q.s.r=B.read_shift(2),ee==12&&Y.qpro&&(B.l+=2),Q.e.c=B.read_shift(2),Q.e.r=B.read_shift(2),ee==12&&Y.qpro&&(B.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function d(B){var ee=ye(8);return ee.write_shift(2,B.s.c),ee.write_shift(2,B.s.r),ee.write_shift(2,B.e.c),ee.write_shift(2,B.e.r),ee}function f(B,ee,Y){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(Q[0].c=B.read_shift(1),Q[3]=B.read_shift(1),Q[0].r=B.read_shift(2),B.l+=2):(Q[2]=B.read_shift(1),Q[0].c=B.read_shift(2),Q[0].r=B.read_shift(2)),Q}function g(B,ee,Y){var Q=B.l+ee,re=f(B,ee,Y);if(re[1].t="s",Y.vers==20768){B.l++;var Pe=B.read_shift(1);return re[1].v=B.read_shift(Pe,"utf8"),re}return Y.qpro&&B.l++,re[1].v=B.read_shift(Q-B.l,"cstr"),re}function y(B,ee,Y){var Q=ye(7+Y.length);Q.write_shift(1,255),Q.write_shift(2,ee),Q.write_shift(2,B),Q.write_shift(1,39);for(var re=0;re<Q.length;++re){var Pe=Y.charCodeAt(re);Q.write_shift(1,Pe>=128?95:Pe)}return Q.write_shift(1,0),Q}function x(B,ee,Y){var Q=f(B,ee,Y);return Q[1].v=B.read_shift(2,"i"),Q}function T(B,ee,Y){var Q=ye(7);return Q.write_shift(1,255),Q.write_shift(2,ee),Q.write_shift(2,B),Q.write_shift(2,Y,"i"),Q}function S(B,ee,Y){var Q=f(B,ee,Y);return Q[1].v=B.read_shift(8,"f"),Q}function w(B,ee,Y){var Q=ye(13);return Q.write_shift(1,255),Q.write_shift(2,ee),Q.write_shift(2,B),Q.write_shift(8,Y,"f"),Q}function b(B,ee,Y){var Q=B.l+ee,re=f(B,ee,Y);if(re[1].v=B.read_shift(8,"f"),Y.qpro)B.l=Q;else{var Pe=B.read_shift(2);J(B.slice(B.l,B.l+Pe),re),B.l+=Pe}return re}function O(B,ee,Y){var Q=ee&32768;return ee&=-32769,ee=(Q?B:0)+(ee>=8192?ee-16384:ee),(Q?"":"$")+(Y?pr(ee):ir(ee))}var F={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function J(B,ee){ri(B,0);for(var Y=[],Q=0,re="",Pe="",Ie="",Le="";B.l<B.length;){var De=B[B.l++];switch(De){case 0:Y.push(B.read_shift(8,"f"));break;case 1:Pe=O(ee[0].c,B.read_shift(2),!0),re=O(ee[0].r,B.read_shift(2),!1),Y.push(Pe+re);break;case 2:{var _t=O(ee[0].c,B.read_shift(2),!0),ot=O(ee[0].r,B.read_shift(2),!1);Pe=O(ee[0].c,B.read_shift(2),!0),re=O(ee[0].r,B.read_shift(2),!1),Y.push(_t+ot+":"+Pe+re)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(B.read_shift(2));break;case 6:{for(var nn="";De=B[B.l++];)nn+=String.fromCharCode(De);Y.push('"'+nn.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:Le=Y.pop(),Ie=Y.pop(),Y.push(["AND","OR"][De-20]+"("+Ie+","+Le+")");break;default:if(De<32&&j[De])Le=Y.pop(),Ie=Y.pop(),Y.push(Ie+j[De]+Le);else if(F[De]){if(Q=F[De][1],Q==69&&(Q=B[B.l++]),Q>Y.length){console.error("WK1 bad formula parse 0x"+De.toString(16)+":|"+Y.join("|")+"|");return}var ft=Y.slice(-Q);Y.length-=Q,Y.push(F[De][0]+"("+ft.join(",")+")")}else return De<=7?console.error("WK1 invalid opcode "+De.toString(16)):De<=24?console.error("WK1 unsupported op "+De.toString(16)):De<=30?console.error("WK1 invalid opcode "+De.toString(16)):De<=115?console.error("WK1 unsupported function opcode "+De.toString(16)):console.error("WK1 unrecognized opcode "+De.toString(16))}}Y.length==1?ee[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function X(B){var ee=[{c:0,r:0},{t:"n",v:0},0];return ee[0].r=B.read_shift(2),ee[3]=B[B.l++],ee[0].c=B[B.l++],ee}function W(B,ee){var Y=X(B);return Y[1].t="s",Y[1].v=B.read_shift(ee-4,"cstr"),Y}function N(B,ee,Y,Q){var re=ye(6+Q.length);re.write_shift(2,B),re.write_shift(1,Y),re.write_shift(1,ee),re.write_shift(1,39);for(var Pe=0;Pe<Q.length;++Pe){var Ie=Q.charCodeAt(Pe);re.write_shift(1,Ie>=128?95:Ie)}return re.write_shift(1,0),re}function I(B,ee){var Y=X(B);Y[1].v=B.read_shift(2);var Q=Y[1].v>>1;if(Y[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return Y[1].v=Q,Y}function C(B,ee){var Y=X(B),Q=B.read_shift(4),re=B.read_shift(4),Pe=B.read_shift(2);if(Pe==65535)return Q===0&&re===3221225472?(Y[1].t="e",Y[1].v=15):Q===0&&re===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var Ie=Pe&32768;return Pe=(Pe&32767)-16446,Y[1].v=(1-Ie*2)*(re*Math.pow(2,Pe+32)+Q*Math.pow(2,Pe)),Y}function P(B,ee,Y,Q){var re=ye(14);if(re.write_shift(2,B),re.write_shift(1,Y),re.write_shift(1,ee),Q==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var Pe=0,Ie=0,Le=0,De=0;return Q<0&&(Pe=1,Q=-Q),Ie=Math.log2(Q)|0,Q/=Math.pow(2,Ie-31),De=Q>>>0,(De&2147483648)==0&&(Q/=2,++Ie,De=Q>>>0),Q-=De,De|=2147483648,De>>>=0,Q*=Math.pow(2,32),Le=Q>>>0,re.write_shift(4,Le),re.write_shift(4,De),Ie+=16383+(Pe?32768:0),re.write_shift(2,Ie),re}function L(B,ee){var Y=C(B);return B.l+=ee-14,Y}function z(B,ee){var Y=X(B),Q=B.read_shift(4);return Y[1].v=Q>>6,Y}function M(B,ee){var Y=X(B),Q=B.read_shift(8,"f");return Y[1].v=Q,Y}function Ue(B,ee){var Y=M(B);return B.l+=ee-10,Y}function ke(B,ee){return B[B.l+ee-1]==0?B.read_shift(ee,"cstr"):""}function ce(B,ee){var Y=B[B.l++];Y>ee-1&&(Y=ee-1);for(var Q="";Q.length<Y;)Q+=String.fromCharCode(B[B.l++]);return Q}function Re(B,ee,Y){if(!(!Y.qpro||ee<21)){var Q=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var re=B.read_shift(ee-21,"cstr");return[Q,re]}}function He(B,ee){for(var Y={},Q=B.l+ee;B.l<Q;){var re=B.read_shift(2);if(re==14e3){for(Y[re]=[0,""],Y[re][0]=B.read_shift(2);B[B.l];)Y[re][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return Y}function Ye(B,ee){var Y=ye(5+B.length);Y.write_shift(2,14e3),Y.write_shift(2,ee);for(var Q=0;Q<B.length;++Q){var re=B.charCodeAt(Q);Y[Y.l++]=re>127?95:re}return Y[Y.l++]=0,Y}var te={0:{n:"BOF",f:YR},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:h},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:g},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:g},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ke},222:{n:"SHEETNAMELP",f:ce},65535:{n:""}},fe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:W},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:He},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:z},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:Ue},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ke},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Re},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:a,to_workbook:e}})(),n9=/^\s|\s$|[\t\n\r]/;function eC(t,e){if(!e.bookSST)return"";var n=[In];n[n.length]=Me("sst",null,{xmlns:$c[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var a=t[r],o="<si>";a.r?o+=a.r:(o+="<t",a.t||(a.t=""),a.t.match(n9)&&(o+=' xml:space="preserve"'),o+=">"+Lt(a.t)+"</t>"),o+="</si>",n[n.length]=o}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function r9(t){return[t.read_shift(4),t.read_shift(4)]}function i9(t,e){return e||(e=ye(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var a9=K5;function s9(t){var e=Vr();be(e,159,i9(t));for(var n=0;n<t.length;++n)be(e,19,a9(t[n]));return be(e,160),e.end()}function o9(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function tC(t){var e=0,n,r=o9(t),a=r.length+1,o,l,h,d,f;for(n=ul(a),n[0]=r.length,o=1;o!=a;++o)n[o]=r[o-1];for(o=a-1;o>=0;--o)l=n[o],h=(e&16384)===0?0:1,d=e<<1&32767,f=h|d,e=f^l;return e^52811}var l9=(function(){function t(a,o){switch(o.type){case"base64":return e(ls(a),o);case"binary":return e(a,o);case"buffer":return e(Rt&&Buffer.isBuffer(a)?a.toString("binary"):mf(a),o);case"array":return e(Cm(a),o)}throw new Error("Unrecognized type "+o.type)}function e(a,o){var l=o||{},h=l.dense?[]:{},d=a.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(g,y){Array.isArray(h)&&(h[y]=[]);for(var x=/\\\w+\b/g,T=0,S,w=-1;S=x.exec(g);){switch(S[0]){case"\\cell":var b=g.slice(T,x.lastIndex-S[0].length);if(b[0]==" "&&(b=b.slice(1)),++w,b.length){var O={v:b,t:"s"};Array.isArray(h)?h[y][w]=O:h[Ft({r:y,c:w})]=O}break}T=x.lastIndex}w>f.e.c&&(f.e.c=w)}),h["!ref"]=Nn(f),h}function n(a,o){return vl(t(a,o),o)}function r(a){for(var o=["{\\rtf1\\ansi"],l=Zt(a["!ref"]),h,d=Array.isArray(a),f=l.s.r;f<=l.e.r;++f){o.push("\\trowd\\trautofit1");for(var g=l.s.c;g<=l.e.c;++g)o.push("\\cellx"+(g+1));for(o.push("\\pard\\intbl"),g=l.s.c;g<=l.e.c;++g){var y=Ft({r:f,c:g});h=d?(a[f]||[])[g]:a[y],!(!h||h.v==null&&(!h.f||h.F))&&(o.push(" "+(h.w||(cs(h),h.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function F2(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var c9=6,es=c9;function z0(t){return Math.floor((t+Math.round(128/es)/256)*es)}function q0(t){return Math.floor((t-5)/es*100+.5)/100}function q1(t){return Math.round((t*es+5)/es*256)/256}function v_(t){t.width?(t.wpx=z0(t.width),t.wch=q0(t.wpx),t.MDW=es):t.wpx?(t.wch=q0(t.wpx),t.width=q1(t.wch),t.MDW=es):typeof t.wch=="number"&&(t.width=q1(t.wch),t.wpx=z0(t.width),t.MDW=es),t.customWidth&&delete t.customWidth}var u9=96,nC=u9;function G0(t){return t*96/nC}function rC(t){return t*nC/96}function h9(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=Me("numFmt",null,{numFmtId:r,formatCode:Lt(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Me("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function f9(t){var e=[];return e[e.length]=Me("cellXfs",null),t.forEach(function(n){e[e.length]=Me("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Me("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function iC(t,e){var n=[In,Me("styleSheet",null,{xmlns:$c[0],"xmlns:vt":zn.vt})],r;return t.SSF&&(r=h9(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=f9(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function d9(t,e){var n=t.read_shift(2),r=gr(t);return[n,r]}function m9(t,e,n){n||(n=ye(6+4*e.length)),n.write_shift(2,t),Gn(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function p9(t,e,n){var r={};r.sz=t.read_shift(2)/20;var a=nj(t);a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1);var o=t.read_shift(2);switch(o===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(r.underline=l);var h=t.read_shift(1);h>0&&(r.family=h);var d=t.read_shift(1);switch(d>0&&(r.charset=d),t.l++,r.color=tj(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=gr(t),r}function g9(t,e){e||(e=ye(153)),e.write_shift(2,t.sz*20),rj(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),B0(t.color,e);var r=0;return r=2,e.write_shift(1,r),Gn(t.name,e),e.length>e.l?e.slice(0,e.l):e}var v9=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],r1,_9=Ta;function j2(t,e){e||(e=ye(84)),r1||(r1=a_(v9));var n=r1[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(B0({auto:1},e),B0({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function y9(t,e){var n=t.l+e,r=t.read_shift(2),a=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:a}}function aC(t,e,n){n||(n=ye(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function rh(t,e){return e||(e=ye(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var x9=Ta;function E9(t,e){return e||(e=ye(51)),e.write_shift(1,0),rh(null,e),rh(null,e),rh(null,e),rh(null,e),rh(null,e),e.length>e.l?e.slice(0,e.l):e}function T9(t,e){return e||(e=ye(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),V0(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function w9(t,e,n){var r=ye(2052);return r.write_shift(4,t),V0(e,r),V0(n,r),r.length>r.l?r.slice(0,r.l):r}function S9(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&++n}),n!=0&&(be(t,615,Wi(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&be(t,44,m9(a,e[a]))}),be(t,616))}}function A9(t){var e=1;be(t,611,Wi(e)),be(t,43,g9({sz:12,color:{theme:1},name:"Calibri",family:2})),be(t,612)}function b9(t){var e=2;be(t,603,Wi(e)),be(t,45,j2({patternType:"none"})),be(t,45,j2({patternType:"gray125"})),be(t,604)}function R9(t){var e=1;be(t,613,Wi(e)),be(t,46,E9()),be(t,614)}function C9(t){var e=1;be(t,626,Wi(e)),be(t,47,aC({numFmtId:0},65535)),be(t,627)}function N9(t,e){be(t,617,Wi(e.length)),e.forEach(function(n){be(t,47,aC(n,0))}),be(t,618)}function I9(t){var e=1;be(t,619,Wi(e)),be(t,48,T9({xfId:0,name:"Normal"})),be(t,620)}function D9(t){var e=0;be(t,505,Wi(e)),be(t,506)}function O9(t){var e=0;be(t,508,w9(e,"TableStyleMedium9","PivotStyleMedium4")),be(t,509)}function k9(t,e){var n=Vr();return be(n,278),S9(n,t.SSF),A9(n),b9(n),R9(n),C9(n),N9(n,e.cellXfs),I9(n),D9(n),O9(n),be(n,279),n.end()}function sC(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[In];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function P9(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:gr(t)}}function M9(t){var e=ye(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Gn(t.name,e),e.slice(0,e.l)}function L9(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function F9(t){var e=ye(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function j9(t,e){var n=ye(8+2*e.length);return n.write_shift(4,t),Gn(e,n),n.slice(0,n.l)}function U9(t){return t.l+=4,t.read_shift(4)!=0}function V9(t,e){var n=ye(8);return n.write_shift(4,t),n.write_shift(4,1),n}function B9(){var t=Vr();return be(t,332),be(t,334,Wi(1)),be(t,335,M9({name:"XLDAPR",version:12e4,flags:3496657072})),be(t,336),be(t,339,j9(1,"XLDAPR")),be(t,52),be(t,35,Wi(514)),be(t,4096,Wi(0)),be(t,4097,Si(1)),be(t,36),be(t,53),be(t,340),be(t,337,V9(1)),be(t,51,F9([[1,0]])),be(t,338),be(t,333),t.end()}function oC(){var t=[In];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function H9(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Ft(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var pc=1024;function lC(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),a=[Me("xml",null,{"xmlns:v":ai.v,"xmlns:o":ai.o,"xmlns:x":ai.x,"xmlns:mv":ai.mv}).replace(/\/>/,">"),Me("o:shapelayout",Me("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Me("v:shapetype",[Me("v:stroke",null,{joinstyle:"miter"}),Me("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];pc<t*1e3;)pc+=1e3;return e.forEach(function(o){var l=qn(o[0]),h={color2:"#BEFF82",type:"gradient"};h.type=="gradient"&&(h.angle="-180");var d=h.type=="gradient"?Me("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Me("v:fill",d,h),g={on:"t",obscured:"t"};++pc,a=a.concat(["<v:shape"+Gh({id:"_x0000_s"+pc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Me("v:shadow",null,g),Me("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",nr("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),nr("x:AutoFill","False"),nr("x:Row",String(l.r)),nr("x:Column",String(l.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function cC(t){var e=[In,Me("comments",null,{xmlns:$c[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(a){var o=Lt(a.a);n.indexOf(o)==-1&&(n.push(o),e.push("<author>"+o+"</author>")),a.T&&a.ID&&n.indexOf("tc="+a.ID)==-1&&(n.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var a=0,o=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?a=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(d){d.a&&(a=n.indexOf(Lt(d.a))),o.push(d.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+a+'"><text>'),o.length<=1)e.push(nr("t",Lt(o[0]||"")));else{for(var l=`Comment:
    `+o[0]+`
`,h=1;h<o.length;++h)l+=`Reply:
    `+o[h]+`
`;e.push(nr("t",Lt(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function z9(t,e,n){var r=[In,Me("ThreadedComments",null,{xmlns:zn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(a){var o="";(a[1]||[]).forEach(function(l,h){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var d={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};h==0?o=d.id:d.parentId=o,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),r.push(Me("threadedComment",nr("text",l.t||""),d))})}),r.push("</ThreadedComments>"),r.join("")}function q9(t){var e=[In,Me("personList",null,{xmlns:zn.TCMNT,"xmlns:x":$c[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(Me("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function G9(t){var e={};e.iauthor=t.read_shift(4);var n=El(t);return e.rfx=n.s,e.ref=Ft(n.s),t.l+=16,e}function $9(t,e){return e==null&&(e=ye(36)),e.write_shift(4,t[1].iauthor),Yc(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var W9=gr;function Y9(t){return Gn(t.slice(0,54))}function K9(t){var e=Vr(),n=[];return be(e,628),be(e,630),t.forEach(function(r){r[1].forEach(function(a){n.indexOf(a.a)>-1||(n.push(a.a.slice(0,54)),be(e,632,Y9(a.a)))})}),be(e,631),be(e,633),t.forEach(function(r){r[1].forEach(function(a){a.iauthor=n.indexOf(a.a);var o={s:qn(r[0]),e:qn(r[0])};be(e,635,$9([o,a])),a.t&&a.t.length>0&&be(e,637,Q5(a)),be(e,636),delete a.iauthor})}),be(e,634),be(e,629),e.end()}function X9(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var a=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&zt.utils.cfb_add(t,a,e.FileIndex[r].content)}})}var uC=["xlsb","xlsm","xlam","biff8","xla"],Q9=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,a,o,l){var h=!1,d=!1;o.length==0?d=!0:o.charAt(0)=="["&&(d=!0,o=o.slice(1,-1)),l.length==0?h=!0:l.charAt(0)=="["&&(h=!0,l=l.slice(1,-1));var f=o.length>0?parseInt(o,10)|0:0,g=l.length>0?parseInt(l,10)|0:0;return h?g+=e.c:--g,d?f+=e.r:--f,a+(h?"":"$")+pr(g)+(d?"":"$")+ir(f)}return function(a,o){return e=o,a.replace(t,n)}})(),__=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,y_=(function(){return function(e,n){return e.replace(__,function(r,a,o,l,h,d){var f=f_(l)-(o?0:n.c),g=h_(d)-(h?0:n.r),y=g==0?"":h?g+1:"["+g+"]",x=f==0?"":o?f+1:"["+f+"]";return a+"R"+y+"C"+x})}})();function J9(t,e){return t.replace(__,function(n,r,a,o,l,h){return r+(a=="$"?a+o:pr(f_(o)+e.c))+(l=="$"?l+h:ir(h_(h)+e.r))})}function Z9(t){return t.length!=1}function Sn(t){t.l+=1}function lo(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function hC(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return fC(t);n.biff==12&&(r=4)}var a=t.read_shift(r),o=t.read_shift(r),l=lo(t),h=lo(t);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:o,c:h[0],cRel:h[1],rRel:h[2]}}}function fC(t){var e=lo(t),n=lo(t),r=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function eU(t,e,n){if(n.biff<8)return fC(t);var r=t.read_shift(n.biff==12?4:2),a=t.read_shift(n.biff==12?4:2),o=lo(t),l=lo(t);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function dC(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return tU(t);var r=t.read_shift(n&&n.biff==12?4:2),a=lo(t);return{r,c:a[0],cRel:a[1],rRel:a[2]}}function tU(t){var e=lo(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function nU(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function rU(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return iU(t);var a=t.read_shift(r>=12?4:2),o=t.read_shift(2),l=(o&16384)>>14,h=(o&32768)>>15;if(o&=16383,h==1)for(;a>524287;)a-=1048576;if(l==1)for(;o>8191;)o=o-16384;return{r:a,c:o,cRel:l,rRel:h}}function iU(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),a==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:a,rRel:r}}function aU(t,e,n){var r=(t[t.l++]&96)>>5,a=hC(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,a]}function sU(t,e,n){var r=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),o=8;if(n)switch(n.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}var l=hC(t,o,n);return[r,a,l]}function oU(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function lU(t,e,n){var r=(t[t.l++]&96)>>5,a=t.read_shift(2),o=8;if(n)switch(n.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}return t.l+=o,[r,a]}function cU(t,e,n){var r=(t[t.l++]&96)>>5,a=eU(t,e-1,n);return[r,a]}function uU(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function U2(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function hU(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),a=[],o=0;o<=r;++o)a.push(t.read_shift(n&&n.biff==2?1:2));return a}function fU(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function dU(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function mU(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function pU(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function mC(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function gU(t){return t.read_shift(2),mC(t)}function vU(t){return t.read_shift(2),mC(t)}function _U(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var a=dC(t,0,n);return[r,a]}function yU(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var a=rU(t,0,n);return[r,a]}function xU(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var o=dC(t,0,n);return[r,a,o]}function EU(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(n&&n.biff<=3?1:2);return[EV[a],vC[a],r]}function TU(t,e,n){var r=t[t.l++],a=t.read_shift(1),o=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:wU(t);return[a,(o[0]===0?vC:xV)[o[1]]]}function wU(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function SU(t,e,n){t.l+=n&&n.biff==2?3:4}function AU(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),a=t.read_shift(n&&n.biff==2?1:2);return[r,a]}function bU(t){return t.l++,vf[t.read_shift(1)]}function RU(t){return t.l++,t.read_shift(2)}function CU(t){return t.l++,t.read_shift(1)!==0}function NU(t){return t.l++,Kc(t)}function IU(t,e,n){return t.l++,XR(t,e-1,n)}function DU(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=xj(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=vf[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Kc(t);break;case 2:n[1]=Sj(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function OU(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),a=[],o=0;o!=r;++o)a.push((n.biff==12?El:Rj)(t));return a}function kU(t,e,n){var r=0,a=0;n.biff==12?(r=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--a==0&&(a=256));for(var o=0,l=[];o!=r&&(l[o]=[]);++o)for(var h=0;h!=a;++h)l[o][h]=DU(t,n.biff);return l}function PU(t,e,n){var r=t.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,o=t.read_shift(a);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,o]}function MU(t,e,n){if(n.biff==5)return LU(t);var r=t.read_shift(1)>>>5&3,a=t.read_shift(2),o=t.read_shift(4);return[r,a,o]}function LU(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function FU(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var a=t.read_shift(n&&n.biff==2?1:2);return[r,a]}function jU(t,e,n){var r=t.read_shift(1)>>>5&3,a=t.read_shift(n&&n.biff==2?1:2);return[r,a]}function UU(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function VU(t,e,n){var r=(t[t.l++]&96)>>5,a=t.read_shift(2),o=4;if(n)switch(n.biff){case 5:o=15;break;case 12:o=6;break}return t.l+=o,[r,a]}var BU=Ta,HU=Ta,zU=Ta;function _f(t,e,n){return t.l+=2,[nU(t)]}function x_(t){return t.l+=6,[]}var qU=_f,GU=x_,$U=x_,WU=_f;function pC(t){return t.l+=2,[YR(t),t.read_shift(2)&1]}var YU=_f,KU=pC,XU=x_,QU=_f,JU=_f,ZU=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function eV(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),a=t.read_shift(2),o=t.read_shift(2),l=ZU[n>>2&31];return{ixti:e,coltype:n&3,rt:l,idx:r,c:a,C:o}}function tV(t){return t.l+=2,[t.read_shift(4)]}function nV(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function rV(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function iV(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function aV(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function sV(t){return t.l+=4,[0,0]}var V2={1:{n:"PtgExp",f:AU},2:{n:"PtgTbl",f:zU},3:{n:"PtgAdd",f:Sn},4:{n:"PtgSub",f:Sn},5:{n:"PtgMul",f:Sn},6:{n:"PtgDiv",f:Sn},7:{n:"PtgPower",f:Sn},8:{n:"PtgConcat",f:Sn},9:{n:"PtgLt",f:Sn},10:{n:"PtgLe",f:Sn},11:{n:"PtgEq",f:Sn},12:{n:"PtgGe",f:Sn},13:{n:"PtgGt",f:Sn},14:{n:"PtgNe",f:Sn},15:{n:"PtgIsect",f:Sn},16:{n:"PtgUnion",f:Sn},17:{n:"PtgRange",f:Sn},18:{n:"PtgUplus",f:Sn},19:{n:"PtgUminus",f:Sn},20:{n:"PtgPercent",f:Sn},21:{n:"PtgParen",f:Sn},22:{n:"PtgMissArg",f:Sn},23:{n:"PtgStr",f:IU},26:{n:"PtgSheet",f:nV},27:{n:"PtgEndSheet",f:rV},28:{n:"PtgErr",f:bU},29:{n:"PtgBool",f:CU},30:{n:"PtgInt",f:RU},31:{n:"PtgNum",f:NU},32:{n:"PtgArray",f:uU},33:{n:"PtgFunc",f:EU},34:{n:"PtgFuncVar",f:TU},35:{n:"PtgName",f:PU},36:{n:"PtgRef",f:_U},37:{n:"PtgArea",f:aU},38:{n:"PtgMemArea",f:FU},39:{n:"PtgMemErr",f:BU},40:{n:"PtgMemNoMem",f:HU},41:{n:"PtgMemFunc",f:jU},42:{n:"PtgRefErr",f:UU},43:{n:"PtgAreaErr",f:oU},44:{n:"PtgRefN",f:yU},45:{n:"PtgAreaN",f:cU},46:{n:"PtgMemAreaN",f:iV},47:{n:"PtgMemNoMemN",f:aV},57:{n:"PtgNameX",f:MU},58:{n:"PtgRef3d",f:xU},59:{n:"PtgArea3d",f:sU},60:{n:"PtgRefErr3d",f:VU},61:{n:"PtgAreaErr3d",f:lU},255:{}},oV={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},lV={1:{n:"PtgElfLel",f:pC},2:{n:"PtgElfRw",f:QU},3:{n:"PtgElfCol",f:qU},6:{n:"PtgElfRwV",f:JU},7:{n:"PtgElfColV",f:WU},10:{n:"PtgElfRadical",f:YU},11:{n:"PtgElfRadicalS",f:XU},13:{n:"PtgElfColS",f:GU},15:{n:"PtgElfColSV",f:$U},16:{n:"PtgElfRadicalLel",f:KU},25:{n:"PtgList",f:eV},29:{n:"PtgSxName",f:tV},255:{}},cV={0:{n:"PtgAttrNoop",f:sV},1:{n:"PtgAttrSemi",f:pU},2:{n:"PtgAttrIf",f:dU},4:{n:"PtgAttrChoose",f:hU},8:{n:"PtgAttrGoto",f:fU},16:{n:"PtgAttrSum",f:SU},32:{n:"PtgAttrBaxcel",f:U2},33:{n:"PtgAttrBaxcel",f:U2},64:{n:"PtgAttrSpace",f:gU},65:{n:"PtgAttrSpaceSemi",f:vU},128:{n:"PtgAttrIfError",f:mU},255:{}};function uV(t,e,n,r){if(r.biff<8)return Ta(t,e);for(var a=t.l+e,o=[],l=0;l!==n.length;++l)switch(n[l][0]){case"PtgArray":n[l][1]=kU(t,0,r),o.push(n[l][1]);break;case"PtgMemArea":n[l][2]=OU(t,n[l][1],r),o.push(n[l][2]);break;case"PtgExp":r&&r.biff==12&&(n[l][1][1]=t.read_shift(4),o.push(n[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[l][0]}return e=a-t.l,e!==0&&o.push(Ta(t,e)),o}function hV(t,e,n){for(var r=t.l+e,a,o,l=[];r!=t.l;)e=r-t.l,o=t[t.l],a=V2[o]||V2[oV[o]],(o===24||o===25)&&(a=(o===24?lV:cV)[t[t.l+1]]),!a||!a.f?Ta(t,e):l.push([a.n,a.f(t,e,n)]);return l}function fV(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],a=[],o=0;o<r.length;++o){var l=r[o];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var dV={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function mV(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function gC(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var a="";if(n.biff>8)switch(t[r[0]][0]){case 357:return a=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?a:a+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return a=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return t[r[0]][0][3]?(a=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function B2(t,e,n){var r=gC(t,e,n);return r=="#REF"?r:mV(r,n)}function Pc(t,e,n,r,a){var o=a&&a.biff||8,l={s:{c:0,r:0}},h=[],d,f,g,y=0,x=0,T,S="";if(!t[0]||!t[0][0])return"";for(var w=-1,b="",O=0,F=t[0].length;O<F;++O){var j=t[0][O];switch(j[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=h.pop(),f=h.pop(),w>=0){switch(t[0][w][1][0]){case 0:b=fn(" ",t[0][w][1][1]);break;case 1:b=fn("\r",t[0][w][1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}f=f+b,w=-1}h.push(f+dV[j[0]]+d);break;case"PtgIsect":d=h.pop(),f=h.pop(),h.push(f+" "+d);break;case"PtgUnion":d=h.pop(),f=h.pop(),h.push(f+","+d);break;case"PtgRange":d=h.pop(),f=h.pop(),h.push(f+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":g=Ah(j[1][1],l,a),h.push(bh(g,o));break;case"PtgRefN":g=n?Ah(j[1][1],n,a):j[1][1],h.push(bh(g,o));break;case"PtgRef3d":y=j[1][1],g=Ah(j[1][2],l,a),S=B2(r,y,a),h.push(S+"!"+bh(g,o));break;case"PtgFunc":case"PtgFuncVar":var J=j[1][0],X=j[1][1];J||(J=0),J&=127;var W=J==0?[]:h.slice(-J);h.length-=J,X==="User"&&(X=W.shift()),h.push(X+"("+W.join(",")+")");break;case"PtgBool":h.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":h.push(j[1]);break;case"PtgNum":h.push(String(j[1]));break;case"PtgStr":h.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":h.push(j[1]);break;case"PtgAreaN":T=A2(j[1][1],n?{s:n}:l,a),h.push(t1(T,a));break;case"PtgArea":T=A2(j[1][1],l,a),h.push(t1(T,a));break;case"PtgArea3d":y=j[1][1],T=j[1][2],S=B2(r,y,a),h.push(S+"!"+t1(T,a));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=j[1][2];var N=(r.names||[])[x-1]||(r[0]||[])[x],I=N?N.Name:"SH33TJSNAME"+String(x);I&&I.slice(0,6)=="_xlfn."&&!a.xlfn&&(I=I.slice(6)),h.push(I);break;case"PtgNameX":var C=j[1][1];x=j[1][2];var P;if(a.biff<=5)C<0&&(C=-C),r[C]&&(P=r[C][x]);else{var L="";if(((r[C]||[])[0]||[])[0]==14849||(((r[C]||[])[0]||[])[0]==1025?r[C][x]&&r[C][x].itab>0&&(L=r.SheetNames[r[C][x].itab-1]+"!"):L=r.SheetNames[x-1]+"!"),r[C]&&r[C][x])L+=r[C][x].Name;else if(r[0]&&r[0][x])L+=r[0][x].Name;else{var z=(gC(r,C,a)||"").split(";;");z[x-1]?L=z[x-1]:L+="SH33TJSERRX"}h.push(L);break}P||(P={Name:"SH33TJSERRY"}),h.push(P.Name);break;case"PtgParen":var M="(",Ue=")";if(w>=0){switch(b="",t[0][w][1][0]){case 2:M=fn(" ",t[0][w][1][1])+M;break;case 3:M=fn("\r",t[0][w][1][1])+M;break;case 4:Ue=fn(" ",t[0][w][1][1])+Ue;break;case 5:Ue=fn("\r",t[0][w][1][1])+Ue;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}h.push(M+h.pop()+Ue);break;case"PtgRefErr":h.push("#REF!");break;case"PtgRefErr3d":h.push("#REF!");break;case"PtgExp":g={c:j[1][1],r:j[1][0]};var ke={c:n.c,r:n.r};if(r.sharedf[Ft(g)]){var ce=r.sharedf[Ft(g)];h.push(Pc(ce,l,ke,r,a))}else{var Re=!1;for(d=0;d!=r.arrayf.length;++d)if(f=r.arrayf[d],!(g.c<f[0].s.c||g.c>f[0].e.c)&&!(g.r<f[0].s.r||g.r>f[0].e.r)){h.push(Pc(f[1],l,ke,r,a)),Re=!0;break}Re||h.push(j[1])}break;case"PtgArray":h.push("{"+fV(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=O;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":h.push("");break;case"PtgAreaErr":h.push("#REF!");break;case"PtgAreaErr3d":h.push("#REF!");break;case"PtgList":h.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var He=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&w>=0&&He.indexOf(t[0][O][0])==-1){j=t[0][w];var Ye=!0;switch(j[1][0]){case 4:Ye=!1;case 0:b=fn(" ",j[1][1]);break;case 5:Ye=!1;case 1:b=fn("\r",j[1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}h.push((Ye?b:"")+h.pop()+(Ye?"":b)),w=-1}}if(h.length>1&&a.WTF)throw new Error("bad formula stack");return h[0]}function pV(t){if(t==null){var e=ye(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return hl(t);return hl(0)}function gV(t,e,n,r,a){var o=fl(e,n,a),l=pV(t.v),h=ye(6),d=33;h.write_shift(2,d),h.write_shift(4,0);for(var f=ye(t.bf.length),g=0;g<t.bf.length;++g)f[g]=t.bf[g];var y=tr([o,l,h,f]);return y}function Nm(t,e,n){var r=t.read_shift(4),a=hV(t,r,n),o=t.read_shift(4),l=o>0?uV(t,o,a,n):null;return[a,l]}var vV=Nm,Im=Nm,_V=Nm,yV=Nm,xV={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},vC={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},EV={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function TV(t){var e="of:="+t.replace(__,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function wV(t){return t.replace(/\./,"!")}var Rh=typeof Map<"u";function E_(t,e,n){var r=0,a=t.length;if(n){if(Rh?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var o=Rh?n.get(e):n[e];r<o.length;++r)if(t[o[r]].t===e)return t.Count++,o[r]}}else for(;r<a;++r)if(t[r].t===e)return t.Count++,r;return t[a]={t:e},t.Count++,t.Unique++,n&&(Rh?(n.has(e)||n.set(e,[]),n.get(e).push(a)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(a))),a}function Dm(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(es=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=q0(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=q1(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function _C(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function po(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],a=60,o=t.length;if(r==null&&n.ssf){for(;a<392;++a)if(n.ssf[a]==null){dR(e.z,a),n.ssf[a]=e.z,n.revssf[e.z]=r=a;break}}for(a=0;a!=o;++a)if(t[a].numFmtId===r)return a;return t[o]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function SV(t,e,n){if(t&&t["!ref"]){var r=Zt(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function AV(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+Nn(t[n])+'"/>';return e+"</mergeCells>"}function bV(t,e,n,r,a){var o=!1,l={},h=null;if(r.bookType!=="xlsx"&&e.vbaraw){var d=e.SheetNames[n];try{e.Workbook&&(d=e.Workbook.Sheets[n].CodeName||d)}catch{}o=!0,l.codeName=qh(Lt(d))}if(t&&t["!outline"]){var f={summaryBelow:1,summaryRight:1};t["!outline"].above&&(f.summaryBelow=0),t["!outline"].left&&(f.summaryRight=0),h=(h||"")+Me("outlinePr",null,f)}!o&&!h||(a[a.length]=Me("sheetPr",h,l))}var RV=["objects","scenarios","selectLockedCells","selectUnlockedCells"],CV=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function NV(t){var e={sheet:1};return RV.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),CV.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=tC(t.password).toString(16).toUpperCase()),Me("sheetProtection",null,e)}function IV(t){return _C(t),Me("pageMargins",null,t)}function DV(t,e){for(var n=["<cols>"],r,a=0;a!=e.length;++a)(r=e[a])&&(n[n.length]=Me("col",null,Dm(a,r)));return n[n.length]="</cols>",n.join("")}function OV(t,e,n,r){var a=typeof t.ref=="string"?t.ref:Nn(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,l=li(a);l.s.r==l.e.r&&(l.e.r=li(e["!ref"]).e.r,a=Nn(l));for(var h=0;h<o.length;++h){var d=o[h];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+n.SheetNames[r]+"'!"+a;break}}return h==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),Me("autoFilter",null,{ref:a})}function kV(t,e,n,r){var a={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Me("sheetViews",Me("sheetView",null,a),{})}function PV(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var a="",o=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":a=t.v?"1":"0";break;case"n":a=""+t.v;break;case"e":a=vf[t.v];break;case"d":r&&r.cellDates?a=Ar(t.v,-1).toISOString():(t=Hr(t),t.t="n",a=""+(t.v=Br(Ar(t.v)))),typeof t.z>"u"&&(t.z=mn[14]);break;default:a=t.v;break}var h=nr("v",Lt(a)),d={r:e},f=po(r.cellXfs,t,r);switch(f!==0&&(d.s=f),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){h=nr("v",""+E_(r.Strings,t.v,r.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=o&&(t.t=o,t.v=l),typeof t.f=="string"&&t.f){var g=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;h=Me("f",Lt(t.f),g)+(t.v!=null?h:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(d.cm=1),Me("c",h,d)}function MV(t,e,n,r){var a=[],o=[],l=Zt(t["!ref"]),h="",d,f="",g=[],y=0,x=0,T=t["!rows"],S=Array.isArray(t),w={r:f},b,O=-1;for(x=l.s.c;x<=l.e.c;++x)g[x]=pr(x);for(y=l.s.r;y<=l.e.r;++y){for(o=[],f=ir(y),x=l.s.c;x<=l.e.c;++x){d=g[x]+f;var F=S?(t[y]||[])[x]:t[d];F!==void 0&&(h=PV(F,d,t,e))!=null&&o.push(h)}(o.length>0||T&&T[y])&&(w={r:f},T&&T[y]&&(b=T[y],b.hidden&&(w.hidden=1),O=-1,b.hpx?O=G0(b.hpx):b.hpt&&(O=b.hpt),O>-1&&(w.ht=O,w.customHeight=1),b.level&&(w.outlineLevel=b.level)),a[a.length]=Me("row",o.join(""),w))}if(T)for(;y<T.length;++y)T&&T[y]&&(w={r:y+1},b=T[y],b.hidden&&(w.hidden=1),O=-1,b.hpx?O=G0(b.hpx):b.hpt&&(O=b.hpt),O>-1&&(w.ht=O,w.customHeight=1),b.level&&(w.outlineLevel=b.level),a[a.length]=Me("row","",w));return a.join("")}function yC(t,e,n,r){var a=[In,Me("worksheet",null,{xmlns:$c[0],"xmlns:r":zn.r})],o=n.SheetNames[t],l=0,h="",d=n.Sheets[o];d==null&&(d={});var f=d["!ref"]||"A1",g=Zt(f);if(g.e.c>16383||g.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");g.e.c=Math.min(g.e.c,16383),g.e.r=Math.min(g.e.c,1048575),f=Nn(g)}r||(r={}),d["!comments"]=[];var y=[];bV(d,n,t,e,a),a[a.length]=Me("dimension",null,{ref:f}),a[a.length]=kV(d,e,t,n),e.sheetFormat&&(a[a.length]=Me("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(a[a.length]=DV(d,d["!cols"])),a[l=a.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(h=MV(d,e),h.length>0&&(a[a.length]=h)),a.length>l+1&&(a[a.length]="</sheetData>",a[l]=a[l].replace("/>",">")),d["!protect"]&&(a[a.length]=NV(d["!protect"])),d["!autofilter"]!=null&&(a[a.length]=OV(d["!autofilter"],d,n,t)),d["!merges"]!=null&&d["!merges"].length>0&&(a[a.length]=AV(d["!merges"]));var x=-1,T,S=-1;return d["!links"].length>0&&(a[a.length]="<hyperlinks>",d["!links"].forEach(function(w){w[1].Target&&(T={ref:w[0]},w[1].Target.charAt(0)!="#"&&(S=Mt(r,-1,Lt(w[1].Target).replace(/#.*$/,""),wt.HLINK),T["r:id"]="rId"+S),(x=w[1].Target.indexOf("#"))>-1&&(T.location=Lt(w[1].Target.slice(x+1))),w[1].Tooltip&&(T.tooltip=Lt(w[1].Tooltip)),a[a.length]=Me("hyperlink",null,T))}),a[a.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(a[a.length]=IV(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=nr("ignoredErrors",Me("ignoredError",null,{numberStoredAsText:1,sqref:f}))),y.length>0&&(S=Mt(r,-1,"../drawings/drawing"+(t+1)+".xml",wt.DRAW),a[a.length]=Me("drawing",null,{"r:id":"rId"+S}),d["!drawing"]=y),d["!comments"].length>0&&(S=Mt(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",wt.VML),a[a.length]=Me("legacyDrawing",null,{"r:id":"rId"+S}),d["!legacy"]=S),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function LV(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var o=t.read_shift(1);return t.l=r,o&7&&(n.level=o&7),o&16&&(n.hidden=!0),o&32&&(n.hpt=a/20),n}function FV(t,e,n){var r=ye(145),a=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var o=320;a.hpx?o=G0(a.hpx)*20:a.hpt&&(o=a.hpt*20),r.write_shift(2,o),r.write_shift(1,0);var l=0;a.level&&(l|=a.level),a.hidden&&(l|=16),(a.hpx||a.hpt)&&(l|=32),r.write_shift(1,l),r.write_shift(1,0);var h=0,d=r.l;r.l+=4;for(var f={r:t,c:0},g=0;g<16;++g)if(!(e.s.c>g+1<<10||e.e.c<g<<10)){for(var y=-1,x=-1,T=g<<10;T<g+1<<10;++T){f.c=T;var S=Array.isArray(n)?(n[f.r]||[])[f.c]:n[Ft(f)];S&&(y<0&&(y=T),x=T)}y<0||(++h,r.write_shift(4,y),r.write_shift(4,x))}var w=r.l;return r.l=d,r.write_shift(4,h),r.l=w,r.length>r.l?r.slice(0,r.l):r}function jV(t,e,n,r){var a=FV(r,n,e);(a.length>17||(e["!rows"]||[])[r])&&be(t,0,a)}var UV=El,VV=Yc;function BV(){}function HV(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=J5(t),n}function zV(t,e,n){n==null&&(n=ye(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var a=1;a<3;++a)n.write_shift(1,0);return B0({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),PR(t,n),n.slice(0,n.l)}function qV(t){var e=Ci(t);return[e]}function GV(t,e,n){return n==null&&(n=ye(8)),_l(e,n)}function $V(t){var e=yl(t);return[e]}function WV(t,e,n){return n==null&&(n=ye(4)),xl(e,n)}function YV(t){var e=Ci(t),n=t.read_shift(1);return[e,n,"b"]}function KV(t,e,n){return n==null&&(n=ye(9)),_l(e,n),n.write_shift(1,t.v?1:0),n}function XV(t){var e=yl(t),n=t.read_shift(1);return[e,n,"b"]}function QV(t,e,n){return n==null&&(n=ye(5)),xl(e,n),n.write_shift(1,t.v?1:0),n}function JV(t){var e=Ci(t),n=t.read_shift(1);return[e,n,"e"]}function ZV(t,e,n){return n==null&&(n=ye(9)),_l(e,n),n.write_shift(1,t.v),n}function e7(t){var e=yl(t),n=t.read_shift(1);return[e,n,"e"]}function t7(t,e,n){return n==null&&(n=ye(8)),xl(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function n7(t){var e=Ci(t),n=t.read_shift(4);return[e,n,"s"]}function r7(t,e,n){return n==null&&(n=ye(12)),_l(e,n),n.write_shift(4,e.v),n}function i7(t){var e=yl(t),n=t.read_shift(4);return[e,n,"s"]}function a7(t,e,n){return n==null&&(n=ye(8)),xl(e,n),n.write_shift(4,e.v),n}function s7(t){var e=Ci(t),n=Kc(t);return[e,n,"n"]}function o7(t,e,n){return n==null&&(n=ye(16)),_l(e,n),hl(t.v,n),n}function l7(t){var e=yl(t),n=Kc(t);return[e,n,"n"]}function c7(t,e,n){return n==null&&(n=ye(12)),xl(e,n),hl(t.v,n),n}function u7(t){var e=Ci(t),n=MR(t);return[e,n,"n"]}function h7(t,e,n){return n==null&&(n=ye(12)),_l(e,n),LR(t.v,n),n}function f7(t){var e=yl(t),n=MR(t);return[e,n,"n"]}function d7(t,e,n){return n==null&&(n=ye(8)),xl(e,n),LR(t.v,n),n}function m7(t){var e=Ci(t),n=d_(t);return[e,n,"is"]}function p7(t){var e=Ci(t),n=gr(t);return[e,n,"str"]}function g7(t,e,n){return n==null&&(n=ye(12+4*t.v.length)),_l(e,n),Gn(t.v,n),n.length>n.l?n.slice(0,n.l):n}function v7(t){var e=yl(t),n=gr(t);return[e,n,"str"]}function _7(t,e,n){return n==null&&(n=ye(8+4*t.v.length)),xl(e,n),Gn(t.v,n),n.length>n.l?n.slice(0,n.l):n}function y7(t,e,n){var r=t.l+e,a=Ci(t);a.r=n["!row"];var o=t.read_shift(1),l=[a,o,"b"];if(n.cellFormula){t.l+=2;var h=Im(t,r-t.l,n);l[3]=Pc(h,null,a,n.supbooks,n)}else t.l=r;return l}function x7(t,e,n){var r=t.l+e,a=Ci(t);a.r=n["!row"];var o=t.read_shift(1),l=[a,o,"e"];if(n.cellFormula){t.l+=2;var h=Im(t,r-t.l,n);l[3]=Pc(h,null,a,n.supbooks,n)}else t.l=r;return l}function E7(t,e,n){var r=t.l+e,a=Ci(t);a.r=n["!row"];var o=Kc(t),l=[a,o,"n"];if(n.cellFormula){t.l+=2;var h=Im(t,r-t.l,n);l[3]=Pc(h,null,a,n.supbooks,n)}else t.l=r;return l}function T7(t,e,n){var r=t.l+e,a=Ci(t);a.r=n["!row"];var o=gr(t),l=[a,o,"str"];if(n.cellFormula){t.l+=2;var h=Im(t,r-t.l,n);l[3]=Pc(h,null,a,n.supbooks,n)}else t.l=r;return l}var w7=El,S7=Yc;function A7(t,e){return e==null&&(e=ye(4)),e.write_shift(4,t),e}function b7(t,e){var n=t.l+e,r=El(t),a=m_(t),o=gr(t),l=gr(t),h=gr(t);t.l=n;var d={rfx:r,relId:a,loc:o,display:h};return l&&(d.Tooltip=l),d}function R7(t,e){var n=ye(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Yc({s:qn(t[0]),e:qn(t[0])},n),p_("rId"+e,n);var r=t[1].Target.indexOf("#"),a=r==-1?"":t[1].Target.slice(r+1);return Gn(a||"",n),Gn(t[1].Tooltip||"",n),Gn("",n),n.slice(0,n.l)}function C7(){}function N7(t,e,n){var r=t.l+e,a=FR(t),o=t.read_shift(1),l=[a];if(l[2]=o,n.cellFormula){var h=vV(t,r-t.l,n);l[1]=h}else t.l=r;return l}function I7(t,e,n){var r=t.l+e,a=El(t),o=[a];if(n.cellFormula){var l=yV(t,r-t.l,n);o[1]=l,t.l=r}else t.l=r;return o}function D7(t,e,n){n==null&&(n=ye(18));var r=Dm(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof r.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),n.write_shift(2,a),n}var xC=["left","right","top","bottom","header","footer"];function O7(t){var e={};return xC.forEach(function(n){e[n]=Kc(t)}),e}function k7(t,e){return e==null&&(e=ye(48)),_C(t),xC.forEach(function(n){hl(t[n],e)}),e}function P7(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function M7(t,e,n){n==null&&(n=ye(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function L7(t){var e=ye(24);return e.write_shift(4,4),e.write_shift(4,1),Yc(t,e),e}function F7(t,e){return e==null&&(e=ye(66)),e.write_shift(2,t.password?tC(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function j7(){}function U7(){}function V7(t,e,n,r,a,o,l){if(e.v===void 0)return!1;var h="";switch(e.t){case"b":h=e.v?"1":"0";break;case"d":e=Hr(e),e.z=e.z||mn[14],e.v=Br(Ar(e.v)),e.t="n";break;case"n":case"e":h=""+e.v;break;default:h=e.v;break}var d={r:n,c:r};switch(d.s=po(a.cellXfs,e,a),e.l&&o["!links"].push([Ft(d),e.l]),e.c&&o["!comments"].push([Ft(d),e.c]),e.t){case"s":case"str":return a.bookSST?(h=E_(a.Strings,e.v,a.revStrings),d.t="s",d.v=h,l?be(t,18,a7(e,d)):be(t,7,r7(e,d))):(d.t="str",l?be(t,17,_7(e,d)):be(t,6,g7(e,d))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?be(t,13,d7(e,d)):be(t,2,h7(e,d)):l?be(t,16,c7(e,d)):be(t,5,o7(e,d)),!0;case"b":return d.t="b",l?be(t,15,QV(e,d)):be(t,4,KV(e,d)),!0;case"e":return d.t="e",l?be(t,14,t7(e,d)):be(t,3,ZV(e,d)),!0}return l?be(t,12,WV(e,d)):be(t,1,GV(e,d)),!0}function B7(t,e,n,r){var a=Zt(e["!ref"]||"A1"),o,l="",h=[];be(t,145);var d=Array.isArray(e),f=a.e.r;e["!rows"]&&(f=Math.max(a.e.r,e["!rows"].length-1));for(var g=a.s.r;g<=f;++g){l=ir(g),jV(t,e,a,g);var y=!1;if(g<=a.e.r)for(var x=a.s.c;x<=a.e.c;++x){g===a.s.r&&(h[x]=pr(x)),o=h[x]+l;var T=d?(e[g]||[])[x]:e[o];if(!T){y=!1;continue}y=V7(t,T,g,x,r,e,y)}}be(t,146)}function H7(t,e){!e||!e["!merges"]||(be(t,177,A7(e["!merges"].length)),e["!merges"].forEach(function(n){be(t,176,S7(n))}),be(t,178))}function z7(t,e){!e||!e["!cols"]||(be(t,390),e["!cols"].forEach(function(n,r){n&&be(t,60,D7(r,n))}),be(t,391))}function q7(t,e){!e||!e["!ref"]||(be(t,648),be(t,649,L7(Zt(e["!ref"]))),be(t,650))}function G7(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var a=Mt(n,-1,r[1].Target.replace(/#.*$/,""),wt.HLINK);be(t,494,R7(r,a))}}),delete e["!links"]}function $7(t,e,n,r){if(e["!comments"].length>0){var a=Mt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",wt.VML);be(t,551,p_("rId"+a)),e["!legacy"]=a}}function W7(t,e,n,r){if(e["!autofilter"]){var a=e["!autofilter"],o=typeof a.ref=="string"?a.ref:Nn(a.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var l=n.Workbook.Names,h=li(o);h.s.r==h.e.r&&(h.e.r=li(e["!ref"]).e.r,o=Nn(h));for(var d=0;d<l.length;++d){var f=l[d];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+n.SheetNames[r]+"'!"+o;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+o}),be(t,161,Yc(Zt(o))),be(t,162)}}function Y7(t,e,n){be(t,133),be(t,137,M7(e,n)),be(t,138),be(t,134)}function K7(t,e){e["!protect"]&&be(t,535,F7(e["!protect"]))}function X7(t,e,n,r){var a=Vr(),o=n.SheetNames[t],l=n.Sheets[o]||{},h=o;try{n&&n.Workbook&&(h=n.Workbook.Sheets[t].CodeName||h)}catch{}var d=Zt(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],be(a,129),(n.vbaraw||l["!outline"])&&be(a,147,zV(h,l["!outline"])),be(a,148,VV(d)),Y7(a,l,n.Workbook),z7(a,l),B7(a,l,t,e),K7(a,l),W7(a,l,n,t),H7(a,l),G7(a,l,r),l["!margins"]&&be(a,476,k7(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&q7(a,l),$7(a,l,t,r),be(a,130),a.end()}function Q7(t,e){t.l+=10;var n=gr(t);return{name:n}}var J7=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Z7(t){return!t.Workbook||!t.Workbook.WBProps?"false":I5(t.Workbook.WBProps.date1904)?"true":"false"}var eB="][*?/\\".split("");function EC(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return eB.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function tB(t,e,n){t.forEach(function(r,a){EC(r);for(var o=0;o<a;++o)if(r==t[o])throw new Error("Duplicate Sheet Name: "+r);if(n){var l=e&&e[a]&&e[a].CodeName||r;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function nB(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];tB(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)SV(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function TC(t){var e=[In];e[e.length]=Me("workbook",null,{xmlns:$c[0],"xmlns:r":zn.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(J7.forEach(function(h){t.Workbook.WBProps[h[0]]!=null&&t.Workbook.WBProps[h[0]]!=h[1]&&(r[h[0]]=t.Workbook.WBProps[h[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Me("workbookPr",null,r);var a=t.Workbook&&t.Workbook.Sheets||[],o=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",o=0;o!=t.SheetNames.length&&!(!a[o]||!a[o].Hidden);++o);o==t.SheetNames.length&&(o=0),e[e.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",o=0;o!=t.SheetNames.length;++o){var l={name:Lt(t.SheetNames[o].slice(0,31))};if(l.sheetId=""+(o+1),l["r:id"]="rId"+(o+1),a[o])switch(a[o].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=Me("sheet",null,l)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(h){var d={name:h.Name};h.Comment&&(d.comment=h.Comment),h.Sheet!=null&&(d.localSheetId=""+h.Sheet),h.Hidden&&(d.hidden="1"),h.Ref&&(e[e.length]=Me("definedName",Lt(h.Ref),d))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function rB(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=z1(t),n.name=gr(t),n}function iB(t,e){return e||(e=ye(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),p_(t.strRelID,e),Gn(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function aB(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var a=e>8?gr(t):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function sB(t,e){e||(e=ye(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),PR(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function oB(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),o=Z5(t),l=_V(t,0,n),h=m_(t);t.l=r;var d={Name:o,Ptg:l};return a<268435455&&(d.Sheet=a),h&&(d.Comment=h),d}function lB(t,e){be(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,a={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};be(t,156,iB(a))}be(t,144)}function cB(t,e){e||(e=ye(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Gn("SheetJS",e),Gn(k0.version,e),Gn(k0.version,e),Gn("7262",e),e.length>e.l?e.slice(0,e.l):e}function uB(t,e){e||(e=ye(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function hB(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,a=-1,o=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&a==-1?a=r:n[r].Hidden==1&&o==-1&&(o=r);o>a||(be(t,135),be(t,158,uB(a)),be(t,136))}}function fB(t,e){var n=Vr();return be(n,131),be(n,128,cB()),be(n,153,sB(t.Workbook&&t.Workbook.WBProps||null)),hB(n,t),lB(n,t),be(n,132),n.end()}function dB(t,e,n){return(e.slice(-4)===".bin"?fB:TC)(t)}function mB(t,e,n,r,a){return(e.slice(-4)===".bin"?X7:yC)(t,n,r,a)}function pB(t,e,n){return(e.slice(-4)===".bin"?k9:iC)(t,n)}function gB(t,e,n){return(e.slice(-4)===".bin"?s9:eC)(t,n)}function vB(t,e,n){return(e.slice(-4)===".bin"?K9:cC)(t)}function _B(t){return(t.slice(-4)===".bin"?B9:oC)()}function yB(t,e){var n=[];return t.Props&&n.push(pj(t.Props,e)),t.Custprops&&n.push(gj(t.Props,t.Custprops)),n.join("")}function xB(){return""}function EB(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,a){var o=[];o.push(Me("NumberFormat",null,{"ss:Format":Lt(mn[r.numFmtId])}));var l={"ss:ID":"s"+(21+a)};n.push(Me("Style",o.join(""),l))}),Me("Styles",n.join(""))}function wC(t){return Me("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+y_(t.Ref,{r:0,c:0})})}function TB(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var a=e[r];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||n.push(wC(a)))}return Me("Names",n.join(""))}function wB(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var a=r.Workbook.Names,o=[],l=0;l<a.length;++l){var h=a[l];h.Sheet==n&&(h.Name.match(/^_xlfn\./)||o.push(wC(h)))}return o.join("")}function SB(t,e,n,r){if(!t)return"";var a=[];if(t["!margins"]&&(a.push("<PageSetup>"),t["!margins"].header&&a.push(Me("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&a.push(Me("Footer",null,{"x:Margin":t["!margins"].footer})),a.push(Me("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),a.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)a.push(Me("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<n&&!(r.Workbook.Sheets[o]&&!r.Workbook.Sheets[o].Hidden);++o);o==n&&a.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),t["!protect"]&&(a.push(nr("ProtectContents","True")),t["!protect"].objects&&a.push(nr("ProtectObjects","True")),t["!protect"].scenarios&&a.push(nr("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?a.push(nr("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&a.push(nr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){t["!protect"][l[0]]&&a.push("<"+l[1]+"/>")})),a.length==0?"":Me("WorksheetOptions",a.join(""),{xmlns:ai.x})}function AB(t){return t.map(function(e){var n=N5(e.t||""),r=Me("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Me("Comment",r,{"ss:Author":e.a})}).join("")}function bB(t,e,n,r,a,o,l){if(!t||t.v==null&&t.f==null)return"";var h={};if(t.f&&(h["ss:Formula"]="="+Lt(y_(t.f,l))),t.F&&t.F.slice(0,e.length)==e){var d=qn(t.F.slice(e.length+1));h["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(t.l&&t.l.Target&&(h["ss:HRef"]=Lt(t.l.Target),t.l.Tooltip&&(h["x:HRefScreenTip"]=Lt(t.l.Tooltip))),n["!merges"])for(var f=n["!merges"],g=0;g!=f.length;++g)f[g].s.c!=l.c||f[g].s.r!=l.r||(f[g].e.c>f[g].s.c&&(h["ss:MergeAcross"]=f[g].e.c-f[g].s.c),f[g].e.r>f[g].s.r&&(h["ss:MergeDown"]=f[g].e.r-f[g].s.r));var y="",x="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":y="Number",x=String(t.v);break;case"b":y="Boolean",x=t.v?"1":"0";break;case"e":y="Error",x=vf[t.v];break;case"d":y="DateTime",x=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||mn[14]);break;case"s":y="String",x=C5(t.v||"");break}var T=po(r.cellXfs,t,r);h["ss:StyleID"]="s"+(21+T),h["ss:Index"]=l.c+1;var S=t.v!=null?x:"",w=t.t=="z"?"":'<Data ss:Type="'+y+'">'+S+"</Data>";return(t.c||[]).length>0&&(w+=AB(t.c)),Me("Cell",w,h)}function RB(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=rC(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function CB(t,e,n,r){if(!t["!ref"])return"";var a=Zt(t["!ref"]),o=t["!merges"]||[],l=0,h=[];t["!cols"]&&t["!cols"].forEach(function(b,O){v_(b);var F=!!b.width,j=Dm(O,b),J={"ss:Index":O+1};F&&(J["ss:Width"]=z0(j.width)),b.hidden&&(J["ss:Hidden"]="1"),h.push(Me("Column",null,J))});for(var d=Array.isArray(t),f=a.s.r;f<=a.e.r;++f){for(var g=[RB(f,(t["!rows"]||[])[f])],y=a.s.c;y<=a.e.c;++y){var x=!1;for(l=0;l!=o.length;++l)if(!(o[l].s.c>y)&&!(o[l].s.r>f)&&!(o[l].e.c<y)&&!(o[l].e.r<f)){(o[l].s.c!=y||o[l].s.r!=f)&&(x=!0);break}if(!x){var T={r:f,c:y},S=Ft(T),w=d?(t[f]||[])[y]:t[S];g.push(bB(w,S,t,e,n,r,T))}}g.push("</Row>"),g.length>2&&h.push(g.join(""))}return h.join("")}function NB(t,e,n){var r=[],a=n.SheetNames[t],o=n.Sheets[a],l=o?wB(o,e,t,n):"";return l.length>0&&r.push("<Names>"+l+"</Names>"),l=o?CB(o,e,t,n):"",l.length>0&&r.push("<Table>"+l+"</Table>"),r.push(SB(o,e,t,n)),r.join("")}function IB(t,e){e||(e={}),t.SSF||(t.SSF=Hr(mn)),t.SSF&&(bm(),Am(t.SSF),e.revssf=Rm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],po(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(yB(t,e)),n.push(xB()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(Me("Worksheet",NB(r,e,t),{"ss:Name":Lt(t.SheetNames[r])}));return n[2]=EB(t,e),n[3]=TB(t),In+Me("Workbook",n.join(""),{xmlns:ai.ss,"xmlns:o":ai.o,"xmlns:x":ai.x,"xmlns:ss":ai.ss,"xmlns:dt":ai.dt,"xmlns:html":ai.html})}var i1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function DB(t,e){var n=[],r=[],a=[],o=0,l,h=m2(R2,"n"),d=m2(C2,"n");if(t.Props)for(l=sr(t.Props),o=0;o<l.length;++o)(Object.prototype.hasOwnProperty.call(h,l[o])?n:Object.prototype.hasOwnProperty.call(d,l[o])?r:a).push([l[o],t.Props[l[o]]]);if(t.Custprops)for(l=sr(t.Custprops),o=0;o<l.length;++o)Object.prototype.hasOwnProperty.call(t.Props||{},l[o])||(Object.prototype.hasOwnProperty.call(h,l[o])?n:Object.prototype.hasOwnProperty.call(d,l[o])?r:a).push([l[o],t.Custprops[l[o]]]);var f=[];for(o=0;o<a.length;++o)WR.indexOf(a[o][0])>-1||qR.indexOf(a[o][0])>-1||a[o][1]!=null&&f.push(a[o]);r.length&&zt.utils.cfb_add(e,"/SummaryInformation",k2(r,i1.SI,d,C2)),(n.length||f.length)&&zt.utils.cfb_add(e,"/DocumentSummaryInformation",k2(n,i1.DSI,h,R2,f.length?f:null,i1.UDI))}function OB(t,e){var n=e||{},r=zt.utils.cfb_new({root:"R"}),a="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":a="/Workbook",n.biff=8;break;case"biff5":a="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return zt.utils.cfb_add(r,a,SC(t,n)),n.biff==8&&(t.Props||t.Custprops)&&DB(t,r),n.biff==8&&t.vbaraw&&X9(r,zt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var kB={0:{f:LV},1:{f:qV},2:{f:u7},3:{f:JV},4:{f:YV},5:{f:s7},6:{f:p7},7:{f:n7},8:{f:T7},9:{f:E7},10:{f:y7},11:{f:x7},12:{f:$V},13:{f:f7},14:{f:e7},15:{f:XV},16:{f:l7},17:{f:v7},18:{f:i7},19:{f:d_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:oB},40:{},42:{},43:{f:p9},44:{f:d9},45:{f:_9},46:{f:x9},47:{f:y9},48:{},49:{f:$5},50:{},51:{f:L9},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Wj},62:{f:m7},63:{f:H9},64:{f:j7},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ta,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:P7},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:HV},148:{f:UV,p:16},151:{f:C7},152:{},153:{f:aB},154:{},155:{},156:{f:rB},157:{},158:{},159:{T:1,f:r9},160:{T:-1},161:{T:1,f:El},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:w7},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:P9},336:{T:-1},337:{f:U9,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:z1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Bj},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:N7},427:{f:I7},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:O7},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:BV},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:b7},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:z1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:W9},633:{T:1},634:{T:-1},635:{T:1,f:G9},636:{T:-1},637:{f:X5},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Q7},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:U7},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Fe(t,e,n,r){var a=e;if(!isNaN(a)){var o=r||(n||[]).length||0,l=t.next(4);l.write_shift(2,a),l.write_shift(2,o),o>0&&u_(n)&&t.push(n)}}function PB(t,e,n,r){var a=(n||[]).length||0;if(a<=8224)return Fe(t,e,n,a);var o=e;if(!isNaN(o)){for(var l=n.parts||[],h=0,d=0,f=0;f+(l[h]||8224)<=8224;)f+=l[h]||8224,h++;var g=t.next(4);for(g.write_shift(2,o),g.write_shift(2,f),t.push(n.slice(d,d+f)),d+=f;d<a;){for(g=t.next(4),g.write_shift(2,60),f=0;f+(l[h]||8224)<=8224;)f+=l[h]||8224,h++;g.write_shift(2,f),t.push(n.slice(d,d+f)),d+=f}}}function yf(t,e,n){return t||(t=ye(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function MB(t,e,n,r){var a=ye(9);return yf(a,t,e),KR(n,r||"b",a),a}function LB(t,e,n){var r=ye(8+2*n.length);return yf(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function FB(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?Br(Ar(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?Fe(t,2,Qj(n,r,a)):Fe(t,3,Xj(n,r,a));return;case"b":case"e":Fe(t,5,MB(n,r,e.v,e.t));return;case"s":case"str":Fe(t,4,LB(n,r,(e.v||"").slice(0,255)));return}Fe(t,1,yf(null,n,r))}function jB(t,e,n,r){var a=Array.isArray(e),o=Zt(e["!ref"]||"A1"),l,h="",d=[];if(o.e.c>255||o.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),l=Nn(o)}for(var f=o.s.r;f<=o.e.r;++f){h=ir(f);for(var g=o.s.c;g<=o.e.c;++g){f===o.s.r&&(d[g]=pr(g)),l=d[g]+h;var y=a?(e[f]||[])[g]:e[l];y&&FB(t,y,f,g)}}}function UB(t,e){for(var n=e||{},r=Vr(),a=0,o=0;o<t.SheetNames.length;++o)t.SheetNames[o]==n.sheet&&(a=o);if(a==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Fe(r,n.biff==4?1033:n.biff==3?521:9,g_(t,16,n)),jB(r,t.Sheets[t.SheetNames[a]],a,n),Fe(r,10),r.end()}function VB(t,e,n){Fe(t,49,kj({sz:12,name:"Arial"},n))}function BB(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&Fe(t,1054,Lj(a,e[a],n))})}function HB(t,e){var n=ye(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Fe(t,2151,n),n=ye(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),JR(Zt(e["!ref"]||"A1"),n),n.write_shift(4,4),Fe(t,2152,n)}function zB(t,e){for(var n=0;n<16;++n)Fe(t,224,M2({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Fe(t,224,M2(r,0,e))})}function qB(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];Fe(t,440,qj(r)),r[1].Tooltip&&Fe(t,2048,Gj(r))}delete e["!links"]}function GB(t,e){if(e){var n=0;e.forEach(function(r,a){++n<=256&&r&&Fe(t,125,Yj(Dm(a,r),a))})}}function $B(t,e,n,r,a){var o=16+po(a.cellXfs,e,a);if(e.v==null&&!e.bf){Fe(t,513,fl(n,r,o));return}if(e.bf)Fe(t,6,gV(e,n,r,a,o));else switch(e.t){case"d":case"n":var l=e.t=="d"?Br(Ar(e.v)):e.v;Fe(t,515,Vj(n,r,l,o));break;case"b":case"e":Fe(t,517,Uj(n,r,e.v,o,a,e.t));break;case"s":case"str":if(a.bookSST){var h=E_(a.Strings,e.v,a.revStrings);Fe(t,253,Pj(n,r,h,o))}else Fe(t,516,Mj(n,r,(e.v||"").slice(0,255),o,a));break;default:Fe(t,513,fl(n,r,o))}}function WB(t,e,n){var r=Vr(),a=n.SheetNames[t],o=n.Sheets[a]||{},l=(n||{}).Workbook||{},h=(l.Sheets||[])[t]||{},d=Array.isArray(o),f=e.biff==8,g,y="",x=[],T=Zt(o["!ref"]||"A1"),S=f?65536:16384;if(T.e.c>255||T.e.r>=S){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");T.e.c=Math.min(T.e.c,255),T.e.r=Math.min(T.e.c,S-1)}Fe(r,2057,g_(n,16,e)),Fe(r,13,Si(1)),Fe(r,12,Si(100)),Fe(r,15,Sr(!0)),Fe(r,17,Sr(!1)),Fe(r,16,hl(.001)),Fe(r,95,Sr(!0)),Fe(r,42,Sr(!1)),Fe(r,43,Sr(!1)),Fe(r,130,Si(1)),Fe(r,128,jj()),Fe(r,131,Sr(!1)),Fe(r,132,Sr(!1)),f&&GB(r,o["!cols"]),Fe(r,512,Fj(T,e)),f&&(o["!links"]=[]);for(var w=T.s.r;w<=T.e.r;++w){y=ir(w);for(var b=T.s.c;b<=T.e.c;++b){w===T.s.r&&(x[b]=pr(b)),g=x[b]+y;var O=d?(o[w]||[])[b]:o[g];O&&($B(r,O,w,b,e),f&&O.l&&o["!links"].push([g,O.l]))}}var F=h.CodeName||h.name||a;return f&&Fe(r,574,Oj((l.Views||[])[0])),f&&(o["!merges"]||[]).length&&Fe(r,229,zj(o["!merges"])),f&&qB(r,o),Fe(r,442,QR(F)),f&&HB(r,o),Fe(r,10),r.end()}function YB(t,e,n){var r=Vr(),a=(t||{}).Workbook||{},o=a.Sheets||[],l=a.WBProps||{},h=n.biff==8,d=n.biff==5;if(Fe(r,2057,g_(t,5,n)),n.bookType=="xla"&&Fe(r,135),Fe(r,225,h?Si(1200):null),Fe(r,193,yj(2)),d&&Fe(r,191),d&&Fe(r,192),Fe(r,226),Fe(r,92,Cj("SheetJS",n)),Fe(r,66,Si(h?1200:1252)),h&&Fe(r,353,Si(0)),h&&Fe(r,448),Fe(r,317,Kj(t.SheetNames.length)),h&&t.vbaraw&&Fe(r,211),h&&t.vbaraw){var f=l.CodeName||"ThisWorkbook";Fe(r,442,QR(f))}Fe(r,156,Si(17)),Fe(r,25,Sr(!1)),Fe(r,18,Sr(!1)),Fe(r,19,Si(0)),h&&Fe(r,431,Sr(!1)),h&&Fe(r,444,Si(0)),Fe(r,61,Dj()),Fe(r,64,Sr(!1)),Fe(r,141,Si(0)),Fe(r,34,Sr(Z7(t)=="true")),Fe(r,14,Sr(!0)),h&&Fe(r,439,Sr(!1)),Fe(r,218,Si(0)),VB(r,t,n),BB(r,t.SSF,n),zB(r,n),h&&Fe(r,352,Sr(!1));var g=r.end(),y=Vr();h&&Fe(y,140,$j()),h&&n.Strings&&PB(y,252,Ij(n.Strings)),Fe(y,10);var x=y.end(),T=Vr(),S=0,w=0;for(w=0;w<t.SheetNames.length;++w)S+=(h?12:11)+(h?2:1)*t.SheetNames[w].length;var b=g.length+S+x.length;for(w=0;w<t.SheetNames.length;++w){var O=o[w]||{};Fe(T,133,Nj({pos:b,hs:O.Hidden||0,dt:0,name:t.SheetNames[w]},n)),b+=e[w].length}var F=T.end();if(S!=F.length)throw new Error("BS8 "+S+" != "+F.length);var j=[];return g.length&&j.push(g),F.length&&j.push(F),x.length&&j.push(x),tr(j)}function KB(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=Hr(mn)),t&&t.SSF&&(bm(),Am(t.SSF),n.revssf=Rm(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,T_(n),n.cellXfs=[],po(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var a=0;a<t.SheetNames.length;++a)r[r.length]=WB(a,n,t);return r.unshift(YB(t,r,n)),tr(r)}function SC(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var a=li(r["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var o=e||{};switch(o.biff||2){case 8:case 5:return KB(t,e);case 4:case 3:case 2:return UB(t,e)}throw new Error("invalid type "+o.bookType+" for BIFF")}function XB(t,e,n,r){for(var a=t["!merges"]||[],o=[],l=e.s.c;l<=e.e.c;++l){for(var h=0,d=0,f=0;f<a.length;++f)if(!(a[f].s.r>n||a[f].s.c>l)&&!(a[f].e.r<n||a[f].e.c<l)){if(a[f].s.r<n||a[f].s.c<l){h=-1;break}h=a[f].e.r-a[f].s.r+1,d=a[f].e.c-a[f].s.c+1;break}if(!(h<0)){var g=Ft({r:n,c:l}),y=r.dense?(t[n]||[])[l]:t[g],x=y&&y.v!=null&&(y.h||R5(y.w||(cs(y),y.w)||""))||"",T={};h>1&&(T.rowspan=h),d>1&&(T.colspan=d),r.editable?x='<span contenteditable="true">'+x+"</span>":y&&(T["data-t"]=y&&y.t||"z",y.v!=null&&(T["data-v"]=y.v),y.z!=null&&(T["data-z"]=y.z),y.l&&(y.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+y.l.Target+'">'+x+"</a>")),T.id=(r.id||"sjs")+"-"+g,o.push(Me("td",x,T))}}var S="<tr>";return S+o.join("")+"</tr>"}var QB='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',JB="</body></html>";function ZB(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function AC(t,e){var n=e||{},r=n.header!=null?n.header:QB,a=n.footer!=null?n.footer:JB,o=[r],l=li(t["!ref"]);n.dense=Array.isArray(t),o.push(ZB(t,l,n));for(var h=l.s.r;h<=l.e.r;++h)o.push(XB(t,l,h,n));return o.push("</table>"+a),o.join("")}function bC(t,e,n){var r=n||{},a=0,o=0;if(r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?qn(r.origin):r.origin;a=l.r,o=l.c}var h=e.getElementsByTagName("tr"),d=Math.min(r.sheetRows||1e7,h.length),f={s:{r:0,c:0},e:{r:a,c:o}};if(t["!ref"]){var g=li(t["!ref"]);f.s.r=Math.min(f.s.r,g.s.r),f.s.c=Math.min(f.s.c,g.s.c),f.e.r=Math.max(f.e.r,g.e.r),f.e.c=Math.max(f.e.c,g.e.c),a==-1&&(f.e.r=a=g.e.r+1)}var y=[],x=0,T=t["!rows"]||(t["!rows"]=[]),S=0,w=0,b=0,O=0,F=0,j=0;for(t["!cols"]||(t["!cols"]=[]);S<h.length&&w<d;++S){var J=h[S];if(H2(J)){if(r.display)continue;T[w]={hidden:!0}}var X=J.children;for(b=O=0;b<X.length;++b){var W=X[b];if(!(r.display&&H2(W))){var N=W.hasAttribute("data-v")?W.getAttribute("data-v"):W.hasAttribute("v")?W.getAttribute("v"):D5(W.innerHTML),I=W.getAttribute("data-z")||W.getAttribute("z");for(x=0;x<y.length;++x){var C=y[x];C.s.c==O+o&&C.s.r<w+a&&w+a<=C.e.r&&(O=C.e.c+1-o,x=-1)}j=+W.getAttribute("colspan")||1,((F=+W.getAttribute("rowspan")||1)>1||j>1)&&y.push({s:{r:w+a,c:O+o},e:{r:w+a+(F||1)-1,c:O+o+(j||1)-1}});var P={t:"s",v:N},L=W.getAttribute("data-t")||W.getAttribute("t")||"";N!=null&&(N.length==0?P.t=L||"z":r.raw||N.trim().length==0||L=="s"||(N==="TRUE"?P={t:"b",v:!0}:N==="FALSE"?P={t:"b",v:!1}:isNaN(Za(N))?isNaN(zh(N).getDate())||(P={t:"d",v:Ar(N)},r.cellDates||(P={t:"n",v:Br(P.v)}),P.z=r.dateNF||mn[14]):P={t:"n",v:Za(N)})),P.z===void 0&&I!=null&&(P.z=I);var z="",M=W.getElementsByTagName("A");if(M&&M.length)for(var Ue=0;Ue<M.length&&!(M[Ue].hasAttribute("href")&&(z=M[Ue].getAttribute("href"),z.charAt(0)!="#"));++Ue);z&&z.charAt(0)!="#"&&(P.l={Target:z}),r.dense?(t[w+a]||(t[w+a]=[]),t[w+a][O+o]=P):t[Ft({c:O+o,r:w+a})]=P,f.e.c<O+o&&(f.e.c=O+o),O+=j}}++w}return y.length&&(t["!merges"]=(t["!merges"]||[]).concat(y)),f.e.r=Math.max(f.e.r,w-1+a),t["!ref"]=Nn(f),w>=d&&(t["!fullref"]=Nn((f.e.r=h.length-S+w-1+a,f))),t}function RC(t,e){var n=e||{},r=n.dense?[]:{};return bC(r,t,e)}function eH(t,e){return vl(RC(t,e),e)}function H2(t){var e="",n=tH(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function tH(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var nH=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Gh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return In+e}})(),z2=(function(){var t=function(o){return Lt(o).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(o,l,h){var d=[];d.push('      <table:table table:name="'+Lt(l.SheetNames[h])+`" table:style-name="ta1">
`);var f=0,g=0,y=li(o["!ref"]||"A1"),x=o["!merges"]||[],T=0,S=Array.isArray(o);if(o["!cols"])for(g=0;g<=y.e.c;++g)d.push("        <table:table-column"+(o["!cols"][g]?' table:style-name="co'+o["!cols"][g].ods+'"':"")+`></table:table-column>
`);var w="",b=o["!rows"]||[];for(f=0;f<y.s.r;++f)w=b[f]?' table:style-name="ro'+b[f].ods+'"':"",d.push("        <table:table-row"+w+`></table:table-row>
`);for(;f<=y.e.r;++f){for(w=b[f]?' table:style-name="ro'+b[f].ods+'"':"",d.push("        <table:table-row"+w+`>
`),g=0;g<y.s.c;++g)d.push(e);for(;g<=y.e.c;++g){var O=!1,F={},j="";for(T=0;T!=x.length;++T)if(!(x[T].s.c>g)&&!(x[T].s.r>f)&&!(x[T].e.c<g)&&!(x[T].e.r<f)){(x[T].s.c!=g||x[T].s.r!=f)&&(O=!0),F["table:number-columns-spanned"]=x[T].e.c-x[T].s.c+1,F["table:number-rows-spanned"]=x[T].e.r-x[T].s.r+1;break}if(O){d.push(n);continue}var J=Ft({r:f,c:g}),X=S?(o[f]||[])[g]:o[J];if(X&&X.f&&(F["table:formula"]=Lt(TV(X.f)),X.F&&X.F.slice(0,J.length)==J)){var W=li(X.F);F["table:number-matrix-columns-spanned"]=W.e.c-W.s.c+1,F["table:number-matrix-rows-spanned"]=W.e.r-W.s.r+1}if(!X){d.push(e);continue}switch(X.t){case"b":j=X.v?"TRUE":"FALSE",F["office:value-type"]="boolean",F["office:boolean-value"]=X.v?"true":"false";break;case"n":j=X.w||String(X.v||0),F["office:value-type"]="float",F["office:value"]=X.v||0;break;case"s":case"str":j=X.v==null?"":X.v,F["office:value-type"]="string";break;case"d":j=X.w||Ar(X.v).toISOString(),F["office:value-type"]="date",F["office:date-value"]=Ar(X.v).toISOString(),F["table:style-name"]="ce1";break;default:d.push(e);continue}var N=t(j);if(X.l&&X.l.Target){var I=X.l.Target;I=I.charAt(0)=="#"?"#"+wV(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),N=Me("text:a",N,{"xlink:href":I.replace(/&/g,"&amp;")})}d.push("          "+Me("table:table-cell",Me("text:p",N,{}),F)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},a=function(o,l){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var h=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var g=0;g<f["!cols"].length;++g)if(f["!cols"][g]){var y=f["!cols"][g];if(y.width==null&&y.wpx==null&&y.wch==null)continue;v_(y),y.ods=h;var x=f["!cols"][g].wpx+"px";o.push('  <style:style style:name="co'+h+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+x+`"/>
`),o.push(`  </style:style>
`),++h}}});var d=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var g=0;g<f["!rows"].length;++g)if(f["!rows"][g]){f["!rows"][g].ods=d;var y=f["!rows"][g].hpx+"px";o.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+y+`"/>
`),o.push(`  </style:style>
`),++d}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(l,h){var d=[In],f=Gh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),g=Gh({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});h.bookType=="fods"?(d.push("<office:document"+f+g+`>
`),d.push(HR().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+f+`>
`),a(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var y=0;y!=l.SheetNames.length;++y)d.push(r(l.Sheets[l.SheetNames[y]],l,y));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),h.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}})();function CC(t,e){if(e.bookType=="fods")return z2(t,e);var n=s_(),r="",a=[],o=[];return r="mimetype",lt(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",lt(n,r,z2(t,e)),a.push([r,"text/xml"]),o.push([r,"ContentFile"]),r="styles.xml",lt(n,r,nH(t,e)),a.push([r,"text/xml"]),o.push([r,"StylesFile"]),r="meta.xml",lt(n,r,In+HR()),a.push([r,"text/xml"]),o.push([r,"MetadataFile"]),r="manifest.rdf",lt(n,r,mj(o)),a.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",lt(n,r,fj(a)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function $0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function rH(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):zi(qh(t))}function iH(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function co(t){var e=t.reduce(function(a,o){return a+o.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(a){n.set(a,r),r+=a.length}),n}function aH(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,a=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var o=0;a>=1;++o,a/=256)t[e+o]=a&255;t[e+15]|=n>=0?0:128}function $h(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Pt(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function bc(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Pn(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],a=$h(t,n),o=a&7;a=Math.floor(a/8);var l=0,h;if(a==0)break;switch(o){case 0:{for(var d=n[0];t[n[0]++]>=128;);h=t.slice(d,n[0])}break;case 5:l=4,h=t.slice(n[0],n[0]+l),n[0]+=l;break;case 1:l=8,h=t.slice(n[0],n[0]+l),n[0]+=l;break;case 2:l=$h(t,n),h=t.slice(n[0],n[0]+l),n[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(a," at offset ").concat(r))}var f={data:h,type:o};e[a]==null?e[a]=[f]:e[a].push(f)}return e}function Qn(t){var e=[];return t.forEach(function(n,r){n.forEach(function(a){a.data&&(e.push(Pt(r*8+a.type)),a.type==2&&e.push(Pt(a.data.length)),e.push(a.data))})}),co(e)}function Bi(t){for(var e,n=[],r=[0];r[0]<t.length;){var a=$h(t,r),o=Pn(t.slice(r[0],r[0]+a));r[0]+=a;var l={id:bc(o[1][0].data),messages:[]};o[2].forEach(function(h){var d=Pn(h.data),f=bc(d[3][0].data);l.messages.push({meta:d,data:t.slice(r[0],r[0]+f)}),r[0]+=f}),(e=o[3])!=null&&e[0]&&(l.merge=bc(o[3][0].data)>>>0>0),n.push(l)}return n}function sc(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:Pt(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Pt(+!!n.merge),type:0}]);var a=[];n.messages.forEach(function(l){a.push(l.data),l.meta[3]=[{type:0,data:Pt(l.data.length)}],r[2].push({data:Qn(l.meta),type:2})});var o=Qn(r);e.push(Pt(o.length)),e.push(o),a.forEach(function(l){return e.push(l)})}),co(e)}function sH(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=$h(e,n),a=[];n[0]<e.length;){var o=e[n[0]]&3;if(o==0){var l=e[n[0]++]>>2;if(l<60)++l;else{var h=l-59;l=e[n[0]],h>1&&(l|=e[n[0]+1]<<8),h>2&&(l|=e[n[0]+2]<<16),h>3&&(l|=e[n[0]+3]<<24),l>>>=0,l++,n[0]+=h}a.push(e.slice(n[0],n[0]+l)),n[0]+=l;continue}else{var d=0,f=0;if(o==1?(f=(e[n[0]]>>2&7)+4,d=(e[n[0]++]&224)<<3,d|=e[n[0]++]):(f=(e[n[0]++]>>2)+1,o==2?(d=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(d=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),a=[co(a)],d==0)throw new Error("Invalid offset 0");if(d>a[0].length)throw new Error("Invalid offset beyond length");if(f>=d)for(a.push(a[0].slice(-d)),f-=d;f>=a[a.length-1].length;)a.push(a[a.length-1]),f-=a[a.length-1].length;a.push(a[0].slice(-d,-d+f))}}var g=co(a);if(g.length!=r)throw new Error("Unexpected length: ".concat(g.length," != ").concat(r));return g}function Hi(t){for(var e=[],n=0;n<t.length;){var r=t[n++],a=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(sH(r,t.slice(n,n+a))),n+=a}if(n!==t.length)throw new Error("data is not a valid framed stream!");return co(e)}function oc(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),a=new Uint8Array(4);e.push(a);var o=Pt(r),l=o.length;e.push(o),r<=60?(l++,e.push(new Uint8Array([r-1<<2]))):r<=256?(l+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(l+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(l+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(l+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),l+=r,a[0]=0,a[1]=l&255,a[2]=l>>8&255,a[3]=l>>16&255,n+=r}return co(e)}function a1(t,e){var n=new Uint8Array(32),r=$0(n),a=12,o=0;switch(n[0]=5,t.t){case"n":n[1]=2,aH(n,a,t.v),o|=1,a+=16;break;case"b":n[1]=6,r.setFloat64(a,t.v?1:0,!0),o|=2,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(a,e.indexOf(t.v),!0),o|=8,a+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,o,!0),n.slice(0,a)}function s1(t,e){var n=new Uint8Array(32),r=$0(n),a=12,o=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(a,t.v,!0),o|=32,a+=8;break;case"b":n[2]=6,r.setFloat64(a,t.v?1:0,!0),o|=32,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(a,e.indexOf(t.v),!0),o|=16,a+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,o,!0),n.slice(0,a)}function zs(t){var e=Pn(t);return $h(e[1][0].data)}function oH(t,e,n){var r,a,o,l;if(!((r=t[6])!=null&&r[0])||!((a=t[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var h=((l=(o=t[8])==null?void 0:o[0])==null?void 0:l.data)&&bc(t[8][0].data)>0||!1;if(h)throw"Math only works with normal offsets";for(var d=0,f=$0(t[7][0].data),g=0,y=[],x=$0(t[4][0].data),T=0,S=[],w=0;w<e.length;++w){if(e[w]==null){f.setUint16(w*2,65535,!0),x.setUint16(w*2,65535);continue}f.setUint16(w*2,g,!0),x.setUint16(w*2,T,!0);var b,O;switch(typeof e[w]){case"string":b=a1({t:"s",v:e[w]},n),O=s1({t:"s",v:e[w]},n);break;case"number":b=a1({t:"n",v:e[w]},n),O=s1({t:"n",v:e[w]},n);break;case"boolean":b=a1({t:"b",v:e[w]},n),O=s1({t:"b",v:e[w]},n);break;default:throw new Error("Unsupported value "+e[w])}y.push(b),g+=b.length,S.push(O),T+=O.length,++d}for(t[2][0].data=Pt(d);w<t[7][0].data.length/2;++w)f.setUint16(w*2,65535,!0),x.setUint16(w*2,65535,!0);return t[6][0].data=co(y),t[3][0].data=co(S),d}function lH(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=li(n["!ref"]);r.s.r=r.s.c=0;var a=!1;r.e.c>9&&(a=!0,r.e.c=9),r.e.r>49&&(a=!0,r.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Nn(r)));var o=W0(n,{range:r,header:1}),l=["~Sh33tJ5~"];o.forEach(function(ee){return ee.forEach(function(Y){typeof Y=="string"&&l.push(Y)})});var h={},d=[],f=zt.read(e.numbers,{type:"base64"});f.FileIndex.map(function(ee,Y){return[ee,f.FullPaths[Y]]}).forEach(function(ee){var Y=ee[0],Q=ee[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var re=Y.content,Pe=Hi(re),Ie=Bi(Pe);Ie.forEach(function(Le){d.push(Le.id),h[Le.id]={deps:[],location:Q,type:bc(Le.messages[0].meta[1][0].data)}})}}),d.sort(function(ee,Y){return ee-Y});var g=d.filter(function(ee){return ee>1}).map(function(ee){return[ee,Pt(ee)]});f.FileIndex.map(function(ee,Y){return[ee,f.FullPaths[Y]]}).forEach(function(ee){var Y=ee[0];if(ee[1],!!Y.name.match(/\.iwa/)){var Q=Bi(Hi(Y.content));Q.forEach(function(re){re.messages.forEach(function(Pe){g.forEach(function(Ie){re.messages.some(function(Le){return bc(Le.meta[1][0].data)!=11006&&iH(Le.data,Ie[1])})&&h[Ie[0]].deps.push(re.id)})})})}});for(var y=zt.find(f,h[1].location),x=Bi(Hi(y.content)),T,S=0;S<x.length;++S){var w=x[S];w.id==1&&(T=w)}var b=zs(Pn(T.messages[0].data)[1][0].data);for(y=zt.find(f,h[b].location),x=Bi(Hi(y.content)),S=0;S<x.length;++S)w=x[S],w.id==b&&(T=w);for(b=zs(Pn(T.messages[0].data)[2][0].data),y=zt.find(f,h[b].location),x=Bi(Hi(y.content)),S=0;S<x.length;++S)w=x[S],w.id==b&&(T=w);for(b=zs(Pn(T.messages[0].data)[2][0].data),y=zt.find(f,h[b].location),x=Bi(Hi(y.content)),S=0;S<x.length;++S)w=x[S],w.id==b&&(T=w);var O=Pn(T.messages[0].data);{O[6][0].data=Pt(r.e.r+1),O[7][0].data=Pt(r.e.c+1);var F=zs(O[46][0].data),j=zt.find(f,h[F].location),J=Bi(Hi(j.content));{for(var X=0;X<J.length&&J[X].id!=F;++X);if(J[X].id!=F)throw"Bad ColumnRowUIDMapArchive";var W=Pn(J[X].messages[0].data);W[1]=[],W[2]=[],W[3]=[];for(var N=0;N<=r.e.c;++N){var I=[];I[1]=I[2]=[{type:0,data:Pt(N+420690)}],W[1].push({type:2,data:Qn(I)}),W[2].push({type:0,data:Pt(N)}),W[3].push({type:0,data:Pt(N)})}W[4]=[],W[5]=[],W[6]=[];for(var C=0;C<=r.e.r;++C)I=[],I[1]=I[2]=[{type:0,data:Pt(C+726270)}],W[4].push({type:2,data:Qn(I)}),W[5].push({type:0,data:Pt(C)}),W[6].push({type:0,data:Pt(C)});J[X].messages[0].data=Qn(W)}j.content=oc(sc(J)),j.size=j.content.length,delete O[46];var P=Pn(O[4][0].data);{P[7][0].data=Pt(r.e.r+1);var L=Pn(P[1][0].data),z=zs(L[2][0].data);j=zt.find(f,h[z].location),J=Bi(Hi(j.content));{if(J[0].id!=z)throw"Bad HeaderStorageBucket";var M=Pn(J[0].messages[0].data);for(C=0;C<o.length;++C){var Ue=Pn(M[2][0].data);Ue[1][0].data=Pt(C),Ue[4][0].data=Pt(o[C].length),M[2][C]={type:M[2][0].type,data:Qn(Ue)}}J[0].messages[0].data=Qn(M)}j.content=oc(sc(J)),j.size=j.content.length;var ke=zs(P[2][0].data);j=zt.find(f,h[ke].location),J=Bi(Hi(j.content));{if(J[0].id!=ke)throw"Bad HeaderStorageBucket";for(M=Pn(J[0].messages[0].data),N=0;N<=r.e.c;++N)Ue=Pn(M[2][0].data),Ue[1][0].data=Pt(N),Ue[4][0].data=Pt(r.e.r+1),M[2][N]={type:M[2][0].type,data:Qn(Ue)};J[0].messages[0].data=Qn(M)}j.content=oc(sc(J)),j.size=j.content.length;var ce=zs(P[4][0].data);(function(){for(var ee=zt.find(f,h[ce].location),Y=Bi(Hi(ee.content)),Q,re=0;re<Y.length;++re){var Pe=Y[re];Pe.id==ce&&(Q=Pe)}var Ie=Pn(Q.messages[0].data);{Ie[3]=[];var Le=[];l.forEach(function(ot,nn){Le[1]=[{type:0,data:Pt(nn)}],Le[2]=[{type:0,data:Pt(1)}],Le[3]=[{type:2,data:rH(ot)}],Ie[3].push({type:2,data:Qn(Le)})})}Q.messages[0].data=Qn(Ie);var De=sc(Y),_t=oc(De);ee.content=_t,ee.size=ee.content.length})();var Re=Pn(P[3][0].data);{var He=Re[1][0];delete Re[2];var Ye=Pn(He.data);{var te=zs(Ye[2][0].data);(function(){for(var ee=zt.find(f,h[te].location),Y=Bi(Hi(ee.content)),Q,re=0;re<Y.length;++re){var Pe=Y[re];Pe.id==te&&(Q=Pe)}var Ie=Pn(Q.messages[0].data);{delete Ie[6],delete Re[7];var Le=new Uint8Array(Ie[5][0].data);Ie[5]=[];for(var De=0,_t=0;_t<=r.e.r;++_t){var ot=Pn(Le);De+=oH(ot,o[_t],l),ot[1][0].data=Pt(_t),Ie[5].push({data:Qn(ot),type:2})}Ie[1]=[{type:0,data:Pt(r.e.c+1)}],Ie[2]=[{type:0,data:Pt(r.e.r+1)}],Ie[3]=[{type:0,data:Pt(De)}],Ie[4]=[{type:0,data:Pt(r.e.r+1)}]}Q.messages[0].data=Qn(Ie);var nn=sc(Y),ft=oc(nn);ee.content=ft,ee.size=ee.content.length})()}He.data=Qn(Ye)}P[3][0].data=Qn(Re)}O[4][0].data=Qn(P)}T.messages[0].data=Qn(O);var fe=sc(x),B=oc(fe);return y.content=B,y.size=y.content.length,f}function cH(t){return function(n){for(var r=0;r!=t.length;++r){var a=t[r];n[a[0]]===void 0&&(n[a[0]]=a[1]),a[2]==="n"&&(n[a[0]]=Number(n[a[0]]))}}}function T_(t){cH([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function uH(t,e){return e.bookType=="ods"?CC(t,e):e.bookType=="numbers"?lH(t,e):e.bookType=="xlsb"?hH(t,e):fH(t,e)}function hH(t,e){pc=1024,t&&!t.SSF&&(t.SSF=Hr(mn)),t&&t.SSF&&(bm(),Am(t.SSF),e.revssf=Rm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Rh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=uC.indexOf(e.bookType)>-1,a=UR();T_(e=e||{});var o=s_(),l="",h=0;if(e.cellXfs=[],po(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",lt(o,l,zR(t.Props,e)),a.coreprops.push(l),Mt(e.rels,2,l,wt.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(t.SheetNames[f]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,lt(o,l,GR(t.Props)),a.extprops.push(l),Mt(e.rels,3,l,wt.EXT_PROPS),t.Custprops!==t.Props&&sr(t.Custprops||{}).length>0&&(l="docProps/custom.xml",lt(o,l,$R(t.Custprops)),a.custprops.push(l),Mt(e.rels,4,l,wt.CUST_PROPS)),h=1;h<=t.SheetNames.length;++h){var g={"!id":{}},y=t.Sheets[t.SheetNames[h-1]],x=(y||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+h+"."+n,lt(o,l,mB(h-1,l,e,t,g)),a.sheets.push(l),Mt(e.wbrels,-1,"worksheets/sheet"+h+"."+n,wt.WS[0])}if(y){var T=y["!comments"],S=!1,w="";T&&T.length>0&&(w="xl/comments"+h+"."+n,lt(o,w,vB(T,w)),a.comments.push(w),Mt(g,-1,"../comments"+h+"."+n,wt.CMNT),S=!0),y["!legacy"]&&S&&lt(o,"xl/drawings/vmlDrawing"+h+".vml",lC(h,y["!comments"])),delete y["!comments"],delete y["!legacy"]}g["!id"].rId1&&lt(o,BR(l),Sc(g))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+n,lt(o,l,gB(e.Strings,l,e)),a.strs.push(l),Mt(e.wbrels,-1,"sharedStrings."+n,wt.SST)),l="xl/workbook."+n,lt(o,l,dB(t,l)),a.workbooks.push(l),Mt(e.rels,1,l,wt.WB),l="xl/theme/theme1.xml",lt(o,l,sC(t.Themes,e)),a.themes.push(l),Mt(e.wbrels,-1,"theme/theme1.xml",wt.THEME),l="xl/styles."+n,lt(o,l,pB(t,l,e)),a.styles.push(l),Mt(e.wbrels,-1,"styles."+n,wt.STY),t.vbaraw&&r&&(l="xl/vbaProject.bin",lt(o,l,t.vbaraw),a.vba.push(l),Mt(e.wbrels,-1,"vbaProject.bin",wt.VBA)),l="xl/metadata."+n,lt(o,l,_B(l)),a.metadata.push(l),Mt(e.wbrels,-1,"metadata."+n,wt.XLMETA),lt(o,"[Content_Types].xml",VR(a,e)),lt(o,"_rels/.rels",Sc(e.rels)),lt(o,"xl/_rels/workbook."+n+".rels",Sc(e.wbrels)),delete e.revssf,delete e.ssf,o}function fH(t,e){pc=1024,t&&!t.SSF&&(t.SSF=Hr(mn)),t&&t.SSF&&(bm(),Am(t.SSF),e.revssf=Rm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Rh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=uC.indexOf(e.bookType)>-1,a=UR();T_(e=e||{});var o=s_(),l="",h=0;if(e.cellXfs=[],po(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",lt(o,l,zR(t.Props,e)),a.coreprops.push(l),Mt(e.rels,2,l,wt.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(t.SheetNames[f]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,lt(o,l,GR(t.Props)),a.extprops.push(l),Mt(e.rels,3,l,wt.EXT_PROPS),t.Custprops!==t.Props&&sr(t.Custprops||{}).length>0&&(l="docProps/custom.xml",lt(o,l,$R(t.Custprops)),a.custprops.push(l),Mt(e.rels,4,l,wt.CUST_PROPS));var g=["SheetJ5"];for(e.tcid=0,h=1;h<=t.SheetNames.length;++h){var y={"!id":{}},x=t.Sheets[t.SheetNames[h-1]],T=(x||{})["!type"]||"sheet";switch(T){case"chart":default:l="xl/worksheets/sheet"+h+"."+n,lt(o,l,yC(h-1,e,t,y)),a.sheets.push(l),Mt(e.wbrels,-1,"worksheets/sheet"+h+"."+n,wt.WS[0])}if(x){var S=x["!comments"],w=!1,b="";if(S&&S.length>0){var O=!1;S.forEach(function(F){F[1].forEach(function(j){j.T==!0&&(O=!0)})}),O&&(b="xl/threadedComments/threadedComment"+h+"."+n,lt(o,b,z9(S,g,e)),a.threadedcomments.push(b),Mt(y,-1,"../threadedComments/threadedComment"+h+"."+n,wt.TCMNT)),b="xl/comments"+h+"."+n,lt(o,b,cC(S)),a.comments.push(b),Mt(y,-1,"../comments"+h+"."+n,wt.CMNT),w=!0}x["!legacy"]&&w&&lt(o,"xl/drawings/vmlDrawing"+h+".vml",lC(h,x["!comments"])),delete x["!comments"],delete x["!legacy"]}y["!id"].rId1&&lt(o,BR(l),Sc(y))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+n,lt(o,l,eC(e.Strings,e)),a.strs.push(l),Mt(e.wbrels,-1,"sharedStrings."+n,wt.SST)),l="xl/workbook."+n,lt(o,l,TC(t)),a.workbooks.push(l),Mt(e.rels,1,l,wt.WB),l="xl/theme/theme1.xml",lt(o,l,sC(t.Themes,e)),a.themes.push(l),Mt(e.wbrels,-1,"theme/theme1.xml",wt.THEME),l="xl/styles."+n,lt(o,l,iC(t,e)),a.styles.push(l),Mt(e.wbrels,-1,"styles."+n,wt.STY),t.vbaraw&&r&&(l="xl/vbaProject.bin",lt(o,l,t.vbaraw),a.vba.push(l),Mt(e.wbrels,-1,"vbaProject.bin",wt.VBA)),l="xl/metadata."+n,lt(o,l,oC()),a.metadata.push(l),Mt(e.wbrels,-1,"metadata."+n,wt.XLMETA),g.length>1&&(l="xl/persons/person.xml",lt(o,l,q9(g)),a.people.push(l),Mt(e.wbrels,-1,"persons/person.xml",wt.PEOPLE)),lt(o,"[Content_Types].xml",VR(a,e)),lt(o,"_rels/.rels",Sc(e.rels)),lt(o,"xl/_rels/workbook."+n+".rels",Sc(e.wbrels)),delete e.revssf,delete e.ssf,o}function dH(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=ls(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function NC(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return pf(e.file,zt.write(t,{type:Rt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return zt.write(t,e)}function mH(t,e){var n=Hr(e||{}),r=uH(t,n);return pH(r,n)}function pH(t,e){var n={},r=Rt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var a=t.FullPaths?zt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(Sm(a))}return e.password&&typeof encrypt_agile<"u"?NC(encrypt_agile(a,e.password),e):e.type==="file"?pf(e.file,a):e.type=="string"?wh(a):a}function gH(t,e){var n=e||{},r=OB(t,n);return NC(r,n)}function ha(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return Hh(qh(r));case"binary":return qh(r);case"string":return t;case"file":return pf(e.file,r,"utf8");case"buffer":return Rt?hs(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):ha(r,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function vH(t,e){switch(e.type){case"base64":return Hh(t);case"binary":return t;case"string":return t;case"file":return pf(e.file,t,"binary");case"buffer":return Rt?hs(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Xd(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?Hh(n):e.type=="string"?wh(n):n;case"file":return pf(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function IC(t,e){G8(),nB(t);var n=Hr(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=IC(t,n);return n.type="array",Sm(r)}var a=0;if(n.sheet&&(typeof n.sheet=="number"?a=n.sheet:a=t.SheetNames.indexOf(n.sheet),!t.SheetNames[a]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return ha(IB(t,n),n);case"slk":case"sylk":return ha(Zj.from_sheet(t.Sheets[t.SheetNames[a]],n),n);case"htm":case"html":return ha(AC(t.Sheets[t.SheetNames[a]],n),n);case"txt":return vH(DC(t.Sheets[t.SheetNames[a]],n),n);case"csv":return ha(w_(t.Sheets[t.SheetNames[a]],n),n,"\uFEFF");case"dif":return ha(e9.from_sheet(t.Sheets[t.SheetNames[a]],n),n);case"dbf":return Xd(Jj.from_sheet(t.Sheets[t.SheetNames[a]],n),n);case"prn":return ha(t9.from_sheet(t.Sheets[t.SheetNames[a]],n),n);case"rtf":return ha(l9.from_sheet(t.Sheets[t.SheetNames[a]],n),n);case"eth":return ha(ZR.from_sheet(t.Sheets[t.SheetNames[a]],n),n);case"fods":return ha(CC(t,n),n);case"wk1":return Xd(L2.sheet_to_wk1(t.Sheets[t.SheetNames[a]],n),n);case"wk3":return Xd(L2.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Xd(SC(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),gH(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return mH(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function _H(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function q2(t,e,n){var r={};return r.type="file",r.file=e,_H(r),IC(t,r)}function yH(t,e,n,r,a,o,l,h){var d=ir(n),f=h.defval,g=h.raw||!Object.prototype.hasOwnProperty.call(h,"raw"),y=!0,x=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:n,enumerable:!1})}catch{x.__rowNum__=n}else x.__rowNum__=n;if(!l||t[n])for(var T=e.s.c;T<=e.e.c;++T){var S=l?t[n][T]:t[r[T]+d];if(S===void 0||S.t===void 0){if(f===void 0)continue;o[T]!=null&&(x[o[T]]=f);continue}var w=S.v;switch(S.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(o[T]!=null){if(w==null)if(S.t=="e"&&w===null)x[o[T]]=null;else if(f!==void 0)x[o[T]]=f;else if(g&&w===null)x[o[T]]=null;else continue;else x[o[T]]=g&&(S.t!=="n"||S.t==="n"&&h.rawNumbers!==!1)?w:cs(S,w,h);w!=null&&(y=!1)}}return{row:x,isempty:y}}function W0(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,a=1,o=[],l=0,h="",d={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},g=f.range!=null?f.range:t["!ref"];switch(f.header===1?r=1:f.header==="A"?r=2:Array.isArray(f.header)?r=3:f.header==null&&(r=0),typeof g){case"string":d=Zt(g);break;case"number":d=Zt(t["!ref"]),d.s.r=g;break;default:d=g}r>0&&(a=0);var y=ir(d.s.r),x=[],T=[],S=0,w=0,b=Array.isArray(t),O=d.s.r,F=0,j={};b&&!t[O]&&(t[O]=[]);var J=f.skipHidden&&t["!cols"]||[],X=f.skipHidden&&t["!rows"]||[];for(F=d.s.c;F<=d.e.c;++F)if(!(J[F]||{}).hidden)switch(x[F]=pr(F),n=b?t[O][F]:t[x[F]+y],r){case 1:o[F]=F-d.s.c;break;case 2:o[F]=x[F];break;case 3:o[F]=f.header[F-d.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),h=l=cs(n,null,f),w=j[l]||0,!w)j[l]=1;else{do h=l+"_"+w++;while(j[h]);j[l]=w,j[h]=1}o[F]=h}for(O=d.s.r+a;O<=d.e.r;++O)if(!(X[O]||{}).hidden){var W=yH(t,d,O,x,r,o,b,f);(W.isempty===!1||(r===1?f.blankrows!==!1:f.blankrows))&&(T[S++]=W.row)}return T.length=S,T}var G2=/"/g;function xH(t,e,n,r,a,o,l,h){for(var d=!0,f=[],g="",y=ir(n),x=e.s.c;x<=e.e.c;++x)if(r[x]){var T=h.dense?(t[n]||[])[x]:t[r[x]+y];if(T==null)g="";else if(T.v!=null){d=!1,g=""+(h.rawNumbers&&T.t=="n"?T.v:cs(T,null,h));for(var S=0,w=0;S!==g.length;++S)if((w=g.charCodeAt(S))===a||w===o||w===34||h.forceQuotes){g='"'+g.replace(G2,'""')+'"';break}g=="ID"&&(g='"ID"')}else T.f!=null&&!T.F?(d=!1,g="="+T.f,g.indexOf(",")>=0&&(g='"'+g.replace(G2,'""')+'"')):g="";f.push(g)}return h.blankrows===!1&&d?null:f.join(l)}function w_(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var a=Zt(t["!ref"]),o=r.FS!==void 0?r.FS:",",l=o.charCodeAt(0),h=r.RS!==void 0?r.RS:`
`,d=h.charCodeAt(0),f=new RegExp((o=="|"?"\\|":o)+"+$"),g="",y=[];r.dense=Array.isArray(t);for(var x=r.skipHidden&&t["!cols"]||[],T=r.skipHidden&&t["!rows"]||[],S=a.s.c;S<=a.e.c;++S)(x[S]||{}).hidden||(y[S]=pr(S));for(var w=0,b=a.s.r;b<=a.e.r;++b)(T[b]||{}).hidden||(g=xH(t,a,b,y,l,d,o,r),g!=null&&(r.strip&&(g=g.replace(f,"")),(g||r.blankrows!==!1)&&n.push((w++?h:"")+g)));return delete r.dense,n.join("")}function DC(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=w_(t,e);return n}function EH(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var a=Zt(t["!ref"]),o="",l=[],h,d=[],f=Array.isArray(t);for(h=a.s.c;h<=a.e.c;++h)l[h]=pr(h);for(var g=a.s.r;g<=a.e.r;++g)for(o=ir(g),h=a.s.c;h<=a.e.c;++h)if(e=l[h]+o,n=f?(t[g]||[])[h]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}d[d.length]=e+"="+r}return d}function OC(t,e,n){var r=n||{},a=+!r.skipHeader,o=t||{},l=0,h=0;if(o&&r.origin!=null)if(typeof r.origin=="number")l=r.origin;else{var d=typeof r.origin=="string"?qn(r.origin):r.origin;l=d.r,h=d.c}var f,g={s:{c:0,r:0},e:{c:h,r:l+e.length-1+a}};if(o["!ref"]){var y=Zt(o["!ref"]);g.e.c=Math.max(g.e.c,y.e.c),g.e.r=Math.max(g.e.r,y.e.r),l==-1&&(l=y.e.r+1,g.e.r=l+e.length-1+a)}else l==-1&&(l=0,g.e.r=e.length-1+a);var x=r.header||[],T=0;e.forEach(function(w,b){sr(w).forEach(function(O){(T=x.indexOf(O))==-1&&(x[T=x.length]=O);var F=w[O],j="z",J="",X=Ft({c:h+T,r:l+b+a});f=Wh(o,X),F&&typeof F=="object"&&!(F instanceof Date)?o[X]=F:(typeof F=="number"?j="n":typeof F=="boolean"?j="b":typeof F=="string"?j="s":F instanceof Date?(j="d",r.cellDates||(j="n",F=Br(F)),J=r.dateNF||mn[14]):F===null&&r.nullError&&(j="e",F=0),f?(f.t=j,f.v=F,delete f.w,delete f.R,J&&(f.z=J)):o[X]=f={t:j,v:F},J&&(f.z=J))})}),g.e.c=Math.max(g.e.c,h+x.length-1);var S=ir(l);if(a)for(T=0;T<x.length;++T)o[pr(T+h)+S]={t:"s",v:x[T]};return o["!ref"]=Nn(g),o}function TH(t,e){return OC(null,t,e)}function Wh(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=qn(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Wh(t,Ft(e)):Wh(t,Ft({r:e,c:n||0}))}function wH(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function SH(){return{SheetNames:[],Sheets:{}}}function AH(t,e,n,r){var a=1;if(!n)for(;a<=65535&&t.SheetNames.indexOf(n="Sheet"+a)!=-1;++a,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var o=n.match(/(^.*?)(\d+)$/);a=o&&+o[2]||0;var l=o&&o[1]||n;for(++a;a<=65535&&t.SheetNames.indexOf(n=l+a)!=-1;++a);}if(EC(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function bH(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=wH(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function RH(t,e){return t.z=e,t}function kC(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function CH(t,e,n){return kC(t,"#"+e,n)}function NH(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function IH(t,e,n,r){for(var a=typeof e!="string"?e:Zt(e),o=typeof e=="string"?e:Nn(e),l=a.s.r;l<=a.e.r;++l)for(var h=a.s.c;h<=a.e.c;++h){var d=Wh(t,l,h);d.t="n",d.F=o,delete d.v,l==a.s.r&&h==a.s.c&&(d.f=n,r&&(d.D=!0))}return t}var lc={encode_col:pr,encode_row:ir,encode_cell:Ft,encode_range:Nn,decode_col:f_,decode_row:h_,split_cell:G5,decode_cell:qn,decode_range:li,format_cell:cs,sheet_add_aoa:kR,sheet_add_json:OC,sheet_add_dom:bC,aoa_to_sheet:Wc,json_to_sheet:TH,table_to_sheet:RC,table_to_book:eH,sheet_to_csv:w_,sheet_to_txt:DC,sheet_to_json:W0,sheet_to_html:AC,sheet_to_formulae:EH,sheet_to_row_object_array:W0,sheet_get_cell:Wh,book_new:SH,book_append_sheet:AH,book_set_sheet_visibility:bH,cell_set_number_format:RH,cell_set_hyperlink:kC,cell_set_internal_link:CH,cell_add_comment:NH,sheet_set_array_formula:IH,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const ih=t=>{if(!t&&t!==0)return null;if(t instanceof Date)return t;if(t&&typeof t=="object"&&"toDate"in t)return t.toDate();const e=new Date(t);return isNaN(e.getTime())?null:e},G1=t=>t?`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`:"",DH=(t,e)=>{if(!t||!e)return"";const n=(e.getTime()-t.getTime())/36e5;return Math.round(Math.max(0,n)*100)/100},PC=(t,e)=>{const r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),o=Math.floor((a.getTime()-r.getTime())/864e5/14),l=new Date(r.getTime()+o*14*864e5),h=new Date(l.getTime()+13*864e5);return`${G1(l)} to ${G1(h)}`},o1=async t=>{const e=Jt(tt,"availability");if(t.from||t.to){const o=[];t.from&&o.push(Ur("eventStart",">=",ut.fromDate(t.from))),t.to&&o.push(Ur("eventStart","<=",ut.fromDate(t.to)));const l=o.length?br(e,...o):e;return(await rr(l)).docs.map(f=>({id:f.id,...f.data()})).filter(f=>{const g=(f.status||"")==="yes",y=!t.onlyFinalized||!!f.finalized;return g&&y})}const n=br(e,Ur("status","==","yes"));return(await rr(n)).docs.map(o=>({id:o.id,...o.data()})).filter(o=>!t.onlyFinalized||!!o.finalized)},OH=async t=>{const e=new Map;return await Promise.all(Array.from(new Set(t)).map(async n=>{try{const r=await Gc(cn(tt,"events",n));e.set(n,r.exists()?r.data():{})}catch{e.set(n,{})}})),e},l1=async t=>{const e=t.map(a=>a.eventId).filter(Boolean),n=await OH(e),r=t.map(a=>{const o=n.get(a.eventId)||{},l=ih(a.eventStart)||ih(o.start)||ih(o.date),h=ih(a.eventEnd)||ih(o.end)||null,d=o.client||o.dept||"",f=a.eventTitle||o.title||"";return{dateISO:G1(l),performer:a.displayName||a.name||a.email||"Unknown",client:d,eventName:f,comp:DH(l,h)}});return r.sort((a,o)=>String(a.dateISO).localeCompare(String(o.dateISO))||String(a.eventName).localeCompare(String(o.eventName))||String(a.performer).localeCompare(String(o.performer))),r},kH=(t,e)=>{const n=new Date(e+"T00:00:00"),r=new Map;for(const a of t){const o=a.dateISO?new Date(a.dateISO+"T00:00:00"):null,l=o?PC(o,n):"Unknown Period";r.has(l)||r.set(l,{rows:[],totals:{},totalHours:0});const h=r.get(l);h.rows.push(a);const d=typeof a.comp=="number"?a.comp:0;h.totalHours+=d,h.totals[a.performer]=(h.totals[a.performer]||0)+d}for(const a of r.values())a.rows.sort((o,l)=>String(o.dateISO).localeCompare(String(l.dateISO))||String(o.eventName).localeCompare(String(l.eventName))||String(o.performer).localeCompare(String(l.performer)));return r},PH=()=>{const[t,e]=xe.useState(!0),[n,r]=xe.useState(""),[a,o]=xe.useState(""),[l,h]=xe.useState("2025-06-23"),[d,f]=xe.useState("none"),[g,y]=xe.useState(""),[x,T]=xe.useState(new Map),S=F=>F?new Date(F+"T00:00:00"):null,w=async()=>{f("preview"),y("");try{const F=await o1({onlyFinalized:t,from:S(n),to:S(a)}),j=await l1(F),J=kH(j,l);T(J)}catch(F){y(F?.message||"Failed to build preview")}finally{f("none")}};xe.useEffect(()=>{w()},[t,n,a,l]);const b=async()=>{f("perf"),y("");try{const F=await o1({onlyFinalized:t,from:S(n),to:S(a)}),j=await l1(F),X=[["Date of Performance","Performer Name","Dept/Client","Event Name","Comp Time"],...j.map(I=>[I.dateISO,I.performer,I.client,I.eventName,I.comp])],W=lc.aoa_to_sheet(X),N=lc.book_new();lc.book_append_sheet(N,W,"Performance Book"),q2(N,"2025-2026 Performance Book.xlsx")}catch(F){y(F?.message||"Export failed")}finally{f("none")}},O=async()=>{f("biweekly"),y("");try{const F=await o1({onlyFinalized:t,from:S(n),to:S(a)}),j=await l1(F),J=new Date(l+"T00:00:00"),X=new Map;for(const I of j){const C=I.dateISO?new Date(I.dateISO+"T00:00:00"):null,P=C?PC(C,J):"Unknown Period";X.has(P)||X.set(P,[]),X.get(P).push(I)}const W=lc.book_new(),N=Array.from(X.keys()).sort();for(const I of N){const C=["Date of Performance","Performer Name","Dept/Client","Event Name","Comp Time"],P=X.get(I),L=[[`Pay Period: ${I}`],C,...P.map(M=>[M.dateISO,M.performer,M.client,M.eventName,M.comp])],z=lc.aoa_to_sheet(L);lc.book_append_sheet(W,z,I.slice(0,31))}q2(W,"2025-2026 Timesheet Reference.xlsx")}catch(F){y(F?.message||"Export failed")}finally{f("none")}};return m.jsxs("section",{className:"report-exports",children:[m.jsxs("header",{className:"stack",children:[m.jsx("h1",{className:"ucla-heading-xl",children:"Reports & Exports"}),m.jsxs("p",{className:"muted",children:["Exports are powered directly by ",m.jsx("code",{children:"availability"})," responses."]})]}),m.jsxs("div",{className:"toolbar",children:[m.jsxs("label",{className:"field",children:[m.jsx("span",{children:"From"}),m.jsx("input",{type:"date",value:n,onChange:F=>r(F.target.value)})]}),m.jsxs("label",{className:"field",children:[m.jsx("span",{children:"To"}),m.jsx("input",{type:"date",value:a,onChange:F=>o(F.target.value)})]}),m.jsxs("label",{className:"field checkbox",children:[m.jsx("input",{type:"checkbox",checked:t,onChange:F=>e(F.target.checked)}),m.jsx("span",{children:"Only finalized"})]}),m.jsx("div",{className:"spacer"}),m.jsxs("label",{className:"field",children:[m.jsx("span",{children:"Biweekly Anchor"}),m.jsx("input",{type:"date",value:l,onChange:F=>h(F.target.value)})]}),m.jsx("button",{className:"btn",onClick:w,disabled:d!=="none",children:d==="preview"?"Refreshing…":"Refresh Preview"})]}),g&&m.jsx("div",{className:"alert",children:g}),m.jsx("div",{className:"preview-grid",children:Array.from(x.keys()).sort().map(F=>{const j=x.get(F),J=Object.entries(j.totals).sort((X,W)=>X[0].localeCompare(W[0]));return m.jsxs("section",{className:"period-card",children:[m.jsxs("header",{className:"period-head",children:[m.jsxs("h3",{children:["Pay Period: ",F]}),m.jsxs("span",{className:"chip",children:["Total Hours: ",Math.round(j.totalHours*100)/100]})]}),m.jsx("div",{className:"table-wrap",children:m.jsxs("table",{className:"reports-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Date"}),m.jsx("th",{children:"Event"}),m.jsx("th",{children:"Performer"}),m.jsx("th",{className:"num",children:"Hours"})]})}),m.jsx("tbody",{children:j.rows.map((X,W)=>m.jsxs("tr",{children:[m.jsx("td",{children:X.dateISO||"—"}),m.jsx("td",{children:X.eventName||"Untitled"}),m.jsx("td",{children:X.performer}),m.jsx("td",{className:"num",children:typeof X.comp=="number"?X.comp:""})]},W))})]})}),m.jsxs("div",{className:"totals",children:[m.jsx("h4",{children:"Totals by Performer"}),m.jsxs("table",{className:"reports-table compact",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Performer"}),m.jsx("th",{className:"num",children:"Hours"})]})}),m.jsx("tbody",{children:J.map(([X,W])=>m.jsxs("tr",{children:[m.jsx("td",{children:X}),m.jsx("td",{className:"num",children:Math.round(W*100)/100})]},X))})]})]})]},F)})}),m.jsxs("div",{className:"actions",children:[m.jsx("button",{className:"btn",onClick:b,disabled:d!=="none",children:d==="perf"?"Building…":"Export Performance Book (.xlsx)"}),m.jsx("button",{className:"btn-primary",onClick:O,disabled:d!=="none",children:d==="biweekly"?"Building…":"Export Biweekly Reference (.xlsx)"})]}),m.jsxs("p",{className:"muted",children:["Columns in both exports: ",m.jsx("strong",{children:"Date of Performance"}),", ",m.jsx("strong",{children:"Performer Name"}),","," ",m.jsx("strong",{children:"Dept/Client"}),", ",m.jsx("strong",{children:"Event Name"}),", ",m.jsx("strong",{children:"Comp Time"}),"."]})]})},S_=({person:t})=>m.jsxs("article",{className:"person-card","aria-label":t.name,children:[m.jsx("div",{className:"person-card__image",children:m.jsx("img",{src:t.headshotUrl||"https://via.placeholder.com/512x640?text=Headshot",alt:`${t.name} headshot`,loading:"lazy"})}),m.jsxs("div",{className:"person-card__body",children:[m.jsx("h3",{className:"person-card__name",children:t.name}),t.role&&m.jsx("p",{className:"person-card__meta",children:t.role}),t.instrument&&m.jsxs("p",{className:"person-card__meta",children:[m.jsx("strong",{children:"Instrument:"})," ",t.instrument]}),t.section&&m.jsxs("p",{className:"person-card__meta",children:[m.jsx("strong",{children:"Section:"})," ",t.section]})]})]}),MH=[{id:"staff-1",name:"Jesús Guzmán",category:"staff",role:"Director",headshotUrl:"../../assets/headshots/Chuy.png"},{id:"staff-2",name:"Elias Rodriguez",category:"staff",role:"Program Coordinator",headshotUrl:"https://via.placeholder.com/512x640?text=Elias+Rodriguez"}],LH=()=>m.jsxs("section",{className:"people-page",children:[m.jsxs("header",{className:"people-header",children:[m.jsx("h1",{children:"Our Staff"}),m.jsx("p",{className:"people-subtitle",children:"Leaders and coordinators supporting Mariachi de Uclatlán."})]}),m.jsx("div",{className:"people-grid",children:MH.map(t=>m.jsx(S_,{person:t},t.id))})]}),FH=[{id:"mus-1",name:"Enrique Rodrigruez-Gonzales",category:"musician",instrument:"Vihuela",section:"Armonia",headshotUrl:"EnriqueImg"},{id:"mus-2",name:"Angel Ramirez",category:"musician",instrument:"Guitarron",section:"Armonia",headshotUrl:"https://via.placeholder.com/512x640?text=José+Hernández"},{id:"mus-3",name:"Brandon",category:"musician",role:"Guitarra",section:"Armonia",headshotUrl:"src/assets/headshots/brandon.jpg"},{id:"mus-3",name:"Paulina Perez",category:"musician",role:"Singer/Guitar",section:"Armonia",headshotUrl:"https://via.placeholder.com/512x640?text=Sofía+García"},{id:"Mus-4",name:"Gaby (guitar)",category:"musician",role:"Singer/Guitar",section:"Armonia",headshotUrl:"https://via.placeholder.com/512x640?text=Sofía+García"},{id:"Mus-5",name:"Dayanara Bravo",role:"Violin-Guitarron",category:"musician",section:"String-Armonia",headshotUrl:"src/assets/headshots/daya.jpg"},{id:"Mus-6",name:"Jake Sherry",category:"musician",role:"Trumpet",section:"Trumpet",headshotUrl:"https://via.placeholder.com/512x640?text=Sofía+García"},{id:"mus-7",name:"april",category:"musician",role:"Folklórico",section:"Danza",headshotUrl:"https://via.placeholder.com/512x640?text=Sofía+García"},{id:"mus-8",name:"Andrew",category:"musician",role:"Violin",section:"string",headshotUrl:"https://via.placeholder.com/512x640?text=Sofía+García"}],jH=()=>m.jsxs("section",{className:"people-page",children:[m.jsxs("header",{className:"people-header",children:[m.jsx("h1",{children:"Our Musicians"}),m.jsx("p",{className:"people-subtitle",children:"Meet the student performers who bring the music to life."})]}),m.jsx("div",{className:"people-grid",children:FH.map(t=>m.jsx(S_,{person:t},t.id))})]}),UH=[{id:"dan-1",name:"Sarah Ward",category:"musician",role:"Folklórico",section:"Danza",headshotUrl:"https://via.placeholder.com/512x640?text=Sofía+García"}],VH=()=>m.jsxs("section",{className:"people-page",children:[m.jsxs("header",{className:"people-header",children:[m.jsx("h1",{children:"Our Dancers"}),m.jsx("p",{className:"people-subtitle",children:"Folklórico dancers who bring motion and storytelling to our performances."})]}),m.jsx("div",{className:"people-grid",children:UH.map(t=>m.jsx(S_,{person:t},t.id))})]}),BH=({adminComponent:t,performerComponent:e,publicComponent:n})=>{const[r,a]=se.useState("public"),o=l=>{const h=l.target.value;a(h)};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f0f0f0"},children:[m.jsx("label",{style:{marginRight:"0.5rem"},children:"Select Role View:"}),m.jsxs("select",{value:r,onChange:o,children:[m.jsx("option",{value:"public",children:"Public"}),m.jsx("option",{value:"performer",children:"Performer"}),m.jsx("option",{value:"admin",children:"Admin"})]})]}),r==="admin"&&m.jsx(n_,{}),r==="performer"&&m.jsx(Jb,{}),"  ",r==="public"&&m.jsx(Qb,{}),m.jsxs("main",{children:[r==="admin"&&t,r==="performer"&&e,r==="public"&&n]})]})},HH=()=>m.jsx(nS,{}),zH=()=>{const[t,e]=xe.useState(null),[n,r]=xe.useState(null),a=wa();xe.useEffect(()=>{const y=tf(Mn,async x=>{if(e(x),x){const T=await CS(x);r(T.claims)}else r(null)});return()=>y()},[]),typeof window<"u"&&localStorage.getItem("adminAccess");const o=xe.useMemo(()=>typeof window<"u"&&localStorage.getItem("adminAccess")==="true"?!0:t?n?.admin||n?.role==="admin"?!0:$b(t.email??void 0):!1,[t,n,a.pathname]),l=a.pathname,h=l.startsWith("/members"),d=l.startsWith("/admin"),f=l.startsWith("/performer-dashboard"),g=l.startsWith("/dashboard")||f||d;return m.jsxs("div",{className:"app-shell",children:[!h&&!g&&m.jsx(Qb,{}),h&&t&&m.jsx(Jb,{}),f&&t&&m.jsx(Xb,{}),m.jsx("main",{className:"container main stack",role:"main",children:m.jsxs(uI,{children:[m.jsx(Tt,{path:"/",element:m.jsx(JE,{})}),m.jsx(Tt,{path:"/about",element:m.jsx(WI,{})}),m.jsx(Tt,{path:"/contact",element:m.jsx(YI,{})}),m.jsx(Tt,{path:"/login",element:m.jsx(uF,{})}),m.jsx(Tt,{path:"/register",element:m.jsx(fF,{})}),m.jsx(Tt,{path:"/book-us",element:m.jsx(pF,{})}),m.jsx(Tt,{path:"/hire-us",element:m.jsx(_F,{})}),m.jsx(Tt,{path:"/join",element:m.jsx(gF,{})}),m.jsx(Tt,{path:"/staff",element:m.jsx(LH,{})}),m.jsx(Tt,{path:"/musicians",element:m.jsx(jH,{})}),m.jsx(Tt,{path:"/dancers",element:m.jsx(VH,{})}),m.jsx(Tt,{path:"/admin-password",element:m.jsx(g8,{})}),m.jsxs(Tt,{path:"/members",element:m.jsx(Qg,{user:t,children:m.jsx(HH,{})}),children:[m.jsx(Tt,{index:!0,element:m.jsx(wF,{})}),m.jsx(Tt,{path:"profile",element:m.jsx(IF,{})}),m.jsx(Tt,{path:"events",element:m.jsx(LF,{})}),m.jsx(Tt,{path:"resources",element:m.jsx(VF,{})}),m.jsx(Tt,{path:"settings",element:m.jsx(HF,{})}),m.jsx(Tt,{path:"performer-availability",element:m.jsx($F,{})}),m.jsx(Tt,{path:"calendar",element:m.jsx(f8,{})})]}),m.jsx(Tt,{path:"/dashboard",element:m.jsx(BH,{adminComponent:m.jsx(Xw,{}),performerComponent:m.jsx(Qw,{}),publicComponent:m.jsx(JE,{})})}),m.jsxs(Tt,{path:"/admin/*",element:m.jsx(Qg,{user:t,isAdminUser:o,requiresAdmin:!0,children:m.jsxs(m.Fragment,{children:[m.jsx(n_,{}),m.jsx(v8,{})]})}),children:[m.jsx(Tt,{index:!0,element:m.jsx(Xw,{})}),m.jsx(Tt,{path:"events",element:m.jsx(E8,{})}),m.jsx(Tt,{path:"managemembers",element:m.jsx(P8,{})}),m.jsx(Tt,{path:"reports",element:m.jsx(PH,{})}),m.jsx(Tt,{path:"inquiries",element:m.jsx(M8,{})}),m.jsx(Tt,{path:"participation",element:m.jsx(i2,{})})]}),m.jsx(Tt,{path:"/admin/participation",element:m.jsx(i2,{})}),m.jsx(Tt,{path:"/performer-dashboard",element:m.jsx(Qg,{user:t,children:m.jsx(Qw,{})})}),m.jsx(Tt,{path:"*",element:m.jsx(u1,{to:"/",replace:!0})})]})}),!d&&m.jsx(d8,{}),m.jsx(m8,{user:t,isAdmin:o,claims:n})]})},qH=()=>m.jsx(kI,{children:m.jsx(zH,{})});_4.createRoot(document.getElementById("root")).render(m.jsx(xe.StrictMode,{children:m.jsx(qH,{})}));
