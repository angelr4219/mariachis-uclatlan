(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Ib(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Hm={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function yR(){if(vE)return Ql;vE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ql.Fragment=e,Ql.jsx=t,Ql.jsxs=t,Ql}var EE;function _R(){return EE||(EE=1,Hm.exports=yR()),Hm.exports}var g=_R(),Gm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function vR(){if(TE)return Ce;TE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,$={};function L(O,se,ce){this.props=O,this.context=se,this.refs=$,this.updater=ce||R}L.prototype.isReactComponent={},L.prototype.setState=function(O,se){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,se,"setState")},L.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ne(){}ne.prototype=L.prototype;function W(O,se,ce){this.props=O,this.context=se,this.refs=$,this.updater=ce||R}var K=W.prototype=new ne;K.constructor=W,j(K,L.prototype),K.isPureReactComponent=!0;var re=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function N(O,se,ce,oe,_e,xe){return ce=xe.ref,{$$typeof:i,type:O,key:se,ref:ce!==void 0?ce:null,props:xe}}function C(O,se){return N(O.type,se,void 0,void 0,void 0,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function M(O){var se={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return se[ce]})}var k=/\/+/g;function U(O,se){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):se.toString(36)}function D(){}function Ht(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(se){O.status==="pending"&&(O.status="fulfilled",O.value=se)},function(se){O.status==="pending"&&(O.status="rejected",O.reason=se)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ft(O,se,ce,oe,_e){var xe=typeof O;(xe==="undefined"||xe==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(xe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case i:case e:we=!0;break;case v:return we=O._init,ft(we(O._payload),se,ce,oe,_e)}}if(we)return _e=_e(O),we=oe===""?"."+U(O,0):oe,re(_e)?(ce="",we!=null&&(ce=we.replace(k,"$&/")+"/"),ft(_e,se,ce,"",function(di){return di})):_e!=null&&(I(_e)&&(_e=C(_e,ce+(_e.key==null||O&&O.key===_e.key?"":(""+_e.key).replace(k,"$&/")+"/")+we)),se.push(_e)),1;we=0;var Vt=oe===""?".":oe+":";if(re(O))for(var tt=0;tt<O.length;tt++)oe=O[tt],xe=Vt+U(oe,tt),we+=ft(oe,se,ce,xe,_e);else if(tt=w(O),typeof tt=="function")for(O=tt.call(O),tt=0;!(oe=O.next()).done;)oe=oe.value,xe=Vt+U(oe,tt++),we+=ft(oe,se,ce,xe,_e);else if(xe==="object"){if(typeof O.then=="function")return ft(Ht(O),se,ce,oe,_e);throw se=String(O),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return we}function Q(O,se,ce){if(O==null)return O;var oe=[],_e=0;return ft(O,oe,"","",function(xe){return se.call(ce,xe,_e++)}),oe}function ue(O){if(O._status===-1){var se=O._result;se=se(),se.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=se)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ze(){}return Ce.Children={map:Q,forEach:function(O,se,ce){Q(O,function(){se.apply(this,arguments)},ce)},count:function(O){var se=0;return Q(O,function(){se++}),se},toArray:function(O){return Q(O,function(se){return se})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ce.Component=L,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=W,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ae.H.useMemoCache(O)}},Ce.cache=function(O){return function(){return O.apply(null,arguments)}},Ce.cloneElement=function(O,se,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=j({},O.props),_e=O.key,xe=void 0;if(se!=null)for(we in se.ref!==void 0&&(xe=void 0),se.key!==void 0&&(_e=""+se.key),se)!ie.call(se,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&se.ref===void 0||(oe[we]=se[we]);var we=arguments.length-2;if(we===1)oe.children=ce;else if(1<we){for(var Vt=Array(we),tt=0;tt<we;tt++)Vt[tt]=arguments[tt+2];oe.children=Vt}return N(O.type,_e,void 0,void 0,xe,oe)},Ce.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ce.createElement=function(O,se,ce){var oe,_e={},xe=null;if(se!=null)for(oe in se.key!==void 0&&(xe=""+se.key),se)ie.call(se,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(_e[oe]=se[oe]);var we=arguments.length-2;if(we===1)_e.children=ce;else if(1<we){for(var Vt=Array(we),tt=0;tt<we;tt++)Vt[tt]=arguments[tt+2];_e.children=Vt}if(O&&O.defaultProps)for(oe in we=O.defaultProps,we)_e[oe]===void 0&&(_e[oe]=we[oe]);return N(O,xe,void 0,void 0,null,_e)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:d,render:O}},Ce.isValidElement=I,Ce.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ue}},Ce.memo=function(O,se){return{$$typeof:y,type:O,compare:se===void 0?null:se}},Ce.startTransition=function(O){var se=ae.T,ce={};ae.T=ce;try{var oe=O(),_e=ae.S;_e!==null&&_e(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ze,ge)}catch(xe){ge(xe)}finally{ae.T=se}},Ce.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ce.use=function(O){return ae.H.use(O)},Ce.useActionState=function(O,se,ce){return ae.H.useActionState(O,se,ce)},Ce.useCallback=function(O,se){return ae.H.useCallback(O,se)},Ce.useContext=function(O){return ae.H.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O,se){return ae.H.useDeferredValue(O,se)},Ce.useEffect=function(O,se,ce){var oe=ae.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(O,se)},Ce.useId=function(){return ae.H.useId()},Ce.useImperativeHandle=function(O,se,ce){return ae.H.useImperativeHandle(O,se,ce)},Ce.useInsertionEffect=function(O,se){return ae.H.useInsertionEffect(O,se)},Ce.useLayoutEffect=function(O,se){return ae.H.useLayoutEffect(O,se)},Ce.useMemo=function(O,se){return ae.H.useMemo(O,se)},Ce.useOptimistic=function(O,se){return ae.H.useOptimistic(O,se)},Ce.useReducer=function(O,se,ce){return ae.H.useReducer(O,se,ce)},Ce.useRef=function(O){return ae.H.useRef(O)},Ce.useState=function(O){return ae.H.useState(O)},Ce.useSyncExternalStore=function(O,se,ce){return ae.H.useSyncExternalStore(O,se,ce)},Ce.useTransition=function(){return ae.H.useTransition()},Ce.version="19.1.1",Ce}var bE;function Qp(){return bE||(bE=1,Gm.exports=vR()),Gm.exports}var B=Qp();const Ae=Ib(B);var $m={exports:{}},Xl={},Ym={exports:{}},Km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function ER(){return AE||(AE=1,(function(i){function e(Q,ue){var ge=Q.length;Q.push(ue);e:for(;0<ge;){var ze=ge-1>>>1,O=Q[ze];if(0<o(O,ue))Q[ze]=ue,Q[ge]=O,ge=ze;else break e}}function t(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ue=Q[0],ge=Q.pop();if(ge!==ue){Q[0]=ge;e:for(var ze=0,O=Q.length,se=O>>>1;ze<se;){var ce=2*(ze+1)-1,oe=Q[ce],_e=ce+1,xe=Q[_e];if(0>o(oe,ge))_e<O&&0>o(xe,oe)?(Q[ze]=xe,Q[_e]=ge,ze=_e):(Q[ze]=oe,Q[ce]=ge,ze=ce);else if(_e<O&&0>o(xe,ge))Q[ze]=xe,Q[_e]=ge,ze=_e;else break e}}return ue}function o(Q,ue){var ge=Q.sortIndex-ue.sortIndex;return ge!==0?ge:Q.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],y=[],v=1,b=null,w=3,R=!1,j=!1,$=!1,L=!1,ne=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function re(Q){for(var ue=t(y);ue!==null;){if(ue.callback===null)s(y);else if(ue.startTime<=Q)s(y),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=t(y)}}function ae(Q){if($=!1,re(Q),!j)if(t(p)!==null)j=!0,ie||(ie=!0,U());else{var ue=t(y);ue!==null&&ft(ae,ue.startTime-Q)}}var ie=!1,N=-1,C=5,I=-1;function M(){return L?!0:!(i.unstable_now()-I<C)}function k(){if(L=!1,ie){var Q=i.unstable_now();I=Q;var ue=!0;try{e:{j=!1,$&&($=!1,W(N),N=-1),R=!0;var ge=w;try{t:{for(re(Q),b=t(p);b!==null&&!(b.expirationTime>Q&&M());){var ze=b.callback;if(typeof ze=="function"){b.callback=null,w=b.priorityLevel;var O=ze(b.expirationTime<=Q);if(Q=i.unstable_now(),typeof O=="function"){b.callback=O,re(Q),ue=!0;break t}b===t(p)&&s(p),re(Q)}else s(p);b=t(p)}if(b!==null)ue=!0;else{var se=t(y);se!==null&&ft(ae,se.startTime-Q),ue=!1}}break e}finally{b=null,w=ge,R=!1}ue=void 0}}finally{ue?U():ie=!1}}}var U;if(typeof K=="function")U=function(){K(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ht=D.port2;D.port1.onmessage=k,U=function(){Ht.postMessage(null)}}else U=function(){ne(k,0)};function ft(Q,ue){N=ne(function(){Q(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var ge=w;w=ue;try{return Q()}finally{w=ge}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(Q,ue){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=w;w=Q;try{return ue()}finally{w=ge}},i.unstable_scheduleCallback=function(Q,ue,ge){var ze=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ze+ge:ze):ge=ze,Q){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ge+O,Q={id:v++,callback:ue,priorityLevel:Q,startTime:ge,expirationTime:O,sortIndex:-1},ge>ze?(Q.sortIndex=ge,e(y,Q),t(p)===null&&Q===t(y)&&($?(W(N),N=-1):$=!0,ft(ae,ge-ze))):(Q.sortIndex=O,e(p,Q),j||R||(j=!0,ie||(ie=!0,U()))),Q},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(Q){var ue=w;return function(){var ge=w;w=ue;try{return Q.apply(this,arguments)}finally{w=ge}}}})(Km)),Km}var wE;function TR(){return wE||(wE=1,Ym.exports=ER()),Ym.exports}var Qm={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function bR(){if(SE)return nn;SE=1;var i=Qp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(p,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,v)},nn.flushSync=function(p){var y=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=y,s.p=v,s.d.f()}},nn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},nn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var v=y.as,b=d(v,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:R}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=d(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},nn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,b=d(v,y.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(p,y){if(typeof p=="string")if(y){var v=d(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},nn.requestFormReset=function(p){s.d.r(p)},nn.unstable_batchedUpdates=function(p,y){return p(y)},nn.useFormState=function(p,y,v){return h.H.useFormState(p,y,v)},nn.useFormStatus=function(){return h.H.useHostTransitionStatus()},nn.version="19.1.1",nn}var RE;function AR(){if(RE)return Qm.exports;RE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Qm.exports=bR(),Qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function wR(){if(CE)return Xl;CE=1;var i=TR(),e=Qp(),t=AR();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),n;if(m===l)return d(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var T=!1,A=f.child;A;){if(A===a){T=!0,a=f,l=m;break}if(A===l){T=!0,l=f,a=m;break}A=A.sibling}if(!T){for(A=m.child;A;){if(A===a){T=!0,a=m,l=f;break}if(A===l){T=!0,l=m,a=f;break}A=A.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),K=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function Ht(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case j:return"Fragment";case L:return"Profiler";case $:return"StrictMode";case ae:return"Suspense";case ie:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case R:return"Portal";case K:return(n.displayName||"Context")+".Provider";case W:return(n._context.displayName||"Context")+".Consumer";case re:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return r=n.displayName||null,r!==null?r:Ht(n.type)||"Memo";case C:r=n._payload,n=n._init;try{return Ht(n(r))}catch{}}return null}var ft=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ze=[],O=-1;function se(n){return{current:n}}function ce(n){0>O||(n.current=ze[O],ze[O]=null,O--)}function oe(n,r){O++,ze[O]=n.current,n.current=r}var _e=se(null),xe=se(null),we=se(null),Vt=se(null);function tt(n,r){switch(oe(we,r),oe(xe,n),oe(_e,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Yv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Yv(r),n=Kv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ce(_e),oe(_e,n)}function di(){ce(_e),ce(xe),ce(we)}function Sr(n){n.memoizedState!==null&&oe(Vt,n);var r=_e.current,a=Kv(r,n.type);r!==a&&(oe(xe,n),oe(_e,a))}function zi(n){xe.current===n&&(ce(_e),ce(xe)),Vt.current===n&&(ce(Vt),Hl._currentValue=ge)}var bs=Object.prototype.hasOwnProperty,As=i.unstable_scheduleCallback,ws=i.unstable_cancelCallback,zo=i.unstable_shouldYield,Yu=i.unstable_requestPaint,Vn=i.unstable_now,Hf=i.unstable_getCurrentPriorityLevel,qo=i.unstable_ImmediatePriority,Ea=i.unstable_UserBlockingPriority,Ss=i.unstable_NormalPriority,Gf=i.unstable_LowPriority,Ta=i.unstable_IdlePriority,Fo=i.log,Ku=i.unstable_setDisableYieldValue,dt=null,Ye=null;function An(n){if(typeof Fo=="function"&&Ku(n),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(dt,n)}catch{}}var en=Math.clz32?Math.clz32:Rs,Qu=Math.log,$f=Math.LN2;function Rs(n){return n>>>=0,n===0?32:31-(Qu(n)/$f|0)|0}var Cs=256,Is=4194304;function ei(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ba(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var A=l&134217727;return A!==0?(l=A&~m,l!==0?f=ei(l):(T&=A,T!==0?f=ei(T):a||(a=A&~n,a!==0&&(f=ei(a))))):(A=l&~m,A!==0?f=ei(A):T!==0?f=ei(T):a||(a=l&~n,a!==0&&(f=ei(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function xs(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ho(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Go(){var n=Cs;return Cs<<=1,(Cs&4194048)===0&&(Cs=256),n}function $o(){var n=Is;return Is<<=1,(Is&62914560)===0&&(Is=4194304),n}function qi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Fi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Yo(n,r,a,l,f,m){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var A=n.entanglements,x=n.expirationTimes,F=n.hiddenUpdates;for(a=T&~a;0<a;){var X=31-en(a),ee=1<<X;A[X]=0,x[X]=-1;var H=F[X];if(H!==null)for(F[X]=null,X=0;X<H.length;X++){var G=H[X];G!==null&&(G.lane&=-536870913)}a&=~ee}l!==0&&mi(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~r))}function mi(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-en(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Ko(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-en(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function Rr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Aa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Cr(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:dE(n.type))}function Xu(n,r){var a=ue.p;try{return ue.p=n,r()}finally{ue.p=a}}var ot=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ot,At="__reactProps$"+ot,Ln="__reactContainer$"+ot,Qo="__reactEvents$"+ot,Yf="__reactListeners$"+ot,Ir="__reactHandles$"+ot,Wu="__reactResources$"+ot,Ns="__reactMarker$"+ot;function xr(n){delete n[Dt],delete n[At],delete n[Qo],delete n[Yf],delete n[Ir]}function Hi(n){var r=n[Dt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Ln]||a[Dt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Zv(n);n!==null;){if(a=n[Dt])return a;n=Zv(n)}return r}n=a,a=n.parentNode}return null}function pi(n){if(n=n[Dt]||n[Ln]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function gi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function cn(n){var r=n[Wu];return r||(r=n[Wu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function vt(n){n[Ns]=!0}var Xo=new Set,wa={};function ti(n,r){Gi(n,r),Gi(n+"Capture",r)}function Gi(n,r){for(wa[n]=r,n=0;n<r.length;n++)Xo.add(r[n])}var Zu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ju={},Ds={};function ec(n){return bs.call(Ds,n)?!0:bs.call(Ju,n)?!1:Zu.test(n)?Ds[n]=!0:(Ju[n]=!0,!1)}function Nr(n,r,a){if(ec(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function yi(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Gt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var Os,tc;function $i(n){if(Os===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Os=r&&r[1]||"",tc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Os+n+tc}var Sa=!1;function Ra(n,r){if(!n||Sa)return"";Sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(G){var H=G}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(G){H=G}n.call(ee.prototype)}}else{try{throw Error()}catch(G){H=G}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],A=m[1];if(T&&A){var x=T.split(`
`),F=A.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===F.length)for(l=x.length-1,f=F.length-1;1<=l&&0<=f&&x[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==F[f]){var X=`
`+x[l].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=l&&0<=f);break}}}finally{Sa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?$i(a):""}function Wo(n){switch(n.tag){case 26:case 27:case 5:return $i(n.type);case 16:return $i("Lazy");case 13:return $i("Suspense");case 19:return $i("SuspenseList");case 0:case 15:return Ra(n.type,!1);case 11:return Ra(n.type.render,!1);case 1:return Ra(n.type,!0);case 31:return $i("Activity");default:return""}}function Ca(n){try{var r="";do r+=Wo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function hn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Zo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Kf(n){var r=Zo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ia(n){n._valueTracker||(n._valueTracker=Kf(n))}function Jo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Zo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ps(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Qf=/[\n"\\]/g;function wt(n){return n.replace(Qf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function wn(n,r,a,l,f,m,T,A){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),r!=null?T==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+hn(r)):n.value!==""+hn(r)&&(n.value=""+hn(r)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),r!=null?Dr(n,T,hn(r)):a!=null?Dr(n,T,hn(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+hn(A):n.removeAttribute("name")}function Ms(n,r,a,l,f,m,T,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+hn(a):"",r=r!=null?""+hn(r):a,A||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=A?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Dr(n,r,a){r==="number"&&Ps(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Yi(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+hn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Xe(n,r,a){if(r!=null&&(r=""+hn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+hn(a):""}function js(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ft(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=hn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Un(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var ks=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nc(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||ks.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function el(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&nc(n,f,l)}else for(var m in r)r.hasOwnProperty(m)&&nc(n,m,r[m])}function tl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(n){return Wf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ki=null;function Bn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qi=null,Xi=null;function nl(n){var r=pi(n);if(r&&(n=r.stateNode)){var a=n[At]||null;e:switch(n=r.stateNode,r.type){case"input":if(wn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+wt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[At]||null;if(!f)throw Error(s(90));wn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Jo(l)}break e;case"textarea":Xe(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Yi(n,!!a.multiple,r,!1)}}}var _i=!1;function ic(n,r,a){if(_i)return n(r,a);_i=!0;try{var l=n(r);return l}finally{if(_i=!1,(Qi!==null||Xi!==null)&&(Xc(),Qi&&(r=Qi,n=Xi,Xi=Qi=null,nl(r),n)))for(r=0;r<n.length;r++)nl(n[r])}}function Vs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zn=!1;if(ni)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){zn=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{zn=!1}var vi=null,Or=null,Wi=null;function il(){if(Wi)return Wi;var n,r=Or,a=r.length,l,f="value"in vi?vi.value:vi.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var T=a-n;for(l=1;l<=T&&r[a-l]===f[m-l];l++);return Wi=f.slice(n,1<l?1-l:void 0)}function Ei(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ti(){return!0}function rl(){return!1}function Lt(n){function r(a,l,f,m,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ti:rl,this.isPropagationStopped=rl,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),r}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=Lt(He),Us=v({},He,{view:0,detail:0}),rc=Lt(Us),Da,Oa,bi,Bs=v({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==bi&&(bi&&n.type==="mousemove"?(Da=n.screenX-bi.screenX,Oa=n.screenY-bi.screenY):Oa=Da=0,bi=n),Da)},movementY:function(n){return"movementY"in n?n.movementY:Oa}}),qn=Lt(Bs),sc=v({},Bs,{dataTransfer:0}),Zf=Lt(sc),zs=v({},Us,{relatedTarget:0}),Pa=Lt(zs),sl=v({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Ma=Lt(sl),ac=v({},He,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ja=Lt(ac),Jf=v({},He,{data:0}),al=Lt(Jf),qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ol(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=lc[n])?!!r[n]:!1}function Fs(){return ol}var uc=v({},Us,{key:function(n){if(n.key){var r=qs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ei(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?oc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(n){return n.type==="keypress"?Ei(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ei(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ka=Lt(uc),cc=v({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=Lt(cc),Zi=v({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),hc=Lt(Zi),fc=v({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),dc=Lt(fc),mc=v({},Bs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=Lt(mc),fn=v({},He,{newState:0,oldState:0}),pc=Lt(fn),gc=[9,13,27,32],Ai=ni&&"CompositionEvent"in window,c=null;ni&&"documentMode"in document&&(c=document.documentMode);var _=ni&&"TextEvent"in window&&!c,E=ni&&(!Ai||c&&8<c&&11>=c),S=" ",z=!1;function Y(n,r){switch(n){case"keyup":return gc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ke=!1;function Ot(n,r){switch(n){case"compositionend":return le(r);case"keypress":return r.which!==32?null:(z=!0,S);case"textInput":return n=r.data,n===S&&z?null:n;default:return null}}function Ve(n,r){if(ke)return n==="compositionend"||!Ai&&Y(n,r)?(n=il(),Wi=Or=vi=null,ke=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Ut[n.type]:r==="textarea"}function Ji(n,r,a,l){Qi?Xi?Xi.push(l):Xi=[l]:Qi=l,r=nh(r,"onChange"),0<r.length&&(a=new Na("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var $t=null,wi=null;function ul(n){qv(n,0)}function yc(n){var r=gi(n);if(Jo(r))return n}function uy(n,r){if(n==="change")return r}var cy=!1;if(ni){var ed;if(ni){var td="oninput"in document;if(!td){var hy=document.createElement("div");hy.setAttribute("oninput","return;"),td=typeof hy.oninput=="function"}ed=td}else ed=!1;cy=ed&&(!document.documentMode||9<document.documentMode)}function fy(){$t&&($t.detachEvent("onpropertychange",dy),wi=$t=null)}function dy(n){if(n.propertyName==="value"&&yc(wi)){var r=[];Ji(r,wi,n,Bn(n)),ic(ul,r)}}function Yw(n,r,a){n==="focusin"?(fy(),$t=r,wi=a,$t.attachEvent("onpropertychange",dy)):n==="focusout"&&fy()}function Kw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yc(wi)}function Qw(n,r){if(n==="click")return yc(r)}function Xw(n,r){if(n==="input"||n==="change")return yc(r)}function Ww(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Sn=typeof Object.is=="function"?Object.is:Ww;function cl(n,r){if(Sn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!bs.call(r,f)||!Sn(n[f],r[f]))return!1}return!0}function my(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function py(n,r){var a=my(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=my(a)}}function gy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?gy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function yy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ps(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ps(n.document)}return r}function nd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Zw=ni&&"documentMode"in document&&11>=document.documentMode,La=null,id=null,hl=null,rd=!1;function _y(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rd||La==null||La!==Ps(l)||(l=La,"selectionStart"in l&&nd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=nh(id,"onSelect"),0<l.length&&(r=new Na("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=La)))}function Hs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ua={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},sd={},vy={};ni&&(vy=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Gs(n){if(sd[n])return sd[n];if(!Ua[n])return n;var r=Ua[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in vy)return sd[n]=r[a];return n}var Ey=Gs("animationend"),Ty=Gs("animationiteration"),by=Gs("animationstart"),Jw=Gs("transitionrun"),eS=Gs("transitionstart"),tS=Gs("transitioncancel"),Ay=Gs("transitionend"),wy=new Map,ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ad.push("scrollEnd");function ii(n,r){wy.set(n,r),ti(r,[n])}var Sy=new WeakMap;function Fn(n,r){if(typeof n=="object"&&n!==null){var a=Sy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Ca(r)},Sy.set(n,r),r)}return{value:n,source:r,stack:Ca(r)}}var Hn=[],Ba=0,od=0;function _c(){for(var n=Ba,r=od=Ba=0;r<n;){var a=Hn[r];Hn[r++]=null;var l=Hn[r];Hn[r++]=null;var f=Hn[r];Hn[r++]=null;var m=Hn[r];if(Hn[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&Ry(a,f,m)}}function vc(n,r,a,l){Hn[Ba++]=n,Hn[Ba++]=r,Hn[Ba++]=a,Hn[Ba++]=l,od|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function ld(n,r,a,l){return vc(n,r,a,l),Ec(n)}function za(n,r){return vc(n,null,null,r),Ec(n)}function Ry(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&r!==null&&(f=31-en(a),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function Ec(n){if(50<kl)throw kl=0,mm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var qa={};function nS(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(n,r,a,l){return new nS(n,r,a,l)}function ud(n){return n=n.prototype,!(!n||!n.isReactComponent)}function er(n,r){var a=n.alternate;return a===null?(a=Rn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Cy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Tc(n,r,a,l,f,m){var T=0;if(l=n,typeof n=="function")ud(n)&&(T=1);else if(typeof n=="string")T=rR(n,a,_e.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=Rn(31,a,r,f),n.elementType=I,n.lanes=m,n;case j:return $s(a.children,f,m,r);case $:T=8,f|=24;break;case L:return n=Rn(12,a,r,f|2),n.elementType=L,n.lanes=m,n;case ae:return n=Rn(13,a,r,f),n.elementType=ae,n.lanes=m,n;case ie:return n=Rn(19,a,r,f),n.elementType=ie,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ne:case K:T=10;break e;case W:T=9;break e;case re:T=11;break e;case N:T=14;break e;case C:T=16,l=null;break e}T=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Rn(T,a,r,f),r.elementType=n,r.type=l,r.lanes=m,r}function $s(n,r,a,l){return n=Rn(7,n,l,r),n.lanes=a,n}function cd(n,r,a){return n=Rn(6,n,null,r),n.lanes=a,n}function hd(n,r,a){return r=Rn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Fa=[],Ha=0,bc=null,Ac=0,Gn=[],$n=0,Ys=null,tr=1,nr="";function Ks(n,r){Fa[Ha++]=Ac,Fa[Ha++]=bc,bc=n,Ac=r}function Iy(n,r,a){Gn[$n++]=tr,Gn[$n++]=nr,Gn[$n++]=Ys,Ys=n;var l=tr;n=nr;var f=32-en(l)-1;l&=~(1<<f),a+=1;var m=32-en(r)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,tr=1<<32-en(r)+f|a<<f|l,nr=m+n}else tr=1<<m|a<<f|l,nr=n}function fd(n){n.return!==null&&(Ks(n,1),Iy(n,1,0))}function dd(n){for(;n===bc;)bc=Fa[--Ha],Fa[Ha]=null,Ac=Fa[--Ha],Fa[Ha]=null;for(;n===Ys;)Ys=Gn[--$n],Gn[$n]=null,nr=Gn[--$n],Gn[$n]=null,tr=Gn[--$n],Gn[$n]=null}var dn=null,mt=null,qe=!1,Qs=null,Si=!1,md=Error(s(519));function Xs(n){var r=Error(s(418,""));throw ml(Fn(r,n)),md}function xy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Dt]=n,r[At]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Oe(Ll[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Ms(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ia(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),js(r,l.value,l.defaultValue,l.children),Ia(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||$v(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=ih),r=!0):r=!1,r||Xs(n)}function Ny(n){for(dn=n.return;dn;)switch(dn.tag){case 5:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:dn=dn.return}}function fl(n){if(n!==dn)return!1;if(!qe)return Ny(n),qe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Nm(n.type,n.memoizedProps)),a=!a),a&&mt&&Xs(n),Ny(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){mt=si(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}mt=null}}else r===27?(r=mt,Kr(n.type)?(n=Mm,Mm=null,mt=n):mt=r):mt=dn?si(n.stateNode.nextSibling):null;return!0}function dl(){mt=dn=null,qe=!1}function Dy(){var n=Qs;return n!==null&&(yn===null?yn=n:yn.push.apply(yn,n),Qs=null),n}function ml(n){Qs===null?Qs=[n]:Qs.push(n)}var pd=se(null),Ws=null,ir=null;function Pr(n,r,a){oe(pd,r._currentValue),r._currentValue=a}function rr(n){n._currentValue=pd.current,ce(pd)}function gd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function yd(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var x=0;x<r.length;x++)if(A.context===r[x]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),gd(m.return,a,n),l||(T=null);break e}m=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),gd(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function pl(n,r,a,l){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=f.type;Sn(f.pendingProps.value,T.value)||(n!==null?n.push(A):n=[A])}}else if(f===Vt.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Hl):n=[Hl])}f=f.return}n!==null&&yd(r,n,a,l),r.flags|=262144}function wc(n){for(n=n.firstContext;n!==null;){if(!Sn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Zs(n){Ws=n,ir=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function tn(n){return Oy(Ws,n)}function Sc(n,r){return Ws===null&&Zs(n),Oy(n,r)}function Oy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ir===null){if(n===null)throw Error(s(308));ir=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ir=ir.next=r;return a}var iS=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},rS=i.unstable_scheduleCallback,sS=i.unstable_NormalPriority,Mt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new iS,data:new Map,refCount:0}}function gl(n){n.refCount--,n.refCount===0&&rS(sS,function(){n.controller.abort()})}var yl=null,vd=0,Ga=0,$a=null;function aS(n,r){if(yl===null){var a=yl=[];vd=0,Ga=Tm(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vd++,r.then(Py,Py),r}function Py(){if(--vd===0&&yl!==null){$a!==null&&($a.status="fulfilled");var n=yl;yl=null,Ga=0,$a=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function oS(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var My=Q.S;Q.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&aS(n,r),My!==null&&My(n,r)};var Js=se(null);function Ed(){var n=Js.current;return n!==null?n:nt.pooledCache}function Rc(n,r){r===null?oe(Js,Js.current):oe(Js,r.pool)}function jy(){var n=Ed();return n===null?null:{parent:Mt._currentValue,pool:n}}var _l=Error(s(460)),ky=Error(s(474)),Cc=Error(s(542)),Td={then:function(){}};function Vy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ic(){}function Ly(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Ic,Ic),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,By(n),n;default:if(typeof r.status=="string")r.then(Ic,Ic);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,By(n),n}throw vl=r,_l}}var vl=null;function Uy(){if(vl===null)throw Error(s(459));var n=vl;return vl=null,n}function By(n){if(n===_l||n===Cc)throw Error(s(483))}var Mr=!1;function bd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function jr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function kr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Ec(n),Ry(n,null,a),r}return vc(n,l,r,a),Ec(n)}function El(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Ko(n,a)}}function wd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Sd=!1;function Tl(){if(Sd){var n=$a;if(n!==null)throw n}}function bl(n,r,a,l){Sd=!1;var f=n.updateQueue;Mr=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var x=A,F=x.next;x.next=null,T===null?m=F:T.next=F,T=x;var X=n.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==T&&(A===null?X.firstBaseUpdate=F:A.next=F,X.lastBaseUpdate=x))}if(m!==null){var ee=f.baseState;T=0,X=F=x=null,A=m;do{var H=A.lane&-536870913,G=H!==A.lane;if(G?(Le&H)===H:(l&H)===H){H!==0&&H===Ga&&(Sd=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var be=n,ve=A;H=r;var Je=a;switch(ve.tag){case 1:if(be=ve.payload,typeof be=="function"){ee=be.call(Je,ee,H);break e}ee=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ve.payload,H=typeof be=="function"?be.call(Je,ee,H):be,H==null)break e;ee=v({},ee,H);break e;case 2:Mr=!0}}H=A.callback,H!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(F=X=G,x=ee):X=X.next=G,T|=H;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;G=A,A=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);X===null&&(x=ee),f.baseState=x,f.firstBaseUpdate=F,f.lastBaseUpdate=X,m===null&&(f.shared.lanes=0),Hr|=T,n.lanes=T,n.memoizedState=ee}}function zy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function qy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)zy(a[n],r)}var Ya=se(null),xc=se(0);function Fy(n,r){n=hr,oe(xc,n),oe(Ya,r),hr=n|r.baseLanes}function Rd(){oe(xc,hr),oe(Ya,Ya.current)}function Cd(){hr=xc.current,ce(Ya),ce(xc)}var Vr=0,Ie=null,We=null,St=null,Nc=!1,Ka=!1,ea=!1,Dc=0,Al=0,Qa=null,lS=0;function Et(){throw Error(s(321))}function Id(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Sn(n[a],r[a]))return!1;return!0}function xd(n,r,a,l,f,m){return Vr=m,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=n===null||n.memoizedState===null?R_:C_,ea=!1,m=a(l,f),ea=!1,Ka&&(m=Gy(r,a,l,f)),Hy(n),m}function Hy(n){Q.H=Vc;var r=We!==null&&We.next!==null;if(Vr=0,St=We=Ie=null,Nc=!1,Al=0,Qa=null,r)throw Error(s(300));n===null||Bt||(n=n.dependencies,n!==null&&wc(n)&&(Bt=!0))}function Gy(n,r,a,l){Ie=n;var f=0;do{if(Ka&&(Qa=null),Al=0,Ka=!1,25<=f)throw Error(s(301));if(f+=1,St=We=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=pS,m=r(a,l)}while(Ka);return m}function uS(){var n=Q.H,r=n.useState()[0];return r=typeof r.then=="function"?wl(r):r,n=n.useState()[0],(We!==null?We.memoizedState:null)!==n&&(Ie.flags|=1024),r}function Nd(){var n=Dc!==0;return Dc=0,n}function Dd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Od(n){if(Nc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Nc=!1}Vr=0,St=We=Ie=null,Ka=!1,Al=Dc=0,Qa=null}function pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ie.memoizedState=St=n:St=St.next=n,St}function Rt(){if(We===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var r=St===null?Ie.memoizedState:St.next;if(r!==null)St=r,We=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},St===null?Ie.memoizedState=St=n:St=St.next=n}return St}function Pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(n){var r=Al;return Al+=1,Qa===null&&(Qa=[]),n=Ly(Qa,n,r),r=Ie,(St===null?r.memoizedState:St.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?R_:C_),n}function Oc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return wl(n);if(n.$$typeof===K)return tn(n)}throw Error(s(438,String(n)))}function Md(n){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Pd(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=M;return r.index++,a}function sr(n,r){return typeof r=="function"?r(n):r}function Pc(n){var r=Rt();return jd(r,We,n)}function jd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}r.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var A=T=null,x=null,F=r,X=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Le&ee)===ee:(Vr&ee)===ee){var H=F.revertLane;if(H===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===Ga&&(X=!0);else if((Vr&H)===H){F=F.next,H===Ga&&(X=!0);continue}else ee={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(A=x=ee,T=m):x=x.next=ee,Ie.lanes|=H,Hr|=H;ee=F.action,ea&&a(m,ee),m=F.hasEagerState?F.eagerState:a(m,ee)}else H={lane:ee,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(A=x=H,T=m):x=x.next=H,Ie.lanes|=ee,Hr|=ee;F=F.next}while(F!==null&&F!==r);if(x===null?T=m:x.next=A,!Sn(m,n.memoizedState)&&(Bt=!0,X&&(a=$a,a!==null)))throw a;n.memoizedState=m,n.baseState=T,n.baseQueue=x,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function kd(n){var r=Rt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=n(m,T.action),T=T.next;while(T!==f);Sn(m,r.memoizedState)||(Bt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function $y(n,r,a){var l=Ie,f=Rt(),m=qe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!Sn((We||f).memoizedState,a);T&&(f.memoizedState=a,Bt=!0),f=f.queue;var A=Qy.bind(null,l,f,n);if(Sl(2048,8,A,[n]),f.getSnapshot!==r||T||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Xa(9,Mc(),Ky.bind(null,l,f,a,r),null),nt===null)throw Error(s(349));m||(Vr&124)!==0||Yy(l,r,a)}return a}function Yy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=Pd(),Ie.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Ky(n,r,a,l){r.value=a,r.getSnapshot=l,Xy(r)&&Wy(n)}function Qy(n,r,a){return a(function(){Xy(r)&&Wy(n)})}function Xy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Sn(n,a)}catch{return!0}}function Wy(n){var r=za(n,2);r!==null&&Dn(r,n,2)}function Vd(n){var r=pn();if(typeof n=="function"){var a=n;if(n=a(),ea){An(!0);try{a()}finally{An(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:n},r}function Zy(n,r,a,l){return n.baseState=a,jd(n,We,typeof l=="function"?l:sr)}function cS(n,r,a,l,f){if(kc(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};Q.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Jy(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Jy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var m=Q.T,T={};Q.T=T;try{var A=a(f,l),x=Q.S;x!==null&&x(T,A),e_(n,r,A)}catch(F){Ld(n,r,F)}finally{Q.T=m}}else try{m=a(f,l),e_(n,r,m)}catch(F){Ld(n,r,F)}}function e_(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){t_(n,r,l)},function(l){return Ld(n,r,l)}):t_(n,r,a)}function t_(n,r,a){r.status="fulfilled",r.value=a,n_(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Jy(n,a)))}function Ld(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,n_(r),r=r.next;while(r!==l)}n.action=null}function n_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function i_(n,r){return r}function r_(n,r){if(qe){var a=nt.formState;if(a!==null){e:{var l=Ie;if(qe){if(mt){t:{for(var f=mt,m=Si;f.nodeType!==8;){if(!m){f=null;break t}if(f=si(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){mt=si(f.nextSibling),l=f.data==="F!";break e}}Xs(l)}l=!1}l&&(r=a[0])}}return a=pn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i_,lastRenderedState:r},a.queue=l,a=A_.bind(null,Ie,l),l.dispatch=a,l=Vd(!1),m=Fd.bind(null,Ie,!1,l.queue),l=pn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=cS.bind(null,Ie,f,m,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function s_(n){var r=Rt();return a_(r,We,n)}function a_(n,r,a){if(r=jd(n,r,i_)[0],n=Pc(sr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=wl(r)}catch(T){throw T===_l?Cc:T}else l=r;r=Rt();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Xa(9,Mc(),hS.bind(null,f,a),null)),[l,m,n]}function hS(n,r){n.action=r}function o_(n){var r=Rt(),a=We;if(a!==null)return a_(r,a,n);Rt(),r=r.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Xa(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Pd(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Mc(){return{destroy:void 0,resource:void 0}}function l_(){return Rt().memoizedState}function jc(n,r,a,l){var f=pn();l=l===void 0?null:l,Ie.flags|=n,f.memoizedState=Xa(1|r,Mc(),a,l)}function Sl(n,r,a,l){var f=Rt();l=l===void 0?null:l;var m=f.memoizedState.inst;We!==null&&l!==null&&Id(l,We.memoizedState.deps)?f.memoizedState=Xa(r,m,a,l):(Ie.flags|=n,f.memoizedState=Xa(1|r,m,a,l))}function u_(n,r){jc(8390656,8,n,r)}function c_(n,r){Sl(2048,8,n,r)}function h_(n,r){return Sl(4,2,n,r)}function f_(n,r){return Sl(4,4,n,r)}function d_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function m_(n,r,a){a=a!=null?a.concat([n]):null,Sl(4,4,d_.bind(null,r,n),a)}function Ud(){}function p_(n,r){var a=Rt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Id(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function g_(n,r){var a=Rt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Id(r,l[1]))return l[0];if(l=n(),ea){An(!0);try{n()}finally{An(!1)}}return a.memoizedState=[l,r],l}function Bd(n,r,a){return a===void 0||(Vr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=vv(),Ie.lanes|=n,Hr|=n,a)}function y_(n,r,a,l){return Sn(a,r)?a:Ya.current!==null?(n=Bd(n,a,l),Sn(n,r)||(Bt=!0),n):(Vr&42)===0?(Bt=!0,n.memoizedState=a):(n=vv(),Ie.lanes|=n,Hr|=n,r)}function __(n,r,a,l,f){var m=ue.p;ue.p=m!==0&&8>m?m:8;var T=Q.T,A={};Q.T=A,Fd(n,!1,r,a);try{var x=f(),F=Q.S;if(F!==null&&F(A,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var X=oS(x,l);Rl(n,r,X,Nn(n))}else Rl(n,r,l,Nn(n))}catch(ee){Rl(n,r,{then:function(){},status:"rejected",reason:ee},Nn())}finally{ue.p=m,Q.T=T}}function fS(){}function zd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=v_(n).queue;__(n,f,r,ge,a===null?fS:function(){return E_(n),a(l)})}function v_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function E_(n){var r=v_(n).next.queue;Rl(n,r,{},Nn())}function qd(){return tn(Hl)}function T_(){return Rt().memoizedState}function b_(){return Rt().memoizedState}function dS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Nn();n=jr(a);var l=kr(r,n,a);l!==null&&(Dn(l,r,a),El(l,r,a)),r={cache:_d()},n.payload=r;return}r=r.return}}function mS(n,r,a){var l=Nn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},kc(n)?w_(r,a):(a=ld(n,r,a,l),a!==null&&(Dn(a,n,l),S_(a,r,l)))}function A_(n,r,a){var l=Nn();Rl(n,r,a,l)}function Rl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(kc(n))w_(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,A=m(T,a);if(f.hasEagerState=!0,f.eagerState=A,Sn(A,T))return vc(n,r,f,0),nt===null&&_c(),!1}catch{}finally{}if(a=ld(n,r,f,l),a!==null)return Dn(a,n,l),S_(a,r,l),!0}return!1}function Fd(n,r,a,l){if(l={lane:2,revertLane:Tm(),action:l,hasEagerState:!1,eagerState:null,next:null},kc(n)){if(r)throw Error(s(479))}else r=ld(n,a,l,2),r!==null&&Dn(r,n,2)}function kc(n){var r=n.alternate;return n===Ie||r!==null&&r===Ie}function w_(n,r){Ka=Nc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function S_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Ko(n,a)}}var Vc={readContext:tn,use:Oc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},R_={readContext:tn,use:Oc,useCallback:function(n,r){return pn().memoizedState=[n,r===void 0?null:r],n},useContext:tn,useEffect:u_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,jc(4194308,4,d_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return jc(4194308,4,n,r)},useInsertionEffect:function(n,r){jc(4,2,n,r)},useMemo:function(n,r){var a=pn();r=r===void 0?null:r;var l=n();if(ea){An(!0);try{n()}finally{An(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=pn();if(a!==void 0){var f=a(r);if(ea){An(!0);try{a(r)}finally{An(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=mS.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var r=pn();return n={current:n},r.memoizedState=n},useState:function(n){n=Vd(n);var r=n.queue,a=A_.bind(null,Ie,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Ud,useDeferredValue:function(n,r){var a=pn();return Bd(a,n,r)},useTransition:function(){var n=Vd(!1);return n=__.bind(null,Ie,n.queue,!0,!1),pn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ie,f=pn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(Le&124)!==0||Yy(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,u_(Qy.bind(null,l,m,n),[n]),l.flags|=2048,Xa(9,Mc(),Ky.bind(null,l,m,a,r),null),a},useId:function(){var n=pn(),r=nt.identifierPrefix;if(qe){var a=nr,l=tr;a=(l&~(1<<32-en(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=Dc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=lS++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:qd,useFormState:r_,useActionState:r_,useOptimistic:function(n){var r=pn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Fd.bind(null,Ie,!0,a),a.dispatch=r,[n,r]},useMemoCache:Md,useCacheRefresh:function(){return pn().memoizedState=dS.bind(null,Ie)}},C_={readContext:tn,use:Oc,useCallback:p_,useContext:tn,useEffect:c_,useImperativeHandle:m_,useInsertionEffect:h_,useLayoutEffect:f_,useMemo:g_,useReducer:Pc,useRef:l_,useState:function(){return Pc(sr)},useDebugValue:Ud,useDeferredValue:function(n,r){var a=Rt();return y_(a,We.memoizedState,n,r)},useTransition:function(){var n=Pc(sr)[0],r=Rt().memoizedState;return[typeof n=="boolean"?n:wl(n),r]},useSyncExternalStore:$y,useId:T_,useHostTransitionStatus:qd,useFormState:s_,useActionState:s_,useOptimistic:function(n,r){var a=Rt();return Zy(a,We,n,r)},useMemoCache:Md,useCacheRefresh:b_},pS={readContext:tn,use:Oc,useCallback:p_,useContext:tn,useEffect:c_,useImperativeHandle:m_,useInsertionEffect:h_,useLayoutEffect:f_,useMemo:g_,useReducer:kd,useRef:l_,useState:function(){return kd(sr)},useDebugValue:Ud,useDeferredValue:function(n,r){var a=Rt();return We===null?Bd(a,n,r):y_(a,We.memoizedState,n,r)},useTransition:function(){var n=kd(sr)[0],r=Rt().memoizedState;return[typeof n=="boolean"?n:wl(n),r]},useSyncExternalStore:$y,useId:T_,useHostTransitionStatus:qd,useFormState:o_,useActionState:o_,useOptimistic:function(n,r){var a=Rt();return We!==null?Zy(a,We,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Md,useCacheRefresh:b_},Wa=null,Cl=0;function Lc(n){var r=Cl;return Cl+=1,Wa===null&&(Wa=[]),Ly(Wa,n,r)}function Il(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Uc(n,r){throw r.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function I_(n){var r=n._init;return r(n._payload)}function x_(n){function r(V,P){if(n){var q=V.deletions;q===null?(V.deletions=[P],V.flags|=16):q.push(P)}}function a(V,P){if(!n)return null;for(;P!==null;)r(V,P),P=P.sibling;return null}function l(V){for(var P=new Map;V!==null;)V.key!==null?P.set(V.key,V):P.set(V.index,V),V=V.sibling;return P}function f(V,P){return V=er(V,P),V.index=0,V.sibling=null,V}function m(V,P,q){return V.index=q,n?(q=V.alternate,q!==null?(q=q.index,q<P?(V.flags|=67108866,P):q):(V.flags|=67108866,P)):(V.flags|=1048576,P)}function T(V){return n&&V.alternate===null&&(V.flags|=67108866),V}function A(V,P,q,Z){return P===null||P.tag!==6?(P=cd(q,V.mode,Z),P.return=V,P):(P=f(P,q),P.return=V,P)}function x(V,P,q,Z){var me=q.type;return me===j?X(V,P,q.props.children,Z,q.key):P!==null&&(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&I_(me)===P.type)?(P=f(P,q.props),Il(P,q),P.return=V,P):(P=Tc(q.type,q.key,q.props,null,V.mode,Z),Il(P,q),P.return=V,P)}function F(V,P,q,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=hd(q,V.mode,Z),P.return=V,P):(P=f(P,q.children||[]),P.return=V,P)}function X(V,P,q,Z,me){return P===null||P.tag!==7?(P=$s(q,V.mode,Z,me),P.return=V,P):(P=f(P,q),P.return=V,P)}function ee(V,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=cd(""+P,V.mode,q),P.return=V,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case w:return q=Tc(P.type,P.key,P.props,null,V.mode,q),Il(q,P),q.return=V,q;case R:return P=hd(P,V.mode,q),P.return=V,P;case C:var Z=P._init;return P=Z(P._payload),ee(V,P,q)}if(ft(P)||U(P))return P=$s(P,V.mode,q,null),P.return=V,P;if(typeof P.then=="function")return ee(V,Lc(P),q);if(P.$$typeof===K)return ee(V,Sc(V,P),q);Uc(V,P)}return null}function H(V,P,q,Z){var me=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return me!==null?null:A(V,P,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===me?x(V,P,q,Z):null;case R:return q.key===me?F(V,P,q,Z):null;case C:return me=q._init,q=me(q._payload),H(V,P,q,Z)}if(ft(q)||U(q))return me!==null?null:X(V,P,q,Z,null);if(typeof q.then=="function")return H(V,P,Lc(q),Z);if(q.$$typeof===K)return H(V,P,Sc(V,q),Z);Uc(V,q)}return null}function G(V,P,q,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return V=V.get(q)||null,A(P,V,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return V=V.get(Z.key===null?q:Z.key)||null,x(P,V,Z,me);case R:return V=V.get(Z.key===null?q:Z.key)||null,F(P,V,Z,me);case C:var Ne=Z._init;return Z=Ne(Z._payload),G(V,P,q,Z,me)}if(ft(Z)||U(Z))return V=V.get(q)||null,X(P,V,Z,me,null);if(typeof Z.then=="function")return G(V,P,q,Lc(Z),me);if(Z.$$typeof===K)return G(V,P,q,Sc(P,Z),me);Uc(P,Z)}return null}function be(V,P,q,Z){for(var me=null,Ne=null,pe=P,Ee=P=0,qt=null;pe!==null&&Ee<q.length;Ee++){pe.index>Ee?(qt=pe,pe=null):qt=pe.sibling;var Be=H(V,pe,q[Ee],Z);if(Be===null){pe===null&&(pe=qt);break}n&&pe&&Be.alternate===null&&r(V,pe),P=m(Be,P,Ee),Ne===null?me=Be:Ne.sibling=Be,Ne=Be,pe=qt}if(Ee===q.length)return a(V,pe),qe&&Ks(V,Ee),me;if(pe===null){for(;Ee<q.length;Ee++)pe=ee(V,q[Ee],Z),pe!==null&&(P=m(pe,P,Ee),Ne===null?me=pe:Ne.sibling=pe,Ne=pe);return qe&&Ks(V,Ee),me}for(pe=l(pe);Ee<q.length;Ee++)qt=G(pe,V,Ee,q[Ee],Z),qt!==null&&(n&&qt.alternate!==null&&pe.delete(qt.key===null?Ee:qt.key),P=m(qt,P,Ee),Ne===null?me=qt:Ne.sibling=qt,Ne=qt);return n&&pe.forEach(function(Jr){return r(V,Jr)}),qe&&Ks(V,Ee),me}function ve(V,P,q,Z){if(q==null)throw Error(s(151));for(var me=null,Ne=null,pe=P,Ee=P=0,qt=null,Be=q.next();pe!==null&&!Be.done;Ee++,Be=q.next()){pe.index>Ee?(qt=pe,pe=null):qt=pe.sibling;var Jr=H(V,pe,Be.value,Z);if(Jr===null){pe===null&&(pe=qt);break}n&&pe&&Jr.alternate===null&&r(V,pe),P=m(Jr,P,Ee),Ne===null?me=Jr:Ne.sibling=Jr,Ne=Jr,pe=qt}if(Be.done)return a(V,pe),qe&&Ks(V,Ee),me;if(pe===null){for(;!Be.done;Ee++,Be=q.next())Be=ee(V,Be.value,Z),Be!==null&&(P=m(Be,P,Ee),Ne===null?me=Be:Ne.sibling=Be,Ne=Be);return qe&&Ks(V,Ee),me}for(pe=l(pe);!Be.done;Ee++,Be=q.next())Be=G(pe,V,Ee,Be.value,Z),Be!==null&&(n&&Be.alternate!==null&&pe.delete(Be.key===null?Ee:Be.key),P=m(Be,P,Ee),Ne===null?me=Be:Ne.sibling=Be,Ne=Be);return n&&pe.forEach(function(gR){return r(V,gR)}),qe&&Ks(V,Ee),me}function Je(V,P,q,Z){if(typeof q=="object"&&q!==null&&q.type===j&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:e:{for(var me=q.key;P!==null;){if(P.key===me){if(me=q.type,me===j){if(P.tag===7){a(V,P.sibling),Z=f(P,q.props.children),Z.return=V,V=Z;break e}}else if(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&I_(me)===P.type){a(V,P.sibling),Z=f(P,q.props),Il(Z,q),Z.return=V,V=Z;break e}a(V,P);break}else r(V,P);P=P.sibling}q.type===j?(Z=$s(q.props.children,V.mode,Z,q.key),Z.return=V,V=Z):(Z=Tc(q.type,q.key,q.props,null,V.mode,Z),Il(Z,q),Z.return=V,V=Z)}return T(V);case R:e:{for(me=q.key;P!==null;){if(P.key===me)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(V,P.sibling),Z=f(P,q.children||[]),Z.return=V,V=Z;break e}else{a(V,P);break}else r(V,P);P=P.sibling}Z=hd(q,V.mode,Z),Z.return=V,V=Z}return T(V);case C:return me=q._init,q=me(q._payload),Je(V,P,q,Z)}if(ft(q))return be(V,P,q,Z);if(U(q)){if(me=U(q),typeof me!="function")throw Error(s(150));return q=me.call(q),ve(V,P,q,Z)}if(typeof q.then=="function")return Je(V,P,Lc(q),Z);if(q.$$typeof===K)return Je(V,P,Sc(V,q),Z);Uc(V,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(V,P.sibling),Z=f(P,q),Z.return=V,V=Z):(a(V,P),Z=cd(q,V.mode,Z),Z.return=V,V=Z),T(V)):a(V,P)}return function(V,P,q,Z){try{Cl=0;var me=Je(V,P,q,Z);return Wa=null,me}catch(pe){if(pe===_l||pe===Cc)throw pe;var Ne=Rn(29,pe,null,V.mode);return Ne.lanes=Z,Ne.return=V,Ne}finally{}}}var Za=x_(!0),N_=x_(!1),Yn=se(null),Ri=null;function Lr(n){var r=n.alternate;oe(jt,jt.current&1),oe(Yn,n),Ri===null&&(r===null||Ya.current!==null||r.memoizedState!==null)&&(Ri=n)}function D_(n){if(n.tag===22){if(oe(jt,jt.current),oe(Yn,n),Ri===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ri=n)}}else Ur()}function Ur(){oe(jt,jt.current),oe(Yn,Yn.current)}function ar(n){ce(Yn),Ri===n&&(Ri=null),ce(jt)}var jt=se(0);function Bc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Pm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Hd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Gd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Nn(),f=jr(l);f.payload=r,a!=null&&(f.callback=a),r=kr(n,f,l),r!==null&&(Dn(r,n,l),El(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Nn(),f=jr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=kr(n,f,l),r!==null&&(Dn(r,n,l),El(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Nn(),l=jr(a);l.tag=2,r!=null&&(l.callback=r),r=kr(n,l,a),r!==null&&(Dn(r,n,a),El(r,n,a))}};function O_(n,r,a,l,f,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,T):r.prototype&&r.prototype.isPureReactComponent?!cl(a,l)||!cl(f,m):!0}function P_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Gd.enqueueReplaceState(r,r.state,null)}function ta(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var zc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function M_(n){zc(n)}function j_(n){console.error(n)}function k_(n){zc(n)}function qc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function V_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function $d(n,r,a){return a=jr(a),a.tag=3,a.payload={element:null},a.callback=function(){qc(n,r)},a}function L_(n){return n=jr(n),n.tag=3,n}function U_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){V_(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){V_(r,a,l),typeof f!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function gS(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&pl(r,a,f,!0),a=Yn.current,a!==null){switch(a.tag){case 13:return Ri===null?gm():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Td?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),_m(n,l,f)),!1;case 22:return a.flags|=65536,l===Td?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),_m(n,l,f)),!1}throw Error(s(435,a.tag))}return _m(n,l,f),gm(),!1}if(qe)return r=Yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==md&&(n=Error(s(422),{cause:l}),ml(Fn(n,a)))):(l!==md&&(r=Error(s(423),{cause:l}),ml(Fn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Fn(l,a),f=$d(n.stateNode,l,f),wd(n,f),pt!==4&&(pt=2)),!1;var m=Error(s(520),{cause:l});if(m=Fn(m,a),jl===null?jl=[m]:jl.push(m),pt!==4&&(pt=2),r===null)return!0;l=Fn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=$d(a.stateNode,l,n),wd(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gr===null||!Gr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=L_(f),U_(f,n,a,l),wd(a,f),!1}a=a.return}while(a!==null);return!1}var B_=Error(s(461)),Bt=!1;function Yt(n,r,a,l){r.child=n===null?N_(r,null,a,l):Za(r,n.child,a,l)}function z_(n,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var T={};for(var A in l)A!=="ref"&&(T[A]=l[A])}else T=l;return Zs(r),l=xd(n,r,a,T,m,f),A=Nd(),n!==null&&!Bt?(Dd(n,r,f),or(n,r,f)):(qe&&A&&fd(r),r.flags|=1,Yt(n,r,l,f),r.child)}function q_(n,r,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!ud(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,F_(n,r,m,l,f)):(n=Tc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!em(n,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(T,l)&&n.ref===r.ref)return or(n,r,f)}return r.flags|=1,n=er(m,l),n.ref=r.ref,n.return=r,r.child=n}function F_(n,r,a,l,f){if(n!==null){var m=n.memoizedProps;if(cl(m,l)&&n.ref===r.ref)if(Bt=!1,r.pendingProps=l=m,em(n,f))(n.flags&131072)!==0&&(Bt=!0);else return r.lanes=n.lanes,or(n,r,f)}return Yd(n,r,a,l,f)}function H_(n,r,a){var l=r.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(f=r.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return G_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Rc(r,m!==null?m.cachePool:null),m!==null?Fy(r,m):Rd(),D_(r);else return r.lanes=r.childLanes=536870912,G_(n,r,m!==null?m.baseLanes|a:a,a)}else m!==null?(Rc(r,m.cachePool),Fy(r,m),Ur(),r.memoizedState=null):(n!==null&&Rc(r,null),Rd(),Ur());return Yt(n,r,f,a),r.child}function G_(n,r,a,l){var f=Ed();return f=f===null?null:{parent:Mt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Rc(r,null),Rd(),D_(r),n!==null&&pl(n,r,l,!0),null}function Fc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Yd(n,r,a,l,f){return Zs(r),a=xd(n,r,a,l,void 0,f),l=Nd(),n!==null&&!Bt?(Dd(n,r,f),or(n,r,f)):(qe&&l&&fd(r),r.flags|=1,Yt(n,r,a,f),r.child)}function $_(n,r,a,l,f,m){return Zs(r),r.updateQueue=null,a=Gy(r,l,a,f),Hy(n),l=Nd(),n!==null&&!Bt?(Dd(n,r,m),or(n,r,m)):(qe&&l&&fd(r),r.flags|=1,Yt(n,r,a,m),r.child)}function Y_(n,r,a,l,f){if(Zs(r),r.stateNode===null){var m=qa,T=a.contextType;typeof T=="object"&&T!==null&&(m=tn(T)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Gd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},bd(r),T=a.contextType,m.context=typeof T=="object"&&T!==null?tn(T):qa,m.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Hd(r,a,T,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Gd.enqueueReplaceState(m,m.state,null),bl(r,l,m,f),Tl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){m=r.stateNode;var A=r.memoizedProps,x=ta(a,A);m.props=x;var F=m.context,X=a.contextType;T=qa,typeof X=="object"&&X!==null&&(T=tn(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||F!==T)&&P_(r,m,l,T),Mr=!1;var H=r.memoizedState;m.state=H,bl(r,l,m,f),Tl(),F=r.memoizedState,A||H!==F||Mr?(typeof ee=="function"&&(Hd(r,a,ee,l),F=r.memoizedState),(x=Mr||O_(r,a,x,l,H,F,T))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),m.props=l,m.state=F,m.context=T,l=x):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Ad(n,r),T=r.memoizedProps,X=ta(a,T),m.props=X,ee=r.pendingProps,H=m.context,F=a.contextType,x=qa,typeof F=="object"&&F!==null&&(x=tn(F)),A=a.getDerivedStateFromProps,(F=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==ee||H!==x)&&P_(r,m,l,x),Mr=!1,H=r.memoizedState,m.state=H,bl(r,l,m,f),Tl();var G=r.memoizedState;T!==ee||H!==G||Mr||n!==null&&n.dependencies!==null&&wc(n.dependencies)?(typeof A=="function"&&(Hd(r,a,A,l),G=r.memoizedState),(X=Mr||O_(r,a,X,l,H,G,x)||n!==null&&n.dependencies!==null&&wc(n.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,G,x),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,G,x)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),m.props=l,m.state=G,m.context=x,l=X):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),l=!1)}return m=l,Fc(n,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&l?(r.child=Za(r,n.child,null,f),r.child=Za(r,null,a,f)):Yt(n,r,a,f),r.memoizedState=m.state,n=r.child):n=or(n,r,f),n}function K_(n,r,a,l){return dl(),r.flags|=256,Yt(n,r,a,l),r.child}var Kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qd(n){return{baseLanes:n,cachePool:jy()}}function Xd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Kn),n}function Q_(n,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(jt.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,n===null){if(qe){if(f?Lr(r):Ur(),qe){var A=mt,x;if(x=A){e:{for(x=A,A=Si;x.nodeType!==8;){if(!A){A=null;break e}if(x=si(x.nextSibling),x===null){A=null;break e}}A=x}A!==null?(r.memoizedState={dehydrated:A,treeContext:Ys!==null?{id:tr,overflow:nr}:null,retryLane:536870912,hydrationErrors:null},x=Rn(18,null,null,0),x.stateNode=A,x.return=r,r.child=x,dn=r,mt=null,x=!0):x=!1}x||Xs(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Pm(A)?r.lanes=32:r.lanes=536870912,null;ar(r)}return A=l.children,l=l.fallback,f?(Ur(),f=r.mode,A=Hc({mode:"hidden",children:A},f),l=$s(l,f,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,f=r.child,f.memoizedState=Qd(a),f.childLanes=Xd(n,T,a),r.memoizedState=Kd,l):(Lr(r),Wd(r,A))}if(x=n.memoizedState,x!==null&&(A=x.dehydrated,A!==null)){if(m)r.flags&256?(Lr(r),r.flags&=-257,r=Zd(n,r,a)):r.memoizedState!==null?(Ur(),r.child=n.child,r.flags|=128,r=null):(Ur(),f=l.fallback,A=r.mode,l=Hc({mode:"visible",children:l.children},A),f=$s(f,A,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Za(r,n.child,null,a),l=r.child,l.memoizedState=Qd(a),l.childLanes=Xd(n,T,a),r.memoizedState=Kd,r=f);else if(Lr(r),Pm(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var F=T.dgst;T=F,l=Error(s(419)),l.stack="",l.digest=T,ml({value:l,source:null,stack:null}),r=Zd(n,r,a)}else if(Bt||pl(n,r,a,!1),T=(a&n.childLanes)!==0,Bt||T){if(T=nt,T!==null&&(l=a&-a,l=(l&42)!==0?1:Rr(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,za(n,l),Dn(T,n,l),B_;A.data==="$?"||gm(),r=Zd(n,r,a)}else A.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=x.treeContext,mt=si(A.nextSibling),dn=r,qe=!0,Qs=null,Si=!1,n!==null&&(Gn[$n++]=tr,Gn[$n++]=nr,Gn[$n++]=Ys,tr=n.id,nr=n.overflow,Ys=r),r=Wd(r,l.children),r.flags|=4096);return r}return f?(Ur(),f=l.fallback,A=r.mode,x=n.child,F=x.sibling,l=er(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,F!==null?f=er(F,f):(f=$s(f,A,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,A=n.child.memoizedState,A===null?A=Qd(a):(x=A.cachePool,x!==null?(F=Mt._currentValue,x=x.parent!==F?{parent:F,pool:F}:x):x=jy(),A={baseLanes:A.baseLanes|a,cachePool:x}),f.memoizedState=A,f.childLanes=Xd(n,T,a),r.memoizedState=Kd,l):(Lr(r),a=n.child,n=a.sibling,a=er(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(T=r.deletions,T===null?(r.deletions=[n],r.flags|=16):T.push(n)),r.child=a,r.memoizedState=null,a)}function Wd(n,r){return r=Hc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Hc(n,r){return n=Rn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Zd(n,r,a){return Za(r,n.child,null,a),n=Wd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function X_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),gd(n.return,r,a)}function Jd(n,r,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function W_(n,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(Yt(n,r,l.children,a),l=jt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&X_(n,a,r);else if(n.tag===19)X_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(oe(jt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Bc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Jd(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Bc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Jd(r,!0,a,null,m);break;case"together":Jd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function or(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Hr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(pl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=er(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=er(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function em(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&wc(n)))}function yS(n,r,a){switch(r.tag){case 3:tt(r,r.stateNode.containerInfo),Pr(r,Mt,n.memoizedState.cache),dl();break;case 27:case 5:Sr(r);break;case 4:tt(r,r.stateNode.containerInfo);break;case 10:Pr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Lr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Q_(n,r,a):(Lr(r),n=or(n,r,a),n!==null?n.sibling:null);Lr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(pl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return W_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(jt,jt.current),l)break;return null;case 22:case 23:return r.lanes=0,H_(n,r,a);case 24:Pr(r,Mt,n.memoizedState.cache)}return or(n,r,a)}function Z_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Bt=!0;else{if(!em(n,a)&&(r.flags&128)===0)return Bt=!1,yS(n,r,a);Bt=(n.flags&131072)!==0}else Bt=!1,qe&&(r.flags&1048576)!==0&&Iy(r,Ac,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")ud(l)?(n=ta(l,n),r.tag=1,r=Y_(null,r,l,n,a)):(r.tag=0,r=Yd(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===re){r.tag=11,r=z_(null,r,l,n,a);break e}else if(f===N){r.tag=14,r=q_(null,r,l,n,a);break e}}throw r=Ht(l)||l,Error(s(306,r,""))}}return r;case 0:return Yd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ta(l,r.pendingProps),Y_(n,r,l,f,a);case 3:e:{if(tt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Ad(n,r),bl(r,l,null,a);var T=r.memoizedState;if(l=T.cache,Pr(r,Mt,l),l!==m.cache&&yd(r,[Mt],a,!0),Tl(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=K_(n,r,l,a);break e}else if(l!==f){f=Fn(Error(s(424)),r),ml(f),r=K_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(mt=si(n.firstChild),dn=r,qe=!0,Qs=null,Si=!0,a=N_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(dl(),l===f){r=or(n,r,a);break e}Yt(n,r,l,a)}r=r.child}return r;case 26:return Fc(n,r),n===null?(a=nE(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,n=r.pendingProps,l=rh(we.current).createElement(a),l[Dt]=r,l[At]=n,Qt(l,a,n),vt(l),r.stateNode=l):r.memoizedState=nE(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Sr(r),n===null&&qe&&(l=r.stateNode=Jv(r.type,r.pendingProps,we.current),dn=r,Si=!0,f=mt,Kr(r.type)?(Mm=f,mt=si(l.firstChild)):mt=f),Yt(n,r,r.pendingProps.children,a),Fc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&qe&&((f=l=mt)&&(l=GS(l,r.type,r.pendingProps,Si),l!==null?(r.stateNode=l,dn=r,mt=si(l.firstChild),Si=!1,f=!0):f=!1),f||Xs(r)),Sr(r),f=r.type,m=r.pendingProps,T=n!==null?n.memoizedProps:null,l=m.children,Nm(f,m)?l=null:T!==null&&Nm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=xd(n,r,uS,null,null,a),Hl._currentValue=f),Fc(n,r),Yt(n,r,l,a),r.child;case 6:return n===null&&qe&&((n=a=mt)&&(a=$S(a,r.pendingProps,Si),a!==null?(r.stateNode=a,dn=r,mt=null,n=!0):n=!1),n||Xs(r)),null;case 13:return Q_(n,r,a);case 4:return tt(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Za(r,null,l,a):Yt(n,r,l,a),r.child;case 11:return z_(n,r,r.type,r.pendingProps,a);case 7:return Yt(n,r,r.pendingProps,a),r.child;case 8:return Yt(n,r,r.pendingProps.children,a),r.child;case 12:return Yt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Pr(r,r.type,l.value),Yt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Zs(r),f=tn(f),l=l(f),r.flags|=1,Yt(n,r,l,a),r.child;case 14:return q_(n,r,r.type,r.pendingProps,a);case 15:return F_(n,r,r.type,r.pendingProps,a);case 19:return W_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Hc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=er(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return H_(n,r,a);case 24:return Zs(r),l=tn(Mt),n===null?(f=Ed(),f===null&&(f=nt,m=_d(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},bd(r),Pr(r,Mt,f)):((n.lanes&a)!==0&&(Ad(n,r),bl(r,null,null,a),Tl()),f=n.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Pr(r,Mt,l)):(l=m.cache,Pr(r,Mt,l),l!==f.cache&&yd(r,[Mt],a,!0))),Yt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function lr(n){n.flags|=4}function J_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!oE(r)){if(r=Yn.current,r!==null&&((Le&4194048)===Le?Ri!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==Ri))throw vl=Td,ky;n.flags|=8192}}function Gc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?$o():536870912,n.lanes|=r,no|=r)}function xl(n,r){if(!qe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ct(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function _S(n,r,a){var l=r.pendingProps;switch(dd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),rr(Mt),di(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(fl(r)?lr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Dy())),ct(r),null;case 26:return a=r.memoizedState,n===null?(lr(r),a!==null?(ct(r),J_(r,a)):(ct(r),r.flags&=-16777217)):a?a!==n.memoizedState?(lr(r),ct(r),J_(r,a)):(ct(r),r.flags&=-16777217):(n.memoizedProps!==l&&lr(r),ct(r),r.flags&=-16777217),null;case 27:zi(r),a=we.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&lr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}n=_e.current,fl(r)?xy(r):(n=Jv(f,l,a),r.stateNode=n,lr(r))}return ct(r),null;case 5:if(zi(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&lr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(n=_e.current,fl(r))xy(r);else{switch(f=rh(we.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Dt]=r,n[At]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Qt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&lr(r)}}return ct(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&lr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=we.current,fl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=dn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Dt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||$v(n.nodeValue,a)),n||Xs(r)}else n=rh(n).createTextNode(l),n[Dt]=r,r.stateNode=n}return ct(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=fl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Dt]=r}else dl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),f=!1}else f=Dy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ar(r),r):(ar(r),null)}if(ar(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Gc(r,r.updateQueue),ct(r),null;case 4:return di(),n===null&&Sm(r.stateNode.containerInfo),ct(r),null;case 10:return rr(r.type),ct(r),null;case 19:if(ce(jt),f=r.memoizedState,f===null)return ct(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)xl(f,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=Bc(n),m!==null){for(r.flags|=128,xl(f,!1),n=m.updateQueue,r.updateQueue=n,Gc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Cy(a,n),a=a.sibling;return oe(jt,jt.current&1|2),r.child}n=n.sibling}f.tail!==null&&Vn()>Kc&&(r.flags|=128,l=!0,xl(f,!1),r.lanes=4194304)}else{if(!l)if(n=Bc(m),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Gc(r,n),xl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!qe)return ct(r),null}else 2*Vn()-f.renderingStartTime>Kc&&a!==536870912&&(r.flags|=128,l=!0,xl(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Vn(),r.sibling=null,n=jt.current,oe(jt,l?n&1|2:n&1),r):(ct(r),null);case 22:case 23:return ar(r),Cd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),a=r.updateQueue,a!==null&&Gc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ce(Js),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),rr(Mt),ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function vS(n,r){switch(dd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return rr(Mt),di(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return zi(r),null;case 13:if(ar(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));dl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ce(jt),null;case 4:return di(),null;case 10:return rr(r.type),null;case 22:case 23:return ar(r),Cd(),n!==null&&ce(Js),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return rr(Mt),null;case 25:return null;default:return null}}function ev(n,r){switch(dd(r),r.tag){case 3:rr(Mt),di();break;case 26:case 27:case 5:zi(r);break;case 4:di();break;case 13:ar(r);break;case 19:ce(jt);break;case 10:rr(r.type);break;case 22:case 23:ar(r),Cd(),n!==null&&ce(Js);break;case 24:rr(Mt)}}function Nl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==f)}}catch(A){et(r,r.return,A)}}function Br(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var T=l.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=r;var x=a,F=A;try{F()}catch(X){et(f,x,X)}}}l=l.next}while(l!==m)}}catch(X){et(r,r.return,X)}}function tv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{qy(r,a)}catch(l){et(n,n.return,l)}}}function nv(n,r,a){a.props=ta(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){et(n,r,l)}}function Dl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){et(n,r,f)}}function Ci(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){et(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){et(n,r,f)}else a.current=null}function iv(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){et(n,n.return,f)}}function tm(n,r,a){try{var l=n.stateNode;BS(l,n.type,a,r),l[At]=r}catch(f){et(n,n.return,f)}}function rv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Kr(n.type)||n.tag===4}function nm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Kr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function im(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ih));else if(l!==4&&(l===27&&Kr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(im(n,r,a),n=n.sibling;n!==null;)im(n,r,a),n=n.sibling}function $c(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Kr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for($c(n,r,a),n=n.sibling;n!==null;)$c(n,r,a),n=n.sibling}function sv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Qt(r,l,a),r[Dt]=n,r[At]=a}catch(m){et(n,n.return,m)}}var ur=!1,Tt=!1,rm=!1,av=typeof WeakSet=="function"?WeakSet:Set,zt=null;function ES(n,r){if(n=n.containerInfo,Im=ch,n=yy(n),nd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,A=-1,x=-1,F=0,X=0,ee=n,H=null;t:for(;;){for(var G;ee!==a||f!==0&&ee.nodeType!==3||(A=T+f),ee!==m||l!==0&&ee.nodeType!==3||(x=T+l),ee.nodeType===3&&(T+=ee.nodeValue.length),(G=ee.firstChild)!==null;)H=ee,ee=G;for(;;){if(ee===n)break t;if(H===a&&++F===f&&(A=T),H===m&&++X===l&&(x=T),(G=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=G}a=A===-1||x===-1?null:{start:A,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(xm={focusedElem:n,selectionRange:a},ch=!1,zt=r;zt!==null;)if(r=zt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,zt=n;else for(;zt!==null;){switch(r=zt,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var be=ta(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(be,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){et(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Om(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Om(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,zt=n;break}zt=r.return}}function ov(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:zr(n,a),l&4&&Nl(5,a);break;case 1:if(zr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(T){et(a,a.return,T)}else{var f=ta(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){et(a,a.return,T)}}l&64&&tv(a),l&512&&Dl(a,a.return);break;case 3:if(zr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{qy(n,r)}catch(T){et(a,a.return,T)}}break;case 27:r===null&&l&4&&sv(a);case 26:case 5:zr(n,a),r===null&&l&4&&iv(a),l&512&&Dl(a,a.return);break;case 12:zr(n,a);break;case 13:zr(n,a),l&4&&cv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=xS.bind(null,a),YS(n,a))));break;case 22:if(l=a.memoizedState!==null||ur,!l){r=r!==null&&r.memoizedState!==null||Tt,f=ur;var m=Tt;ur=l,(Tt=r)&&!m?qr(n,a,(a.subtreeFlags&8772)!==0):zr(n,a),ur=f,Tt=m}break;case 30:break;default:zr(n,a)}}function lv(n){var r=n.alternate;r!==null&&(n.alternate=null,lv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&xr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var lt=null,gn=!1;function cr(n,r,a){for(a=a.child;a!==null;)uv(n,r,a),a=a.sibling}function uv(n,r,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(dt,a)}catch{}switch(a.tag){case 26:Tt||Ci(a,r),cr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Tt||Ci(a,r);var l=lt,f=gn;Kr(a.type)&&(lt=a.stateNode,gn=!1),cr(n,r,a),Bl(a.stateNode),lt=l,gn=f;break;case 5:Tt||Ci(a,r);case 6:if(l=lt,f=gn,lt=null,cr(n,r,a),lt=l,gn=f,lt!==null)if(gn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(m){et(a,r,m)}else try{lt.removeChild(a.stateNode)}catch(m){et(a,r,m)}break;case 18:lt!==null&&(gn?(n=lt,Wv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Kl(n)):Wv(lt,a.stateNode));break;case 4:l=lt,f=gn,lt=a.stateNode.containerInfo,gn=!0,cr(n,r,a),lt=l,gn=f;break;case 0:case 11:case 14:case 15:Tt||Br(2,a,r),Tt||Br(4,a,r),cr(n,r,a);break;case 1:Tt||(Ci(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&nv(a,r,l)),cr(n,r,a);break;case 21:cr(n,r,a);break;case 22:Tt=(l=Tt)||a.memoizedState!==null,cr(n,r,a),Tt=l;break;default:cr(n,r,a)}}function cv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Kl(n)}catch(a){et(r,r.return,a)}}function TS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new av),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new av),r;default:throw Error(s(435,n.tag))}}function sm(n,r){var a=TS(n);r.forEach(function(l){var f=NS.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Cn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,T=r,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(Kr(A.type)){lt=A.stateNode,gn=!1;break e}break;case 5:lt=A.stateNode,gn=!1;break e;case 3:case 4:lt=A.stateNode.containerInfo,gn=!0;break e}A=A.return}if(lt===null)throw Error(s(160));uv(m,T,f),lt=null,gn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)hv(r,n),r=r.sibling}var ri=null;function hv(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Cn(r,n),In(n),l&4&&(Br(3,n,n.return),Nl(3,n),Br(5,n,n.return));break;case 1:Cn(r,n),In(n),l&512&&(Tt||a===null||Ci(a,a.return)),l&64&&ur&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ri;if(Cn(r,n),In(n),l&512&&(Tt||a===null||Ci(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ns]||m[Dt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Qt(m,l,a),m[Dt]=n,vt(m),l=m;break e;case"link":var T=sE("link","href",f).get(l+(a.href||""));if(T){for(var A=0;A<T.length;A++)if(m=T[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(A,1);break t}}m=f.createElement(l),Qt(m,l,a),f.head.appendChild(m);break;case"meta":if(T=sE("meta","content",f).get(l+(a.content||""))){for(A=0;A<T.length;A++)if(m=T[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(A,1);break t}}m=f.createElement(l),Qt(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Dt]=n,vt(m),l=m}n.stateNode=l}else aE(f,n.type,n.stateNode);else n.stateNode=rE(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?aE(f,n.type,n.stateNode):rE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&tm(n,n.memoizedProps,a.memoizedProps)}break;case 27:Cn(r,n),In(n),l&512&&(Tt||a===null||Ci(a,a.return)),a!==null&&l&4&&tm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Cn(r,n),In(n),l&512&&(Tt||a===null||Ci(a,a.return)),n.flags&32){f=n.stateNode;try{Un(f,"")}catch(G){et(n,n.return,G)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,tm(n,f,a!==null?a.memoizedProps:f)),l&1024&&(rm=!0);break;case 6:if(Cn(r,n),In(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(G){et(n,n.return,G)}}break;case 3:if(oh=null,f=ri,ri=sh(r.containerInfo),Cn(r,n),ri=f,In(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Kl(r.containerInfo)}catch(G){et(n,n.return,G)}rm&&(rm=!1,fv(n));break;case 4:l=ri,ri=sh(n.stateNode.containerInfo),Cn(r,n),In(n),ri=l;break;case 12:Cn(r,n),In(n);break;case 13:Cn(r,n),In(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hm=Vn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,sm(n,l)));break;case 22:f=n.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,F=ur,X=Tt;if(ur=F||f,Tt=X||x,Cn(r,n),Tt=X,ur=F,In(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||x||ur||Tt||na(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){x=a=r;try{if(m=x.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=x.stateNode;var ee=x.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;A.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){et(x,x.return,G)}}}else if(r.tag===6){if(a===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(G){et(x,x.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,sm(n,a))));break;case 19:Cn(r,n),In(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,sm(n,l)));break;case 30:break;case 21:break;default:Cn(r,n),In(n)}}function In(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(rv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=nm(n);$c(n,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(Un(T,""),a.flags&=-33);var A=nm(n);$c(n,A,T);break;case 3:case 4:var x=a.stateNode.containerInfo,F=nm(n);im(n,F,x);break;default:throw Error(s(161))}}catch(X){et(n,n.return,X)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function fv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;fv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function zr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ov(n,r.alternate,r),r=r.sibling}function na(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Br(4,r,r.return),na(r);break;case 1:Ci(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&nv(r,r.return,a),na(r);break;case 27:Bl(r.stateNode);case 26:case 5:Ci(r,r.return),na(r);break;case 22:r.memoizedState===null&&na(r);break;case 30:na(r);break;default:na(r)}n=n.sibling}}function qr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:qr(f,m,a),Nl(4,m);break;case 1:if(qr(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){et(l,l.return,F)}if(l=m,f=l.updateQueue,f!==null){var A=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)zy(x[f],A)}catch(F){et(l,l.return,F)}}a&&T&64&&tv(m),Dl(m,m.return);break;case 27:sv(m);case 26:case 5:qr(f,m,a),a&&l===null&&T&4&&iv(m),Dl(m,m.return);break;case 12:qr(f,m,a);break;case 13:qr(f,m,a),a&&T&4&&cv(f,m);break;case 22:m.memoizedState===null&&qr(f,m,a),Dl(m,m.return);break;case 30:break;default:qr(f,m,a)}r=r.sibling}}function am(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&gl(a))}function om(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&gl(n))}function Ii(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)dv(n,r,a,l),r=r.sibling}function dv(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ii(n,r,a,l),f&2048&&Nl(9,r);break;case 1:Ii(n,r,a,l);break;case 3:Ii(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&gl(n)));break;case 12:if(f&2048){Ii(n,r,a,l),n=r.stateNode;try{var m=r.memoizedProps,T=m.id,A=m.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(x){et(r,r.return,x)}}else Ii(n,r,a,l);break;case 13:Ii(n,r,a,l);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?Ii(n,r,a,l):Ol(n,r):m._visibility&2?Ii(n,r,a,l):(m._visibility|=2,Ja(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&am(T,r);break;case 24:Ii(n,r,a,l),f&2048&&om(r.alternate,r);break;default:Ii(n,r,a,l)}}function Ja(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,T=r,A=a,x=l,F=T.flags;switch(T.tag){case 0:case 11:case 15:Ja(m,T,A,x,f),Nl(8,T);break;case 23:break;case 22:var X=T.stateNode;T.memoizedState!==null?X._visibility&2?Ja(m,T,A,x,f):Ol(m,T):(X._visibility|=2,Ja(m,T,A,x,f)),f&&F&2048&&am(T.alternate,T);break;case 24:Ja(m,T,A,x,f),f&&F&2048&&om(T.alternate,T);break;default:Ja(m,T,A,x,f)}r=r.sibling}}function Ol(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Ol(a,l),f&2048&&am(l.alternate,l);break;case 24:Ol(a,l),f&2048&&om(l.alternate,l);break;default:Ol(a,l)}r=r.sibling}}var Pl=8192;function eo(n){if(n.subtreeFlags&Pl)for(n=n.child;n!==null;)mv(n),n=n.sibling}function mv(n){switch(n.tag){case 26:eo(n),n.flags&Pl&&n.memoizedState!==null&&aR(ri,n.memoizedState,n.memoizedProps);break;case 5:eo(n);break;case 3:case 4:var r=ri;ri=sh(n.stateNode.containerInfo),eo(n),ri=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Pl,Pl=16777216,eo(n),Pl=r):eo(n));break;default:eo(n)}}function pv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ml(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,yv(l,n)}pv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gv(n),n=n.sibling}function gv(n){switch(n.tag){case 0:case 11:case 15:Ml(n),n.flags&2048&&Br(9,n,n.return);break;case 3:Ml(n);break;case 12:Ml(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Yc(n)):Ml(n);break;default:Ml(n)}}function Yc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,yv(l,n)}pv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Br(8,r,r.return),Yc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Yc(r));break;default:Yc(r)}n=n.sibling}}function yv(n,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Br(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=n;zt!==null;){l=zt;var f=l.sibling,m=l.return;if(lv(l),l===a){zt=null;break e}if(f!==null){f.return=m,zt=f;break e}zt=m}}}var bS={getCacheForType:function(n){var r=tn(Mt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},AS=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,De=null,Le=0,Qe=0,xn=null,Fr=!1,to=!1,lm=!1,hr=0,pt=0,Hr=0,ia=0,um=0,Kn=0,no=0,jl=null,yn=null,cm=!1,hm=0,Kc=1/0,Qc=null,Gr=null,Kt=0,$r=null,io=null,ro=0,fm=0,dm=null,_v=null,kl=0,mm=null;function Nn(){if((Ke&2)!==0&&Le!==0)return Le&-Le;if(Q.T!==null){var n=Ga;return n!==0?n:Tm()}return Cr()}function vv(){Kn===0&&(Kn=(Le&536870912)===0||qe?Go():536870912);var n=Yn.current;return n!==null&&(n.flags|=32),Kn}function Dn(n,r,a){(n===nt&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)&&(so(n,0),Yr(n,Le,Kn,!1)),Fi(n,a),((Ke&2)===0||n!==nt)&&(n===nt&&((Ke&2)===0&&(ia|=a),pt===4&&Yr(n,Le,Kn,!1)),xi(n))}function Ev(n,r,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||xs(n,r),f=l?RS(n,r):ym(n,r,!0),m=l;do{if(f===0){to&&!l&&Yr(n,r,0,!1);break}else{if(a=n.current.alternate,m&&!wS(a)){f=ym(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var A=n;f=jl;var x=A.current.memoizedState.isDehydrated;if(x&&(so(A,T).flags|=256),T=ym(A,T,!1),T!==2){if(lm&&!x){A.errorRecoveryDisabledLanes|=m,ia|=m,f=4;break e}m=yn,yn=f,m!==null&&(yn===null?yn=m:yn.push.apply(yn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){so(n,0),Yr(n,r,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Yr(l,r,Kn,!Fr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=hm+300-Vn(),10<f)){if(Yr(l,r,Kn,!Fr),ba(l,0,!0)!==0)break e;l.timeoutHandle=Qv(Tv.bind(null,l,a,yn,Qc,cm,r,Kn,ia,no,Fr,m,2,-0,0),f);break e}Tv(l,a,yn,Qc,cm,r,Kn,ia,no,Fr,m,0,-0,0)}}break}while(!0);xi(n)}function Tv(n,r,a,l,f,m,T,A,x,F,X,ee,H,G){if(n.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Fl={stylesheets:null,count:0,unsuspend:sR},mv(r),ee=oR(),ee!==null)){n.cancelPendingCommit=ee(Iv.bind(null,n,r,m,a,l,f,T,A,x,X,1,H,G)),Yr(n,m,T,!F);return}Iv(n,r,m,a,l,f,T,A,x)}function wS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Sn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Yr(n,r,a,l){r&=~um,r&=~ia,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var m=31-en(f),T=1<<m;l[m]=-1,f&=~T}a!==0&&mi(n,a,r)}function Xc(){return(Ke&6)===0?(Vl(0),!1):!0}function pm(){if(De!==null){if(Qe===0)var n=De.return;else n=De,ir=Ws=null,Od(n),Wa=null,Cl=0,n=De;for(;n!==null;)ev(n.alternate,n),n=n.return;De=null}}function so(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,qS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),pm(),nt=n,De=a=er(n.current,null),Le=r,Qe=0,xn=null,Fr=!1,to=xs(n,r),lm=!1,no=Kn=um=ia=Hr=pt=0,yn=jl=null,cm=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-en(l),m=1<<f;r|=n[f],l&=~m}return hr=r,_c(),a}function bv(n,r){Ie=null,Q.H=Vc,r===_l||r===Cc?(r=Uy(),Qe=3):r===ky?(r=Uy(),Qe=4):Qe=r===B_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xn=r,De===null&&(pt=1,qc(n,Fn(r,n.current)))}function Av(){var n=Q.H;return Q.H=Vc,n===null?Vc:n}function wv(){var n=Q.A;return Q.A=bS,n}function gm(){pt=4,Fr||(Le&4194048)!==Le&&Yn.current!==null||(to=!0),(Hr&134217727)===0&&(ia&134217727)===0||nt===null||Yr(nt,Le,Kn,!1)}function ym(n,r,a){var l=Ke;Ke|=2;var f=Av(),m=wv();(nt!==n||Le!==r)&&(Qc=null,so(n,r)),r=!1;var T=pt;e:do try{if(Qe!==0&&De!==null){var A=De,x=xn;switch(Qe){case 8:pm(),T=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(r=!0);var F=Qe;if(Qe=0,xn=null,ao(n,A,x,F),a&&to){T=0;break e}break;default:F=Qe,Qe=0,xn=null,ao(n,A,x,F)}}SS(),T=pt;break}catch(X){bv(n,X)}while(!0);return r&&n.shellSuspendCounter++,ir=Ws=null,Ke=l,Q.H=f,Q.A=m,De===null&&(nt=null,Le=0,_c()),T}function SS(){for(;De!==null;)Sv(De)}function RS(n,r){var a=Ke;Ke|=2;var l=Av(),f=wv();nt!==n||Le!==r?(Qc=null,Kc=Vn()+500,so(n,r)):to=xs(n,r);e:do try{if(Qe!==0&&De!==null){r=De;var m=xn;t:switch(Qe){case 1:Qe=0,xn=null,ao(n,r,m,1);break;case 2:case 9:if(Vy(m)){Qe=0,xn=null,Rv(r);break}r=function(){Qe!==2&&Qe!==9||nt!==n||(Qe=7),xi(n)},m.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Vy(m)?(Qe=0,xn=null,Rv(r)):(Qe=0,xn=null,ao(n,r,m,7));break;case 5:var T=null;switch(De.tag){case 26:T=De.memoizedState;case 5:case 27:var A=De;if(!T||oE(T)){Qe=0,xn=null;var x=A.sibling;if(x!==null)De=x;else{var F=A.return;F!==null?(De=F,Wc(F)):De=null}break t}}Qe=0,xn=null,ao(n,r,m,5);break;case 6:Qe=0,xn=null,ao(n,r,m,6);break;case 8:pm(),pt=6;break e;default:throw Error(s(462))}}CS();break}catch(X){bv(n,X)}while(!0);return ir=Ws=null,Q.H=l,Q.A=f,Ke=a,De!==null?0:(nt=null,Le=0,_c(),pt)}function CS(){for(;De!==null&&!zo();)Sv(De)}function Sv(n){var r=Z_(n.alternate,n,hr);n.memoizedProps=n.pendingProps,r===null?Wc(n):De=r}function Rv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=$_(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=$_(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Od(r);default:ev(a,r),r=De=Cy(r,hr),r=Z_(a,r,hr)}n.memoizedProps=n.pendingProps,r===null?Wc(n):De=r}function ao(n,r,a,l){ir=Ws=null,Od(r),Wa=null,Cl=0;var f=r.return;try{if(gS(n,f,r,a,Le)){pt=1,qc(n,Fn(a,n.current)),De=null;return}}catch(m){if(f!==null)throw De=f,m;pt=1,qc(n,Fn(a,n.current)),De=null;return}r.flags&32768?(qe||l===1?n=!0:to||(Le&536870912)!==0?n=!1:(Fr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cv(r,n)):Wc(r)}function Wc(n){var r=n;do{if((r.flags&32768)!==0){Cv(r,Fr);return}n=r.return;var a=_S(r.alternate,r,hr);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=n}while(r!==null);pt===0&&(pt=5)}function Cv(n,r){do{var a=vS(n.alternate,n);if(a!==null){a.flags&=32767,De=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){De=n;return}De=n=a}while(n!==null);pt=6,De=null}function Iv(n,r,a,l,f,m,T,A,x){n.cancelPendingCommit=null;do Zc();while(Kt!==0);if((Ke&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=od,Yo(n,a,m,T,A,x),n===nt&&(De=nt=null,Le=0),io=r,$r=n,ro=a,fm=m,dm=f,_v=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,DS(Ss,function(){return Pv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=ue.p,ue.p=2,T=Ke,Ke|=4;try{ES(n,r,a)}finally{Ke=T,ue.p=f,Q.T=l}}Kt=1,xv(),Nv(),Dv()}}function xv(){if(Kt===1){Kt=0;var n=$r,r=io,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ue.p;ue.p=2;var f=Ke;Ke|=4;try{hv(r,n);var m=xm,T=yy(n.containerInfo),A=m.focusedElem,x=m.selectionRange;if(T!==A&&A&&A.ownerDocument&&gy(A.ownerDocument.documentElement,A)){if(x!==null&&nd(A)){var F=x.start,X=x.end;if(X===void 0&&(X=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min(X,A.value.length);else{var ee=A.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var G=H.getSelection(),be=A.textContent.length,ve=Math.min(x.start,be),Je=x.end===void 0?ve:Math.min(x.end,be);!G.extend&&ve>Je&&(T=Je,Je=ve,ve=T);var V=py(A,ve),P=py(A,Je);if(V&&P&&(G.rangeCount!==1||G.anchorNode!==V.node||G.anchorOffset!==V.offset||G.focusNode!==P.node||G.focusOffset!==P.offset)){var q=ee.createRange();q.setStart(V.node,V.offset),G.removeAllRanges(),ve>Je?(G.addRange(q),G.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),G.addRange(q))}}}}for(ee=[],G=A;G=G.parentNode;)G.nodeType===1&&ee.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ee.length;A++){var Z=ee[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}ch=!!Im,xm=Im=null}finally{Ke=f,ue.p=l,Q.T=a}}n.current=r,Kt=2}}function Nv(){if(Kt===2){Kt=0;var n=$r,r=io,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ue.p;ue.p=2;var f=Ke;Ke|=4;try{ov(n,r.alternate,r)}finally{Ke=f,ue.p=l,Q.T=a}}Kt=3}}function Dv(){if(Kt===4||Kt===3){Kt=0,Yu();var n=$r,r=io,a=ro,l=_v;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Kt=5:(Kt=0,io=$r=null,Ov(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Gr=null),Aa(a),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(dt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,f=ue.p,ue.p=2,Q.T=null;try{for(var m=n.onRecoverableError,T=0;T<l.length;T++){var A=l[T];m(A.value,{componentStack:A.stack})}}finally{Q.T=r,ue.p=f}}(ro&3)!==0&&Zc(),xi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===mm?kl++:(kl=0,mm=n):kl=0,Vl(0)}}function Ov(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,gl(r)))}function Zc(n){return xv(),Nv(),Dv(),Pv()}function Pv(){if(Kt!==5)return!1;var n=$r,r=fm;fm=0;var a=Aa(ro),l=Q.T,f=ue.p;try{ue.p=32>a?32:a,Q.T=null,a=dm,dm=null;var m=$r,T=ro;if(Kt=0,io=$r=null,ro=0,(Ke&6)!==0)throw Error(s(331));var A=Ke;if(Ke|=4,gv(m.current),dv(m,m.current,T,a),Ke=A,Vl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(dt,m)}catch{}return!0}finally{ue.p=f,Q.T=l,Ov(n,r)}}function Mv(n,r,a){r=Fn(a,r),r=$d(n.stateNode,r,2),n=kr(n,r,2),n!==null&&(Fi(n,2),xi(n))}function et(n,r,a){if(n.tag===3)Mv(n,n,a);else for(;r!==null;){if(r.tag===3){Mv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){n=Fn(a,n),a=L_(2),l=kr(r,a,2),l!==null&&(U_(a,l,r,n),Fi(l,2),xi(l));break}}r=r.return}}function _m(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new AS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(lm=!0,f.add(a),n=IS.bind(null,n,r,a),r.then(n,n))}function IS(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,nt===n&&(Le&a)===a&&(pt===4||pt===3&&(Le&62914560)===Le&&300>Vn()-hm?(Ke&2)===0&&so(n,0):um|=a,no===Le&&(no=0)),xi(n)}function jv(n,r){r===0&&(r=$o()),n=za(n,r),n!==null&&(Fi(n,r),xi(n))}function xS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),jv(n,a)}function NS(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),jv(n,a)}function DS(n,r){return As(n,r)}var Jc=null,oo=null,vm=!1,eh=!1,Em=!1,ra=0;function xi(n){n!==oo&&n.next===null&&(oo===null?Jc=oo=n:oo=oo.next=n),eh=!0,vm||(vm=!0,PS())}function Vl(n,r){if(!Em&&eh){Em=!0;do for(var a=!1,l=Jc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,A=l.pingedLanes;m=(1<<31-en(42|n)+1)-1,m&=f&~(T&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Uv(l,m))}else m=Le,m=ba(l,l===nt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||xs(l,m)||(a=!0,Uv(l,m));l=l.next}while(a);Em=!1}}function OS(){kv()}function kv(){eh=vm=!1;var n=0;ra!==0&&(zS()&&(n=ra),ra=0);for(var r=Vn(),a=null,l=Jc;l!==null;){var f=l.next,m=Vv(l,r);m===0?(l.next=null,a===null?Jc=f:a.next=f,f===null&&(oo=a)):(a=l,(n!==0||(m&3)!==0)&&(eh=!0)),l=f}Vl(n)}function Vv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-en(m),A=1<<T,x=f[T];x===-1?((A&a)===0||(A&l)!==0)&&(f[T]=Ho(A,r)):x<=r&&(n.expiredLanes|=A),m&=~A}if(r=nt,a=Le,a=ba(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ws(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||xs(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ws(l),Aa(a)){case 2:case 8:a=Ea;break;case 32:a=Ss;break;case 268435456:a=Ta;break;default:a=Ss}return l=Lv.bind(null,n),a=As(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ws(l),n.callbackPriority=2,n.callbackNode=null,2}function Lv(n,r){if(Kt!==0&&Kt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Zc()&&n.callbackNode!==a)return null;var l=Le;return l=ba(n,n===nt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Ev(n,l,r),Vv(n,Vn()),n.callbackNode!=null&&n.callbackNode===a?Lv.bind(null,n):null)}function Uv(n,r){if(Zc())return null;Ev(n,r,!0)}function PS(){FS(function(){(Ke&6)!==0?As(qo,OS):kv()})}function Tm(){return ra===0&&(ra=Go()),ra}function Bv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:xa(""+n)}function zv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function MS(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=Bv((f[At]||null).action),T=l.submitter;T&&(r=(r=T[At]||null)?Bv(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var A=new Na("action","action",null,l,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ra!==0){var x=T?zv(f,T):new FormData(f);zd(a,{pending:!0,data:x,method:f.method,action:m},null,x)}}else typeof m=="function"&&(A.preventDefault(),x=T?zv(f,T):new FormData(f),zd(a,{pending:!0,data:x,method:f.method,action:m},m,x))},currentTarget:f}]})}}for(var bm=0;bm<ad.length;bm++){var Am=ad[bm],jS=Am.toLowerCase(),kS=Am[0].toUpperCase()+Am.slice(1);ii(jS,"on"+kS)}ii(Ey,"onAnimationEnd"),ii(Ty,"onAnimationIteration"),ii(by,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(Jw,"onTransitionRun"),ii(eS,"onTransitionStart"),ii(tS,"onTransitionCancel"),ii(Ay,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function qv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var T=l.length-1;0<=T;T--){var A=l[T],x=A.instance,F=A.currentTarget;if(A=A.listener,x!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=F;try{m(f)}catch(X){zc(X)}f.currentTarget=null,m=x}else for(T=0;T<l.length;T++){if(A=l[T],x=A.instance,F=A.currentTarget,A=A.listener,x!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=F;try{m(f)}catch(X){zc(X)}f.currentTarget=null,m=x}}}}function Oe(n,r){var a=r[Qo];a===void 0&&(a=r[Qo]=new Set);var l=n+"__bubble";a.has(l)||(Fv(r,n,2,!1),a.add(l))}function wm(n,r,a){var l=0;r&&(l|=4),Fv(a,n,l,r)}var th="_reactListening"+Math.random().toString(36).slice(2);function Sm(n){if(!n[th]){n[th]=!0,Xo.forEach(function(a){a!=="selectionchange"&&(VS.has(a)||wm(a,!1,n),wm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[th]||(r[th]=!0,wm("selectionchange",!1,r))}}function Fv(n,r,a,l){switch(dE(r)){case 2:var f=cR;break;case 8:f=hR;break;default:f=Um}a=f.bind(null,r,a,n),f=void 0,!zn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Rm(n,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var A=l.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=l.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=Hi(A),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){l=m=T;continue e}A=A.parentNode}}l=l.return}ic(function(){var F=m,X=Bn(a),ee=[];e:{var H=wy.get(n);if(H!==void 0){var G=Na,be=n;switch(n){case"keypress":if(Ei(a)===0)break e;case"keydown":case"keyup":G=ka;break;case"focusin":be="focus",G=Pa;break;case"focusout":be="blur",G=Pa;break;case"beforeblur":case"afterblur":G=Pa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=hc;break;case Ey:case Ty:case by:G=Ma;break;case Ay:G=dc;break;case"scroll":case"scrollend":G=rc;break;case"wheel":G=Va;break;case"copy":case"cut":case"paste":G=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ll;break;case"toggle":case"beforetoggle":G=pc}var ve=(r&4)!==0,Je=!ve&&(n==="scroll"||n==="scrollend"),V=ve?H!==null?H+"Capture":null:H;ve=[];for(var P=F,q;P!==null;){var Z=P;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||V===null||(Z=Vs(P,V),Z!=null&&ve.push(Ul(P,Z,q))),Je)break;P=P.return}0<ve.length&&(H=new G(H,be,null,a,X),ee.push({event:H,listeners:ve}))}}if((r&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",H&&a!==Ki&&(be=a.relatedTarget||a.fromElement)&&(Hi(be)||be[Ln]))break e;if((G||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,G?(be=a.relatedTarget||a.toElement,G=F,be=be?Hi(be):null,be!==null&&(Je=u(be),ve=be.tag,be!==Je||ve!==5&&ve!==27&&ve!==6)&&(be=null)):(G=null,be=F),G!==be)){if(ve=qn,Z="onMouseLeave",V="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(ve=ll,Z="onPointerLeave",V="onPointerEnter",P="pointer"),Je=G==null?H:gi(G),q=be==null?H:gi(be),H=new ve(Z,P+"leave",G,a,X),H.target=Je,H.relatedTarget=q,Z=null,Hi(X)===F&&(ve=new ve(V,P+"enter",be,a,X),ve.target=q,ve.relatedTarget=Je,Z=ve),Je=Z,G&&be)t:{for(ve=G,V=be,P=0,q=ve;q;q=lo(q))P++;for(q=0,Z=V;Z;Z=lo(Z))q++;for(;0<P-q;)ve=lo(ve),P--;for(;0<q-P;)V=lo(V),q--;for(;P--;){if(ve===V||V!==null&&ve===V.alternate)break t;ve=lo(ve),V=lo(V)}ve=null}else ve=null;G!==null&&Hv(ee,H,G,ve,!1),be!==null&&Je!==null&&Hv(ee,Je,be,ve,!0)}}e:{if(H=F?gi(F):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var me=uy;else if(Pt(H))if(cy)me=Xw;else{me=Kw;var Ne=Yw}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&tl(F.elementType)&&(me=uy):me=Qw;if(me&&(me=me(n,F))){Ji(ee,me,a,X);break e}Ne&&Ne(n,H,F),n==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Dr(H,"number",H.value)}switch(Ne=F?gi(F):window,n){case"focusin":(Pt(Ne)||Ne.contentEditable==="true")&&(La=Ne,id=F,hl=null);break;case"focusout":hl=id=La=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,_y(ee,a,X);break;case"selectionchange":if(Zw)break;case"keydown":case"keyup":_y(ee,a,X)}var pe;if(Ai)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ke?Y(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(E&&a.locale!=="ko"&&(ke||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ke&&(pe=il()):(vi=X,Or="value"in vi?vi.value:vi.textContent,ke=!0)),Ne=nh(F,Ee),0<Ne.length&&(Ee=new al(Ee,n,null,a,X),ee.push({event:Ee,listeners:Ne}),pe?Ee.data=pe:(pe=le(a),pe!==null&&(Ee.data=pe)))),(pe=_?Ot(n,a):Ve(n,a))&&(Ee=nh(F,"onBeforeInput"),0<Ee.length&&(Ne=new al("onBeforeInput","beforeinput",null,a,X),ee.push({event:Ne,listeners:Ee}),Ne.data=pe)),MS(ee,n,F,a,X)}qv(ee,r)})}function Ul(n,r,a){return{instance:n,listener:r,currentTarget:a}}function nh(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Vs(n,a),f!=null&&l.unshift(Ul(n,f,m)),f=Vs(n,r),f!=null&&l.push(Ul(n,f,m))),n.tag===3)return l;n=n.return}return[]}function lo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Hv(n,r,a,l,f){for(var m=r._reactName,T=[];a!==null&&a!==l;){var A=a,x=A.alternate,F=A.stateNode;if(A=A.tag,x!==null&&x===l)break;A!==5&&A!==26&&A!==27||F===null||(x=F,f?(F=Vs(a,m),F!=null&&T.unshift(Ul(a,F,x))):f||(F=Vs(a,m),F!=null&&T.push(Ul(a,F,x)))),a=a.return}T.length!==0&&n.push({event:r,listeners:T})}var LS=/\r\n?/g,US=/\u0000|\uFFFD/g;function Gv(n){return(typeof n=="string"?n:""+n).replace(LS,`
`).replace(US,"")}function $v(n,r){return r=Gv(r),Gv(n)===r}function ih(){}function Ze(n,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Un(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Un(n,""+l);break;case"className":yi(n,"class",l);break;case"tabIndex":yi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yi(n,a,l);break;case"style":el(n,l,m);break;case"data":if(r!=="object"){yi(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=xa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Ze(n,r,"name",f.name,f,null),Ze(n,r,"formEncType",f.formEncType,f,null),Ze(n,r,"formMethod",f.formMethod,f,null),Ze(n,r,"formTarget",f.formTarget,f,null)):(Ze(n,r,"encType",f.encType,f,null),Ze(n,r,"method",f.method,f,null),Ze(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=xa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ih);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=xa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),Nr(n,"popover",l);break;case"xlinkActuate":Gt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Nr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Xf.get(a)||a,Nr(n,a,l))}}function Cm(n,r,a,l,f,m){switch(a){case"style":el(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Un(n,l):(typeof l=="number"||typeof l=="bigint")&&Un(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ih);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[At]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Nr(n,a,l)}}}function Qt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,m,T,a,null)}}f&&Ze(n,r,"srcSet",a.srcSet,a,null),l&&Ze(n,r,"src",a.src,a,null);return;case"input":Oe("invalid",n);var A=m=T=f=null,x=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":T=X;break;case"checked":x=X;break;case"defaultChecked":F=X;break;case"value":m=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Ze(n,r,l,X,a,null)}}Ms(n,m,A,x,F,T,f,!1),Ia(n);return;case"select":Oe("invalid",n),l=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":T=A;break;case"multiple":l=A;default:Ze(n,r,f,A,a,null)}r=m,a=T,n.multiple=!!l,r!=null?Yi(n,!!l,r,!1):a!=null&&Yi(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),m=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(A=a[T],A!=null))switch(T){case"value":l=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Ze(n,r,T,A,a,null)}js(n,l,f,m),Ia(n);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(n,r,x,l,a,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Oe(Ll[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,F,l,a,null)}return;default:if(tl(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Cm(n,r,X,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Ze(n,r,A,l,a,null))}function BS(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,A=null,x=null,F=null,X=null;for(G in a){var ee=a[G];if(a.hasOwnProperty(G)&&ee!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":x=ee;default:l.hasOwnProperty(G)||Ze(n,r,G,null,l,ee)}}for(var H in l){var G=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(G!=null||ee!=null))switch(H){case"type":m=G;break;case"name":f=G;break;case"checked":F=G;break;case"defaultChecked":X=G;break;case"value":T=G;break;case"defaultValue":A=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==ee&&Ze(n,r,H,G,l,ee)}}wn(n,T,A,x,F,X,m,f);return;case"select":G=T=A=H=null;for(m in a)if(x=a[m],a.hasOwnProperty(m)&&x!=null)switch(m){case"value":break;case"multiple":G=x;default:l.hasOwnProperty(m)||Ze(n,r,m,null,l,x)}for(f in l)if(m=l[f],x=a[f],l.hasOwnProperty(f)&&(m!=null||x!=null))switch(f){case"value":H=m;break;case"defaultValue":A=m;break;case"multiple":T=m;default:m!==x&&Ze(n,r,f,m,l,x)}r=A,a=T,l=G,H!=null?Yi(n,!!a,H,!1):!!l!=!!a&&(r!=null?Yi(n,!!a,r,!0):Yi(n,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ze(n,r,A,null,l,f)}for(T in l)if(f=l[T],m=a[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ze(n,r,T,f,l,m)}Xe(n,H,G);return;case"option":for(var be in a)if(H=a[be],a.hasOwnProperty(be)&&H!=null&&!l.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:Ze(n,r,be,null,l,H)}for(x in l)if(H=l[x],G=a[x],l.hasOwnProperty(x)&&H!==G&&(H!=null||G!=null))switch(x){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ze(n,r,x,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!=null&&!l.hasOwnProperty(ve)&&Ze(n,r,ve,null,l,H);for(F in l)if(H=l[F],G=a[F],l.hasOwnProperty(F)&&H!==G&&(H!=null||G!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Ze(n,r,F,H,l,G)}return;default:if(tl(r)){for(var Je in a)H=a[Je],a.hasOwnProperty(Je)&&H!==void 0&&!l.hasOwnProperty(Je)&&Cm(n,r,Je,void 0,l,H);for(X in l)H=l[X],G=a[X],!l.hasOwnProperty(X)||H===G||H===void 0&&G===void 0||Cm(n,r,X,H,l,G);return}}for(var V in a)H=a[V],a.hasOwnProperty(V)&&H!=null&&!l.hasOwnProperty(V)&&Ze(n,r,V,null,l,H);for(ee in l)H=l[ee],G=a[ee],!l.hasOwnProperty(ee)||H===G||H==null&&G==null||Ze(n,r,ee,H,l,G)}var Im=null,xm=null;function rh(n){return n.nodeType===9?n:n.ownerDocument}function Yv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Nm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Dm=null;function zS(){var n=window.event;return n&&n.type==="popstate"?n===Dm?!1:(Dm=n,!0):(Dm=null,!1)}var Qv=typeof setTimeout=="function"?setTimeout:void 0,qS=typeof clearTimeout=="function"?clearTimeout:void 0,Xv=typeof Promise=="function"?Promise:void 0,FS=typeof queueMicrotask=="function"?queueMicrotask:typeof Xv<"u"?function(n){return Xv.resolve(null).then(n).catch(HS)}:Qv;function HS(n){setTimeout(function(){throw n})}function Kr(n){return n==="head"}function Wv(n,r){var a=r,l=0,f=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=n.ownerDocument;if(a&1&&Bl(T.documentElement),a&2&&Bl(T.body),a&4)for(a=T.head,Bl(a),T=a.firstChild;T;){var A=T.nextSibling,x=T.nodeName;T[Ns]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=A}}if(f===0){n.removeChild(m),Kl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Kl(r)}function Om(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Om(a),xr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function GS(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ns])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=si(n.nextSibling),n===null)break}return null}function $S(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=si(n.nextSibling),n===null))return null;return n}function Pm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function YS(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function si(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Mm=null;function Zv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Jv(n,r,a){switch(r=rh(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Bl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);xr(n)}var Qn=new Map,eE=new Set;function sh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var fr=ue.d;ue.d={f:KS,r:QS,D:XS,C:WS,L:ZS,m:JS,X:tR,S:eR,M:nR};function KS(){var n=fr.f(),r=Xc();return n||r}function QS(n){var r=pi(n);r!==null&&r.tag===5&&r.type==="form"?E_(r):fr.r(n)}var uo=typeof document>"u"?null:document;function tE(n,r,a){var l=uo;if(l&&typeof r=="string"&&r){var f=wt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),eE.has(f)||(eE.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Qt(r,"link",n),vt(r),l.head.appendChild(r)))}}function XS(n){fr.D(n),tE("dns-prefetch",n,null)}function WS(n,r){fr.C(n,r),tE("preconnect",n,r)}function ZS(n,r,a){fr.L(n,r,a);var l=uo;if(l&&n&&r){var f='link[rel="preload"][as="'+wt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+wt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+wt(a.imageSizes)+'"]')):f+='[href="'+wt(n)+'"]';var m=f;switch(r){case"style":m=co(n);break;case"script":m=ho(n)}Qn.has(m)||(n=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Qn.set(m,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(zl(m))||r==="script"&&l.querySelector(ql(m))||(r=l.createElement("link"),Qt(r,"link",n),vt(r),l.head.appendChild(r)))}}function JS(n,r){fr.m(n,r);var a=uo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+wt(l)+'"][href="'+wt(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ho(n)}if(!Qn.has(m)&&(n=v({rel:"modulepreload",href:n},r),Qn.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ql(m)))return}l=a.createElement("link"),Qt(l,"link",n),vt(l),a.head.appendChild(l)}}}function eR(n,r,a){fr.S(n,r,a);var l=uo;if(l&&n){var f=cn(l).hoistableStyles,m=co(n);r=r||"default";var T=f.get(m);if(!T){var A={loading:0,preload:null};if(T=l.querySelector(zl(m)))A.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Qn.get(m))&&jm(n,a);var x=T=l.createElement("link");vt(x),Qt(x,"link",n),x._p=new Promise(function(F,X){x.onload=F,x.onerror=X}),x.addEventListener("load",function(){A.loading|=1}),x.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ah(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(m,T)}}}function tR(n,r){fr.X(n,r);var a=uo;if(a&&n){var l=cn(a).hoistableScripts,f=ho(n),m=l.get(f);m||(m=a.querySelector(ql(f)),m||(n=v({src:n,async:!0},r),(r=Qn.get(f))&&km(n,r),m=a.createElement("script"),vt(m),Qt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function nR(n,r){fr.M(n,r);var a=uo;if(a&&n){var l=cn(a).hoistableScripts,f=ho(n),m=l.get(f);m||(m=a.querySelector(ql(f)),m||(n=v({src:n,async:!0,type:"module"},r),(r=Qn.get(f))&&km(n,r),m=a.createElement("script"),vt(m),Qt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function nE(n,r,a,l){var f=(f=we.current)?sh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=co(a.href),a=cn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=co(a.href);var m=cn(f).hoistableStyles,T=m.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=f.querySelector(zl(n)))&&!m._p&&(T.instance=m,T.state.loading=5),Qn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(n,a),m||iR(f,n,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ho(a),a=cn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function co(n){return'href="'+wt(n)+'"'}function zl(n){return'link[rel="stylesheet"]['+n+"]"}function iE(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function iR(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Qt(r,"link",a),vt(r),n.head.appendChild(r))}function ho(n){return'[src="'+wt(n)+'"]'}function ql(n){return"script[async]"+n}function rE(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+wt(a.href)+'"]');if(l)return r.instance=l,vt(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),vt(l),Qt(l,"style",f),ah(l,a.precedence,n),r.instance=l;case"stylesheet":f=co(a.href);var m=n.querySelector(zl(f));if(m)return r.state.loading|=4,r.instance=m,vt(m),m;l=iE(a),(f=Qn.get(f))&&jm(l,f),m=(n.ownerDocument||n).createElement("link"),vt(m);var T=m;return T._p=new Promise(function(A,x){T.onload=A,T.onerror=x}),Qt(m,"link",l),r.state.loading|=4,ah(m,a.precedence,n),r.instance=m;case"script":return m=ho(a.src),(f=n.querySelector(ql(m)))?(r.instance=f,vt(f),f):(l=a,(f=Qn.get(m))&&(l=v({},a),km(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),vt(f),Qt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ah(l,a.precedence,n));return r.instance}function ah(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var A=l[T];if(A.dataset.precedence===r)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function jm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function km(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var oh=null;function sE(n,r,a){if(oh===null){var l=new Map,f=oh=new Map;f.set(a,l)}else f=oh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Ns]||m[Dt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=n+T;var A=l.get(T);A?A.push(m):l.set(T,[m])}}return l}function aE(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function rR(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function oE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Fl=null;function sR(){}function aR(n,r,a){if(Fl===null)throw Error(s(475));var l=Fl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=co(a.href),m=n.querySelector(zl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=lh.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=m,vt(m);return}m=n.ownerDocument||n,a=iE(a),(f=Qn.get(f))&&jm(a,f),m=m.createElement("link"),vt(m);var T=m;T._p=new Promise(function(A,x){T.onload=A,T.onerror=x}),Qt(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=lh.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function oR(){if(Fl===null)throw Error(s(475));var n=Fl;return n.stylesheets&&n.count===0&&Vm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Vm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function lh(){if(this.count--,this.count===0){if(this.stylesheets)Vm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var uh=null;function Vm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,uh=new Map,r.forEach(lR,n),uh=null,lh.call(n))}function lR(n,r){if(!(r.state.loading&4)){var a=uh.get(n);if(a)var l=a.get(null);else{a=new Map,uh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,f),a.set(T,f),this.count++,l=lh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Hl={$$typeof:K,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function uR(n,r,a,l,f,m,T,A){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.hiddenUpdates=qi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function lE(n,r,a,l,f,m,T,A,x,F,X,ee){return n=new uR(n,r,a,T,A,x,F,ee),r=1,m===!0&&(r|=24),m=Rn(3,null,null,r),n.current=m,m.stateNode=n,r=_d(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},bd(m),n}function uE(n){return n?(n=qa,n):qa}function cE(n,r,a,l,f,m){f=uE(f),l.context===null?l.context=f:l.pendingContext=f,l=jr(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=kr(n,l,r),a!==null&&(Dn(a,n,r),El(a,n,r))}function hE(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Lm(n,r){hE(n,r),(n=n.alternate)&&hE(n,r)}function fE(n){if(n.tag===13){var r=za(n,67108864);r!==null&&Dn(r,n,67108864),Lm(n,67108864)}}var ch=!0;function cR(n,r,a,l){var f=Q.T;Q.T=null;var m=ue.p;try{ue.p=2,Um(n,r,a,l)}finally{ue.p=m,Q.T=f}}function hR(n,r,a,l){var f=Q.T;Q.T=null;var m=ue.p;try{ue.p=8,Um(n,r,a,l)}finally{ue.p=m,Q.T=f}}function Um(n,r,a,l){if(ch){var f=Bm(l);if(f===null)Rm(n,r,l,hh,a),mE(n,l);else if(dR(f,n,r,a,l))l.stopPropagation();else if(mE(n,l),r&4&&-1<fR.indexOf(n)){for(;f!==null;){var m=pi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=ei(m.pendingLanes);if(T!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var x=1<<31-en(T);A.entanglements[1]|=x,T&=~x}xi(m),(Ke&6)===0&&(Kc=Vn()+500,Vl(0))}}break;case 13:A=za(m,2),A!==null&&Dn(A,m,2),Xc(),Lm(m,2)}if(m=Bm(l),m===null&&Rm(n,r,l,hh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Rm(n,r,l,null,a)}}function Bm(n){return n=Bn(n),zm(n)}var hh=null;function zm(n){if(hh=null,n=Hi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return hh=n,null}function dE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hf()){case qo:return 2;case Ea:return 8;case Ss:case Gf:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var qm=!1,Qr=null,Xr=null,Wr=null,Gl=new Map,$l=new Map,Zr=[],fR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mE(n,r){switch(n){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Gl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(r.pointerId)}}function Yl(n,r,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=pi(r),r!==null&&fE(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function dR(n,r,a,l,f){switch(r){case"focusin":return Qr=Yl(Qr,n,r,a,l,f),!0;case"dragenter":return Xr=Yl(Xr,n,r,a,l,f),!0;case"mouseover":return Wr=Yl(Wr,n,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return Gl.set(m,Yl(Gl.get(m)||null,n,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,$l.set(m,Yl($l.get(m)||null,n,r,a,l,f)),!0}return!1}function pE(n){var r=Hi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Xu(n.priority,function(){if(a.tag===13){var l=Nn();l=Rr(l);var f=za(a,l);f!==null&&Dn(f,a,l),Lm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Bm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Ki=l,a.target.dispatchEvent(l),Ki=null}else return r=pi(a),r!==null&&fE(r),n.blockedOn=a,!1;r.shift()}return!0}function gE(n,r,a){fh(n)&&a.delete(r)}function mR(){qm=!1,Qr!==null&&fh(Qr)&&(Qr=null),Xr!==null&&fh(Xr)&&(Xr=null),Wr!==null&&fh(Wr)&&(Wr=null),Gl.forEach(gE),$l.forEach(gE)}function dh(n,r){n.blockedOn===r&&(n.blockedOn=null,qm||(qm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,mR)))}var mh=null;function yE(n){mh!==n&&(mh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){mh===n&&(mh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(zm(l||a)===null)continue;break}var m=pi(a);m!==null&&(n.splice(r,3),r-=3,zd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Kl(n){function r(x){return dh(x,n)}Qr!==null&&dh(Qr,n),Xr!==null&&dh(Xr,n),Wr!==null&&dh(Wr,n),Gl.forEach(r),$l.forEach(r);for(var a=0;a<Zr.length;a++){var l=Zr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Zr.length&&(a=Zr[0],a.blockedOn===null);)pE(a),a.blockedOn===null&&Zr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],T=f[At]||null;if(typeof m=="function")T||yE(a);else if(T){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[At]||null)A=T.formAction;else if(zm(f)!==null)continue}else A=T.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),yE(a)}}}function Fm(n){this._internalRoot=n}ph.prototype.render=Fm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Nn();cE(a,l,n,r,null,null)},ph.prototype.unmount=Fm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;cE(n.current,2,null,n,null,null),Xc(),r[Ln]=null}};function ph(n){this._internalRoot=n}ph.prototype.unstable_scheduleHydration=function(n){if(n){var r=Cr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Zr.length&&r!==0&&r<Zr[a].priority;a++);Zr.splice(a,0,n),a===0&&pE(n)}};var _E=e.version;if(_E!=="19.1.1")throw Error(s(527,_E,"19.1.1"));ue.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var pR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{dt=gh.inject(pR),Ye=gh}catch{}}return Xl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=M_,m=j_,T=k_,A=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=lE(n,1,!1,null,null,a,l,f,m,T,A,null),n[Ln]=r.current,Sm(n),new Fm(r)},Xl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",m=M_,T=j_,A=k_,x=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=lE(n,1,!0,r,a??null,l,f,m,T,A,x,F),r.context=uE(null),a=r.current,l=Nn(),l=Rr(l),f=jr(l),f.callback=null,kr(a,f,l),a=l,r.current.lanes=a,Fi(r,a),xi(r),n[Ln]=r.current,Sm(n),new ph(r)},Xl.version="19.1.1",Xl}var IE;function SR(){if(IE)return $m.exports;IE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),$m.exports=wR(),$m.exports}var RR=SR();const CR=Ib(RR);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xE="popstate";function IR(i={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return yp("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:vu(o)}return NR(e,t,null,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function li(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xR(){return Math.random().toString(36).substring(2,10)}function NE(i,e){return{usr:i.state,key:i.key,idx:e}}function yp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?No(e):e,state:t,key:e&&e.key||s||xR()}}function vu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function No(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function NR(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",p=null,y=v();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function v(){return(h.state||{idx:null}).idx}function b(){d="POP";let L=v(),ne=L==null?null:L-y;y=L,p&&p({action:d,location:$.location,delta:ne})}function w(L,ne){d="PUSH";let W=yp($.location,L,ne);y=v()+1;let K=NE(W,y),re=$.createHref(W);try{h.pushState(K,"",re)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(re)}u&&p&&p({action:d,location:$.location,delta:1})}function R(L,ne){d="REPLACE";let W=yp($.location,L,ne);y=v();let K=NE(W,y),re=$.createHref(W);h.replaceState(K,"",re),u&&p&&p({action:d,location:$.location,delta:0})}function j(L){return DR(L)}let $={get action(){return d},get location(){return i(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(xE,b),p=L,()=>{o.removeEventListener(xE,b),p=null}},createHref(L){return e(o,L)},createURL:j,encodeLocation(L){let ne=j(L);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:w,replace:R,go(L){return h.go(L)}};return $}function DR(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ut(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:vu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function xb(i,e,t="/"){return OR(i,e,t,!1)}function OR(i,e,t,s){let o=typeof e=="string"?No(e):e,u=yr(o.pathname||"/",t);if(u==null)return null;let h=Nb(i);PR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let y=HR(u);d=qR(h[p],y,s)}return d}function Nb(i,e=[],t=[],s="",o=!1){let u=(h,d,p=o,y)=>{let v={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;ut(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=pr([s,v.relativePath]),w=t.concat(v);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Nb(h.children,e,w,b,p)),!(h.path==null&&!h.index)&&e.push({path:b,score:BR(b,h.index),routesMeta:w})};return i.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))u(h,d);else for(let p of Db(h.path))u(h,d,!0,p)}),e}function Db(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=Db(s.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function PR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:zR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var MR=/^:[\w-]+$/,jR=3,kR=2,VR=1,LR=10,UR=-2,DE=i=>i==="*";function BR(i,e){let t=i.split("/"),s=t.length;return t.some(DE)&&(s+=UR),e&&(s+=kR),t.filter(o=>!DE(o)).reduce((o,u)=>o+(MR.test(u)?jR:u===""?VR:LR),s)}function zR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function qR(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],y=d===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",b=Uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),w=p.route;if(!b&&y&&t&&!s[s.length-1].route.index&&(b=Uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:pr([u,b.pathname]),pathnameBase:KR(pr([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=pr([u,b.pathnameBase]))}return h}function Uh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=FR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((y,{paramName:v,isOptional:b},w)=>{if(v==="*"){let j=d[w]||"";h=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const R=d[w];return b&&!R?y[v]=void 0:y[v]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function FR(i,e=!1,t=!0){li(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function HR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function yr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function GR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?No(i):i;return{pathname:t?t.startsWith("/")?t:$R(t,e):e,search:QR(s),hash:XR(o)}}function $R(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Xm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xp(i){let e=YR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Wp(i,e,t,s=!1){let o;typeof i=="string"?o=No(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),Xm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Xm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Xm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let b=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}d=b>=0?e[b]:"/"}let p=GR(o,d),y=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var pr=i=>i.join("/").replace(/\/\/+/g,"/"),KR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),QR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,XR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function WR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Ob=["POST","PUT","PATCH","DELETE"];new Set(Ob);var ZR=["GET",...Ob];new Set(ZR);var Do=B.createContext(null);Do.displayName="DataRouter";var uf=B.createContext(null);uf.displayName="DataRouterState";B.createContext(!1);var Pb=B.createContext({isTransitioning:!1});Pb.displayName="ViewTransition";var JR=B.createContext(new Map);JR.displayName="Fetchers";var e1=B.createContext(null);e1.displayName="Await";var ci=B.createContext(null);ci.displayName="Navigation";var Pu=B.createContext(null);Pu.displayName="Location";var hi=B.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var Zp=B.createContext(null);Zp.displayName="RouteError";function t1(i,{relative:e}={}){ut(Oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=B.useContext(ci),{hash:o,pathname:u,search:h}=Mu(i,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:pr([t,u])),s.createHref({pathname:d,search:h,hash:o})}function Oo(){return B.useContext(Pu)!=null}function Ui(){return ut(Oo(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Pu).location}var Mb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jb(i){B.useContext(ci).static||B.useLayoutEffect(i)}function cf(){let{isDataRoute:i}=B.useContext(hi);return i?g1():n1()}function n1(){ut(Oo(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(Do),{basename:e,navigator:t}=B.useContext(ci),{matches:s}=B.useContext(hi),{pathname:o}=Ui(),u=JSON.stringify(Xp(s)),h=B.useRef(!1);return jb(()=>{h.current=!0}),B.useCallback((p,y={})=>{if(li(h.current,Mb),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=Wp(p,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:pr([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,u,o,i])}var i1=B.createContext(null);function r1(i){let e=B.useContext(hi).outlet;return e&&B.createElement(i1.Provider,{value:i},e)}function Mu(i,{relative:e}={}){let{matches:t}=B.useContext(hi),{pathname:s}=Ui(),o=JSON.stringify(Xp(t));return B.useMemo(()=>Wp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function s1(i,e){return kb(i,e)}function kb(i,e,t,s,o){ut(Oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(ci),{matches:h}=B.useContext(hi),d=h[h.length-1],p=d?d.params:{},y=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let W=b&&b.path||"";Vb(y,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=Ui(),R;if(e){let W=typeof e=="string"?No(e):e;ut(v==="/"||W.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),R=W}else R=w;let j=R.pathname||"/",$=j;if(v!=="/"){let W=v.replace(/^\//,"").split("/");$="/"+j.replace(/^\//,"").split("/").slice(W.length).join("/")}let L=xb(i,{pathname:$});li(b||L!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),li(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=c1(L&&L.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:pr([v,u.encodeLocation?u.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:pr([v,u.encodeLocation?u.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),h,t,s,o);return e&&ne?B.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},ne):ne}function a1(){let i=p1(),e=WR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,h)}var o1=B.createElement(a1,null),l1=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?B.createElement(hi.Provider,{value:this.props.routeContext},B.createElement(Zp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function u1({routeContext:i,match:e,children:t}){let s=B.useContext(Do);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(hi.Provider,{value:i},t)}function c1(i,e=[],t=null,s=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let u=i,h=t?.errors;if(h!=null){let y=u.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);ut(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let d=!1,p=-1;if(t)for(let y=0;y<u.length;y++){let v=u[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:b,errors:w}=t,R=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||R){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,v,b)=>{let w,R=!1,j=null,$=null;t&&(w=h&&v.route.id?h[v.route.id]:void 0,j=v.route.errorElement||o1,d&&(p<0&&b===0?(Vb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,$=null):p===b&&(R=!0,$=v.route.hydrateFallbackElement||null)));let L=e.concat(u.slice(0,b+1)),ne=()=>{let W;return w?W=j:R?W=$:v.route.Component?W=B.createElement(v.route.Component,null):v.route.element?W=v.route.element:W=y,B.createElement(u1,{match:v,routeContext:{outlet:y,matches:L,isDataRoute:t!=null},children:W})};return t&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?B.createElement(l1,{location:t.location,revalidation:t.revalidation,component:j,error:w,children:ne(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:s}):ne()},null)}function Jp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h1(i){let e=B.useContext(Do);return ut(e,Jp(i)),e}function f1(i){let e=B.useContext(uf);return ut(e,Jp(i)),e}function d1(i){let e=B.useContext(hi);return ut(e,Jp(i)),e}function eg(i){let e=d1(i),t=e.matches[e.matches.length-1];return ut(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function m1(){return eg("useRouteId")}function p1(){let i=B.useContext(Zp),e=f1("useRouteError"),t=eg("useRouteError");return i!==void 0?i:e.errors?.[t]}function g1(){let{router:i}=h1("useNavigate"),e=eg("useNavigate"),t=B.useRef(!1);return jb(()=>{t.current=!0}),B.useCallback(async(o,u={})=>{li(t.current,Mb),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var OE={};function Vb(i,e,t){!e&&!OE[i]&&(OE[i]=!0,li(!1,t))}B.memo(y1);function y1({routes:i,future:e,state:t,unstable_onError:s}){return kb(i,void 0,t,s,e)}function ts({to:i,replace:e,state:t,relative:s}){ut(Oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(ci);li(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(hi),{pathname:h}=Ui(),d=cf(),p=Wp(i,Xp(u),h,s==="path"),y=JSON.stringify(p);return B.useEffect(()=>{d(JSON.parse(y),{replace:e,state:t,relative:s})},[d,y,s,e,t]),null}function _1(i){return r1(i.context)}function it(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function v1({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ut(!Oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=No(t));let{pathname:p="/",search:y="",hash:v="",state:b=null,key:w="default"}=t,R=B.useMemo(()=>{let j=yr(p,h);return j==null?null:{location:{pathname:j,search:y,hash:v,state:b,key:w},navigationType:s}},[h,p,y,v,b,w,s]);return li(R!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:B.createElement(ci.Provider,{value:d},B.createElement(Pu.Provider,{children:e,value:R}))}function E1({children:i,location:e}){return s1(_p(i),e)}function _p(i,e=[]){let t=[];return B.Children.forEach(i,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){t.push.apply(t,_p(s.props.children,u));return}ut(s.type===it,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=_p(s.props.children,u)),t.push(h)}),t}var Ch="get",Ih="application/x-www-form-urlencoded";function hf(i){return i!=null&&typeof i.tagName=="string"}function T1(i){return hf(i)&&i.tagName.toLowerCase()==="button"}function b1(i){return hf(i)&&i.tagName.toLowerCase()==="form"}function A1(i){return hf(i)&&i.tagName.toLowerCase()==="input"}function w1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function S1(i,e){return i.button===0&&(!e||e==="_self")&&!w1(i)}var yh=null;function R1(){if(yh===null)try{new FormData(document.createElement("form"),0),yh=!1}catch{yh=!0}return yh}var C1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wm(i){return i!=null&&!C1.has(i)?(li(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ih}"`),null):i}function I1(i,e){let t,s,o,u,h;if(b1(i)){let d=i.getAttribute("action");s=d?yr(d,e):null,t=i.getAttribute("method")||Ch,o=Wm(i.getAttribute("enctype"))||Ih,u=new FormData(i)}else if(T1(i)||A1(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?yr(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||Ch,o=Wm(i.getAttribute("formenctype"))||Wm(d.getAttribute("enctype"))||Ih,u=new FormData(d,i),!R1()){let{name:y,type:v,value:b}=i;if(v==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,b)}}else{if(hf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ch,s=null,o=Ih,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function x1(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&yr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function N1(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function O1(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await N1(u,t);return h.links?h.links():[]}return[]}));return k1(s.flat(1).filter(D1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function PE(i,e,t,s,o,u){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,d=(p,y)=>t[y].pathname!==p.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>h(p,y)||d(p,y)):u==="data"?e.filter((p,y)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function P1(i,e,{includeHydrateFallback:t}={}){return M1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function M1(i){return[...new Set(i)]}function j1(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function k1(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(j1(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function Lb(){let i=B.useContext(Do);return tg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function V1(){let i=B.useContext(uf);return tg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ng=B.createContext(void 0);ng.displayName="FrameworkContext";function Ub(){let i=B.useContext(ng);return tg(i,"You must render this element inside a <HydratedRouter> element"),i}function L1(i,e){let t=B.useContext(ng),[s,o]=B.useState(!1),[u,h]=B.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:b}=e,w=B.useRef(null);B.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=ne=>{ne.forEach(W=>{h(W.isIntersecting)})},L=new IntersectionObserver($,{threshold:.5});return w.current&&L.observe(w.current),()=>{L.disconnect()}}},[i]),B.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let R=()=>{o(!0)},j=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Wl(d,R),onBlur:Wl(p,j),onMouseEnter:Wl(y,R),onMouseLeave:Wl(v,j),onTouchStart:Wl(b,R)}]:[!1,w,{}]}function Wl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function U1({page:i,...e}){let{router:t}=Lb(),s=B.useMemo(()=>xb(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?B.createElement(z1,{page:i,matches:s,...e}):null}function B1(i){let{manifest:e,routeModules:t}=Ub(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return O1(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function z1({page:i,matches:e,...t}){let s=Ui(),{manifest:o,routeModules:u}=Ub(),{basename:h}=Lb(),{loaderData:d,matches:p}=V1(),y=B.useMemo(()=>PE(i,e,p,o,s,"data"),[i,e,p,o,s]),v=B.useMemo(()=>PE(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=B.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let j=new Set,$=!1;if(e.forEach(ne=>{let W=o.routes[ne.route.id];!W||!W.hasLoader||(!y.some(K=>K.route.id===ne.route.id)&&ne.route.id in d&&u[ne.route.id]?.shouldRevalidate||W.hasClientLoader?$=!0:j.add(ne.route.id))}),j.size===0)return[];let L=x1(i,h,"data");return $&&j.size>0&&L.searchParams.set("_routes",e.filter(ne=>j.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[L.pathname+L.search]},[h,d,s,o,y,e,i,u]),w=B.useMemo(()=>P1(v,o),[v,o]),R=B1(v);return B.createElement(B.Fragment,null,b.map(j=>B.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),w.map(j=>B.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),R.map(({key:j,link:$})=>B.createElement("link",{key:j,nonce:t.nonce,...$})))}function q1(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Bb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bb&&(window.__reactRouterVersion="7.8.2")}catch{}function F1({basename:i,children:e,window:t}){let s=B.useRef();s.current==null&&(s.current=IR({window:t,v5Compat:!0}));let o=s.current,[u,h]=B.useState({action:o.action,location:o.location}),d=B.useCallback(p=>{B.startTransition(()=>h(p))},[h]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.createElement(v1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var zb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,On=B.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:y,preventScrollReset:v,viewTransition:b,...w},R){let{basename:j}=B.useContext(ci),$=typeof y=="string"&&zb.test(y),L,ne=!1;if(typeof y=="string"&&$&&(L=y,Bb))try{let I=new URL(window.location.href),M=y.startsWith("//")?new URL(I.protocol+y):new URL(y),k=yr(M.pathname,j);M.origin===I.origin&&k!=null?y=k+M.search+M.hash:ne=!0}catch{li(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=t1(y,{relative:o}),[K,re,ae]=L1(s,w),ie=$1(y,{replace:h,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:b});function N(I){e&&e(I),I.defaultPrevented||ie(I)}let C=B.createElement("a",{...w,...ae,href:L||W,onClick:ne||u?e:N,ref:q1(R,re),target:p,"data-discover":!$&&t==="render"?"true":void 0});return K&&!$?B.createElement(B.Fragment,null,C,B.createElement(U1,{page:W})):C});On.displayName="Link";var Fe=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...y},v){let b=Mu(h,{relative:y.relative}),w=Ui(),R=B.useContext(uf),{navigator:j,basename:$}=B.useContext(ci),L=R!=null&&W1(b)&&d===!0,ne=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,W=w.pathname,K=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(W=W.toLowerCase(),K=K?K.toLowerCase():null,ne=ne.toLowerCase()),K&&$&&(K=yr(K,$)||K);const re=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let ae=W===ne||!o&&W.startsWith(ne)&&W.charAt(re)==="/",ie=K!=null&&(K===ne||!o&&K.startsWith(ne)&&K.charAt(ne.length)==="/"),N={isActive:ae,isPending:ie,isTransitioning:L},C=ae?e:void 0,I;typeof s=="function"?I=s(N):I=[s,ae?"active":null,ie?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(N):u;return B.createElement(On,{...y,"aria-current":C,className:I,ref:v,style:M,to:h,viewTransition:d},typeof p=="function"?p(N):p)});Fe.displayName="NavLink";var H1=B.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=Ch,action:d,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:b,...w},R)=>{let j=Q1(),$=X1(d,{relative:y}),L=h.toLowerCase()==="get"?"get":"post",ne=typeof d=="string"&&zb.test(d),W=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let re=K.nativeEvent.submitter,ae=re?.getAttribute("formmethod")||h;j(re||K.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:u,relative:y,preventScrollReset:v,viewTransition:b})};return B.createElement("form",{ref:R,method:L,action:$,onSubmit:s?p:W,...w,"data-discover":!ne&&i==="render"?"true":void 0})});H1.displayName="Form";function G1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qb(i){let e=B.useContext(Do);return ut(e,G1(i)),e}function $1(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=cf(),p=Ui(),y=Mu(i,{relative:u});return B.useCallback(v=>{if(S1(v,e)){v.preventDefault();let b=t!==void 0?t:vu(p)===vu(y);d(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,y,t,s,e,i,o,u,h])}var Y1=0,K1=()=>`__${String(++Y1)}__`;function Q1(){let{router:i}=qb("useSubmit"),{basename:e}=B.useContext(ci),t=m1();return B.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:p,body:y}=I1(s,e);if(o.navigate===!1){let v=o.fetcherKey||K1();await i.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function X1(i,{relative:e}={}){let{basename:t}=B.useContext(ci),s=B.useContext(hi);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Mu(i||".",{relative:e})},h=Ui();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:pr([t,u.pathname])),vu(u)}function W1(i,{relative:e}={}){let t=B.useContext(Pb);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=qb("useViewTransitionState"),o=Mu(i,{relative:e});if(!t.isTransitioning)return!1;let u=yr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=yr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Uh(o.pathname,h)!=null||Uh(o.pathname,u)!=null}const Z1="/mariachis-uclatlan/assets/IMG_1055-u3cmuSPQ.jpg",J1="/mariachis-uclatlan/assets/inauguration-CnT_fCsw.jpg",eC="/mariachis-uclatlan/assets/juliofrenk-xh5a58GC.jpg",tC=[Z1,J1,eC];function nC({images:i=tC,autoPlayMs:e=5e3,showIndicators:t=!0,aspectRatio:s="16/9",className:o=""}){const[u,h]=B.useState(0),d=B.useRef(null),p=B.useRef(null),y=B.useRef(!1),v=B.useRef(null),b=B.useRef(0),w=i.length,R=B.useCallback(re=>{h((re%w+w)%w)},[w]),j=B.useCallback(()=>R(u+1),[R,u]),$=B.useCallback(()=>R(u-1),[R,u]);B.useEffect(()=>{const re=ae=>{ae.key==="ArrowRight"&&j(),ae.key==="ArrowLeft"&&$()};return window.addEventListener("keydown",re),()=>window.removeEventListener("keydown",re)},[j,$]),B.useEffect(()=>{if(!e)return;const re=()=>{p.current!==null&&window.clearInterval(p.current),!y.current&&!document.hidden&&(p.current=window.setInterval(()=>{h(N=>(N+1)%w)},e))},ae=()=>{p.current!==null&&window.clearInterval(p.current),p.current=null};re();const ie=()=>document.hidden?ae():re();return document.addEventListener("visibilitychange",ie),()=>{document.removeEventListener("visibilitychange",ie),ae()}},[e,w]);const L=re=>{v.current=re.touches[0].clientX,b.current=0},ne=re=>{if(v.current!==null&&(b.current=re.touches[0].clientX-v.current,d.current)){const ae=b.current/d.current.clientWidth*100;d.current.style.transition="none",d.current.style.transform=`translateX(calc(${-u*100}% + ${ae}%))`}},W=()=>{d.current&&(d.current.style.transition="");const re=b.current;v.current=null,b.current=0,Math.abs(re)>40?re<0?j():$():d.current&&(d.current.style.transform=`translateX(${-u*100}%)`)},K=B.useMemo(()=>i.map((re,ae)=>g.jsx("button",{"aria-label":`Go to slide ${ae+1}`,className:`carousel-indicator ${ae===u?"active":""}`,onClick:()=>R(ae)},ae)),[i,u,R]);return g.jsxs("div",{className:`carousel ${o}`,style:{"--carousel-aspect":s},onMouseEnter:()=>y.current=!0,onMouseLeave:()=>y.current=!1,"aria-roledescription":"carousel",children:[g.jsx("div",{className:"carousel-viewport",onTouchStart:L,onTouchMove:ne,onTouchEnd:W,children:g.jsx("div",{ref:d,className:"carousel-track",style:{transform:`translateX(${-u*100}%)`},children:i.map((re,ae)=>g.jsxs("div",{className:"carousel-slide",role:"group","aria-roledescription":"slide","aria-label":`${ae+1} of ${w}`,children:[g.jsx("img",{className:"carousel-image",src:re,loading:"lazy",alt:`Slide ${ae+1}`}),g.jsx("div",{className:"carousel-gradient","aria-hidden":"true"})]},ae))})}),g.jsx("button",{className:"carousel-button prev",onClick:$,"aria-label":"Previous slide",children:"‹"}),g.jsx("button",{className:"carousel-button next",onClick:j,"aria-label":"Next slide",children:"›"}),t&&g.jsx("div",{className:"carousel-indicators",role:"tablist","aria-label":"Slide indicators",children:K})]})}const Zm=()=>g.jsxs("section",{className:"home stack",children:[g.jsxs("header",{className:"stack",children:[g.jsx("h1",{className:"title",children:"Welcome"}),g.jsx("p",{className:"lede",children:"Responsive layout tuned for iPhone, iPad, Android, and desktop."})]}),g.jsxs("div",{className:"grid cols-3 stack-md",children:[g.jsxs("article",{className:"card",children:[g.jsx("h3",{children:"Events"}),g.jsx("p",{children:"See upcoming performances and details."})]}),g.jsxs("article",{className:"card",children:[g.jsx("h3",{children:"Members"}),g.jsx("p",{children:"Register, update profile, and set availability."})]}),g.jsxs("article",{className:"card",children:[g.jsx("h3",{children:"About"}),g.jsx("p",{children:"Learn about Mariachi de Uclatlán."})]})]}),g.jsx(nC,{})]});function iC(){return g.jsxs("div",{className:"about-page",children:[g.jsx("h1",{children:"About Us"}),g.jsx("p",{children:"Welcome to Mariachi de Uclatlán! We are UCLA's premier mariachi ensemble dedicated to preserving the rich traditions of Mexican music and culture. Founded in 1961, our ensemble has a long history of excellence and passion for mariachi music."}),g.jsx("h2",{children:"Watch a Recent Performance"}),g.jsx("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,marginBottom:"2rem"},children:g.jsx("iframe",{src:"https://www.youtube.com/embed/PVT9JTaZokk?start=6720",title:"Mariachi de Uclatlán Performance",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})}),g.jsx("h2",{children:"Our History"}),g.jsx("p",{children:"Mariachi de Uclatlán was established to provide students with an opportunity to experience and perform traditional Mexican music while also promoting cultural awareness. Over the years, we have participated in numerous events and competitions, showcasing the talent and dedication of our members."})]})}const rC=()=>g.jsxs("section",{className:"contact-page",children:[g.jsx("h1",{children:"Contact Us"}),g.jsxs("p",{className:"contact-intro",children:["Email us at"," ",g.jsx("a",{href:"mailto:uclatlan@ucla.edu",className:"contact-link",children:"uclatlan@ucla.edu"})," ","or choose an option below:"]}),g.jsxs("div",{className:"contact-actions",children:[g.jsx(On,{to:"/hire-us",className:"cta-button",children:"Hiring"}),g.jsx(On,{to:"/book-us",className:"cta-button",children:"Performance Inquiry"}),g.jsx(On,{to:"/join",className:"cta-button",children:"How to Join Our Group"}),g.jsx(On,{to:"/contact/form",className:"cta-button",children:"General Questions"})]})]}),sC=()=>{};var ME={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},aC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],d=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Hb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,v=u>>2,b=(u&3)<<4|d>>4;let w=(d&15)<<2|y>>6,R=y&63;p||(R=64,h||(w=64)),s.push(t[v],t[b],t[w],t[R])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Fb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):aC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const y=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||d==null||y==null||b==null)throw new oC;const w=u<<2|d>>4;if(s.push(w),y!==64){const R=d<<4&240|y>>2;if(s.push(R),b!==64){const j=y<<6&192|b;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class oC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lC=function(i){const e=Fb(i);return Hb.encodeByteArray(e,!0)},Bh=function(i){return lC(i).replace(/\./g,"")},Gb=function(i){try{return Hb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=()=>uC().__FIREBASE_DEFAULTS__,hC=()=>{if(typeof process>"u"||typeof ME>"u")return;const i=ME.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},fC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Gb(i[1]);return e&&JSON.parse(e)},ff=()=>{try{return sC()||cC()||hC()||fC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},$b=i=>ff()?.emulatorHosts?.[i],ig=i=>{const e=$b(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Yb=()=>ff()?.config,Kb=i=>ff()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function df(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Bh(JSON.stringify(t)),Bh(JSON.stringify(h)),""].join(".")}const lu={};function mC(){const i={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?i.emulator.push(e):i.prod.push(e);return i}function pC(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let jE=!1;function mf(i,e){if(typeof window>"u"||typeof document>"u"||!Ar(window.location.host)||lu[i]===e||lu[i]||jE)return;lu[i]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=mC().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,R){w.setAttribute("width","24"),w.setAttribute("id",R),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{jE=!0,h()},w}function v(w,R){w.setAttribute("id",R),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=pC(s),R=t("text"),j=document.getElementById(R)||document.createElement("span"),$=t("learnmore"),L=document.getElementById($)||document.createElement("a"),ne=t("preprendIcon"),W=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const K=w.element;d(K),v(L,$);const re=y();p(W,ne),K.append(W,j,L,re),document.body.appendChild(K)}u?(j.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function yC(){const i=ff()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _C(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function EC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TC(){const i=un();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function bC(){return!yC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AC(){try{return typeof indexedDB=="object"}catch{return!1}}function wC(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="FirebaseError";class Bi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=SC,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?RC(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Bi(o,d,s)}}function RC(i,e){return i.replace(CC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const CC=/\{\$([^}]+)}/g;function IC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ha(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(kE(u)&&kE(h)){if(!ha(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function kE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function tu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function nu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function xC(i,e){const t=new NC(i,e);return t.subscribe.bind(t)}class NC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");DC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Jm),o.error===void 0&&(o.error=Jm),o.complete===void 0&&(o.complete=Jm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(i){return i&&i._delegate?i._delegate:i}class _r{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new dC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MC(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PC(i){return i===sa?void 0:i}function MC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new OC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const kC={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},VC=Pe.INFO,LC={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},UC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=LC[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rg{constructor(e){this.name=e,this._logLevel=VC,this._logHandler=UC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const BC=(i,e)=>e.some(t=>i instanceof t);let VE,LE;function zC(){return VE||(VE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qC(){return LE||(LE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xb=new WeakMap,vp=new WeakMap,Wb=new WeakMap,ep=new WeakMap,sg=new WeakMap;function FC(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(os(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Xb.set(t,i)}).catch(()=>{}),sg.set(e,i),e}function HC(i){if(vp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});vp.set(i,e)}let Ep={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return vp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Wb.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return os(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function GC(i){Ep=i(Ep)}function $C(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(tp(this),e,...t);return Wb.set(s,e.sort?e.sort():[e]),os(s)}:qC().includes(i)?function(...e){return i.apply(tp(this),e),os(Xb.get(this))}:function(...e){return os(i.apply(tp(this),e))}}function YC(i){return typeof i=="function"?$C(i):(i instanceof IDBTransaction&&HC(i),BC(i,zC())?new Proxy(i,Ep):i)}function os(i){if(i instanceof IDBRequest)return FC(i);if(ep.has(i))return ep.get(i);const e=YC(i);return e!==i&&(ep.set(i,e),sg.set(e,i)),e}const tp=i=>sg.get(i);function KC(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=os(h);return s&&h.addEventListener("upgradeneeded",p=>{s(os(h.result),p.oldVersion,p.newVersion,os(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const QC=["get","getKey","getAll","getAllKeys","count"],XC=["put","add","delete","clear"],np=new Map;function UE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(np.get(e))return np.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=XC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||QC.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return np.set(e,u),u}GC(i=>({...i,get:(e,t,s)=>UE(e,t)||i.get(e,t,s),has:(e,t)=>!!UE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ZC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function ZC(i){return i.getComponent()?.type==="VERSION"}const Tp="@firebase/app",BE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new rg("@firebase/app"),JC="@firebase/app-compat",eI="@firebase/analytics-compat",tI="@firebase/analytics",nI="@firebase/app-check-compat",iI="@firebase/app-check",rI="@firebase/auth",sI="@firebase/auth-compat",aI="@firebase/database",oI="@firebase/data-connect",lI="@firebase/database-compat",uI="@firebase/functions",cI="@firebase/functions-compat",hI="@firebase/installations",fI="@firebase/installations-compat",dI="@firebase/messaging",mI="@firebase/messaging-compat",pI="@firebase/performance",gI="@firebase/performance-compat",yI="@firebase/remote-config",_I="@firebase/remote-config-compat",vI="@firebase/storage",EI="@firebase/storage-compat",TI="@firebase/firestore",bI="@firebase/ai",AI="@firebase/firestore-compat",wI="firebase",SI="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="[DEFAULT]",RI={[Tp]:"fire-core",[JC]:"fire-core-compat",[tI]:"fire-analytics",[eI]:"fire-analytics-compat",[iI]:"fire-app-check",[nI]:"fire-app-check-compat",[rI]:"fire-auth",[sI]:"fire-auth-compat",[aI]:"fire-rtdb",[oI]:"fire-data-connect",[lI]:"fire-rtdb-compat",[uI]:"fire-fn",[cI]:"fire-fn-compat",[hI]:"fire-iid",[fI]:"fire-iid-compat",[dI]:"fire-fcm",[mI]:"fire-fcm-compat",[pI]:"fire-perf",[gI]:"fire-perf-compat",[yI]:"fire-rc",[_I]:"fire-rc-compat",[vI]:"fire-gcs",[EI]:"fire-gcs-compat",[TI]:"fire-fst",[AI]:"fire-fst-compat",[bI]:"fire-vertex","fire-js":"fire-js",[wI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new Map,CI=new Map,Ap=new Map;function zE(i,e){try{i.container.addComponent(e)}catch(t){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function hs(i){const e=i.name;if(Ap.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;Ap.set(e,i);for(const t of Eu.values())zE(t,i);for(const t of CI.values())zE(t,i);return!0}function ku(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function ln(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new ju("app","Firebase",II);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=SI;function Zb(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:bp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(t||(t=Yb()),!t)throw ls.create("no-options");const u=Eu.get(o);if(u){if(ha(t,u.options)&&ha(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const h=new jC(o);for(const p of Ap.values())h.addComponent(p);const d=new xI(t,s,h);return Eu.set(o,d),d}function pf(i=bp){const e=Eu.get(i);if(!e&&i===bp&&Yb())return Zb();if(!e)throw ls.create("no-app",{appName:i});return e}function qE(){return Array.from(Eu.values())}function Wn(i,e,t){let s=RI[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(h.join(" "));return}hs(new _r(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="firebase-heartbeat-database",DI=1,Tu="firebase-heartbeat-store";let ip=null;function Jb(){return ip||(ip=KC(NI,DI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Tu)}catch(t){console.warn(t)}}}}).catch(i=>{throw ls.create("idb-open",{originalErrorMessage:i.message})})),ip}async function OI(i){try{const t=(await Jb()).transaction(Tu),s=await t.objectStore(Tu).get(e0(i));return await t.done,s}catch(e){if(e instanceof Bi)vr.warn(e.message);else{const t=ls.create("idb-get",{originalErrorMessage:e?.message});vr.warn(t.message)}}}async function FE(i,e){try{const s=(await Jb()).transaction(Tu,"readwrite");await s.objectStore(Tu).put(e,e0(i)),await s.done}catch(t){if(t instanceof Bi)vr.warn(t.message);else{const s=ls.create("idb-set",{originalErrorMessage:t?.message});vr.warn(s.message)}}}function e0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=1024,MI=30;class jI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new VI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=HE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>MI){const o=LI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=HE(),{heartbeatsToSend:t,unsentEntries:s}=kI(this._heartbeatsCache.heartbeats),o=Bh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vr.warn(e),""}}}function HE(){return new Date().toISOString().substring(0,10)}function kI(i,e=PI){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),GE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),GE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class VI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AC()?wC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await OI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return FE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return FE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function GE(i){return Bh(JSON.stringify({version:2,heartbeats:i})).length}function LI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(i){hs(new _r("platform-logger",e=>new WC(e),"PRIVATE")),hs(new _r("heartbeat",e=>new jI(e),"PRIVATE")),Wn(Tp,BE,i),Wn(Tp,BE,"esm2020"),Wn("fire-js","")}UI("");function t0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BI=t0,n0=new ju("auth","Firebase",t0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new rg("@firebase/auth");function zI(i,...e){zh.logLevel<=Pe.WARN&&zh.warn(`Auth (${ya}): ${i}`,...e)}function xh(i,...e){zh.logLevel<=Pe.ERROR&&zh.error(`Auth (${ya}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(i,...e){throw og(i,...e)}function En(i,...e){return og(i,...e)}function ag(i,e,t){const s={...BI(),[e]:t};return new ju("auth","Firebase",s).create(e,{appName:i.name})}function Pi(i){return ag(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qI(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Zn(i,"argument-error"),ag(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function og(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return n0.create(i,...e)}function de(i,e,...t){if(!i)throw og(e,...t)}function dr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw xh(e),new Error(e)}function Er(i,e){i||dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(){return typeof self<"u"&&self.location?.href||""}function i0(){return $E()==="http:"||$E()==="https:"}function $E(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i0()||vC()||"connection"in navigator)?navigator.onLine:!0}function HI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Er(t>e,"Short delay should be less than long delay!"),this.isMobile=gC()||EC()}get(){return FI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(i,e){Er(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YI=new Vu(3e4,6e4);function bn(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function kn(i,e,t,s,o={}){return s0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=Po({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:p,...u};return _C()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Ar(i.emulatorConfig.host)&&(y.credentials="include"),r0.fetch()(await a0(i,i.config.apiHost,t,d),y)})}async function s0(i,e,t){i._canInitEmulator=!1;const s={...GI,...e};try{const o=new QI(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw iu(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw iu(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw iu(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw iu(i,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ag(i,v,y);Zn(i,v)}}catch(o){if(o instanceof Bi)throw o;Zn(i,"network-request-failed",{message:String(o)})}}async function vs(i,e,t,s,o={}){const u=await kn(i,e,t,s,o);return"mfaPendingCredential"in u&&Zn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function a0(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?lg(i.config,o):`${i.config.apiScheme}://${o}`;return $I.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function KI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(En(this.auth,"network-request-failed")),YI.get())})}}function iu(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=En(i,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(i){return i!==void 0&&i.getResponse!==void 0}function KE(i){return i!==void 0&&i.enterprise!==void 0}class o0{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return KI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(i){return(await kn(i,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function l0(i,e){return kn(i,"GET","/v2/recaptchaConfig",bn(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(i,e){return kn(i,"POST","/v1/accounts:delete",e)}async function qh(i,e){return kn(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u0(i,e=!1){const t=st(i),s=await t.getIdToken(e),o=ug(s);de(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:uu(rp(o.auth_time)),issuedAtTime:uu(rp(o.iat)),expirationTime:uu(rp(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function rp(i){return Number(i)*1e3}function ug(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Gb(t);return o?JSON.parse(o):(xh("Failed to decode base64 JWT payload"),null)}catch(o){return xh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function QE(i){const e=ug(i);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Bi&&ZI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function ZI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(i){const e=i.auth,t=await i.getIdToken(),s=await Ao(i,qh(e,{idToken:t}));de(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?c0(o.providerUserInfo):[],h=tx(i.providerData,u),d=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,y=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Sp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,v)}async function ex(i){const e=st(i);await Fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tx(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function c0(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(i,e){const t=await s0(i,{},async()=>{const s=Po({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await a0(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return i.emulatorConfig&&Ar(i.emulatorConfig.host)&&(p.credentials="include"),r0.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ix(i,e){return kn(i,"POST","/v2/accounts:revokeToken",bn(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");const t=QE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await nx(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new _o;return s&&(de(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(de(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(de(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(i,e){de(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new JI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ao(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return u0(this,e)}reload(){return ex(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ln(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await Ao(this,WI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,y=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:R,providerData:j,stsTokenManager:$}=t;de(b&&$,e,"internal-error");const L=_o.fromJSON(this.name,$);de(typeof b=="string",e,"internal-error"),es(s,e.name),es(o,e.name),de(typeof w=="boolean",e,"internal-error"),de(typeof R=="boolean",e,"internal-error"),es(u,e.name),es(h,e.name),es(d,e.name),es(p,e.name),es(y,e.name),es(v,e.name);const ne=new ai({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:R,photoURL:h,phoneNumber:u,tenantId:d,stsTokenManager:L,createdAt:y,lastLoginAt:v});return j&&Array.isArray(j)&&(ne.providerData=j.map(W=>({...W}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,t,s=!1){const o=new _o;o.updateFromServerResponse(t);const u=new ai({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Fh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];de(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?c0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,d=new _o;d.updateFromIdToken(s);const p=new ai({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Sp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;function mr(i){Er(i instanceof Function,"Expected a class definition");let e=XE.get(i);return e?(Er(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,XE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}h0.type="NONE";const WE=h0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(i,e,t){return`firebase:${i}:${e}:${t}`}class vo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Nh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await qh(this.auth,{idToken:e}).catch(()=>{});return t?ai._fromGetAccountInfoResponse(this.auth,t,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new vo(mr(WE),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||mr(WE);const h=Nh(s,e.config.apiKey,e.name);let d=null;for(const y of t)try{const v=await y._get(h);if(v){let b;if(typeof v=="string"){const w=await qh(e,{idToken:v}).catch(()=>{});if(!w)break;b=await ai._fromGetAccountInfoResponse(e,w,v)}else b=ai._fromJSON(e,v);y!==u&&(d=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new vo(u,e,s):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new vo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y0(e))return"Blackberry";if(_0(e))return"Webos";if(d0(e))return"Safari";if((e.includes("chrome/")||m0(e))&&!e.includes("edge/"))return"Chrome";if(g0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function f0(i=un()){return/firefox\//i.test(i)}function d0(i=un()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m0(i=un()){return/crios\//i.test(i)}function p0(i=un()){return/iemobile/i.test(i)}function g0(i=un()){return/android/i.test(i)}function y0(i=un()){return/blackberry/i.test(i)}function _0(i=un()){return/webos/i.test(i)}function cg(i=un()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function rx(i=un()){return cg(i)&&!!window.navigator?.standalone}function sx(){return TC()&&document.documentMode===10}function v0(i=un()){return cg(i)||g0(i)||_0(i)||y0(i)||/windows phone/i.test(i)||p0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(i,e=[]){let t;switch(i){case"Browser":t=ZE(un());break;case"Worker":t=`${ZE(un())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ya}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(i,e={}){return kn(i,"GET","/v2/passwordPolicy",bn(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=6;class ux{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??lx,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JE(this),this.idTokenSubscription=new JE(this),this.beforeStateQueue=new ax(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await qh(this,{idToken:e}),s=await ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ln(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ln(this.app))return Promise.reject(Pi(this));const t=e?st(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ln(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ln(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ox(this),t=new ux(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await ix(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mr(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fi(i){return st(i)}class JE{constructor(e){this.auth=e,this.observer=null,this.addObserver=xC(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hx(i){Lu=i}function hg(i){return Lu.loadJS(i)}function fx(){return Lu.recaptchaV2Script}function dx(){return Lu.recaptchaEnterpriseScript}function mx(){return Lu.gapiScript}function T0(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=500,gx=6e4,_h=1e12;class yx{constructor(e){this.auth=e,this.counter=_h,this._widgets=new Map}render(e,t){const s=this.counter;return this._widgets.set(s,new Ex(e,this.auth.name,t||{})),this.counter++,s}reset(e){const t=e||_h;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||_h;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||_h;return this._widgets.get(t)?.execute(),""}}class _x{constructor(){this.enterprise=new vx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ex{constructor(e,t,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof e=="string"?document.getElementById(e):e;de(o,"argument-error",{appName:t}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Tx(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},gx)},px))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Tx(i){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<i;s++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const bx="recaptcha-enterprise",cu="NO_RECAPTCHA";class b0{constructor(e){this.type=bx,this.auth=fi(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{l0(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new o0(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;KE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(cu)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _x().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&KE(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=dx();p.length!==0&&(p+=d),hg(p).then(()=>{o(d,u,h)}).catch(y=>{h(y)})}}).catch(d=>{h(d)})})}}async function Zl(i,e,t,s=!1,o=!1){const u=new b0(i);let h;if(o)h=cu;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Eo(i,e,t,s,o){if(o==="EMAIL_PASSWORD_PROVIDER")if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Zl(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Zl(i,e,t,t==="getOobCode");return s(i,h)}else return Promise.reject(u)});else if(o==="PHONE_PROVIDER")if(i._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const u=await Zl(i,e,t);return s(i,u).catch(async h=>{if(i._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(h.code==="auth/missing-recaptcha-token"||h.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const d=await Zl(i,e,t,!1,!0);return s(i,d)}return Promise.reject(h)})}else{const u=await Zl(i,e,t,!1,!0);return s(i,u)}else return Promise.reject(o+" provider is not supported.")}async function Ax(i){const e=fi(i),t=await l0(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new o0(t);e.tenantId==null?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,s.isAnyProviderEnabled()&&new b0(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(i,e){const t=ku(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ha(u,e??{}))return o;Zn(o,"already-initialized")}return t.initialize({options:e})}function Sx(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(mr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function Rx(i,e,t){const s=fi(i);de(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=A0(e),{host:h,port:d}=Cx(e),p=d===null?"":`:${d}`,y={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){de(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),de(ha(y,s.config.emulator)&&ha(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Ar(h)?(df(`${u}//${h}${p}`),mf("Auth",!0)):Ix()}function A0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Cx(i){const e=A0(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:eT(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:eT(h)}}}function eT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Ix(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,t){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function xx(i,e){return kn(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(i,e){return vs(i,"POST","/v1/accounts:signInWithPassword",bn(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(i,e){return vs(i,"POST","/v1/accounts:signInWithEmailLink",bn(i,e))}async function Ox(i,e){return vs(i,"POST","/v1/accounts:signInWithEmailLink",bn(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends gf{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new bu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new bu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eo(e,t,"signInWithPassword",Nx,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Dx(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eo(e,s,"signUpPassword",xx,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Ox(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(i,e){return vs(i,"POST","/v1/accounts:signInWithIdp",bn(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="http://localhost";class fa extends gf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const h=new fa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return To(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,To(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,To(e,t)}buildRequest(){const e={requestUri:Px,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Po(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tT(i,e){return kn(i,"POST","/v1/accounts:sendVerificationCode",bn(i,e))}async function Mx(i,e){return vs(i,"POST","/v1/accounts:signInWithPhoneNumber",bn(i,e))}async function jx(i,e){const t=await vs(i,"POST","/v1/accounts:signInWithPhoneNumber",bn(i,e));if(t.temporaryProof)throw iu(i,"account-exists-with-different-credential",t);return t}const kx={USER_NOT_FOUND:"user-not-found"};async function Vx(i,e){const t={...e,operation:"REAUTH"};return vs(i,"POST","/v1/accounts:signInWithPhoneNumber",bn(i,t),kx)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends gf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new hu({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new hu({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Mx(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return jx(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Vx(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:s,verificationCode:o}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:s,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:s,phoneNumber:o,temporaryProof:u}=e;return!s&&!t&&!o&&!u?null:new hu({verificationId:t,verificationCode:s,phoneNumber:o,temporaryProof:u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ux(i){const e=tu(nu(i)).link,t=e?tu(nu(e)).deep_link_id:null,s=tu(nu(i)).deep_link_id;return(s?tu(nu(s)).link:null)||s||t||e||i}class fg{constructor(e){const t=tu(nu(e)),s=t.apiKey??null,o=t.oobCode??null,u=Lx(t.mode??null);de(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Ux(e);try{return new fg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,t){return bu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=fg.parseLink(t);return de(s,"argument-error"),bu._fromEmailAndCode(e,s.code,s.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends dg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Uu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fa._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Di.credential(t,s)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Uu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Uu{constructor(){super("twitter.com")}static credential(e,t){return fa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return rs.credential(t,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(i,e){return vs(i,"POST","/v1/accounts:signUp",bn(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ai._fromIdTokenResponse(e,s,o),h=nT(s);return new da({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=nT(s);return new da({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function nT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends Bi{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Hh(e,t,s,o)}}function w0(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(i,u,e,s):u})}async function zx(i,e,t=!1){const s=await Ao(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return da._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(i,e,t=!1){const{auth:s}=i;if(ln(s.app))return Promise.reject(Pi(s));const o="reauthenticate";try{const u=await Ao(i,w0(s,o,e,i),t);de(u.idToken,s,"internal-error");const h=ug(u.idToken);de(h,s,"internal-error");const{sub:d}=h;return de(i.uid===d,s,"user-mismatch"),da._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Zn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0(i,e,t=!1){if(ln(i.app))return Promise.reject(Pi(i));const s="signIn",o=await w0(i,s,e),u=await da._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function R0(i,e){return S0(fi(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C0(i){const e=fi(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Fx(i,e,t){if(ln(i.app))return Promise.reject(Pi(i));const s=fi(i),h=await Eo(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bx,"EMAIL_PASSWORD_PROVIDER").catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&C0(i),p}),d=await da._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function Hx(i,e,t){return ln(i.app)?Promise.reject(Pi(i)):R0(st(i),Mo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&C0(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(i,e){return kn(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=st(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Ao(s,Gx(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const d=s.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function Yx(i,e,t,s){return st(i).onIdTokenChanged(e,t,s)}function Kx(i,e,t){return st(i).beforeAuthStateChanged(e,t)}function yf(i,e,t,s){return st(i).onAuthStateChanged(e,t,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(i,e){return kn(i,"POST","/v2/accounts/mfaEnrollment:start",bn(i,e))}const Gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=1e3,Xx=10;class x0 extends I0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);sx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Xx):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}x0.type="LOCAL";const Wx=x0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends I0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}N0.type="SESSION";const D0=N0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new _f(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async y=>y(t.origin,u)),p=await Zx(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_f.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const y=mg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(w.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return window}function eN(i){It().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(){return typeof It().WorkerGlobalScope<"u"&&typeof It().importScripts=="function"}async function tN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nN(){return navigator?.serviceWorker?.controller||null}function iN(){return pg()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="firebaseLocalStorageDb",rN=1,$h="firebaseLocalStorage",P0="fbase_key";class Bu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vf(i,e){return i.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function sN(){const i=indexedDB.deleteDatabase(O0);return new Bu(i).toPromise()}function Rp(){const i=indexedDB.open(O0,rN);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore($h,{keyPath:P0})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains($h)?e(s):(s.close(),await sN(),e(await Rp()))})})}async function rT(i,e,t){const s=vf(i,!0).put({[P0]:e,value:t});return new Bu(s).toPromise()}async function aN(i,e){const t=vf(i,!1).get(e),s=await new Bu(t).toPromise();return s===void 0?null:s.value}function sT(i,e){const t=vf(i,!0).delete(e);return new Bu(t).toPromise()}const oN=800,lN=3;class M0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>lN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_f._getInstance(iN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tN(),!this.activeServiceWorker)return;this.sender=new Jx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rp();return await rT(e,Gh,"1"),await sT(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>rT(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>aN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=vf(o,!1).getAll();return new Bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}M0.type="LOCAL";const uN=M0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(i,e){return kn(i,"POST","/v2/accounts/mfaSignIn:start",bn(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=T0("rcb"),cN=new Vu(3e4,6e4);class hN{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!It().grecaptcha?.render}load(e,t=""){return de(fN(t),e,"argument-error"),this.shouldResolveImmediately(t)&&YE(It().grecaptcha)?Promise.resolve(It().grecaptcha):new Promise((s,o)=>{const u=It().setTimeout(()=>{o(En(e,"network-request-failed"))},cN.get());It()[sp]=()=>{It().clearTimeout(u),delete It()[sp];const d=It().grecaptcha;if(!d||!YE(d)){o(En(e,"internal-error"));return}const p=d.render;d.render=(y,v)=>{const b=p(y,v);return this.counter++,b},this.hostLanguage=t,s(d)};const h=`${fx()}?${Po({onload:sp,render:"explicit",hl:t})}`;hg(h).catch(()=>{clearTimeout(u),o(En(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!It().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function fN(i){return i.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(i)}class dN{async load(e){return new yx(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu="recaptcha",mN={theme:"light",type:"image"};class Cp{constructor(e,t,s={...mN}){this.parameters=s,this.type=fu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fi(e),this.isInvisible=this.parameters.size==="invisible",de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof t=="string"?document.getElementById(t):t;de(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dN:new hN,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),s=t.getResponse(e);return s||new Promise(o=>{const u=h=>{h&&(this.tokenChangeListeners.delete(u),o(h))};this.tokenChangeListeners.add(u),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(s=>s(t)),typeof e=="function")e(t);else if(typeof e=="string"){const s=It()[e];typeof s=="function"&&s(t)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){de(i0()&&!pg(),this.auth,"internal-error"),await pN(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await XI(this.auth);de(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function pN(){let i=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}i=()=>e(),window.addEventListener("load",i)}).catch(e=>{throw i&&window.removeEventListener("load",i),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=hu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function j0(i,e,t){if(ln(i.app))return Promise.reject(Pi(i));const s=fi(i),o=await yN(s,e,st(t));return new gN(o,u=>R0(s,u))}async function yN(i,e,t){if(!i._getRecaptchaConfig())try{await Ax(i)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s){de(o.type==="enroll",i,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Eo(i,u,"mfaSmsEnrollment",async(y,v)=>{if(v.phoneEnrollmentInfo.captchaResponse===cu){de(t?.type===fu,y,"argument-error");const b=await ap(y,v,t);return iT(y,b)}return iT(y,v)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).phoneSessionInfo.sessionInfo}else{de(o.type==="signin",i,"internal-error");const u=s.multiFactorHint?.uid||s.multiFactorUid;de(u,i,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Eo(i,h,"mfaSmsSignIn",async(v,b)=>{if(b.phoneSignInInfo.captchaResponse===cu){de(t?.type===fu,v,"argument-error");const w=await ap(v,b,t);return aT(v,w)}return aT(v,b)},"PHONE_PROVIDER").catch(v=>Promise.reject(v))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Eo(i,o,"sendVerificationCode",async(p,y)=>{if(y.captchaResponse===cu){de(t?.type===fu,p,"argument-error");const v=await ap(p,y,t);return tT(p,v)}return tT(p,y)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).sessionInfo}}finally{t?._reset()}}async function ap(i,e,t){de(t.type===fu,i,"argument-error");const s=await t.verify();de(typeof s=="string",i,"argument-error");const o={...e};if("phoneEnrollmentInfo"in o){const u=o.phoneEnrollmentInfo.phoneNumber,h=o.phoneEnrollmentInfo.captchaResponse,d=o.phoneEnrollmentInfo.clientType,p=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:s,captchaResponse:h,clientType:d,recaptchaVersion:p}}),o}else if("phoneSignInInfo"in o){const u=o.phoneSignInInfo.captchaResponse,h=o.phoneSignInInfo.clientType,d=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:u,clientType:h,recaptchaVersion:d}}),o}else return Object.assign(o,{recaptchaToken:s}),o}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(i,e){return e?mr(e):(de(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends gf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,t){return To(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _N(i){return S0(i.auth,new gg(i),i.bypassAuthState)}function vN(i){const{auth:e,user:t}=i;return de(t,e,"internal-error"),qx(t,new gg(i),i.bypassAuthState)}async function EN(i){const{auth:e,user:t}=i;return de(t,e,"internal-error"),zx(t,new gg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _N;case"linkViaPopup":case"linkViaRedirect":return EN;case"reauthViaPopup":case"reauthViaRedirect":return vN;default:Zn(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new Vu(2e3,1e4);async function L0(i,e,t){if(ln(i.app))return Promise.reject(En(i,"operation-not-supported-in-this-environment"));const s=fi(i);qI(i,e,dg);const o=k0(s,t);return new aa(s,"signInViaPopup",e,o).executeNotNull()}class aa extends V0{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(En(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(En(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(En(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TN.get())};e()}}aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="pendingRedirect",Dh=new Map;class AN extends V0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Dh.get(this.auth._key());if(!e){try{const s=await wN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Dh.set(this.auth._key(),e)}return this.bypassAuthState||Dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wN(i,e){const t=CN(e),s=RN(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function SN(i,e){Dh.set(i._key(),e)}function RN(i){return mr(i._redirectPersistence)}function CN(i){return Nh(bN,i.config.apiKey,i.name)}async function IN(i,e,t=!1){if(ln(i.app))return Promise.reject(Pi(i));const s=fi(i),o=k0(s,e),h=await new AN(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=600*1e3;class NN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!U0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(En(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xN&&this.cachedEventUids.clear(),this.cachedEventUids.has(oT(e))}saveEventToCache(e){this.cachedEventUids.add(oT(e)),this.lastProcessedEventTime=Date.now()}}function oT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function U0({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function DN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(i,e={}){return kn(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MN=/^https?/;async function jN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await ON(i);for(const t of e)try{if(kN(t))return}catch{}Zn(i,"unauthorized-domain")}function kN(i){const e=wp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!MN.test(t))return!1;if(PN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new Vu(3e4,6e4);function lT(){const i=It().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function LN(i){return new Promise((e,t)=>{function s(){lT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lT(),t(En(i,"network-request-failed"))},timeout:VN.get()})}if(It().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(It().gapi?.load)s();else{const o=T0("iframefcb");return It()[o]=()=>{gapi.load?s():t(En(i,"network-request-failed"))},hg(`${mx()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Oh=null,e})}let Oh=null;function UN(i){return Oh=Oh||LN(i),Oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=new Vu(5e3,15e3),zN="__/auth/iframe",qN="emulator/auth/iframe",FN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GN(i){const e=i.config;de(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?lg(e,qN):`https://${i.config.authDomain}/${zN}`,s={apiKey:e.apiKey,appName:i.name,v:ya},o=HN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Po(s).slice(1)}`}async function $N(i){const e=await UN(i),t=It().gapi;return de(t,i,"internal-error"),e.open({where:document.body,url:GN(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=En(i,"network-request-failed"),d=It().setTimeout(()=>{u(h)},BN.get());function p(){It().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KN=500,QN=600,XN="_blank",WN="http://localhost";class uT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZN(i,e,t,s=KN,o=QN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...YN,width:s.toString(),height:o.toString(),top:u,left:h},y=un().toLowerCase();t&&(d=m0(y)?XN:t),f0(y)&&(e=e||WN,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[R,j])=>`${w}${R}=${j},`,"");if(rx(y)&&d!=="_self")return JN(e||"",d),new uT(null);const b=window.open(e||"",d,v);de(b,i,"popup-blocked");try{b.focus()}catch{}return new uT(b)}function JN(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="__/auth/handler",tD="emulator/auth/handler",nD=encodeURIComponent("fac");async function cT(i,e,t,s,o,u){de(i.config.authDomain,i,"auth-domain-config-required"),de(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:ya,eventId:o};if(e instanceof dg){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",IC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))h[v]=b}if(e instanceof Uu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await i._getAppCheckToken(),y=p?`#${nD}=${encodeURIComponent(p)}`:"";return`${iD(i)}?${Po(d).slice(1)}${y}`}function iD({config:i}){return i.emulator?lg(i,tD):`https://${i.authDomain}/${eD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="webStorageSupport";class rD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D0,this._completeRedirectFn=IN,this._overrideRedirectResult=SN}async _openPopup(e,t,s,o){Er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await cT(e,t,s,wp(),o);return ZN(e,u,mg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await cT(e,t,s,wp(),o);return eN(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await $N(e),s=new NN(e);return t.register("authEvent",o=>(de(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(op,{type:op},o=>{const u=o?.[0]?.[op];u!==void 0&&t(!!u),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=jN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return v0()||d0()||cg()}}const sD=rD;var hT="@firebase/auth",fT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lD(i){hs(new _r("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;de(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E0(i)},y=new cx(s,o,u,p);return Sx(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),hs(new _r("auth-internal",e=>{const t=fi(e.getProvider("auth").getImmediate());return(s=>new aD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(hT,fT,oD(i)),Wn(hT,fT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=300,cD=Kb("authIdTokenMaxAge")||uD;let dT=null;const hD=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>cD)return;const o=t?.token;dT!==o&&(dT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fD(i=pf()){const e=ku(i,"auth");if(e.isInitialized())return e.getImmediate();const t=wx(i,{popupRedirectResolver:sD,persistence:[uN,Wx,D0]}),s=Kb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=hD(u.toString());Kx(t,h,()=>h(t.currentUser)),Yx(t,d=>h(d))}}const o=$b("auth");return o&&Rx(t,`http://${o}`),t}function dD(){return document.getElementsByTagName("head")?.[0]??document}hx({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=En("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",dD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lD("Browser");var mD="firebase",pD="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(mD,pD,"app");var mT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,B0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,C){function I(){}I.prototype=C.prototype,N.D=C.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(M,k,U){for(var D=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)D[Ht-2]=arguments[Ht];return C.prototype[k].apply(M,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,C,I){I||(I=0);var M=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)M[k]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(k=0;16>k;++k)M[k]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=N.g[0],I=N.g[1],k=N.g[2];var U=N.g[3],D=C+(U^I&(k^U))+M[0]+3614090360&4294967295;C=I+(D<<7&4294967295|D>>>25),D=U+(k^C&(I^k))+M[1]+3905402710&4294967295,U=C+(D<<12&4294967295|D>>>20),D=k+(I^U&(C^I))+M[2]+606105819&4294967295,k=U+(D<<17&4294967295|D>>>15),D=I+(C^k&(U^C))+M[3]+3250441966&4294967295,I=k+(D<<22&4294967295|D>>>10),D=C+(U^I&(k^U))+M[4]+4118548399&4294967295,C=I+(D<<7&4294967295|D>>>25),D=U+(k^C&(I^k))+M[5]+1200080426&4294967295,U=C+(D<<12&4294967295|D>>>20),D=k+(I^U&(C^I))+M[6]+2821735955&4294967295,k=U+(D<<17&4294967295|D>>>15),D=I+(C^k&(U^C))+M[7]+4249261313&4294967295,I=k+(D<<22&4294967295|D>>>10),D=C+(U^I&(k^U))+M[8]+1770035416&4294967295,C=I+(D<<7&4294967295|D>>>25),D=U+(k^C&(I^k))+M[9]+2336552879&4294967295,U=C+(D<<12&4294967295|D>>>20),D=k+(I^U&(C^I))+M[10]+4294925233&4294967295,k=U+(D<<17&4294967295|D>>>15),D=I+(C^k&(U^C))+M[11]+2304563134&4294967295,I=k+(D<<22&4294967295|D>>>10),D=C+(U^I&(k^U))+M[12]+1804603682&4294967295,C=I+(D<<7&4294967295|D>>>25),D=U+(k^C&(I^k))+M[13]+4254626195&4294967295,U=C+(D<<12&4294967295|D>>>20),D=k+(I^U&(C^I))+M[14]+2792965006&4294967295,k=U+(D<<17&4294967295|D>>>15),D=I+(C^k&(U^C))+M[15]+1236535329&4294967295,I=k+(D<<22&4294967295|D>>>10),D=C+(k^U&(I^k))+M[1]+4129170786&4294967295,C=I+(D<<5&4294967295|D>>>27),D=U+(I^k&(C^I))+M[6]+3225465664&4294967295,U=C+(D<<9&4294967295|D>>>23),D=k+(C^I&(U^C))+M[11]+643717713&4294967295,k=U+(D<<14&4294967295|D>>>18),D=I+(U^C&(k^U))+M[0]+3921069994&4294967295,I=k+(D<<20&4294967295|D>>>12),D=C+(k^U&(I^k))+M[5]+3593408605&4294967295,C=I+(D<<5&4294967295|D>>>27),D=U+(I^k&(C^I))+M[10]+38016083&4294967295,U=C+(D<<9&4294967295|D>>>23),D=k+(C^I&(U^C))+M[15]+3634488961&4294967295,k=U+(D<<14&4294967295|D>>>18),D=I+(U^C&(k^U))+M[4]+3889429448&4294967295,I=k+(D<<20&4294967295|D>>>12),D=C+(k^U&(I^k))+M[9]+568446438&4294967295,C=I+(D<<5&4294967295|D>>>27),D=U+(I^k&(C^I))+M[14]+3275163606&4294967295,U=C+(D<<9&4294967295|D>>>23),D=k+(C^I&(U^C))+M[3]+4107603335&4294967295,k=U+(D<<14&4294967295|D>>>18),D=I+(U^C&(k^U))+M[8]+1163531501&4294967295,I=k+(D<<20&4294967295|D>>>12),D=C+(k^U&(I^k))+M[13]+2850285829&4294967295,C=I+(D<<5&4294967295|D>>>27),D=U+(I^k&(C^I))+M[2]+4243563512&4294967295,U=C+(D<<9&4294967295|D>>>23),D=k+(C^I&(U^C))+M[7]+1735328473&4294967295,k=U+(D<<14&4294967295|D>>>18),D=I+(U^C&(k^U))+M[12]+2368359562&4294967295,I=k+(D<<20&4294967295|D>>>12),D=C+(I^k^U)+M[5]+4294588738&4294967295,C=I+(D<<4&4294967295|D>>>28),D=U+(C^I^k)+M[8]+2272392833&4294967295,U=C+(D<<11&4294967295|D>>>21),D=k+(U^C^I)+M[11]+1839030562&4294967295,k=U+(D<<16&4294967295|D>>>16),D=I+(k^U^C)+M[14]+4259657740&4294967295,I=k+(D<<23&4294967295|D>>>9),D=C+(I^k^U)+M[1]+2763975236&4294967295,C=I+(D<<4&4294967295|D>>>28),D=U+(C^I^k)+M[4]+1272893353&4294967295,U=C+(D<<11&4294967295|D>>>21),D=k+(U^C^I)+M[7]+4139469664&4294967295,k=U+(D<<16&4294967295|D>>>16),D=I+(k^U^C)+M[10]+3200236656&4294967295,I=k+(D<<23&4294967295|D>>>9),D=C+(I^k^U)+M[13]+681279174&4294967295,C=I+(D<<4&4294967295|D>>>28),D=U+(C^I^k)+M[0]+3936430074&4294967295,U=C+(D<<11&4294967295|D>>>21),D=k+(U^C^I)+M[3]+3572445317&4294967295,k=U+(D<<16&4294967295|D>>>16),D=I+(k^U^C)+M[6]+76029189&4294967295,I=k+(D<<23&4294967295|D>>>9),D=C+(I^k^U)+M[9]+3654602809&4294967295,C=I+(D<<4&4294967295|D>>>28),D=U+(C^I^k)+M[12]+3873151461&4294967295,U=C+(D<<11&4294967295|D>>>21),D=k+(U^C^I)+M[15]+530742520&4294967295,k=U+(D<<16&4294967295|D>>>16),D=I+(k^U^C)+M[2]+3299628645&4294967295,I=k+(D<<23&4294967295|D>>>9),D=C+(k^(I|~U))+M[0]+4096336452&4294967295,C=I+(D<<6&4294967295|D>>>26),D=U+(I^(C|~k))+M[7]+1126891415&4294967295,U=C+(D<<10&4294967295|D>>>22),D=k+(C^(U|~I))+M[14]+2878612391&4294967295,k=U+(D<<15&4294967295|D>>>17),D=I+(U^(k|~C))+M[5]+4237533241&4294967295,I=k+(D<<21&4294967295|D>>>11),D=C+(k^(I|~U))+M[12]+1700485571&4294967295,C=I+(D<<6&4294967295|D>>>26),D=U+(I^(C|~k))+M[3]+2399980690&4294967295,U=C+(D<<10&4294967295|D>>>22),D=k+(C^(U|~I))+M[10]+4293915773&4294967295,k=U+(D<<15&4294967295|D>>>17),D=I+(U^(k|~C))+M[1]+2240044497&4294967295,I=k+(D<<21&4294967295|D>>>11),D=C+(k^(I|~U))+M[8]+1873313359&4294967295,C=I+(D<<6&4294967295|D>>>26),D=U+(I^(C|~k))+M[15]+4264355552&4294967295,U=C+(D<<10&4294967295|D>>>22),D=k+(C^(U|~I))+M[6]+2734768916&4294967295,k=U+(D<<15&4294967295|D>>>17),D=I+(U^(k|~C))+M[13]+1309151649&4294967295,I=k+(D<<21&4294967295|D>>>11),D=C+(k^(I|~U))+M[4]+4149444226&4294967295,C=I+(D<<6&4294967295|D>>>26),D=U+(I^(C|~k))+M[11]+3174756917&4294967295,U=C+(D<<10&4294967295|D>>>22),D=k+(C^(U|~I))+M[2]+718787259&4294967295,k=U+(D<<15&4294967295|D>>>17),D=I+(U^(k|~C))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,C){C===void 0&&(C=N.length);for(var I=C-this.blockSize,M=this.B,k=this.h,U=0;U<C;){if(k==0)for(;U<=I;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<C;)if(M[k++]=N.charCodeAt(U++),k==this.blockSize){o(this,M),k=0;break}}else for(;U<C;)if(M[k++]=N[U++],k==this.blockSize){o(this,M),k=0;break}}this.h=k,this.o+=C},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;var I=8*this.o;for(C=N.length-8;C<N.length;++C)N[C]=I&255,I/=256;for(this.u(N),N=Array(16),C=I=0;4>C;++C)for(var M=0;32>M;M+=8)N[I++]=this.g[C]>>>M&255;return N};function u(N,C){var I=d;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=C(N)}function h(N,C){this.h=C;for(var I=[],M=!0,k=N.length-1;0<=k;k--){var U=N[k]|0;M&&U==C||(I[k]=U,M=!1)}this.g=I}var d={};function p(N){return-128<=N&&128>N?u(N,function(C){return new h([C|0],0>C?-1:0)}):new h([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return b;if(0>N)return L(y(-N));for(var C=[],I=1,M=0;N>=I;M++)C[M]=N/I|0,I*=4294967296;return new h(C,0)}function v(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return L(v(N.substring(1),C));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(C,8)),M=b,k=0;k<N.length;k+=8){var U=Math.min(8,N.length-k),D=parseInt(N.substring(k,k+U),C);8>U?(U=y(Math.pow(C,U)),M=M.j(U).add(y(D))):(M=M.j(I),M=M.add(y(D)))}return M}var b=p(0),w=p(1),R=p(16777216);i=h.prototype,i.m=function(){if($(this))return-L(this).m();for(var N=0,C=1,I=0;I<this.g.length;I++){var M=this.i(I);N+=(0<=M?M:4294967296+M)*C,C*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if($(this))return"-"+L(this).toString(N);for(var C=y(Math.pow(N,6)),I=this,M="";;){var k=re(I,C).g;I=ne(I,k.j(C));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=k,j(I))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(var C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function $(N){return N.h==-1}i.l=function(N){return N=ne(this,N),$(N)?-1:j(N)?0:1};function L(N){for(var C=N.g.length,I=[],M=0;M<C;M++)I[M]=~N.g[M];return new h(I,~N.h).add(w)}i.abs=function(){return $(this)?L(this):this},i.add=function(N){for(var C=Math.max(this.g.length,N.g.length),I=[],M=0,k=0;k<=C;k++){var U=M+(this.i(k)&65535)+(N.i(k)&65535),D=(U>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);M=D>>>16,U&=65535,D&=65535,I[k]=D<<16|U}return new h(I,I[I.length-1]&-2147483648?-1:0)};function ne(N,C){return N.add(L(C))}i.j=function(N){if(j(this)||j(N))return b;if($(this))return $(N)?L(this).j(L(N)):L(L(this).j(N));if($(N))return L(this.j(L(N)));if(0>this.l(R)&&0>N.l(R))return y(this.m()*N.m());for(var C=this.g.length+N.g.length,I=[],M=0;M<2*C;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var k=0;k<N.g.length;k++){var U=this.i(M)>>>16,D=this.i(M)&65535,Ht=N.i(k)>>>16,ft=N.i(k)&65535;I[2*M+2*k]+=D*ft,W(I,2*M+2*k),I[2*M+2*k+1]+=U*ft,W(I,2*M+2*k+1),I[2*M+2*k+1]+=D*Ht,W(I,2*M+2*k+1),I[2*M+2*k+2]+=U*Ht,W(I,2*M+2*k+2)}for(M=0;M<C;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=C;M<2*C;M++)I[M]=0;return new h(I,0)};function W(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function K(N,C){this.g=N,this.h=C}function re(N,C){if(j(C))throw Error("division by zero");if(j(N))return new K(b,b);if($(N))return C=re(L(N),C),new K(L(C.g),L(C.h));if($(C))return C=re(N,L(C)),new K(L(C.g),C.h);if(30<N.g.length){if($(N)||$(C))throw Error("slowDivide_ only works with positive integers.");for(var I=w,M=C;0>=M.l(N);)I=ae(I),M=ae(M);var k=ie(I,1),U=ie(M,1);for(M=ie(M,2),I=ie(I,2);!j(M);){var D=U.add(M);0>=D.l(N)&&(k=k.add(I),U=D),M=ie(M,1),I=ie(I,1)}return C=ne(N,k.j(C)),new K(k,C)}for(k=b;0<=N.l(C);){for(I=Math.max(1,Math.floor(N.m()/C.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=y(I),D=U.j(C);$(D)||0<D.l(N);)I-=M,U=y(I),D=U.j(C);j(U)&&(U=w),k=k.add(U),N=ne(N,D)}return new K(k,N)}i.A=function(N){return re(this,N).h},i.and=function(N){for(var C=Math.max(this.g.length,N.g.length),I=[],M=0;M<C;M++)I[M]=this.i(M)&N.i(M);return new h(I,this.h&N.h)},i.or=function(N){for(var C=Math.max(this.g.length,N.g.length),I=[],M=0;M<C;M++)I[M]=this.i(M)|N.i(M);return new h(I,this.h|N.h)},i.xor=function(N){for(var C=Math.max(this.g.length,N.g.length),I=[],M=0;M<C;M++)I[M]=this.i(M)^N.i(M);return new h(I,this.h^N.h)};function ae(N){for(var C=N.g.length+1,I=[],M=0;M<C;M++)I[M]=N.i(M)<<1|N.i(M-1)>>>31;return new h(I,N.h)}function ie(N,C){var I=C>>5;C%=32;for(var M=N.g.length-I,k=[],U=0;U<M;U++)k[U]=0<C?N.i(U+I)>>>C|N.i(U+I+1)<<32-C:N.i(U+I);return new h(k,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,B0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=v,us=h}).apply(typeof mT<"u"?mT:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var z0,ru,q0,Ph,Ip,F0,H0,G0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,E){return c==Array.prototype||c==Object.prototype||(c[_]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(c,_){if(_)e:{var E=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in E))break e;E=E[z]}c=c[c.length-1],S=E[c],_=_(S),_!=S&&_!=null&&e(E,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var E=0,S=!1,z={next:function(){if(!S&&E<c.length){var Y=E++;return{value:_(Y,c[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function y(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function v(c,_,E){return c.call.apply(c.bind,arguments)}function b(c,_,E){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(_,z)}}return function(){return c.apply(_,arguments)}}function w(c,_,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,w.apply(null,arguments)}function R(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function j(c,_){function E(){}E.prototype=_.prototype,c.aa=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(S,z,Y){for(var le=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)le[ke-2]=arguments[ke];return _.prototype[z].apply(S,le)}}function $(c){const _=c.length;if(0<_){const E=Array(_);for(let S=0;S<_;S++)E[S]=c[S];return E}return[]}function L(c,_){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(p(S)){const z=c.length||0,Y=S.length||0;c.length=z+Y;for(let le=0;le<Y;le++)c[z+le]=S[le]}else c.push(S)}}class ne{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function W(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var ae=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ie(c,_,E){for(const S in c)_.call(E,c[S],S,c)}function N(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function C(c){const _={};for(const E in c)_[E]=c[E];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,_){let E,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(E in S)c[E]=S[E];for(let Y=0;Y<I.length;Y++)E=I[Y],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function k(c){var _=1;c=c.split(":");const E=[];for(;0<_&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function U(c){d.setTimeout(()=>{throw c},0)}function D(){var c=ze;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class Ht{constructor(){this.h=this.g=null}add(_,E){const S=ft.get();S.set(_,E),this.h?this.h.next=S:this.g=S,this.h=S}}var ft=new ne(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ge=!1,ze=new Ht,O=()=>{const c=d.Promise.resolve(void 0);ue=()=>{c.then(se)}};var se=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(E){U(E)}var _=ft;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}ge=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var _e=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,_),d.removeEventListener("test",E,_)}catch{}return c})();function xe(c,_){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(ae){e:{try{re(_.nodeName);var z=!0;break e}catch{}z=!1}z||(_=null)}}else E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement);this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}j(xe,oe);var we={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function di(c,_,E,S,z){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!S,this.ha=z,this.key=++tt,this.da=this.fa=!1}function Sr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zi(c){this.src=c,this.g={},this.h=0}zi.prototype.add=function(c,_,E,S,z){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var le=As(c,_,S,z);return-1<le?(_=c[le],E||(_.fa=!1)):(_=new di(_,this.src,Y,!!S,z),_.fa=E,c.push(_)),_};function bs(c,_){var E=_.type;if(E in c.g){var S=c.g[E],z=Array.prototype.indexOf.call(S,_,void 0),Y;(Y=0<=z)&&Array.prototype.splice.call(S,z,1),Y&&(Sr(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function As(c,_,E,S){for(var z=0;z<c.length;++z){var Y=c[z];if(!Y.da&&Y.listener==_&&Y.capture==!!E&&Y.ha==S)return z}return-1}var ws="closure_lm_"+(1e6*Math.random()|0),zo={};function Yu(c,_,E,S,z){if(Array.isArray(_)){for(var Y=0;Y<_.length;Y++)Yu(c,_[Y],E,S,z);return null}return E=Ku(E),c&&c[Vt]?c.K(_,E,y(S)?!!S.capture:!1,z):Vn(c,_,E,!1,S,z)}function Vn(c,_,E,S,z,Y){if(!_)throw Error("Invalid event type");var le=y(z)?!!z.capture:!!z,ke=Ta(c);if(ke||(c[ws]=ke=new zi(c)),E=ke.add(_,E,S,le,Y),E.proxy)return E;if(S=Hf(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)_e||(z=le),z===void 0&&(z=!1),c.addEventListener(_.toString(),S,z);else if(c.attachEvent)c.attachEvent(Ss(_.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Hf(){function c(E){return _.call(c.src,c.listener,E)}const _=Gf;return c}function qo(c,_,E,S,z){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)qo(c,_[Y],E,S,z);else S=y(S)?!!S.capture:!!S,E=Ku(E),c&&c[Vt]?(c=c.i,_=String(_).toString(),_ in c.g&&(Y=c.g[_],E=As(Y,E,S,z),-1<E&&(Sr(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete c.g[_],c.h--)))):c&&(c=Ta(c))&&(_=c.g[_.toString()],c=-1,_&&(c=As(_,E,S,z)),(E=-1<c?_[c]:null)&&Ea(E))}function Ea(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Vt])bs(_.i,c);else{var E=c.type,S=c.proxy;_.removeEventListener?_.removeEventListener(E,S,c.capture):_.detachEvent?_.detachEvent(Ss(E),S):_.addListener&&_.removeListener&&_.removeListener(S),(E=Ta(_))?(bs(E,c),E.h==0&&(E.src=null,_[ws]=null)):Sr(c)}}}function Ss(c){return c in zo?zo[c]:zo[c]="on"+c}function Gf(c,_){if(c.da)c=!0;else{_=new xe(_,this);var E=c.listener,S=c.ha||c.src;c.fa&&Ea(c),c=E.call(S,_)}return c}function Ta(c){return c=c[ws],c instanceof zi?c:null}var Fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ku(c){return typeof c=="function"?c:(c[Fo]||(c[Fo]=function(_){return c.handleEvent(_)}),c[Fo])}function dt(){ce.call(this),this.i=new zi(this),this.M=this,this.F=null}j(dt,ce),dt.prototype[Vt]=!0,dt.prototype.removeEventListener=function(c,_,E,S){qo(this,c,_,E,S)};function Ye(c,_){var E,S=c.F;if(S)for(E=[];S;S=S.F)E.push(S);if(c=c.M,S=_.type||_,typeof _=="string")_=new oe(_,c);else if(_ instanceof oe)_.target=_.target||c;else{var z=_;_=new oe(S,c),M(_,z)}if(z=!0,E)for(var Y=E.length-1;0<=Y;Y--){var le=_.g=E[Y];z=An(le,S,!0,_)&&z}if(le=_.g=c,z=An(le,S,!0,_)&&z,z=An(le,S,!1,_)&&z,E)for(Y=0;Y<E.length;Y++)le=_.g=E[Y],z=An(le,S,!1,_)&&z}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var E=c.g[_],S=0;S<E.length;S++)Sr(E[S]);delete c.g[_],c.h--}}this.F=null},dt.prototype.K=function(c,_,E,S){return this.i.add(String(c),_,!1,E,S)},dt.prototype.L=function(c,_,E,S){return this.i.add(String(c),_,!0,E,S)};function An(c,_,E,S){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var z=!0,Y=0;Y<_.length;++Y){var le=_[Y];if(le&&!le.da&&le.capture==E){var ke=le.listener,Ot=le.ha||le.src;le.fa&&bs(c.i,le),z=ke.call(Ot,S)!==!1&&z}}return z&&!S.defaultPrevented}function en(c,_,E){if(typeof c=="function")E&&(c=w(c,E));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(c,_||0)}function Qu(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,Qu(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class $f extends ce{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(c){ce.call(this),this.h=c,this.g={}}j(Rs,ce);var Cs=[];function Is(c){ie(c.g,function(_,E){this.g.hasOwnProperty(E)&&Ea(_)},c),c.g={}}Rs.prototype.N=function(){Rs.aa.N.call(this),Is(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ei=d.JSON.stringify,ba=d.JSON.parse,xs=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Ho(){}Ho.prototype.h=null;function Go(c){return c.h||(c.h=c.i())}function $o(){}var qi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){oe.call(this,"d")}j(Fi,oe);function Yo(){oe.call(this,"c")}j(Yo,oe);var mi={},Ko=null;function Rr(){return Ko=Ko||new dt}mi.La="serverreachability";function Aa(c){oe.call(this,mi.La,c)}j(Aa,oe);function Cr(c){const _=Rr();Ye(_,new Aa(_))}mi.STAT_EVENT="statevent";function Xu(c,_){oe.call(this,mi.STAT_EVENT,c),this.stat=_}j(Xu,oe);function ot(c){const _=Rr();Ye(_,new Xu(_,c))}mi.Ma="timingevent";function Dt(c,_){oe.call(this,mi.Ma,c),this.size=_}j(Dt,oe);function At(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},_)}function Ln(){this.g=!0}Ln.prototype.xa=function(){this.g=!1};function Qo(c,_,E,S,z,Y){c.info(function(){if(c.g)if(Y)for(var le="",ke=Y.split("&"),Ot=0;Ot<ke.length;Ot++){var Ve=ke[Ot].split("=");if(1<Ve.length){var Ut=Ve[0];Ve=Ve[1];var Pt=Ut.split("_");le=2<=Pt.length&&Pt[1]=="type"?le+(Ut+"="+Ve+"&"):le+(Ut+"=redacted&")}}else le=null;else le=Y;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+_+`
`+E+`
`+le})}function Yf(c,_,E,S,z,Y,le){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+_+`
`+E+`
`+Y+" "+le})}function Ir(c,_,E,S){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ns(c,E)+(S?" "+S:"")})}function Wu(c,_){c.info(function(){return"TIMEOUT: "+_})}Ln.prototype.info=function(){};function Ns(c,_){if(!c.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var S=E[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var Y=z[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var le=1;le<z.length;le++)z[le]=""}}}}return ei(E)}catch{return _}}var xr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pi;function gi(){}j(gi,Ho),gi.prototype.g=function(){return new XMLHttpRequest},gi.prototype.i=function(){return{}},pi=new gi;function cn(c,_,E,S){this.j=c,this.i=_,this.l=E,this.R=S||1,this.U=new Rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}var Xo={},wa={};function ti(c,_,E){c.L=1,c.v=js(wn(_)),c.m=E,c.P=!0,Gi(c,null)}function Gi(c,_){c.F=Date.now(),Ds(c),c.A=wn(c.v);var E=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),nl(E.i,"t",S),c.C=0,E=c.j.J,c.h=new vt,c.g=dc(c.j,E?_:null,!c.m),0<c.O&&(c.M=new $f(w(c.Y,c,c.g),c.O)),_=c.U,E=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Cs[0]=z.toString()),z=Cs);for(var Y=0;Y<z.length;Y++){var le=Yu(E,z[Y],S||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),Cr(),Qo(c.i,c.u,c.A,c.l,c.R,c.m)}cn.prototype.ca=function(c){c=c.target;const _=this.M;_&&qn(c)==3?_.j():this.Y(c)},cn.prototype.Y=function(c){try{if(c==this.g)e:{const Pt=qn(this.g);var _=this.g.Ba();const Ji=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||sc(this.g)))){this.J||Pt!=4||_==7||(_==8||0>=Ji?Cr(3):Cr(2)),Nr(this);var E=this.g.Z();this.X=E;t:if(Zu(this)){var S=sc(this.g);c="";var z=S.length,Y=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),yi(this);var le="";break t}this.h.i=new d.TextDecoder}for(_=0;_<z;_++)this.h.h=!0,c+=this.h.i.decode(S[_],{stream:!(Y&&_==z-1)});S.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=E==200,Yf(this.i,this.u,this.A,this.l,this.R,Pt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,Ot=this.g;if((ke=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(ke)){var Ve=ke;break t}}Ve=null}if(E=Ve)Ir(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Os(this,E);else{this.o=!1,this.s=3,ot(12),Gt(this),yi(this);break e}}if(this.P){E=!0;let $t;for(;!this.J&&this.C<le.length;)if($t=Ju(this,le),$t==wa){Pt==4&&(this.s=4,ot(14),E=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if($t==Xo){this.s=4,ot(15),Ir(this.i,this.l,le,"[Invalid Chunk]"),E=!1;break}else Ir(this.i,this.l,$t,null),Os(this,$t);if(Zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||le.length!=0||this.h.h||(this.s=1,ot(16),E=!1),this.o=this.o&&E,!E)Ir(this.i,this.l,le,"[Invalid Chunked Response]"),Gt(this),yi(this);else if(0<le.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Fs(Ut),Ut.M=!0,ot(11))}}else Ir(this.i,this.l,le,null),Os(this,le);Pt==4&&Gt(this),this.o&&!this.J&&(Pt==4?cc(this.j,this):(this.o=!1,Ds(this)))}else Zf(this.g),E==400&&0<le.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Gt(this),yi(this)}}}catch{}finally{}};function Zu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ju(c,_){var E=c.C,S=_.indexOf(`
`,E);return S==-1?wa:(E=Number(_.substring(E,S)),isNaN(E)?Xo:(S+=1,S+E>_.length?wa:(_=_.slice(S,S+E),c.C=S+E,_)))}cn.prototype.cancel=function(){this.J=!0,Gt(this)};function Ds(c){c.S=Date.now()+c.I,ec(c,c.I)}function ec(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=At(w(c.ba,c),_)}function Nr(c){c.B&&(d.clearTimeout(c.B),c.B=null)}cn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Wu(this.i,this.A),this.L!=2&&(Cr(),ot(17)),Gt(this),this.s=2,yi(this)):ec(this,this.S-c)};function yi(c){c.j.G==0||c.J||cc(c.j,c)}function Gt(c){Nr(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,Is(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function Os(c,_){try{var E=c.j;if(E.G!=0&&(E.g==c||Wo(E.h,c))){if(!c.K&&Wo(E.h,c)&&E.G==3){try{var S=E.Da.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)ka(E),Ma(E);else break e;ol(E),ot(18)}}else E.za=z[1],0<E.za-E.T&&37500>z[2]&&E.F&&E.v==0&&!E.C&&(E.C=At(w(E.Za,E),6e3));if(1>=Ra(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Zi(E,11)}else if((c.K||E.g==c)&&ka(E),!W(_))for(z=E.Da.g.parse(_),_=0;_<z.length;_++){let Ve=z[_];if(E.T=Ve[0],Ve=Ve[1],E.G==2)if(Ve[0]=="c"){E.K=Ve[1],E.ia=Ve[2];const Ut=Ve[3];Ut!=null&&(E.la=Ut,E.j.info("VER="+E.la));const Pt=Ve[4];Pt!=null&&(E.Aa=Pt,E.j.info("SVER="+E.Aa));const Ji=Ve[5];Ji!=null&&typeof Ji=="number"&&0<Ji&&(S=1.5*Ji,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const $t=c.g;if($t){const wi=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var Y=S.h;Y.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ca(Y,Y.h),Y.h=null))}if(S.D){const ul=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(S.ya=ul,Xe(S.I,S.D,ul))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var le=c;if(S.qa=fc(S,S.J?S.ia:null,S.W),le.K){hn(S.h,le);var ke=le,Ot=S.L;Ot&&(ke.I=Ot),ke.B&&(Nr(ke),Ds(ke)),S.g=le}else lc(S);0<E.i.length&&ja(E)}else Ve[0]!="stop"&&Ve[0]!="close"||Zi(E,7);else E.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Zi(E,7):sl(E):Ve[0]!="noop"&&E.l&&E.l.ta(Ve),E.v=0)}}Cr(4)}catch{}}var tc=class{constructor(c,_){this.g=c,this.map=_}};function $i(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ra(c){return c.h?1:c.g?c.g.size:0}function Wo(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Ca(c,_){c.g?c.g.add(_):c.h=_}function hn(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}$i.prototype.cancel=function(){if(this.i=Zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.D);return _}return $(c.i)}function Kf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var _=[],E=c.length,S=0;S<E;S++)_.push(c[S]);return _}_=[],E=0;for(S in c)_[E++]=c[S];return _}function Ia(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var _=[];c=c.length;for(var E=0;E<c;E++)_.push(E);return _}_=[],E=0;for(const S in c)_[E++]=S;return _}}}function Jo(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var E=Ia(c),S=Kf(c),z=S.length,Y=0;Y<z;Y++)_.call(void 0,S[Y],E&&E[Y],c)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qf(c,_){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var S=c[E].indexOf("="),z=null;if(0<=S){var Y=c[E].substring(0,S);z=c[E].substring(S+1)}else Y=c[E];_(Y,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function wt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wt){this.h=c.h,Ms(this,c.j),this.o=c.o,this.g=c.g,Dr(this,c.s),this.l=c.l;var _=c.i,E=new Ki;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Yi(this,E),this.m=c.m}else c&&(_=String(c).match(Ps))?(this.h=!1,Ms(this,_[1]||"",!0),this.o=Un(_[2]||""),this.g=Un(_[3]||"",!0),Dr(this,_[4]),this.l=Un(_[5]||"",!0),Yi(this,_[6]||"",!0),this.m=Un(_[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}wt.prototype.toString=function(){var c=[],_=this.j;_&&c.push(ks(_,el,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(ks(_,el,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(ks(E,E.charAt(0)=="/"?Xf:tl,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",ks(E,xa)),c.join("")};function wn(c){return new wt(c)}function Ms(c,_,E){c.j=E?Un(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Dr(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function Yi(c,_,E){_ instanceof Ki?(c.i=_,ic(c.i,c.h)):(E||(_=ks(_,Wf)),c.i=new Ki(_,c.h))}function Xe(c,_,E){c.i.set(_,E)}function js(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Un(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ks(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,nc),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var el=/[#\/\?@]/g,tl=/[#\?:]/g,Xf=/[#\?]/g,Wf=/[#\?@]/g,xa=/#/g;function Ki(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Bn(c){c.g||(c.g=new Map,c.h=0,c.i&&Qf(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}i=Ki.prototype,i.add=function(c,_){Bn(this),this.i=null,c=_i(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function Qi(c,_){Bn(c),_=_i(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Xi(c,_){return Bn(c),_=_i(c,_),c.g.has(_)}i.forEach=function(c,_){Bn(this),this.g.forEach(function(E,S){E.forEach(function(z){c.call(_,z,S,this)},this)},this)},i.na=function(){Bn(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let S=0;S<_.length;S++){const z=c[S];for(let Y=0;Y<z.length;Y++)E.push(_[S])}return E},i.V=function(c){Bn(this);let _=[];if(typeof c=="string")Xi(this,c)&&(_=_.concat(this.g.get(_i(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)_=_.concat(c[E])}return _},i.set=function(c,_){return Bn(this),this.i=null,c=_i(this,c),Xi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function nl(c,_,E){Qi(c,_),0<E.length&&(c.i=null,c.g.set(_i(c,_),$(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var S=_[E];const Y=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var z=Y;le[S]!==""&&(z+="="+encodeURIComponent(String(le[S]))),c.push(z)}}return this.i=c.join("&")};function _i(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function ic(c,_){_&&!c.j&&(Bn(c),c.i=null,c.g.forEach(function(E,S){var z=S.toLowerCase();S!=z&&(Qi(this,S),nl(this,z,E))},c)),c.j=_}function Vs(c,_){const E=new Ln;if(d.Image){const S=new Image;S.onload=R(zn,E,"TestLoadImage: loaded",!0,_,S),S.onerror=R(zn,E,"TestLoadImage: error",!1,_,S),S.onabort=R(zn,E,"TestLoadImage: abort",!1,_,S),S.ontimeout=R(zn,E,"TestLoadImage: timeout",!1,_,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else _(!1)}function ni(c,_){const E=new Ln,S=new AbortController,z=setTimeout(()=>{S.abort(),zn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(z),Y.ok?zn(E,"TestPingServer: ok",!0,_):zn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(z),zn(E,"TestPingServer: error",!1,_)})}function zn(c,_,E,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(E)}catch{}}function Ls(){this.g=new xs}function vi(c,_,E){const S=E||"";try{Jo(c,function(z,Y){let le=z;y(z)&&(le=ei(z)),_.push(S+Y+"="+encodeURIComponent(le))})}catch(z){throw _.push(S+"type="+encodeURIComponent("_badmap")),z}}function Or(c){this.l=c.Ub||null,this.j=c.eb||!1}j(Or,Ho),Or.prototype.g=function(){return new Wi(this.l,this.j)},Or.prototype.i=(function(c){return function(){return c}})({});function Wi(c,_){dt.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Wi,dt),i=Wi.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,Ti(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;il(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function il(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?Ei(this):Ti(this),this.readyState==3&&il(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Ei(this))},i.Qa=function(c){this.g&&(this.response=c,Ei(this))},i.ga=function(){this.g&&Ei(this)};function Ei(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ti(c)}i.setRequestHeader=function(c,_){this.u.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function Ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function rl(c){let _="";return ie(c,function(E,S){_+=S,_+=":",_+=E,_+=`\r
`}),_}function Lt(c,_,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=rl(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Xe(c,_,E))}function He(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(He,dt);var Na=/^https?$/i,Us=["POST","PUT"];i=He.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,_,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pi.g(),this.v=this.o?Go(this.o):Go(pi),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(Y){rc(this,Y);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)E.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())E.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Us,_,void 0))||S||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of E)this.g.setRequestHeader(Y,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){rc(this,Y)}};function rc(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,Da(c),bi(c)}function Da(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),bi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},i.bb=function(){Oa(this)};function Oa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)en(c.Ea,0,c);else if(Ye(c,"readystatechange"),qn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var S;if(S=le===0){var z=String(c.D).match(Ps)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),S=!Na.test(z?z.toLowerCase():"")}E=S}if(E)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var Y=2<qn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Da(c)}}finally{bi(c)}}}}function bi(c,_){if(c.g){Bs(c);const E=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Ye(c,"ready");try{E.onreadystatechange=S}catch{}}}function Bs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),ba(_)}};function sc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zf(c){const _={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(W(c[S]))continue;var E=k(c[S]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=_[z]||[];_[z]=Y,Y.push(E)}N(_,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function Pa(c){this.Aa=0,this.i=[],this.j=new Ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zs("baseRetryDelayMs",5e3,c),this.cb=zs("retryDelaySeedMs",1e4,c),this.Wa=zs("forwardChannelMaxRetries",2,c),this.wa=zs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new $i(c&&c.concurrentRequestLimit),this.Da=new Ls,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Pa.prototype,i.la=8,i.G=1,i.connect=function(c,_,E,S){ot(0),this.W=c,this.H=_||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=fc(this,null,this.W),ja(this)};function sl(c){if(ac(c),c.G==3){var _=c.U++,E=wn(c.I);if(Xe(E,"SID",c.K),Xe(E,"RID",_),Xe(E,"TYPE","terminate"),qs(c,E),_=new cn(c,c.j,_),_.L=2,_.v=js(wn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=_.v,E=!0),E||(_.g=dc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ds(_)}hc(c)}function Ma(c){c.g&&(Fs(c),c.g.cancel(),c.g=null)}function ac(c){Ma(c),c.u&&(d.clearTimeout(c.u),c.u=null),ka(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ja(c){if(!Sa(c.h)&&!c.s){c.s=!0;var _=c.Ga;ue||O(),ge||(ue(),ge=!0),ze.add(_,c),c.B=0}}function Jf(c,_){return Ra(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=At(w(c.Ga,c,_),ll(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new cn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=C(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(z.H=Y,Y=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=oc(this,z,_),E=wn(this.I),Xe(E,"RID",c),Xe(E,"CVER",22),this.D&&Xe(E,"X-HTTP-Session-Id",this.D),qs(this,E),Y&&(this.O?_="headers="+encodeURIComponent(String(rl(Y)))+"&"+_:this.m&&Lt(E,this.m,Y)),Ca(this.h,z),this.Ua&&Xe(E,"TYPE","init"),this.P?(Xe(E,"$req",_),Xe(E,"SID","null"),z.T=!0,ti(z,E,null)):ti(z,E,_),this.G=2}}else this.G==3&&(c?al(this,c):this.i.length==0||Sa(this.h)||al(this))};function al(c,_){var E;_?E=_.l:E=c.U++;const S=wn(c.I);Xe(S,"SID",c.K),Xe(S,"RID",E),Xe(S,"AID",c.T),qs(c,S),c.m&&c.o&&Lt(S,c.m,c.o),E=new cn(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),_&&(c.i=_.D.concat(c.i)),_=oc(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ca(c.h,E),ti(E,S,_)}function qs(c,_){c.H&&ie(c.H,function(E,S){Xe(_,S,E)}),c.l&&Jo({},function(E,S){Xe(_,S,E)})}function oc(c,_,E){E=Math.min(c.i.length,E);var S=c.l?w(c.l.Na,c.l,c):null;e:{var z=c.i;let Y=-1;for(;;){const le=["count="+E];Y==-1?0<E?(Y=z[0].g,le.push("ofs="+Y)):Y=0:le.push("ofs="+Y);let ke=!0;for(let Ot=0;Ot<E;Ot++){let Ve=z[Ot].g;const Ut=z[Ot].map;if(Ve-=Y,0>Ve)Y=Math.max(0,z[Ot].g-100),ke=!1;else try{vi(Ut,le,"req"+Ve+"_")}catch{S&&S(Ut)}}if(ke){S=le.join("&");break e}}}return c=c.i.splice(0,E),_.D=c,S}function lc(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;ue||O(),ge||(ue(),ge=!0),ze.add(_,c),c.v=0}}function ol(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=At(w(c.Fa,c),ll(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,uc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=At(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Ma(this),uc(this))};function Fs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function uc(c){c.g=new cn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=wn(c.qa);Xe(_,"RID","rpc"),Xe(_,"SID",c.K),Xe(_,"AID",c.T),Xe(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(_,"TO",c.ja),Xe(_,"TYPE","xmlhttp"),qs(c,_),c.m&&c.o&&Lt(_,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=js(wn(_)),E.m=null,E.P=!0,Gi(E,c)}i.Za=function(){this.C!=null&&(this.C=null,Ma(this),ol(this),ot(19))};function ka(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function cc(c,_){var E=null;if(c.g==_){ka(c),Fs(c),c.g=null;var S=2}else if(Wo(c.h,_))E=_.D,hn(c.h,_),S=1;else return;if(c.G!=0){if(_.o)if(S==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var z=c.B;S=Rr(),Ye(S,new Dt(S,E)),ja(c)}else lc(c);else if(z=_.s,z==3||z==0&&0<_.X||!(S==1&&Jf(c,_)||S==2&&ol(c)))switch(E&&0<E.length&&(_=c.h,_.i=_.i.concat(E)),z){case 1:Zi(c,5);break;case 4:Zi(c,10);break;case 3:Zi(c,6);break;default:Zi(c,2)}}}function ll(c,_){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*_}function Zi(c,_){if(c.j.info("Error code "+_),_==2){var E=w(c.fb,c),S=c.Xa;const z=!S;S=new wt(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ms(S,"https"),js(S),z?Vs(S.toString(),E):ni(S.toString(),E)}else ot(2);c.G=0,c.l&&c.l.sa(_),hc(c),ac(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function hc(c){if(c.G=0,c.ka=[],c.l){const _=Zo(c.h);(_.length!=0||c.i.length!=0)&&(L(c.ka,_),L(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function fc(c,_,E){var S=E instanceof wt?wn(E):new wt(E);if(S.g!="")_&&(S.g=_+"."+S.g),Dr(S,S.s);else{var z=d.location;S=z.protocol,_=_?_+"."+z.hostname:z.hostname,z=+z.port;var Y=new wt(null);S&&Ms(Y,S),_&&(Y.g=_),z&&Dr(Y,z),E&&(Y.l=E),S=Y}return E=c.D,_=c.ya,E&&_&&Xe(S,E,_),Xe(S,"VER",c.la),qs(c,S),S}function dc(c,_,E){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new He(new Or({eb:E})):new He(c.pa),_.Ha(c.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}i=mc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Va(){}Va.prototype.g=function(c,_){return new fn(c,_)};function fn(c,_){dt.call(this),this.g=new Pa(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!W(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!W(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Ai(this)}j(fn,dt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){sl(this.g)},fn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=ei(c),c=E);_.i.push(new tc(_.Ya++,c)),_.G==3&&ja(_)},fn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,fn.aa.N.call(this)};function pc(c){Fi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const E in _){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}j(pc,Fi);function gc(){Yo.call(this),this.status=1}j(gc,Yo);function Ai(c){this.g=c}j(Ai,mc),Ai.prototype.ua=function(){Ye(this.g,"a")},Ai.prototype.ta=function(c){Ye(this.g,new pc(c))},Ai.prototype.sa=function(c){Ye(this.g,new gc)},Ai.prototype.ra=function(){Ye(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,G0=function(){return new Va},H0=function(){return Rr()},F0=mi,Ip={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,Ph=xr,Hi.COMPLETE="complete",q0=Hi,$o.EventType=qi,qi.OPEN="a",qi.CLOSE="b",qi.ERROR="c",qi.MESSAGE="d",dt.prototype.listen=dt.prototype.K,ru=$o,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,z0=He}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});const pT="@firebase/firestore",gT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new rg("@firebase/firestore");function fo(){return ma.logLevel}function fe(i,...e){if(ma.logLevel<=Pe.DEBUG){const t=e.map(yg);ma.debug(`Firestore (${jo}): ${i}`,...t)}}function Tr(i,...e){if(ma.logLevel<=Pe.ERROR){const t=e.map(yg);ma.error(`Firestore (${jo}): ${i}`,...t)}}function wo(i,...e){if(ma.logLevel<=Pe.WARN){const t=e.map(yg);ma.warn(`Firestore (${jo}): ${i}`,...t)}}function yg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,$0(i,s,t)}function $0(i,e,t){let s=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Tr(s),new Error(s)}function $e(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||$0(e,o,s)}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Bi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sn.UNAUTHENTICATED)))}shutdown(){}}class yD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class _D{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gr)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new Y0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class vD{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ED{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new vD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new yT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=bD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Me(i,e){return i<e?-1:i>e?1:0}function xp(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return lp(o)===lp(u)?Me(o,u):lp(o)?1:-1}return Me(i.length,e.length)}const AD=55296,wD=57343;function lp(i){const e=i.charCodeAt(0);return e>=AD&&e<=wD}function So(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="__name__";class Ni{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Ni.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Me(e.length,t.length)}static compareSegments(e,t){const s=Ni.isNumericId(e),o=Ni.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(t)):xp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class rt extends Ni{construct(e,t,s){return new rt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new rt(t)}static emptyPath(){return new rt([])}}const SD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ni{construct(e,t,s){return new Wt(e,t,s)}static isValidIdentifier(e){return SD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_T}static keyField(){return new Wt([_T])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(i,e,t){if(!t)throw new he(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function RD(i,e,t,s){if(e===!0&&s===!0)throw new he(J.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function vT(i){if(!ye.isDocumentKey(i))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ET(i){if(ye.isDocumentKey(i))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Q0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ef(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function jn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ef(i);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(i,e){const t={typeString:i};return e&&(t.value=e),t}function zu(i,e){if(!Q0(i))throw new he(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new he(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=-62135596800,bT=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*bT);return new Ge(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<TT)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bT}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zu(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-TT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:Nt("string",Ge._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Ge(0,0))}static max(){return new Se(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=-1;function CD(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Ge(t+1,0):new Ge(t,s));return new fs(o,ye.empty(),e)}function ID(i){return new fs(i.readTime,i.key,Au)}class fs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new fs(Se.min(),ye.empty(),Au)}static max(){return new fs(Se.max(),ye.empty(),Au)}}function xD(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(i.documentKey,e.documentKey),t!==0?t:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==ND)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,s)=>{t(e)}))}static reject(e){return new te(((t,s)=>{s(e)}))}static waitFor(e){return new te(((t,s)=>{let o=0,u=0,h=!1;e.forEach((d=>{++o,d.next((()=>{++u,h&&u===o&&t()}),(p=>s(p)))})),h=!0,u===o&&t()}))}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next((o=>o?te.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new te(((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const y=p;t(e[y]).next((v=>{h[y]=v,++d,d===u&&s(h)}),(v=>o(v)))}}))}static doWhile(e,t){return new te(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function OD(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=-1;function bf(i){return i==null}function Yh(i){return i===0&&1/i==-1/0}function PD(i){return typeof i=="number"&&Number.isInteger(i)&&!Yh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="";function MD(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=AT(e)),e=jD(i.get(t),e);return AT(e)}function jD(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case X0:t+="";break;default:t+=u}}return t}function AT(i){return i+X0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Es(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function W0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eh(this.root,e,this.comparator,!0)}}class Eh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Xt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ST(this.data.getIterator())}getIteratorFrom(e){return new ST(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class ST{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Pn([])}unionWith(e){let t=new kt(Wt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Z0("Invalid base64 string: "+u):u}})(e);return new Jt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const kD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(i){if($e(!!i,39018),typeof i=="string"){let e=0;const t=kD.exec(i);if($e(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ms(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="server_timestamp",eA="__type__",tA="__previous_value__",nA="__local_write_time__";function Eg(i){return(i?.mapValue?.fields||{})[eA]?.stringValue===J0}function Af(i){const e=i.mapValue.fields[tA];return Eg(e)?Af(e):e}function wu(i){const e=ds(i.mapValue.fields[nA].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,t,s,o,u,h,d,p,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=v}}const Kh="(default)";class Su{constructor(e,t){this.projectId=e,this.database=t||Kh}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="__type__",LD="__max__",Th={mapValue:{}},rA="__vector__",Qh="value";function ps(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Eg(i)?4:BD(i)?9007199254740991:UD(i)?10:11:Te(28295,{value:i})}function Li(i,e){if(i===e)return!0;const t=ps(i);if(t!==ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return wu(i).isEqual(wu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ds(o.timestampValue),d=ds(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=bt(o.doubleValue),d=bt(u.doubleValue);return h===d?Yh(h)===Yh(d):isNaN(h)&&isNaN(d)}return!1})(i,e);case 9:return So(i.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(wT(h)!==wT(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Li(h[p],d[p])))return!1;return!0})(i,e);default:return Te(52216,{left:i})}}function Ru(i,e){return(i.values||[]).find((t=>Li(t,e)))!==void 0}function Ro(i,e){if(i===e)return 0;const t=ps(i),s=ps(e);if(t!==s)return Me(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const d=bt(u.integerValue||u.doubleValue),p=bt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(i,e);case 3:return RT(i.timestampValue,e.timestampValue);case 4:return RT(wu(i),wu(e));case 5:return xp(i.stringValue,e.stringValue);case 6:return(function(u,h){const d=ms(u),p=ms(h);return d.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const d=u.split("/"),p=h.split("/");for(let y=0;y<d.length&&y<p.length;y++){const v=Me(d[y],p[y]);if(v!==0)return v}return Me(d.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const d=Me(bt(u.latitude),bt(h.latitude));return d!==0?d:Me(bt(u.longitude),bt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return CT(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const d=u.fields||{},p=h.fields||{},y=d[Qh]?.arrayValue,v=p[Qh]?.arrayValue,b=Me(y?.values?.length||0,v?.values?.length||0);return b!==0?b:CT(y,v)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Th.mapValue&&h===Th.mapValue)return 0;if(u===Th.mapValue)return 1;if(h===Th.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),y=h.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const w=xp(p[b],v[b]);if(w!==0)return w;const R=Ro(d[p[b]],y[v[b]]);if(R!==0)return R}return Me(p.length,v.length)})(i.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function RT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const t=ds(i),s=ds(e),o=Me(t.seconds,s.seconds);return o!==0?o:Me(t.nanos,s.nanos)}function CT(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Ro(t[o],s[o]);if(u)return u}return Me(t.length,s.length)}function Co(i){return Np(i)}function Np(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=ds(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return ms(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ye.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Np(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Np(t.fields[h])}`;return o+"}"})(i.mapValue):Te(61005,{value:i})}function Mh(i){switch(ps(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Af(i);return e?16+Mh(e):16;case 5:return 2*i.stringValue.length;case 6:return ms(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Mh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Es(s.fields,((u,h)=>{o+=u.length+Mh(h)})),o})(i.mapValue);default:throw Te(13486,{value:i})}}function IT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Dp(i){return!!i&&"integerValue"in i}function Tg(i){return!!i&&"arrayValue"in i}function xT(i){return!!i&&"nullValue"in i}function NT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function jh(i){return!!i&&"mapValue"in i}function UD(i){return(i?.mapValue?.fields||{})[iA]?.stringValue===rA}function du(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Es(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=du(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=du(i.arrayValue.values[t]);return e}return{...i}}function BD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===LD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!jh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(t)}setAll(e){let t=Wt.emptyPath(),s={},o=[];e.forEach(((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=du(h):o.push(d.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());jh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];jh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Es(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new vn(du(this.value))}}function sA(i){const e=[];return Es(i.fields,((t,s)=>{const o=new Wt([t]);if(jh(s)){const u=sA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new an(e,0,Se.min(),Se.min(),Se.min(),vn.empty(),0)}static newFoundDocument(e,t,s,o){return new an(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new an(e,2,t,Se.min(),Se.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,Se.min(),Se.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t){this.position=e,this.inclusive=t}}function DT(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),t.key):s=Ro(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function OT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Li(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t="asc"){this.field=e,this.dir=t}}function zD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{}class xt extends aA{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new FD(e,t,s):t==="array-contains"?new $D(e,s):t==="in"?new YD(e,s):t==="not-in"?new KD(e,s):t==="array-contains-any"?new QD(e,s):new xt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new HD(e,s):new GD(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ro(t,this.value)):t!==null&&ps(this.value)===ps(t)&&this.matchesComparison(Ro(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends aA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ui(e,t)}matches(e){return oA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oA(i){return i.op==="and"}function lA(i){return qD(i)&&oA(i)}function qD(i){for(const e of i.filters)if(e instanceof ui)return!1;return!0}function Op(i){if(i instanceof xt)return i.field.canonicalString()+i.op.toString()+Co(i.value);if(lA(i))return i.filters.map((e=>Op(e))).join(",");{const e=i.filters.map((t=>Op(t))).join(",");return`${i.op}(${e})`}}function uA(i,e){return i instanceof xt?(function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)})(i,e):i instanceof ui?(function(s,o){return o instanceof ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,d)=>u&&uA(h,o.filters[d])),!0):!1})(i,e):void Te(19439)}function cA(i){return i instanceof xt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Co(t.value)}`})(i):i instanceof ui?(function(t){return t.op.toString()+" {"+t.getFilters().map(cA).join(" ,")+"}"})(i):"Filter"}class FD extends xt{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class HD extends xt{constructor(e,t){super(e,"in",t),this.keys=hA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class GD extends xt{constructor(e,t){super(e,"not-in",t),this.keys=hA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function hA(i,e){return(e.arrayValue?.values||[]).map((t=>ye.fromName(t.referenceValue)))}class $D extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tg(t)&&Ru(t.arrayValue,this.value)}}class YD extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ru(this.value.arrayValue,t)}}class KD extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ru(this.value.arrayValue,t)}}class QD extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Ru(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Te=null}}function PT(i,e=null,t=[],s=[],o=null,u=null,h=null){return new XD(i,e,t,s,o,u,h)}function bg(i){const e=Re(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Op(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),bf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Co(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Co(s))).join(",")),e.Te=t}return e.Te}function Ag(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!zD(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!uA(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!OT(i.startAt,e.startAt)&&OT(i.endAt,e.endAt)}function Pp(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WD(i,e,t,s,o,u,h,d){return new Lo(i,e,t,s,o,u,h,d)}function wf(i){return new Lo(i)}function MT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function fA(i){return i.collectionGroup!==null}function mu(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new kt(Wt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(d=d.add(y.field))}))})),d})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Cu(u,s))})),t.has(Wt.keyField().canonicalString())||e.Ie.push(new Cu(Wt.keyField(),s))}return e.Ie}function Mi(i){const e=Re(i);return e.Ee||(e.Ee=ZD(e,mu(i))),e.Ee}function ZD(i,e){if(i.limitType==="F")return PT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Cu(o.field,u)}));const t=i.endAt?new Xh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Xh(i.startAt.position,i.startAt.inclusive):null;return PT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Mp(i,e){const t=i.filters.concat([e]);return new Lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Wh(i,e,t){return new Lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Sf(i,e){return Ag(Mi(i),Mi(e))&&i.limitType===e.limitType}function dA(i){return`${bg(Mi(i))}|lt:${i.limitType}`}function mo(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>cA(o))).join(", ")}]`),bf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Co(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Co(o))).join(",")),`Target(${s})`})(Mi(i))}; limitType=${i.limitType})`}function Rf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of mu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,d,p){const y=DT(h,d,p);return h.inclusive?y<=0:y<0})(s.startAt,mu(s),o)||s.endAt&&!(function(h,d,p){const y=DT(h,d,p);return h.inclusive?y>=0:y>0})(s.endAt,mu(s),o))})(i,e)}function JD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function mA(i){return(e,t)=>{let s=!1;for(const o of mu(i)){const u=e2(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function e2(i,e,t){const s=i.field.isKeyField()?ye.comparator(e.key,t.key):(function(u,h,d){const p=h.data.field(u),y=d.data.field(u);return p!==null&&y!==null?Ro(p,y):Te(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return W0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=new ht(ye.comparator);function br(){return t2}const pA=new ht(ye.comparator);function su(...i){let e=pA;for(const t of i)e=e.insert(t.key,t);return e}function gA(i){let e=pA;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function oa(){return pu()}function yA(){return pu()}function pu(){return new _a((i=>i.toString()),((i,e)=>i.isEqual(e)))}const n2=new ht(ye.comparator),i2=new kt(ye.comparator);function je(...i){let e=i2;for(const t of i)e=e.add(t);return e}const r2=new kt(Me);function s2(){return r2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function _A(i){return{integerValue:""+i}}function a2(i,e){return PD(e)?_A(e):wg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this._=void 0}}function o2(i,e,t){return i instanceof Iu?(function(o,u){const h={fields:{[eA]:{stringValue:J0},[nA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Eg(u)&&(u=Af(u)),u&&(h.fields[tA]=u),{mapValue:h}})(t,e):i instanceof xu?EA(i,e):i instanceof Nu?TA(i,e):(function(o,u){const h=vA(o,u),d=jT(h)+jT(o.Ae);return Dp(h)&&Dp(o.Ae)?_A(d):wg(o.serializer,d)})(i,e)}function l2(i,e,t){return i instanceof xu?EA(i,e):i instanceof Nu?TA(i,e):t}function vA(i,e){return i instanceof Zh?(function(s){return Dp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Iu extends Cf{}class xu extends Cf{constructor(e){super(),this.elements=e}}function EA(i,e){const t=bA(e);for(const s of i.elements)t.some((o=>Li(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Nu extends Cf{constructor(e){super(),this.elements=e}}function TA(i,e){let t=bA(e);for(const s of i.elements)t=t.filter((o=>!Li(o,s)));return{arrayValue:{values:t}}}class Zh extends Cf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function jT(i){return bt(i.integerValue||i.doubleValue)}function bA(i){return Tg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,t){this.field=e,this.transform=t}}function c2(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof xu&&o instanceof xu||s instanceof Nu&&o instanceof Nu?So(s.elements,o.elements,Li):s instanceof Zh&&o instanceof Zh?Li(s.Ae,o.Ae):s instanceof Iu&&o instanceof Iu})(i.transform,e.transform)}class h2{constructor(e,t){this.version=e,this.transformResults=t}}class oi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class If{}function AA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new SA(i.key,oi.none()):new qu(i.key,i.data,oi.none());{const t=i.data,s=vn.empty();let o=new kt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ts(i.key,s,new Pn(o.toArray()),oi.none())}}function f2(i,e,t){i instanceof qu?(function(o,u,h){const d=o.value.clone(),p=VT(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()})(i,e,t):i instanceof Ts?(function(o,u,h){if(!kh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=VT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(wA(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,t):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function gu(i,e,t,s){return i instanceof qu?(function(u,h,d,p){if(!kh(u.precondition,h))return d;const y=u.value.clone(),v=LT(u.fieldTransforms,p,h);return y.setAll(v),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,e,t,s):i instanceof Ts?(function(u,h,d,p){if(!kh(u.precondition,h))return d;const y=LT(u.fieldTransforms,p,h),v=h.data;return v.setAll(wA(u)),v.setAll(y),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,t,s):(function(u,h,d){return kh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d})(i,e,t)}function d2(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=vA(s.transform,o||null);u!=null&&(t===null&&(t=vn.empty()),t.set(s.field,u))}return t||null}function kT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&So(s,o,((u,h)=>c2(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class qu extends If{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends If{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wA(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function VT(i,e,t){const s=new Map;$e(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,l2(h,d,t[o]))}return s}function LT(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,o2(u,h,e))}return s}class SA extends If{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m2 extends If{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&f2(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=gu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=gu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=yA();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=AA(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,((t,s)=>kT(t,s)))&&So(this.baseMutations,e.baseMutations,((t,s)=>kT(t,s)))}}class Sg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return n2})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Sg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Ue;function _2(i){switch(i){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function RA(i){if(i===void 0)return Tr("GRPC error has no .code"),J.UNKNOWN;switch(i){case Ct.OK:return J.OK;case Ct.CANCELLED:return J.CANCELLED;case Ct.UNKNOWN:return J.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return J.INTERNAL;case Ct.UNAVAILABLE:return J.UNAVAILABLE;case Ct.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ct.NOT_FOUND:return J.NOT_FOUND;case Ct.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ct.ABORTED:return J.ABORTED;case Ct.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ct.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:i})}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=new us([4294967295,4294967295],0);function UT(i){const e=v2().encode(i),t=new B0;return t.update(e),new Uint8Array(t.digest())}function BT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new us([t,s],0),new us([o,u],0)]}class Rg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new au(`Invalid padding: ${t}`);if(s<0)throw new au(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new au(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=us.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(us.fromNumber(s)));return o.compare(E2)===1&&(o=new us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=UT(e),[s,o]=BT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Rg(u,o,t);return s.forEach((d=>h.insert(d))),h}insert(e){if(this.ge===0)return;const t=UT(e),[s,o]=BT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new xf(Se.min(),o,new ht(Me),br(),je())}}class Fu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Fu(s,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class CA{constructor(e,t){this.targetId=e,this.Ce=t}}class IA{constructor(e,t,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class zT{constructor(){this.ve=0,this.Fe=qT(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),s=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new Fu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=qT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class T2{constructor(e){this.Ge=e,this.ze=new Map,this.je=br(),this.Je=bh(),this.He=bh(),this.Ye=new ht(Me)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Pp(u))if(s===0){const h=new ye(u.path);this.et(t,h,an.newNoDocument(h,Se.min()))}else $e(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const d=this.ut(e),p=d?this.ct(d,e,h):1;if(p!==0){this.it(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=ms(s).toUint8Array()}catch(p){if(p instanceof Z0)return wo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Rg(h,o,u)}catch(p){return wo(p instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,h)=>{const d=this.ot(h);if(d){if(u.current&&Pp(d.target)){const p=new ye(d.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,an.newNoDocument(p,e))}u.Be&&(t.set(h,u.ke()),u.qe())}}));let s=je();this.He.forEach(((u,h)=>{let d=!0;h.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new xf(e,t,this.Ye,this.je,s);return this.je=br(),this.Je=bh(),this.He=bh(),this.Ye=new ht(Me),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new zT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new kt(Me),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new kt(Me),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function bh(){return new ht(ye.comparator)}function qT(){return new ht(ye.comparator)}const b2={asc:"ASCENDING",desc:"DESCENDING"},A2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w2={and:"AND",or:"OR"};class S2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jp(i,e){return i.useProto3Json||bf(e)?e:{value:e}}function Jh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function R2(i,e){return Jh(i,e.toTimestamp())}function ji(i){return $e(!!i,49232),Se.fromTimestamp((function(t){const s=ds(t);return new Ge(s.seconds,s.nanos)})(i))}function Cg(i,e){return kp(i,e).canonicalString()}function kp(i,e){const t=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function NA(i){const e=rt.fromString(i);return $e(jA(e),10190,{key:e.toString()}),e}function Vp(i,e){return Cg(i.databaseId,e.path)}function up(i,e){const t=NA(e);if(t.get(1)!==i.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ye(OA(t))}function DA(i,e){return Cg(i.databaseId,e)}function C2(i){const e=NA(i);return e.length===4?rt.emptyPath():OA(e)}function Lp(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function OA(i){return $e(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function FT(i,e,t){return{name:Vp(i,e),fields:t.value.mapValue.fields}}function I2(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,v){return y.useProto3Json?($e(v===void 0||typeof v=="string",58123),Jt.fromBase64String(v||"")):($e(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Jt.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&(function(y){const v=y.code===void 0?J.UNKNOWN:RA(y.code);return new he(v,y.message||"")})(h);t=new IA(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=up(i,s.document.name),u=ji(s.document.updateTime),h=s.document.createTime?ji(s.document.createTime):Se.min(),d=new vn({mapValue:{fields:s.document.fields}}),p=an.newFoundDocument(o,u,h,d),y=s.targetIds||[],v=s.removedTargetIds||[];t=new Vh(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=up(i,s.document),u=s.readTime?ji(s.readTime):Se.min(),h=an.newNoDocument(o,u),d=s.removedTargetIds||[];t=new Vh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=up(i,s.document),u=s.removedTargetIds||[];t=new Vh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new y2(o,u),d=s.targetId;t=new CA(d,h)}}return t}function x2(i,e){let t;if(e instanceof qu)t={update:FT(i,e.key,e.value)};else if(e instanceof SA)t={delete:Vp(i,e.key)};else if(e instanceof Ts)t={update:FT(i,e.key,e.data),updateMask:L2(e.fieldMask)};else{if(!(e instanceof m2))return Te(16599,{Vt:e.type});t={verify:Vp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const d=h.transform;if(d instanceof Iu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Nu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Zh)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw Te(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:R2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(i,e.precondition)),t}function N2(i,e){return i&&i.length>0?($e(e!==void 0,14353),i.map((t=>(function(o,u){let h=o.updateTime?ji(o.updateTime):ji(u);return h.isEqual(Se.min())&&(h=ji(u)),new h2(h,o.transformResults||[])})(t,e)))):[]}function D2(i,e){return{documents:[DA(i,e.path)]}}function O2(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=DA(i,o);const u=(function(y){if(y.length!==0)return MA(ui.create(y,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((v=>(function(w){return{field:po(w.field),direction:j2(w.dir)}})(v)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=jp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function P2(i){let e=C2(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){$e(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=(function(b){const w=PA(b);return w instanceof ui&&lA(w)?w.getFilters():[w]})(t.where));let h=[];t.orderBy&&(h=(function(b){return b.map((w=>(function(j){return new Cu(go(j.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(w)))})(t.orderBy));let d=null;t.limit&&(d=(function(b){let w;return w=typeof b=="object"?b.value:b,bf(w)?null:w})(t.limit));let p=null;t.startAt&&(p=(function(b){const w=!!b.before,R=b.values||[];return new Xh(R,w)})(t.startAt));let y=null;return t.endAt&&(y=(function(b){const w=!b.before,R=b.values||[];return new Xh(R,w)})(t.endAt)),WD(e,o,h,u,d,"F",p,y)}function M2(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function PA(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=go(t.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(t.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=go(t.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=go(t.unaryFilter.field);return xt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(i):i.fieldFilter!==void 0?(function(t){return xt.create(go(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return ui.create(t.compositeFilter.filters.map((s=>PA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(i):Te(30097,{filter:i})}function j2(i){return b2[i]}function k2(i){return A2[i]}function V2(i){return w2[i]}function po(i){return{fieldPath:i.canonicalString()}}function go(i){return Wt.fromServerFormat(i.fieldPath)}function MA(i){return i instanceof xt?(function(t){if(t.op==="=="){if(NT(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NAN"}};if(xT(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(NT(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NAN"}};if(xT(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(t.field),op:k2(t.op),value:t.value}}})(i):i instanceof ui?(function(t){const s=t.getFilters().map((o=>MA(o)));return s.length===1?s[0]:{compositeFilter:{op:V2(t.op),filters:s}}})(i):Te(54877,{filter:i})}function L2(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function jA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t,s,o,u=Se.min(),h=Se.min(),d=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.yt=e}}function B2(i){const e=P2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Wh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.Cn=new q2}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(fs.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class q2{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new kt(rt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kA=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(kA,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="LruGarbageCollector",F2=1048576;function $T([i,e],[t,s]){const o=Me(i,t);return o===0?Me(e,s):o}class H2{constructor(e){this.Ir=e,this.buffer=new kt($T),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();$T(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class G2{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(GT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vo(t)?fe(GT,"Ignoring IndexedDB error during garbage collection: ",t):await ko(t)}await this.Vr(3e5)}))}}class $2{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Tf.ce);const s=new H2(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(HT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,h,d,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,d=Date.now(),this.removeTargets(e,s,t)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(y=Date.now(),fo()<=Pe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function Y2(i,e){return new $2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.changes=new _a((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&gu(s.mutation,o,Pn.empty(),Ge.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=je()){const o=oa();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let h=su();return u.forEach(((d,p)=>{h=h.insert(d,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=oa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,je())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,d)=>{t.set(h,d)}))}))}computeViews(e,t,s,o){let u=br();const h=pu(),d=(function(){return pu()})();return t.forEach(((p,y)=>{const v=s.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Ts)?u=u.insert(y.key,y):v!==void 0?(h.set(y.key,v.mutation.getFieldMask()),gu(v.mutation,y,v.mutation.getFieldMask(),Ge.now())):h.set(y.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,v)=>h.set(y,v))),t.forEach(((y,v)=>d.set(y,new Q2(v,h.get(y)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=pu();let o=new ht(((h,d)=>h-d)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const d of h)d.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let v=s.get(p)||Pn.empty();v=d.applyToLocalView(y,v),s.set(p,v);const b=(o.get(d.batchId)||je()).add(p);o=o.insert(d.batchId,b)}))})).next((()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,v=p.value,b=yA();v.forEach((w=>{if(!u.has(w)){const R=AA(t.get(w),s.get(w));R!==null&&b.set(w,R),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,b))}return te.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(oa());let d=Au,p=u;return h.next((y=>te.forEach(y,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{p=p.insert(v,w)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,je()))).next((v=>({batchId:d,changes:gA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((s=>{let o=su();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=su();return this.indexManager.getCollectionParents(e,u).next((d=>te.forEach(d,(p=>{const y=(function(b,w){return new Lo(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((v=>{v.forEach(((b,w)=>{h=h.insert(b,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((h=>{u.forEach(((p,y)=>{const v=y.getKey();h.get(v)===null&&(h=h.insert(v,an.newInvalidDocument(v)))}));let d=su();return h.forEach(((p,y)=>{const v=u.get(p);v!==void 0&&gu(v.mutation,y,Pn.empty(),Ge.now()),Rf(t,y)&&(d=d.insert(p,y))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:B2(o.bundledQuery),readTime:ji(o.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.overlays=new ht(ye.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=oa();return te.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.St(e,t,u)})),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=oa(),u=t.length+1,h=new ye(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ht(((y,v)=>y-v));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let v=u.get(y.largestBatchId);v===null&&(v=oa(),u=u.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=oa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,v)=>d.set(y,v))),!(d.size()>=o)););return te.resolve(d)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new g2(t,s));let u=this.qr.get(t);u===void 0&&(u=je(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(){this.Qr=new kt(Ft.$r),this.Ur=new kt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Ft(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Ft(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new ye(new rt([])),s=new Ft(t,e),o=new Ft(t,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new rt([])),s=new Ft(t,e),o=new Ft(t,e+1);let u=je();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new Ft(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ft{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Me(e.Yr,t.Yr)}static Kr(e,t){return Me(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Ft.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new p2(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Zr=this.Zr.add(new Ft(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?vg:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ft(t,0),o=new Ft(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const d=this.Xr(h.Yr);u.push(d)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kt(Me);return t.forEach((o=>{const u=new Ft(o,0),h=new Ft(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(d=>{s=s.add(d.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new Ft(new ye(u),0);let d=new kt(Me);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.Yr)),!0)}),h),te.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){$e(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(t.mutations,(o=>{const u=new Ft(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Ft(t,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.ri=e,this.docs=(function(){return new ht(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let s=br();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=br();const h=t.path,d=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||xD(ID(v),s)<=0||(o.has(v.key)||Rf(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}ii(e,t){return te.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new nO(this)}getSize(e){return te.resolve(this.size)}}class nO extends K2{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.persistence=e,this.si=new _a((t=>bg(t)),Ag),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Ig,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Io(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach(((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t){this.ui={},this.overlays={},this.ci=new Tf(0),this.li=!1,this.li=!0,this.hi=new J2,this.referenceDelegate=e(this),this.Pi=new iO(this),this.indexManager=new z2,this.remoteDocumentCache=(function(o){return new tO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new U2(t),this.Ii=new W2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Z2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new eO(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new rO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class rO extends DD{constructor(e){super(),this.currentSequenceNumber=e}}class xg{constructor(e){this.persistence=e,this.Ri=new Ig,this.Vi=null}static mi(e){return new xg(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||t.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ef{constructor(e,t){this.persistence=e,this.pi=new _a((s=>MD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Y2(this,t)}static mi(e,t){return new ef(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((d=>{d||(s++,u.removeEntry(h,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mh(e.data.value)),t}br(e,t,s){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=je(),o=je();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ng(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bC()?8:OD(un())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,t,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new sO;return this.Ss(e,t,h).next((d=>{if(u.result=d,this.Vs)return this.bs(e,t,h,d.size)}))})).next((()=>u.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(fo()<=Pe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(fo()<=Pe.DEBUG&&fe("QueryEngine","Query:",mo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(fo()<=Pe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(t))):te.resolve())}ys(e,t){if(MT(t))return te.resolve(null);let s=Mi(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Wh(t,null,"F"),s=Mi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=je(...u);return this.ps.getDocuments(e,h).next((d=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(t,d);return this.Cs(t,y,h,p.readTime)?this.ys(e,Wh(t,null,"F")):this.vs(e,y,t,p)}))))})))))}ws(e,t,s,o){return MT(t)||o.isEqual(Se.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(t,u);return this.Cs(t,h,s,o)?te.resolve(null):(fo()<=Pe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(t)),this.vs(e,h,t,CD(o,Au)).next((d=>d)))}))}Ds(e,t){let s=new kt(mA(e));return t.forEach(((o,u)=>{Rf(e,u)&&(s=s.add(u))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return fo()<=Pe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",mo(t)),this.ps.getDocumentsMatchingQuery(e,t,fs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="LocalStore",oO=3e8;class lO{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ht(Me),this.xs=new _a((u=>bg(u)),Ag),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function uO(i,e,t,s){return new lO(i,e,t,s)}async function LA(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],d=[];let p=je();for(const y of o){h.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of u){d.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:d})))}))}))}function cO(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,y,v){const b=y.batch,w=b.keys();let R=te.resolve();return w.forEach((j=>{R=R.next((()=>v.getEntry(p,j))).next(($=>{const L=y.docVersions.get(j);$e(L!==null,48541),$.version.compareTo(L)<0&&(b.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),v.addEntry($)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(p,b)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=je();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function UA(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function hO(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((v,b)=>{const w=o.get(b);if(!w)return;d.push(t.Pi.removeMatchingKeys(u,v.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(u,v.addedDocuments,b))));let R=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?R=R.withResumeToken(Jt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),o=o.insert(b,R),(function($,L,ne){return $.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=oO?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(w,R,v)&&d.push(t.Pi.updateTargetData(u,R))}));let p=br(),y=je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(fO(u,h,e.documentUpdates).next((v=>{p=v.ks,y=v.qs}))),!s.isEqual(Se.min())){const v=t.Pi.getLastRemoteSnapshotVersion(u).next((b=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(v)}return te.waitFor(d).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(t.Ms=o,u)))}function fO(i,e,t){let s=je(),o=je();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=br();return t.forEach(((d,p)=>{const y=u.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):fe(Dg,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function dO(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=vg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function mO(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):t.Pi.allocateTargetId(s).next((h=>(o=new as(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Up(i,e,t){const s=Re(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Vo(h))throw h;fe(Dg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function YT(i,e,t){const s=Re(i);let o=Se.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,y,v){const b=Re(p),w=b.xs.get(v);return w!==void 0?te.resolve(b.Ms.get(w)):b.Pi.getTargetData(y,v)})(s,h,Mi(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,d.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?u:je()))).next((d=>(pO(s,JD(e),d),{documents:d,Qs:u})))))}function pO(i,e,t){let s=i.Os.get(e)||Se.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class KT{constructor(){this.activeTargetIds=s2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gO{constructor(){this.Mo=new KT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new KT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="ConnectivityMonitor";class XT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(QT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(QT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah=null;function Bp(){return Ah===null?Ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ah++,"0x"+Ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="RestConnection",_O={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const h=Bp(),d=this.zo(e,t.toUriEncodedString());fe(cp,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(d),v=Ar(y);return this.Jo(e,d,p,s,v).then((b=>(fe(cp,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw wo(cp,`RPC '${e}' ${h} failed with error: `,b,"url: ",d,"request:",s),b}))}Ho(e,t,s,o,u,h){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const s=_O[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class TO extends vO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=Bp();return new Promise(((d,p)=>{const y=new z0;y.setWithCredentials(!0),y.listenOnce(q0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ph.NO_ERROR:const b=y.getResponseJson();fe(rn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),d(b);break;case Ph.TIMEOUT:fe(rn,`RPC '${e}' ${h} timed out`),p(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ph.HTTP_ERROR:const w=y.getStatus();if(fe(rn,`RPC '${e}' ${h} failed with status:`,w,"response text:",y.getResponseText()),w>0){let R=y.getResponseJson();Array.isArray(R)&&(R=R[0]);const j=R?.error;if(j&&j.status&&j.message){const $=(function(ne){const W=ne.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(W)>=0?W:J.UNKNOWN})(j.status);p(new he($,j.message))}else p(new he(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new he(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(rn,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);fe(rn,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",v,s,15)}))}T_(e,t,s){const o=Bp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=G0(),d=H0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=u.join("");fe(rn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=h.createWebChannel(v,p);this.I_(b);let w=!1,R=!1;const j=new EO({Yo:L=>{R?fe(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(w||(fe(rn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),fe(rn,`RPC '${e}' stream ${o} sending:`,L),b.send(L))},Zo:()=>b.close()}),$=(L,ne,W)=>{L.listen(ne,(K=>{try{W(K)}catch(re){setTimeout((()=>{throw re}),0)}}))};return $(b,ru.EventType.OPEN,(()=>{R||(fe(rn,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),$(b,ru.EventType.CLOSE,(()=>{R||(R=!0,fe(rn,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(b))})),$(b,ru.EventType.ERROR,(L=>{R||(R=!0,wo(rn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),j.a_(new he(J.UNAVAILABLE,"The operation could not be completed")))})),$(b,ru.EventType.MESSAGE,(L=>{if(!R){const ne=L.data[0];$e(!!ne,16349);const W=ne,K=W?.error||W[0]?.error;if(K){fe(rn,`RPC '${e}' stream ${o} received error:`,K);const re=K.status;let ae=(function(C){const I=Ct[C];if(I!==void 0)return RA(I)})(re),ie=K.message;ae===void 0&&(ae=J.INTERNAL,ie="Unknown error status: "+re+" with message "+K.message),R=!0,j.a_(new he(ae,ie)),b.close()}else fe(rn,`RPC '${e}' stream ${o} received:`,ne),j.u_(ne)}})),$(d,F0.STAT_EVENT,(L=>{L.stat===Ip.PROXY?fe(rn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Ip.NOPROXY&&fe(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(i){return new S2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="PersistentStream";class zA{constructor(e,t,s,o,u,h,d,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Tr(t.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(WT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(fe(WT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bO extends zA{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=I2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?ji(h.readTime):Se.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Lp(this.serializer),t.addTarget=(function(u,h){let d;const p=h.target;if(d=Pp(p)?{documents:D2(u,p)}:{query:O2(u,p).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=xA(u,h.resumeToken);const y=jp(u,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(Se.min())>0){d.readTime=Jh(u,h.snapshotVersion.toTimestamp());const y=jp(u,h.expectedCount);y!==null&&(d.expectedCount=y)}return d})(this.serializer,e);const s=M2(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Lp(this.serializer),t.removeTarget=e,this.q_(t)}}class AO extends zA{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=N2(e.writeResults,e.commitTime),s=ji(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Lp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>x2(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{}class SO extends wO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,kp(t,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(J.UNKNOWN,u.toString())}))}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Ho(e,kp(t,s),o,h,d,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class RO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class CO{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{va(this)&&(fe(pa,"Restarting streams for network reachability change."),await(async function(p){const y=Re(p);y.Ea.add(4),await Hu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Df(y)})(this))}))})),this.Ra=new RO(s,o)}}async function Df(i){if(va(i))for(const e of i.da)await e(!0)}async function Hu(i){for(const e of i.da)await e(!1)}function qA(i,e){const t=Re(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),jg(t)?Mg(t):Uo(t).O_()&&Pg(t,e))}function Og(i,e){const t=Re(i),s=Uo(t);t.Ia.delete(e),s.O_()&&FA(t,e),t.Ia.size===0&&(s.O_()?s.L_():va(t)&&t.Ra.set("Unknown"))}function Pg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Uo(i).Y_(e)}function FA(i,e){i.Va.Ue(e),Uo(i).Z_(e)}function Mg(i){i.Va=new T2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Uo(i).start(),i.Ra.ua()}function jg(i){return va(i)&&!Uo(i).x_()&&i.Ia.size>0}function va(i){return Re(i).Ea.size===0}function HA(i){i.Va=void 0}async function IO(i){i.Ra.set("Online")}async function xO(i){i.Ia.forEach(((e,t)=>{Pg(i,e)}))}async function NO(i,e){HA(i),jg(i)?(i.Ra.ha(e),Mg(i)):i.Ra.set("Unknown")}async function DO(i,e,t){if(i.Ra.set("Online"),e instanceof IA&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ia.delete(d),o.Va.removeTarget(d))})(i,e)}catch(s){fe(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await tf(i,s)}else if(e instanceof Vh?i.Va.Ze(e):e instanceof CA?i.Va.st(e):i.Va.tt(e),!t.isEqual(Se.min()))try{const s=await UA(i.localStore);t.compareTo(s)>=0&&await(function(u,h){const d=u.Va.Tt(h);return d.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(y);v&&u.Ia.set(y,v.withResumeToken(p.resumeToken,h))}})),d.targetMismatches.forEach(((p,y)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Jt.EMPTY_BYTE_STRING,v.snapshotVersion)),FA(u,p);const b=new as(v.target,p,y,v.sequenceNumber);Pg(u,b)})),u.remoteSyncer.applyRemoteEvent(d)})(i,t)}catch(s){fe(pa,"Failed to raise snapshot:",s),await tf(i,s)}}async function tf(i,e,t){if(!Vo(e))throw e;i.Ea.add(1),await Hu(i),i.Ra.set("Offline"),t||(t=()=>UA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(pa,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Df(i)}))}function GA(i,e){return e().catch((t=>tf(i,t,e)))}async function Of(i){const e=Re(i),t=gs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vg;for(;OO(e);)try{const o=await dO(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,PO(e,o)}catch(o){await tf(e,o)}$A(e)&&YA(e)}function OO(i){return va(i)&&i.Ta.length<10}function PO(i,e){i.Ta.push(e);const t=gs(i);t.O_()&&t.X_&&t.ea(e.mutations)}function $A(i){return va(i)&&!gs(i).x_()&&i.Ta.length>0}function YA(i){gs(i).start()}async function MO(i){gs(i).ra()}async function jO(i){const e=gs(i);for(const t of i.Ta)e.ea(t.mutations)}async function kO(i,e,t){const s=i.Ta.shift(),o=Sg.from(s,e,t);await GA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Of(i)}async function VO(i,e){e&&gs(i).X_&&await(async function(s,o){if((function(h){return _2(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();gs(s).B_(),await GA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Of(s)}})(i,e),$A(i)&&YA(i)}async function ZT(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),fe(pa,"RemoteStore received new credentials");const s=va(t);t.Ea.add(3),await Hu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Df(t)}async function LO(i,e){const t=Re(i);e?(t.Ea.delete(2),await Df(t)):e||(t.Ea.add(2),await Hu(t),t.Ra.set("Unknown"))}function Uo(i){return i.ma||(i.ma=(function(t,s,o){const u=Re(t);return u.sa(),new bO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:IO.bind(null,i),t_:xO.bind(null,i),r_:NO.bind(null,i),H_:DO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),jg(i)?Mg(i):i.Ra.set("Unknown")):(await i.ma.stop(),HA(i))}))),i.ma}function gs(i){return i.fa||(i.fa=(function(t,s,o){const u=Re(t);return u.sa(),new AO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:MO.bind(null,i),r_:VO.bind(null,i),ta:jO.bind(null,i),na:kO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Of(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(pa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new kg(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(i,e){if(Tr("AsyncQueue",`${e}: ${i}`),Vo(i))return new he(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=su(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.ga=new ht(ye.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class xo{constructor(e,t,s,o,u,h,d,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach((d=>{h.push({type:0,doc:d})})),new xo(e,t,bo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class BO{constructor(){this.queries=eb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=eb(),u.forEach(((h,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new he(J.ABORTED,"Firestore shutting down"))}}function eb(){return new _a((i=>dA(i)),Sf)}async function Lg(i,e){const t=Re(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new UO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Vg(h,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&Bg(t)}async function Ug(i,e){const t=Re(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function zO(i,e){const t=Re(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.Sa)d.Fa(o)&&(s=!0);h.wa=o}}s&&Bg(t)}function qO(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function Bg(i){i.Ca.forEach((e=>{e.next()}))}var zp,tb;(tb=zp||(zp={})).Ma="default",tb.Cache="cache";class zg{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new xo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.key=e}}class QA{constructor(e){this.key=e}}class FO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=mA(e),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new JT,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const w=o.get(v),R=Rf(this.query,b)?b:null,j=!!w&&this.mutatedKeys.has(w.key),$=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let L=!1;w&&R?w.data.isEqual(R.data)?j!==$&&(s.track({type:3,doc:R}),L=!0):this.su(w,R)||(s.track({type:2,doc:R}),L=!0,(p&&this.eu(R,p)>0||y&&this.eu(R,y)<0)&&(d=!0)):!w&&R?(s.track({type:0,doc:R}),L=!0):w&&!R&&(s.track({type:1,doc:w}),L=!0,(p||y)&&(d=!0)),L&&(R?(h=h.add(R),u=$?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:h,iu:s,Cs:d,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,b)=>(function(R,j){const $=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:L})}};return $(R)-$(j)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),o=o??!1;const d=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,h.length!==0||y?{snapshot:new xo(this.query,e.tu,u,h,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new JT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new QA(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new KA(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qg="SyncEngine";class HO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class GO{constructor(e){this.key=e,this.hu=!1}}class $O{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new _a((d=>dA(d)),Sf),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ye.comparator),this.Au=new Map,this.Ru=new Ig,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YO(i,e,t=!0){const s=tw(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await XA(s,e,t,!0),o}async function KO(i,e){const t=tw(i);await XA(t,e,!0,!1)}async function XA(i,e,t,s){const o=await mO(i.localStore,Mi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await QO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&qA(i.remoteStore,o),d}async function QO(i,e,t,s,o){i.pu=(b,w,R)=>(async function($,L,ne,W){let K=L.view.ru(ne);K.Cs&&(K=await YT($.localStore,L.query,!1).then((({documents:N})=>L.view.ru(N,K))));const re=W&&W.targetChanges.get(L.targetId),ae=W&&W.targetMismatches.get(L.targetId)!=null,ie=L.view.applyChanges(K,$.isPrimaryClient,re,ae);return ib($,L.targetId,ie.au),ie.snapshot})(i,b,w,R);const u=await YT(i.localStore,e,!0),h=new FO(e,u.Qs),d=h.ru(u.documents),p=Fu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),y=h.applyChanges(d,i.isPrimaryClient,p);ib(i,t,y.au);const v=new HO(e,t,h);return i.Tu.set(e,v),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),y.snapshot}async function XO(i,e,t){const s=Re(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Sf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Up(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Og(s.remoteStore,o.targetId),qp(s,o.targetId)})).catch(ko)):(qp(s,o.targetId),await Up(s.localStore,o.targetId,!0))}async function WO(i,e){const t=Re(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Og(t.remoteStore,s.targetId))}async function ZO(i,e,t){const s=sP(i);try{const o=await(function(h,d){const p=Re(h),y=Ge.now(),v=d.reduce(((R,j)=>R.add(j.key)),je());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let j=br(),$=je();return p.Ns.getEntries(R,v).next((L=>{j=L,j.forEach(((ne,W)=>{W.isValidDocument()||($=$.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,j))).next((L=>{b=L;const ne=[];for(const W of d){const K=d2(W,b.get(W.key).overlayedDocument);K!=null&&ne.push(new Ts(W.key,K,sA(K.value.mapValue),oi.exists(!0)))}return p.mutationQueue.addMutationBatch(R,y,ne,d)})).next((L=>{w=L;const ne=L.applyToLocalDocumentSet(b,$);return p.documentOverlayCache.saveOverlays(R,L.batchId,ne)}))})).then((()=>({batchId:w.batchId,changes:gA(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,d,p){let y=h.Vu[h.currentUser.toKey()];y||(y=new ht(Me)),y=y.insert(d,p),h.Vu[h.currentUser.toKey()]=y})(s,o.batchId,t),await Gu(s,o.changes),await Of(s.remoteStore)}catch(o){const u=Vg(o,"Failed to persist write");t.reject(u)}}async function WA(i,e){const t=Re(i);try{const s=await hO(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=t.Au.get(u);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?$e(h.hu,14607):o.removedDocuments.size>0&&($e(h.hu,42227),h.hu=!1))})),await Gu(t,s,e)}catch(s){await ko(s)}}function nb(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(h,d){const p=Re(h);p.onlineState=d;let y=!1;p.queries.forEach(((v,b)=>{for(const w of b.Sa)w.va(d)&&(y=!0)})),y&&Bg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function JO(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(ye.comparator);h=h.insert(u,an.newNoDocument(u,Se.min()));const d=je().add(u),p=new xf(Se.min(),new Map,new ht(Me),h,d);await WA(s,p),s.du=s.du.remove(u),s.Au.delete(e),Fg(s)}else await Up(s.localStore,e,!1).then((()=>qp(s,e,t))).catch(ko)}async function eP(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await cO(t.localStore,e);JA(t,s,null),ZA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Gu(t,o)}catch(o){await ko(o)}}async function tP(i,e,t){const s=Re(i);try{const o=await(function(h,d){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return p.mutationQueue.lookupMutationBatch(y,d).next((b=>($e(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(y,b)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>p.localDocuments.getDocuments(y,v)))}))})(s.localStore,e);JA(s,e,t),ZA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Gu(s,o)}catch(o){await ko(o)}}function ZA(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function JA(i,e,t){const s=Re(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function qp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||ew(i,s)}))}function ew(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Og(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Fg(i))}function ib(i,e,t){for(const s of t)s instanceof KA?(i.Ru.addReference(s.key,e),nP(i,s)):s instanceof QA?(fe(qg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||ew(i,s.key)):Te(19791,{wu:s})}function nP(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(fe(qg,"New document in limbo: "+t),i.Eu.add(s),Fg(i))}function Fg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ye(rt.fromString(e)),s=i.fu.next();i.Au.set(s,new GO(t)),i.du=i.du.insert(t,s),qA(i.remoteStore,new as(Mi(wf(t.path)),s,"TargetPurposeLimboResolution",Tf.ce))}}async function Gu(i,e,t){const s=Re(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{h.push(s.pu(p,e,t).then((y=>{if((y||t)&&s.isPrimaryClient){const v=y?!y.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(y){o.push(y);const v=Ng.As(p.targetId,y);u.push(v)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,y){const v=Re(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(y,(w=>te.forEach(w.Es,(R=>v.persistence.referenceDelegate.addReference(b,w.targetId,R))).next((()=>te.forEach(w.ds,(R=>v.persistence.referenceDelegate.removeReference(b,w.targetId,R)))))))))}catch(b){if(!Vo(b))throw b;fe(Dg,"Failed to update sequence numbers: "+b)}for(const b of y){const w=b.targetId;if(!b.fromCache){const R=v.Ms.get(w),j=R.snapshotVersion,$=R.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(w,$)}}})(s.localStore,u))}async function iP(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){fe(qg,"User change. New user:",e.toKey());const s=await LA(t.localStore,e);t.currentUser=e,(function(u,h){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new he(J.CANCELLED,h))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Gu(t,s.Ls)}}function rP(i,e){const t=Re(i),s=t.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const d=t.Tu.get(h);o=o.unionWith(d.view.nu)}return o}}function tw(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=WA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JO.bind(null,e),e.Pu.H_=zO.bind(null,e.eventManager),e.Pu.yu=qO.bind(null,e.eventManager),e}function sP(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tP.bind(null,e),e}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return uO(this.persistence,new aO,e.initialUser,this.serializer)}Cu(e){return new VA(xg.mi,this.serializer)}Du(e){return new gO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class aP extends nf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){$e(this.persistence.referenceDelegate instanceof ef,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new G2(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new VA((s=>ef.mi(s,t)),this.serializer)}}class Fp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>nb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=iP.bind(null,this.syncEngine),await LO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BO})()}createDatastore(e){const t=Nf(e.databaseInfo.databaseId),s=(function(u){return new TO(u)})(e.databaseInfo);return(function(u,h,d,p){return new SO(u,h,d,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,h,d){return new CO(s,o,u,h,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>nb(this.syncEngine,t,0)),(function(){return XT.v()?new XT:new yO})())}createSyncEngine(e,t){return(function(o,u,h,d,p,y,v){const b=new $O(o,u,h,d,p,y);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Re(t);fe(pa,"RemoteStore shutting down."),s.Ea.add(5),await Hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fp.provider={build:()=>new Fp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class oP{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=_g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{fe(ys,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(fe(ys,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Vg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function fp(i,e){i.asyncQueue.verifyOperationInProgress(),fe(ys,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await LA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function rb(i,e){i.asyncQueue.verifyOperationInProgress();const t=await lP(i);fe(ys,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>ZT(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>ZT(e.remoteStore,o))),i._onlineComponents=e}async function lP(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(ys,"Using user provided OfflineComponentProvider");try{await fp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;wo("Error using user provided cache. Falling back to memory cache: "+t),await fp(i,new nf)}}else fe(ys,"Using default OfflineComponentProvider"),await fp(i,new aP(void 0));return i._offlineComponents}async function nw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(ys,"Using user provided OnlineComponentProvider"),await rb(i,i._uninitializedComponentsProvider._online)):(fe(ys,"Using default OnlineComponentProvider"),await rb(i,new Fp))),i._onlineComponents}function uP(i){return nw(i).then((e=>e.syncEngine))}async function rf(i){const e=await nw(i),t=e.eventManager;return t.onListen=YO.bind(null,e.syncEngine),t.onUnlisten=XO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WO.bind(null,e.syncEngine),t}function cP(i,e,t={}){const s=new gr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,d,p,y){const v=new Hg({next:w=>{v.Nu(),h.enqueueAndForget((()=>Ug(u,b)));const R=w.docs.has(d);!R&&w.fromCache?y.reject(new he(J.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&w.fromCache&&p&&p.source==="server"?y.reject(new he(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new zg(wf(d.path),v,{includeMetadataChanges:!0,qa:!0});return Lg(u,b)})(await rf(i),i.asyncQueue,e,t,s))),s.promise}function hP(i,e,t={}){const s=new gr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,d,p,y){const v=new Hg({next:w=>{v.Nu(),h.enqueueAndForget((()=>Ug(u,b))),w.fromCache&&p.source==="server"?y.reject(new he(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new zg(d,v,{includeMetadataChanges:!0,qa:!0});return Lg(u,b)})(await rf(i),i.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="firestore.googleapis.com",ab=!0;class ob{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rw,this.ssl=ab}else this.host=e.host,this.ssl=e.ssl??ab;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F2)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ob({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ob(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new gD;switch(s.type){case"firstParty":return new ED(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=sb.get(t);s&&(fe("ComponentProvider","Removing Datastore"),sb.delete(t),s.terminate())})(this),Promise.resolve()}}function fP(i,e,t,s={}){i=jn(i,Pf);const o=Ar(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},d=`${e}:${t}`;o&&(df(`https://${d}`),mf("Firestore",!0)),u.host!==rw&&u.host!==d&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!ha(p,h)&&(i._setSettings(p),s.mockUserToken)){let y,v;if(typeof s.mockUserToken=="string")y=s.mockUserToken,v=sn.MOCK_USER;else{y=Qb(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new sn(b)}i._authCredentials=new yD(new Y0(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wr(this.firestore,e,this._query)}}class gt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(zu(t,gt._jsonSchema))return new gt(e,s||null,new ye(rt.fromString(t.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Nt("string",gt._jsonSchemaVersion),referencePath:Nt("string")};class cs extends wr{constructor(e,t,s){super(e,t,wf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new ye(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function Tn(i,e,...t){if(i=st(i),K0("collection","path",e),i instanceof Pf){const s=rt.fromString(e,...t);return ET(s),new cs(i,null,s)}{if(!(i instanceof gt||i instanceof cs))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...t));return ET(s),new cs(i.firestore,null,s)}}function Jn(i,e,...t){if(i=st(i),arguments.length===1&&(e=_g.newId()),K0("doc","path",e),i instanceof Pf){const s=rt.fromString(e,...t);return vT(s),new gt(i,null,new ye(s))}{if(!(i instanceof gt||i instanceof cs))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...t));return vT(s),new gt(i.firestore,i instanceof cs?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="AsyncQueue";class ub{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BA(this,"async_queue_retry"),this._c=()=>{const s=hp();s&&fe(lb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=hp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=hp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vo(e))throw e;fe(lb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",cb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=kg.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:cb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function cb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class _s extends Pf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new ub,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ub(e),this._firestoreClient=void 0,await e}}}function dP(i,e){const t=typeof i=="object"?i:pf(),s=typeof i=="string"?i:Kh,o=ku(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=ig("firestore");u&&fP(o,...u)}return o}function Mf(i){if(i._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||mP(i),i._firestoreClient}function mP(i){const e=i._freezeSettings(),t=(function(o,u,h,d){return new VD(o,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,iw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new oP(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(Jt.fromBase64String(e))}catch(t){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zu(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Nt("string",Xn._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(zu(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Nt("string",ki._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zu(e,Vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Vi(e.vectorValues);throw new he(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Nt("string",Vi._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=/^__.*__$/;class gP{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new qu(e,this.data,t,this.fieldTransforms)}}class sw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:i})}}class Gg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aw(this.Ac)&&pP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yP{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Nf(e)}Cc(e,t,s,o=!1){return new Gg({Ac:e,methodName:t,Dc:s,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vf(i){const e=i._freezeSettings(),t=Nf(i._databaseId);return new yP(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ow(i,e,t,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);Yg("Data must be an object, but it was:",h,s);const d=lw(s,h);let p,y;if(u.merge)p=new Pn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const w=Hp(e,b,t);if(!h.contains(w))throw new he(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);cw(v,w)||v.push(w)}p=new Pn(v),y=h.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,y=h.fieldTransforms;return new gP(new vn(d),p,y)}class Lf extends kf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lf}}class $g extends kf{_toFieldTransform(e){return new u2(e.path,new Iu)}isEqual(e){return e instanceof $g}}function _P(i,e,t,s){const o=i.Cc(1,e,t);Yg("Data must be an object, but it was:",o,s);const u=[],h=vn.empty();Es(s,((p,y)=>{const v=Kg(e,p,t);y=st(y);const b=o.yc(v);if(y instanceof Lf)u.push(v);else{const w=$u(y,b);w!=null&&(u.push(v),h.set(v,w))}}));const d=new Pn(u);return new sw(h,d,o.fieldTransforms)}function vP(i,e,t,s,o,u){const h=i.Cc(1,e,t),d=[Hp(e,s,t)],p=[o];if(u.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)d.push(Hp(e,u[w])),p.push(u[w+1]);const y=[],v=vn.empty();for(let w=d.length-1;w>=0;--w)if(!cw(y,d[w])){const R=d[w];let j=p[w];j=st(j);const $=h.yc(R);if(j instanceof Lf)y.push(R);else{const L=$u(j,$);L!=null&&(y.push(R),v.set(R,L))}}const b=new Pn(y);return new sw(v,b,h.fieldTransforms)}function EP(i,e,t,s=!1){return $u(t,i.Cc(s?4:3,e))}function $u(i,e){if(uw(i=st(i)))return Yg("Unsupported field value:",e,i),lw(i,e);if(i instanceof kf)return(function(s,o){if(!aw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const d of s){let p=$u(d,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=st(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return a2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ge.fromDate(s);return{timestampValue:Jh(o.serializer,u)}}if(s instanceof Ge){const u=new Ge(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jh(o.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:xA(o.serializer,s._byteString)};if(s instanceof gt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Cg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vi)return(function(h,d){return{mapValue:{fields:{[iA]:{stringValue:rA},[Qh]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw d.Sc("VectorValues must only contain numeric values.");return wg(d.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ef(s)}`)})(i,e)}function lw(i,e){const t={};return W0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(i,((s,o)=>{const u=$u(o,e.mc(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function uw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ge||i instanceof ki||i instanceof Xn||i instanceof gt||i instanceof kf||i instanceof Vi)}function Yg(i,e,t){if(!uw(t)||!Q0(t)){const s=Ef(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Hp(i,e,t){if((e=st(e))instanceof jf)return e._internalPath;if(typeof e=="string")return Kg(i,e);throw sf("Field path arguments must be of type string or ",i,!1,void 0,t)}const TP=new RegExp("[~\\*/\\[\\]]");function Kg(i,e,t){if(e.search(TP)>=0)throw sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new jf(...e.split("."))._internalPath}catch{throw sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function sf(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new he(J.INVALID_ARGUMENT,d+i+p)}function cw(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Uf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class bP extends hw{data(){return super.data()}}function Uf(i,e){return typeof e=="string"?Kg(i,e):e instanceof jf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qg{}class Xg extends Qg{}function Bo(i,e,...t){let s=[];e instanceof Qg&&s.push(e),s=s.concat(t),(function(u){const h=u.filter((p=>p instanceof Wg)).length,d=u.filter((p=>p instanceof Bf)).length;if(h>1||h>0&&d>0)throw new he(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Bf extends Xg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Bf(e,t,s)}_apply(e){const t=this._parse(e);return mw(e._query,t),new wr(e.firestore,e.converter,Mp(e._query,t))}_parse(e){const t=Vf(e.firestore);return(function(u,h,d,p,y,v,b){let w;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){db(b,v);const j=[];for(const $ of b)j.push(fb(p,u,$));w={arrayValue:{values:j}}}else w=fb(p,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||db(b,v),w=EP(d,h,b,v==="in"||v==="not-in");return xt.create(y,v,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function af(i,e,t){const s=e,o=Uf("where",i);return Bf._create(o,s,t)}class Wg extends Qg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wg(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:ui.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)mw(h,p),h=Mp(h,p)})(e._query,t),new wr(e.firestore,e.converter,Mp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zg extends Xg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Zg(e,t)}_apply(e){const t=(function(o,u,h){if(o.startAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cu(u,h)})(e._query,this._field,this._direction);return new wr(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Lo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function dw(i,e="asc"){const t=e,s=Uf("orderBy",i);return Zg._create(s,t)}class Jg extends Xg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Jg(e,t,s)}_apply(e){return new wr(e.firestore,e.converter,Wh(e._query,this._limit,this._limitType))}}function AP(i){return Jg._create("limit",i,"F")}function fb(i,e,t){if(typeof(t=st(t))=="string"){if(t==="")throw new he(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fA(e)&&t.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(rt.fromString(t));if(!ye.isDocumentKey(s))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return IT(i,new ye(s))}if(t instanceof gt)return IT(i,t._key);throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ef(t)}.`)}function db(i,e){if(!Array.isArray(i)||i.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mw(i,e){const t=(function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class wP{convertValue(e,t="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Es(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[Qh].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new Vi(t)}convertGeoPoint(e){return new ki(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Af(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const t=ds(e);return new Ge(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=rt.fromString(e);$e(jA(s),9688,{name:e});const o=new Su(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(t)||Tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends hw{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Uf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=la._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Nt("string",la._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Lh extends la{data(e={}){return super.data(e)}}class ua{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Lh(this._firestore,this._userDataWriter,s.key,s,new ou(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((d=>{const p=new Lh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ou(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new Lh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ou(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:SP(d.type),doc:p,oldIndex:y,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SP(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(i){i=jn(i,gt);const e=jn(i.firestore,_s);return cP(Mf(e),i._key).then((t=>gw(e,i,t)))}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:Nt("string",ua._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class ey extends wP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,t)}}function Du(i){i=jn(i,wr);const e=jn(i.firestore,_s),t=Mf(e),s=new ey(e);return fw(i._query),hP(t,i._query).then((o=>new ua(e,s,i,o)))}function ty(i,e,t){i=jn(i,gt);const s=jn(i.firestore,_s),o=pw(i.converter,e,t);return ny(s,[ow(Vf(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,oi.none())])}function of(i,e,t,...s){i=jn(i,gt);const o=jn(i.firestore,_s),u=Vf(o);let h;return h=typeof(e=st(e))=="string"||e instanceof jf?vP(u,"updateDoc",i._key,e,t,s):_P(u,"updateDoc",i._key,e),ny(o,[h.toMutation(i._key,oi.exists(!0))])}function Ou(i,e){const t=jn(i.firestore,_s),s=Jn(i),o=pw(i.converter,e);return ny(t,[ow(Vf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,oi.exists(!1))]).then((()=>s))}function qf(i,...e){i=st(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||hb(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(hb(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,d;if(i instanceof gt)h=jn(i.firestore,_s),d=wf(i._key.path),u={next:p=>{e[s]&&e[s](gw(h,i,p))},error:e[s+1],complete:e[s+2]};else{const p=jn(i,wr);h=jn(p.firestore,_s),d=p._query;const y=new ey(h);u={next:v=>{e[s]&&e[s](new ua(h,y,p,v))},error:e[s+1],complete:e[s+2]},fw(i._query)}return(function(y,v,b,w){const R=new Hg(w),j=new zg(v,R,b);return y.asyncQueue.enqueueAndForget((async()=>Lg(await rf(y),j))),()=>{R.Nu(),y.asyncQueue.enqueueAndForget((async()=>Ug(await rf(y),j)))}})(Mf(h),d,o,u)}function ny(i,e){return(function(s,o){const u=new gr;return s.asyncQueue.enqueueAndForget((async()=>ZO(await uP(s),o,u))),u.promise})(Mf(i),e)}function gw(i,e,t){const s=t.docs.get(e._key),o=new ey(i);return new la(i,o,e._key,s,new ou(t.hasPendingWrites,t.fromCache),e.converter)}function Zt(){return new $g("serverTimestamp")}(function(e,t=!0){(function(o){jo=o})(ya),hs(new _r("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new _s(new _D(s.getProvider("auth-internal")),new TD(h,s.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(y.options.projectId,v)})(h,o),h);return u={useFetchStreams:t,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Wn(pT,gT,e),Wn(pT,gT,"esm2020")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,t,s,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,ln(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||t.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="us-central1";class CP{constructor(e,t,s,o,u=Gp,h=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=h,this.emulatorOrigin=null,this.contextProvider=new RP(e,t,s,o),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(u);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=Gp}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function IP(i,e,t){const s=Ar(e);i.emulatorOrigin=`http${s?"s":""}://${e}:${t}`,s&&(df(i.emulatorOrigin),mf("Functions",!0))}const mb="@firebase/functions",pb="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="auth-internal",NP="app-check-internal",DP="messaging-internal";function OP(i){const e=(t,{instanceIdentifier:s})=>{const o=t.getProvider("app").getImmediate(),u=t.getProvider(xP),h=t.getProvider(DP),d=t.getProvider(NP);return new CP(o,u,h,d,s)};hs(new _r(yw,e,"PUBLIC").setMultipleInstances(!0)),Wn(mb,pb,i),Wn(mb,pb,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(i=pf(),e=Gp){const s=ku(st(i),yw).getImmediate({identifier:e}),o=ig("functions");return o&&MP(s,...o),s}function MP(i,e,t){IP(st(i),e,t)}OP();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="firebasestorage.googleapis.com",vw="storageBucket",jP=120*1e3,kP=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t extends Bi{constructor(e,t,s=0){super(dp(e),`Firebase Storage: ${t} (${dp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yt||(yt={}));function dp(i){return"storage/"+i}function iy(){const i="An unknown error occurred, please check the error payload for server response.";return new _t(yt.UNKNOWN,i)}function VP(i){return new _t(yt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function LP(i){return new _t(yt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function UP(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _t(yt.UNAUTHENTICATED,i)}function BP(){return new _t(yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zP(i){return new _t(yt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function qP(){return new _t(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FP(){return new _t(yt.CANCELED,"User canceled the upload/download.")}function HP(i){return new _t(yt.INVALID_URL,"Invalid URL '"+i+"'.")}function GP(i){return new _t(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function $P(){return new _t(yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vw+"' property when initializing the app?")}function YP(){return new _t(yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KP(){return new _t(yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function QP(i){return new _t(yt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $p(i){return new _t(yt.INVALID_ARGUMENT,i)}function Ew(){return new _t(yt.APP_DELETED,"The Firebase app was deleted.")}function XP(i){return new _t(yt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yu(i,e){return new _t(yt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Jl(i){throw new _t(yt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Mn.makeFromUrl(e,t)}catch{return new Mn(e,"")}if(s.path==="")return s;throw GP(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function y(re){re.path_=decodeURIComponent(re.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",R=new RegExp(`^https?://${b}/${v}/b/${o}/o${w}`,"i"),j={bucket:1,path:3},$=t===_w?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",ne=new RegExp(`^https?://${$}/${o}/${L}`,"i"),K=[{regex:d,indices:p,postModify:u},{regex:R,indices:j,postModify:y},{regex:ne,indices:{bucket:1,path:2},postModify:y}];for(let re=0;re<K.length;re++){const ae=K[re],ie=ae.regex.exec(e);if(ie){const N=ie[ae.indices.bucket];let C=ie[ae.indices.path];C||(C=""),s=new Mn(N,C),ae.postModify(s);break}}if(s==null)throw HP(e);return s}}class WP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(i,e,t){let s=1,o=null,u=null,h=!1,d=0;function p(){return d===2}let y=!1;function v(...L){y||(y=!0,e.apply(null,L))}function b(L){o=setTimeout(()=>{o=null,i(R,p())},L)}function w(){u&&clearTimeout(u)}function R(L,...ne){if(y){w();return}if(L){w(),v.call(null,L,...ne);return}if(p()||h){w(),v.call(null,L,...ne);return}s<64&&(s*=2);let K;d===1?(d=2,K=0):K=(s+Math.random())*1e3,b(K)}let j=!1;function $(L){j||(j=!0,w(),!y&&(o!==null?(L||(d=2),clearTimeout(o),b(0)):L||(d=1)))}return b(0),u=setTimeout(()=>{h=!0,$(!0)},t),$}function JP(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(i){return i!==void 0}function tM(i){return typeof i=="object"&&!Array.isArray(i)}function ry(i){return typeof i=="string"||i instanceof String}function gb(i){return sy()&&i instanceof Blob}function sy(){return typeof Blob<"u"}function yb(i,e,t,s){if(s<e)throw $p(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw $p(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function Tw(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var ca;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ca||(ca={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,t,s,o,u,h,d,p,y,v,b,w=!0,R=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,$)=>{this.resolve_=j,this.reject_=$,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new wh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const p=d.loaded,y=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===ca.NO_ERROR,p=u.getStatus();if(!d||nM(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===ca.ABORT;s(!1,new wh(!1,null,v));return}const y=this.successCodes_.indexOf(p)!==-1;s(!0,new wh(y,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());eM(p)?u(p):u()}catch(p){h(p)}else if(d!==null){const p=iy();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?Ew():FP();h(p)}else{const p=qP();h(p)}};this.canceled_?t(!1,new wh(!1,null,!0)):this.backoffId_=ZP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&JP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function rM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function sM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function aM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function oM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function lM(i,e,t,s,o,u,h=!0,d=!1){const p=Tw(i.urlParams),y=i.url+p,v=Object.assign({},i.headers);return aM(v,e),rM(v,t),sM(v,u),oM(v,s),new iM(y,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function cM(...i){const e=uM();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(sy())return new Blob(i);throw new _t(yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function hM(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(i){if(typeof atob>"u")throw QP("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mp{constructor(e,t){this.data=e,this.contentType=t||null}}function dM(i,e){switch(i){case Oi.RAW:return new mp(bw(e));case Oi.BASE64:case Oi.BASE64URL:return new mp(Aw(i,e));case Oi.DATA_URL:return new mp(pM(e),gM(e))}throw iy()}function bw(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function mM(i){let e;try{e=decodeURIComponent(i)}catch{throw yu(Oi.DATA_URL,"Malformed data URL.")}return bw(e)}function Aw(i,e){switch(i){case Oi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw yu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Oi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw yu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=fM(e)}catch(o){throw o.message.includes("polyfill")?o:yu(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class ww{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw yu(Oi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=yM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function pM(i){const e=new ww(i);return e.base64?Aw(Oi.BASE64,e.rest):mM(e.rest)}function gM(i){return new ww(i).contentType}function yM(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,t){let s=0,o="";gb(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(gb(this.data_)){const s=this.data_,o=hM(s,e,t);return o===null?null:new ss(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new ss(s,!0)}}static getBlob(...e){if(sy()){const t=e.map(s=>s instanceof ss?s.data_:s);return new ss(cM.apply(null,t))}else{const t=e.map(h=>ry(h)?dM(Oi.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let d=0;d<h.length;d++)o[u++]=h[d]}),new ss(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(i){let e;try{e=JSON.parse(i)}catch{return null}return tM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function vM(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function Rw(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(i,e){return e}class mn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||EM}}let Sh=null;function TM(i){return!ry(i)||i.length<2?i:Rw(i)}function Cw(){if(Sh)return Sh;const i=[];i.push(new mn("bucket")),i.push(new mn("generation")),i.push(new mn("metageneration")),i.push(new mn("name","fullPath",!0));function e(u,h){return TM(h)}const t=new mn("name");t.xform=e,i.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new mn("size");return o.xform=s,i.push(o),i.push(new mn("timeCreated")),i.push(new mn("updated")),i.push(new mn("md5Hash",null,!0)),i.push(new mn("cacheControl",null,!0)),i.push(new mn("contentDisposition",null,!0)),i.push(new mn("contentEncoding",null,!0)),i.push(new mn("contentLanguage",null,!0)),i.push(new mn("contentType",null,!0)),i.push(new mn("metadata","customMetadata",!0)),Sh=i,Sh}function bM(i,e){function t(){const s=i.bucket,o=i.fullPath,u=new Mn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function AM(i,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return bM(s,i),s}function Iw(i,e,t){const s=Sw(e);return s===null?null:AM(i,s,t)}function wM(i,e,t,s){const o=Sw(e);if(o===null||!ry(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(y=>{const v=i.bucket,b=i.fullPath,w="/b/"+h(v)+"/o/"+h(b),R=ay(w,t,s),j=Tw({alt:"media",token:y});return R+j})[0]}function SM(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}class xw{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(i){if(!i)throw iy()}function RM(i,e){function t(s,o){const u=Iw(i,o,e);return Nw(u!==null),u}return t}function CM(i,e){function t(s,o){const u=Iw(i,o,e);return Nw(u!==null),wM(u,o,i.host,i._protocol)}return t}function Dw(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=BP():o=UP():t.getStatus()===402?o=LP(i.bucket):t.getStatus()===403?o=zP(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function IM(i){const e=Dw(i);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=VP(i.path)),u.serverResponse=o.serverResponse,u}return t}function xM(i,e,t){const s=e.fullServerUrl(),o=ay(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,d=new xw(o,u,CM(i,t),h);return d.errorHandler=IM(e),d}function NM(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function DM(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=NM(null,e)),s}function OM(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function d(){let K="";for(let re=0;re<2;re++)K=K+Math.random().toString().slice(2);return K}const p=d();h["Content-Type"]="multipart/related; boundary="+p;const y=DM(e,s,o),v=SM(y,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,w=`\r
--`+p+"--",R=ss.getBlob(b,s,w);if(R===null)throw YP();const j={name:y.fullPath},$=ay(u,i.host,i._protocol),L="POST",ne=i.maxUploadRetryTime,W=new xw($,L,RM(i,t),ne);return W.urlParams=j,W.headers=h,W.body=R.uploadData(),W.errorHandler=Dw(e),W}class PM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ca.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ca.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ca.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,u){if(this.sent_)throw Jl("cannot .send() more than once");if(Ar(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class MM extends PM{initXhr(){this.xhr_.responseType="text"}}function Ow(){return new MM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t){this._service=e,t instanceof Mn?this._location=t:this._location=Mn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ga(e,t)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Rw(this._location.path)}get storage(){return this._service}get parent(){const e=_M(this._location.path);if(e===null)return null;const t=new Mn(this._location.bucket,e);return new ga(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw XP(e)}}function jM(i,e,t){i._throwIfRoot("uploadBytes");const s=OM(i.storage,i._location,Cw(),new ss(e,!0),t);return i.storage.makeRequestWithTokens(s,Ow).then(o=>({metadata:o,ref:i}))}function kM(i){i._throwIfRoot("getDownloadURL");const e=xM(i.storage,i._location,Cw());return i.storage.makeRequestWithTokens(e,Ow).then(t=>{if(t===null)throw KP();return t})}function VM(i,e){const t=vM(i._location.path,e),s=new Mn(i._location.bucket,t);return new ga(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(i){return/^[A-Za-z]+:\/\//.test(i)}function UM(i,e){return new ga(i,e)}function Pw(i,e){if(i instanceof oy){const t=i;if(t._bucket==null)throw $P();const s=new ga(t,t._bucket);return e!=null?Pw(s,e):s}else return e!==void 0?VM(i,e):i}function BM(i,e){if(e&&LM(e)){if(i instanceof oy)return UM(i,e);throw $p("To use ref(service, url), the first argument must be a Storage instance.")}else return Pw(i,e)}function _b(i,e){const t=e?.[vw];return t==null?null:Mn.makeFromBucketSpec(t,i)}function zM(i,e,t,s={}){i.host=`${e}:${t}`;const o=Ar(e);o&&(df(`https://${i.host}/b`),mf("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:Qb(u,i.app.options.projectId))}class oy{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=_w,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jP,this._maxUploadRetryTime=kP,this._requests=new Set,o!=null?this._bucket=Mn.makeFromBucketSpec(o,this._host):this._bucket=_b(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=_b(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ga(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new WP(Ew());{const h=lM(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const vb="@firebase/storage",Eb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="storage";function qM(i,e,t){return i=st(i),jM(i,e,t)}function FM(i){return i=st(i),kM(i)}function HM(i,e){return i=st(i),BM(i,e)}function GM(i=pf(),e){i=st(i);const s=ku(i,Mw).getImmediate({identifier:e}),o=ig("storage");return o&&$M(s,...o),s}function $M(i,e,t,s={}){zM(i,e,t,s)}function YM(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new oy(t,s,o,e,ya)}function KM(){hs(new _r(Mw,YM,"PUBLIC").setMultipleInstances(!0)),Wn(vb,Eb,""),Wn(vb,Eb,"esm2020")}KM();var QM="AIzaSyBTl0Jl9ZMQBA84LBbECwzUz5jcL4dYV3Y",XM="mduwebsite1345.firebaseapp.com",WM="mduwebsite1345",ZM="mduwebsite1345.firebasestorage.app",JM="653256711691",ej="1:653256711691:web:5aca0f2e84ed19df90710e";const tj={apiKey:QM,authDomain:XM,projectId:WM,storageBucket:ZM,messagingSenderId:JM,appId:ej},Ff=qE().length?qE()[0]:Zb(tj),on=fD(Ff),at=dP(Ff);PP(Ff);const nj=GM(Ff),ij=/^\+[1-9]\d{7,14}$/,rj=()=>{const[i,e]=B.useState(""),[t,s]=B.useState(""),[o,u]=B.useState(""),[h,d]=B.useState(""),[p,y]=B.useState(null),[v,b]=B.useState(""),[w,R]=B.useState(!1),j=cf(),$=()=>j("/members");B.useEffect(()=>{const ie=yf(on,N=>{N&&$()});return()=>ie()},[]);const L=async ie=>{if(ie.preventDefault(),!w){b(""),R(!0);try{await Hx(on,i.trim(),t),$()}catch(N){console.error("[Email login] ",N),b(N?.message??"Login failed")}finally{R(!1)}}},ne=async()=>{if(!w){b(""),R(!0);try{const ie=new Di;await L0(on,ie),$()}catch(ie){console.error("[Google login] ",ie),b(ie?.message??"Google sign-in failed")}finally{R(!1)}}},W=()=>{if(window.recaptchaVerifier)return window.recaptchaVerifier;try{window.recaptchaVerifier=new Cp(on,"recaptcha-container",{size:"invisible"})}catch(ie){console.warn("[reCAPTCHA modular ctor failed, trying compat]",ie),window.recaptchaVerifier=new Cp("recaptcha-container",{size:"invisible"},on)}return window.recaptchaVerifier};B.useEffect(()=>()=>{try{window.recaptchaVerifier?.clear?.()}catch{}window.recaptchaVerifier=void 0},[]);const K=B.useMemo(()=>ij.test(o.trim()),[o]),re=async()=>{if(!(w||!K)){b(""),R(!0);try{const ie=W(),N=await j0(on,o.trim(),ie);y(N)}catch(ie){console.error("[sendPhoneCode] ",ie),b(ie?.message??"Failed to send code");try{window.recaptchaVerifier?.reset?.()}catch{}}finally{R(!1)}}},ae=async()=>{if(!(!p||w||h.trim().length<6)){b(""),R(!0);try{await p.confirm(h.trim()),$()}catch(ie){console.error("[verifyPhoneCode] ",ie),b(ie?.message??"Invalid verification code")}finally{R(!1)}}};return g.jsx("div",{children:g.jsxs("div",{className:"background",children:[g.jsx("div",{className:"shape"}),g.jsx("div",{className:"shape"}),g.jsxs("form",{onSubmit:L,"aria-busy":w,children:[g.jsx("h3",{children:"Login Here"}),g.jsx("label",{htmlFor:"email",children:"Email"}),g.jsx("input",{id:"email",type:"email",placeholder:"you@ucla.edu",value:i,onChange:ie=>e(ie.target.value),autoComplete:"email",required:!0,disabled:w}),g.jsx("label",{htmlFor:"password",children:"Password"}),g.jsx("input",{id:"password",type:"password",placeholder:"Password",value:t,onChange:ie=>s(ie.target.value),autoComplete:"current-password",required:!0,disabled:w}),g.jsx("button",{type:"submit",disabled:w,children:w?"Signing in…":"Log In"}),g.jsx("div",{className:"social",style:{marginTop:20},children:g.jsx("button",{type:"button",className:"go",onClick:ne,"aria-label":"Continue with Google",disabled:w,children:"Continue with Google"})}),g.jsxs("fieldset",{style:{marginTop:24,border:"none",padding:0},children:[g.jsx("legend",{style:{fontWeight:600,marginBottom:8},children:"Or sign in with phone"}),p?g.jsxs(g.Fragment,{children:[g.jsx("label",{htmlFor:"code",children:"Enter verification code"}),g.jsx("input",{id:"code",type:"text",placeholder:"123456",value:h,onChange:ie=>d(ie.target.value),disabled:w}),g.jsx("button",{type:"button",onClick:ae,disabled:w||h.trim().length<6,children:"Verify & Sign in"}),g.jsx("button",{type:"button",onClick:()=>{y(null),d("");try{window.recaptchaVerifier?.reset?.()}catch{}},disabled:w,style:{marginLeft:8},children:"Use a different phone"})]}):g.jsxs(g.Fragment,{children:[g.jsx("label",{htmlFor:"phone",children:"Phone (E.164, e.g. +13105551234)"}),g.jsx("input",{id:"phone",type:"tel",placeholder:"+1##########",value:o,onChange:ie=>u(ie.target.value),disabled:w,"aria-invalid":o.length>0&&!K}),g.jsx("button",{type:"button",onClick:re,disabled:w||!K,children:"Send verification code"})]})]}),v&&g.jsx("p",{style:{color:"salmon",marginTop:16},role:"alert",children:v}),g.jsx("div",{id:"recaptcha-container"}),g.jsxs("p",{style:{marginTop:16},children:["No account? ",g.jsx(On,{to:"/register",children:"Register"})]})]})]})})};function sj(i,e){return{uid:i,name:e.name??"",email:e.email??"",phoneNumber:e.phoneNumber??"",year:e.year??"",major:e.major??"",instrument:e.instrument??"",instruments:Array.isArray(e.instruments)?e.instruments:[],section:e.section??"",bio:e.bio??"",roles:Array.isArray(e.roles)?e.roles:["performer"],returning:e.returning??"",photoURL:e.photoURL??"",createdAt:e.createdAt,updatedAt:e.updatedAt}}async function aj(i){const e=await zf(Jn(at,"users",i));return e.exists()?sj(i,e.data()):null}async function Yp(i,e){const t=Jn(at,"users",i),s={...e,uid:i,...Array.isArray(e.roles)?{roles:e.roles}:{},updatedAt:Zt(),...e&&!e.createdAt?{createdAt:Zt()}:{}};await ty(t,s,{merge:!0})}const Tb="recaptcha-container-register",oj=()=>{const[i,e]=B.useState({name:"",email:"",phoneNumber:"",year:"",major:"",instrument:"",instrumentsCsv:"",sectionCsv:"",returning:"",bio:"",emergencyName:"",emergencyPhone:"",emergencyRelation:"",password:""}),[t,s]=B.useState(""),[o,u]=B.useState(!1),[h,d]=B.useState(""),[p,y]=B.useState(""),[v,b]=B.useState(null),w=cf(),R=ie=>{const{name:N,value:C}=ie.target;e(I=>({...I,[N]:C}))},j=B.useMemo(()=>i.instrumentsCsv.split(",").map(ie=>ie.trim()).filter(Boolean),[i.instrumentsCsv]),$=B.useMemo(()=>{const ie=i.sectionCsv.split(",").map(N=>N.trim()).filter(Boolean);return ie.length?ie[0]:""},[i.sectionCsv]),L=async(ie,N,C)=>{await Yp(ie,{name:i.name,email:i.email||N||void 0,phoneNumber:i.phoneNumber,year:i.year,major:i.major,instrument:i.instrument,instruments:j.length?j:void 0,section:$||void 0,returning:i.returning,bio:i.bio,emergencyName:i.emergencyName,emergencyPhone:i.emergencyPhone,emergencyRelation:i.emergencyRelation,roles:["performer"],...C||{}})},ne=async ie=>{ie.preventDefault(),s(""),u(!0);try{const N=await Fx(on,i.email,i.password);await L(N.user.uid,N.user.email),w("/members")}catch(N){s(N?.message||"Failed to create account")}finally{u(!1)}},W=async()=>{s(""),u(!0);try{const ie=new Di,N=await L0(on,ie);await L(N.user.uid,N.user.email),w("/members")}catch(ie){s(ie?.message||"Google sign-in failed")}finally{u(!1)}},K=ie=>(window._registerRecaptcha||(window._registerRecaptcha=new Cp(ie,Tb,{size:"normal"})),window._registerRecaptcha),re=async()=>{if(s(""),!h){s("Enter a phone number in E.164 format, e.g. +13105551234");return}u(!0);try{const ie=K(on),N=await j0(on,h,ie);b(N)}catch(ie){s(ie?.message||"Failed to send verification code")}finally{u(!1)}},ae=async()=>{if(s(""),!v||!p){s("Enter the verification code you received");return}u(!0);try{const ie=await v.confirm(p);await L(ie.user.uid,ie.user.email,{phoneNumber:h}),w("/members")}catch(ie){s(ie?.message||"Verification failed")}finally{u(!1)}};return g.jsxs("section",{className:"register-container",children:[g.jsx("h1",{className:"register-title",children:"Create your account"}),g.jsx("p",{className:"register-subtitle",children:"Use email, Google, or phone. You can edit details later in your portal."}),g.jsxs("form",{onSubmit:ne,className:"register-form",children:[g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",htmlFor:"name",children:"Full Name"}),g.jsx("input",{className:"input",id:"name",name:"name",value:i.name,onChange:R,placeholder:"Jane Doe",required:!0})]}),g.jsxs("div",{className:"grid-2 gap",children:[g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",htmlFor:"email",children:"Email"}),g.jsx("input",{className:"input",id:"email",name:"email",type:"email",value:i.email,onChange:R,placeholder:"you@ucla.edu",autoComplete:"email",required:!0})]}),g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",htmlFor:"phoneNumber",children:"Phone"}),g.jsx("input",{className:"input",id:"phoneNumber",name:"phoneNumber",value:i.phoneNumber,onChange:R,placeholder:"(###) ###-####"})]})]}),g.jsxs("div",{className:"grid-2 gap",children:[g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",htmlFor:"year",children:"Year in School"}),g.jsxs("select",{className:"input",id:"year",name:"year",value:i.year,onChange:R,required:!0,children:[g.jsx("option",{value:"",children:"Select Year"}),g.jsx("option",{children:"1st Year"}),g.jsx("option",{children:"2nd Year"}),g.jsx("option",{children:"3rd Year"}),g.jsx("option",{children:"4th Year"}),g.jsx("option",{children:"Graduate"}),g.jsx("option",{children:"Alumni"})]})]}),g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",htmlFor:"major",children:"Major"}),g.jsx("input",{className:"input",id:"major",name:"major",value:i.major,onChange:R,placeholder:"Physics, EE, Music, ..."})]})]}),g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",htmlFor:"instrument",children:"Primary Instrument"}),g.jsx("input",{className:"input",id:"instrument",name:"instrument",value:i.instrument,onChange:R,placeholder:"Violin, Trumpet, Vihuela..."})]}),g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",htmlFor:"instrumentsCsv",children:"Instrument(s) (comma-separated)"}),g.jsx("input",{className:"input",id:"instrumentsCsv",name:"instrumentsCsv",value:i.instrumentsCsv,onChange:R,placeholder:"violin, guitar, trumpet, voice"})]}),g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",htmlFor:"sectionCsv",children:"Section(s) (optional, comma-separated)"}),g.jsx("input",{className:"input",id:"sectionCsv",name:"sectionCsv",value:i.sectionCsv,onChange:R,placeholder:"violas, violins, harp, voces"})]}),g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",htmlFor:"returning",children:"Are you a returning member?"}),g.jsxs("select",{className:"input",id:"returning",name:"returning",value:i.returning,onChange:R,required:!0,children:[g.jsx("option",{value:"",children:"Select"}),g.jsx("option",{value:"Yes",children:"Yes"}),g.jsx("option",{value:"No",children:"No"})]})]}),g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",htmlFor:"bio",children:"Short Bio (optional)"}),g.jsx("textarea",{className:"input",id:"bio",name:"bio",value:i.bio,onChange:R,placeholder:"Tell us a little about your experience",rows:3})]}),g.jsxs("div",{className:"grid-3 gap",children:[g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",htmlFor:"emergencyName",children:"Emergency Contact Name"}),g.jsx("input",{className:"input",id:"emergencyName",name:"emergencyName",value:i.emergencyName,onChange:R})]}),g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",htmlFor:"emergencyPhone",children:"Emergency Contact Phone"}),g.jsx("input",{className:"input",id:"emergencyPhone",name:"emergencyPhone",value:i.emergencyPhone,onChange:R})]}),g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",htmlFor:"emergencyRelation",children:"Relation"}),g.jsx("input",{className:"input",id:"emergencyRelation",name:"emergencyRelation",value:i.emergencyRelation,onChange:R})]})]}),g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",htmlFor:"password",children:"Password"}),g.jsx("input",{className:"input",type:"password",id:"password",name:"password",value:i.password,onChange:R,required:!0})]}),t&&g.jsx("p",{className:"error",children:t}),g.jsx("button",{type:"submit",className:"submit",disabled:o,children:o?"Creating account…":"Register with Email"})]}),g.jsx("div",{className:"divider",children:g.jsx("span",{children:"or"})}),g.jsx("div",{className:"oauth-row",children:g.jsx("button",{type:"button",className:"btn-google",onClick:W,disabled:o,"aria-label":"Continue with Google",children:"Continue with Google"})}),g.jsxs("div",{className:"phone-card",children:[v?g.jsxs("div",{className:"grid-2 gap",children:[g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",htmlFor:"code",children:"Enter verification code"}),g.jsx("input",{className:"input",id:"code",value:p,onChange:ie=>y(ie.target.value),placeholder:"123456"})]}),g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",children:" "}),g.jsx("button",{type:"button",className:"btn-outline",onClick:ae,disabled:o||!p,children:"Verify & Create account"})]})]}):g.jsxs("div",{className:"grid-2 gap",children:[g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",htmlFor:"phone",children:"Phone (E.164, e.g. +13105551234)"}),g.jsx("input",{className:"input",id:"phone",type:"tel",value:h,onChange:ie=>d(ie.target.value),placeholder:"+1##########"})]}),g.jsxs("div",{className:"field",children:[g.jsx("label",{className:"label",children:" "}),g.jsx("button",{type:"button",className:"btn-outline",onClick:re,disabled:o||!h,children:"Send verification code"})]})]}),g.jsx("div",{id:Tb})]})]})},lj=()=>g.jsxs("section",{className:"ucla-content",children:[g.jsx("h1",{className:"ucla-heading-xl",children:"Welcome to Your Dashboard"}),g.jsx("p",{className:"ucla-paragraph",children:"Access events, resources, and tools for active members of Mariachi de Uclatlán."})]}),uj=(i,e)=>({uid:i,name:"",email:e||"",phoneNumber:"",year:"",major:"",instrument:"",instruments:[],section:"",bio:"",roles:["performer"],returning:"",emergencyName:"",emergencyPhone:"",emergencyRelation:"",photoURL:""}),cj=()=>{const i=on.currentUser,e=i?.uid??"",[t,s]=B.useState(!0),[o,u]=B.useState(!1),[h,d]=B.useState(""),[p,y]=B.useState(null),[v,b]=B.useState(!1),[w,R]=B.useState(null);B.useEffect(()=>{let K=!0;return(async()=>{if(!e){s(!1);return}s(!0);try{const re=await aj(e),ae=re??uj(e,i?.email??null);K&&y(ae),re||await Yp(e,ae)}catch(re){console.error("[Profile load]",re),d(re?.message??"Failed to load profile")}finally{K&&s(!1)}})(),()=>{K=!1}},[e,i?.email]);const j=K=>{const{name:re,value:ae}=K.target;y(ie=>ie&&{...ie,[re]:ae})},$=K=>{const re=K.target.files?.[0]||null;R(re)},L=async()=>{if(!w||!e)return;const K=w.name.split(".").pop()||"jpg",re=HM(nj,`avatars/${e}/avatar.${K}`);return await qM(re,w),await FM(re)},ne=async()=>{if(!(!p||!e)){u(!0),d("");try{const K=await L(),re=p._instrumentsCSV,ae=re?re.split(",").map(N=>N.trim()).filter(Boolean):p.instruments||[],ie={...p,instruments:ae,...K?{photoURL:K}:{}};await Yp(e,ie),await $x(i,{displayName:p.name||i?.displayName||void 0,photoURL:K??p.photoURL??void 0}),b(!1),y({...p,instruments:ae,...K?{photoURL:K}:{}})}catch(K){console.error("[Profile save]",K),d(K?.message??"Failed to save profile")}finally{u(!1)}}};if(t)return g.jsx("div",{className:"profile-wrap",children:g.jsx("div",{className:"card",children:g.jsx("p",{children:"Loading profile…"})})});if(!p)return g.jsx("div",{className:"profile-wrap",children:g.jsx("div",{className:"card",children:g.jsx("p",{children:"No profile."})})});const W=p.roles||[];return g.jsx("div",{className:"profile-wrap",children:g.jsxs("div",{className:"card profile-card",children:[g.jsxs("div",{className:"profile-head",children:[g.jsxs("div",{className:"avatar",children:[p.photoURL?g.jsx("img",{src:p.photoURL,alt:`${p.name||"Member"} avatar`}):g.jsx("div",{className:"avatar-placeholder",children:(p.name||p.email||"U")[0].toUpperCase()}),v&&g.jsxs("label",{className:"btn btn-light",style:{marginTop:8},children:["Upload photo",g.jsx("input",{type:"file",accept:"image/*",onChange:$,hidden:!0})]})]}),g.jsx("div",{className:"id-block",children:v?g.jsxs(g.Fragment,{children:[g.jsx("label",{className:"lbl",children:"Full Name"}),g.jsx("input",{name:"name",value:p.name||"",onChange:j,placeholder:"First Last"})]}):g.jsxs(g.Fragment,{children:[g.jsx("h2",{children:p.name||"Add your name"}),g.jsx("p",{className:"muted",children:p.email}),!!W.length&&g.jsx("div",{className:"roles",children:W.map(K=>g.jsx("span",{className:`role-chip role-${K}`,children:K},K))})]})}),g.jsx("div",{className:"actions",children:v?g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",disabled:o,onClick:ne,children:o?"Saving…":"Save"}),g.jsx("button",{className:"btn btn-light",disabled:o,onClick:()=>b(!1),children:"Cancel"})]}):g.jsx("button",{className:"btn",onClick:()=>b(!0),children:"Edit"})})]}),g.jsxs("div",{className:"grid",children:[g.jsxs("div",{className:"col",children:[g.jsx("label",{className:"lbl",children:"Phone"}),v?g.jsx("input",{name:"phoneNumber",value:p.phoneNumber||"",onChange:j,placeholder:"+1 (###) ###-####"}):g.jsx("div",{className:"val",children:p.phoneNumber||"—"})]}),g.jsxs("div",{className:"col",children:[g.jsx("label",{className:"lbl",children:"Year"}),v?g.jsxs("select",{name:"year",value:p.year||"",onChange:j,children:[g.jsx("option",{value:"",children:"Select"}),g.jsx("option",{children:"1st Year"}),g.jsx("option",{children:"2nd Year"}),g.jsx("option",{children:"3rd Year"}),g.jsx("option",{children:"4th Year"}),g.jsx("option",{children:"Graduate"}),g.jsx("option",{children:"Alumni"})]}):g.jsx("div",{className:"val",children:p.year||"—"})]}),g.jsxs("div",{className:"col",children:[g.jsx("label",{className:"lbl",children:"Major"}),v?g.jsx("input",{name:"major",value:p.major||"",onChange:j,placeholder:"e.g., Math, EE, Music"}):g.jsx("div",{className:"val",children:p.major||"—"})]}),g.jsxs("div",{className:"col",children:[g.jsx("label",{className:"lbl",children:"Instrument"}),v?g.jsx("input",{name:"instrument",value:p.instrument||"",onChange:j,placeholder:"e.g., Violin, Trumpet, Vihuela"}):g.jsx("div",{className:"val",children:p.instrument||"—"})]}),g.jsxs("div",{className:"col",children:[g.jsx("label",{className:"lbl",children:"Section"}),v?g.jsx("input",{name:"section",value:p.section||"",onChange:j,placeholder:"Strings / Brass / Rhythm / Vocals"}):g.jsx("div",{className:"val",children:p.section||"—"})]}),g.jsxs("div",{className:"col",children:[g.jsx("label",{className:"lbl",children:"All Instruments"}),v?g.jsx("input",{name:"_instrumentsCSV",value:(p.instruments||[]).join(", "),onChange:j,placeholder:"Violin, Viola, Trumpet"}):g.jsx("div",{className:"val",children:p.instruments&&p.instruments.length?p.instruments.join(", "):"—"})]})]}),g.jsxs("div",{className:"grid",children:[g.jsxs("div",{className:"col",children:[g.jsx("label",{className:"lbl",children:"Emergency Contact"}),v?g.jsx("input",{name:"emergencyName",value:p.emergencyName||"",onChange:j,placeholder:"Full name"}):g.jsx("div",{className:"val",children:p.emergencyName||"—"})]}),g.jsxs("div",{className:"col",children:[g.jsx("label",{className:"lbl",children:"Emergency Phone"}),v?g.jsx("input",{name:"emergencyPhone",value:p.emergencyPhone||"",onChange:j,placeholder:"+1 (###) ###-####"}):g.jsx("div",{className:"val",children:p.emergencyPhone||"—"})]}),g.jsxs("div",{className:"col",children:[g.jsx("label",{className:"lbl",children:"Relation"}),v?g.jsx("input",{name:"emergencyRelation",value:p.emergencyRelation||"",onChange:j,placeholder:"Parent / Sibling / Friend"}):g.jsx("div",{className:"val",children:p.emergencyRelation||"—"})]})]}),g.jsxs("div",{className:"bio",children:[g.jsx("label",{className:"lbl",children:"Bio"}),v?g.jsx("textarea",{name:"bio",value:p.bio||"",onChange:j,rows:4,placeholder:"Short bio (markdown/plaintext)"}):g.jsx("p",{className:"val multi",children:p.bio||"Add a short bio about you, your experience, and favorite pieces to perform."})]}),h&&g.jsx("p",{className:"error",children:h})]})})},hj=i=>i==="published"?g.jsx("span",{className:"status published",children:"Published"}):i==="draft"?g.jsx("span",{className:"status draft",children:"Draft"}):i==="cancelled"?g.jsx("span",{className:"status cancelled",children:"Cancelled"}):null,jw=({event:i,canManage:e=!1,canRSVP:t=!1,onEdit:s,onDelete:o})=>g.jsxs("article",{className:`event-card ${i.status??""}`,children:[g.jsxs("header",{className:"event-head",children:[g.jsx("h3",{className:"event-title",children:i.title}),hj(i.status)]}),i.subtitle&&g.jsx("p",{className:"event-sub",children:i.subtitle}),g.jsxs("ul",{className:"event-meta",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"When:"})," ",i.dateStr]}),i.location&&g.jsxs("li",{children:[g.jsx("strong",{children:"Where:"})," ",i.location]})]}),i.notes&&g.jsx("p",{className:"event-notes",children:i.notes}),g.jsxs("footer",{className:"event-actions",children:[t&&g.jsxs("div",{className:"left-actions",children:[g.jsx("button",{className:"btn",children:"I can play"}),g.jsx("button",{className:"btn btn-light",children:"Can’t make it"})]}),e&&g.jsxs("div",{className:"right-actions",children:[g.jsx("button",{className:"btn",onClick:()=>s?.(i.id),children:"Edit"}),g.jsx("button",{className:"btn btn-danger",onClick:()=>o?.(i.id),children:"Delete"})]})]})]}),fj=({event:i,onClose:e})=>{const t=i.dateStr?i.dateStr.split(","):[],s=t[0]?t[0].trim():"",o=t[1]?t[1].trim():"";return g.jsx("div",{className:"modal-overlay",onClick:e,children:g.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[g.jsx("h2",{className:"modal-title",children:i.title}),s&&g.jsxs("p",{children:[g.jsx("strong",{children:"Date:"})," ",s]}),o&&g.jsxs("p",{children:[g.jsx("strong",{children:"Time:"})," ",o]}),i.location&&g.jsxs("p",{children:[g.jsx("strong",{children:"Location:"})," ",i.location]}),i.notes&&g.jsx("p",{className:"modal-desc",children:i.notes}),g.jsx("div",{className:"modal-actions",children:g.jsx("button",{onClick:e,children:"Close"})})]})})};function bb(i){if(i)return i instanceof Ge?i.toDate():i instanceof Date?i:new Date(i)}function dj(i){return{...i,start:bb(i.start),end:bb(i.end)}}function kw(i,e,t){const s=typeof i=="object"&&"start"in i&&!(i instanceof Date),o=Intl.DateTimeFormat().resolvedOptions().timeZone,u={dateStyle:"medium",timeZone:o},h={timeStyle:"short",timeZone:o};if(s){const d=i,p=new Intl.DateTimeFormat(void 0,u).format(d.start),y=new Intl.DateTimeFormat(void 0,h).format(d.start),v=d.end?new Intl.DateTimeFormat(void 0,h).format(d.end):"";return{date:p,time:v?`${y} – ${v}`:y}}else{const d=i,p=new Intl.DateTimeFormat(void 0,u).format(d),y=new Intl.DateTimeFormat(void 0,h).format(d),v="";return v?`${p} • ${y} – ${v}`:`${p} • ${y}`}}const Vw="events";function Lw(i,e){const t=Bo(Tn(at,Vw),dw("start","asc"));return qf(t,s=>{const o=s.docs.map(u=>dj({id:u.id,...u.data()}));i(o)},s=>e?.(s))}async function mj(i){return Ou(Tn(at,"events"),{...i,createdAt:Zt(),updatedAt:Zt()})}async function pj(i,e){await of(Jn(at,Vw,i),{...e,updatedAt:Date.now()})}function gj(i){const{date:e,time:t}=kw(i);return{id:i.id,title:i.title,dateStr:t?`${e}, ${t}`:e,location:i.location||"",notes:i.description||"",status:i.status}}const yj=()=>{const[i,e]=Ae.useState([]),[t,s]=Ae.useState(null),[o,u]=Ae.useState(!0);return Ae.useEffect(()=>{const h=Lw(d=>{e(d.map(gj)),u(!1)},d=>{console.error("[Events subscribe]",d),u(!1)});return()=>h()},[]),g.jsxs("section",{className:"ucla-content",style:{maxWidth:980,margin:"0 auto"},children:[g.jsx("h1",{className:"ucla-heading-xl",children:"Upcoming Events"}),o&&g.jsx("p",{children:"Loading events…"}),!o&&i.length===0&&g.jsx("p",{children:"No events yet."}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:16,marginTop:16},children:i.map(h=>g.jsx(jw,{event:h,onClick:()=>s(h)},h.id))}),t&&g.jsx(fj,{event:t,onClose:()=>s(null)})]})},_j=()=>g.jsxs("section",{className:"ucla-content",children:[g.jsx("h1",{className:"ucla-heading-xl",children:"Exclusive Resources"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"🎼 Sheet Music Library:"})," Download music PDFs for all instrument sections."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"📅 Event Calendar:"})," View all upcoming rehearsals and performances."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"✅ Attendance Tracker:"})," Track participation and engagement."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"🎽 Uniform Policy:"})," Guidelines for proper attire during performances."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"📝 Performance Agreements:"})," Templates for external gigs including weddings and community events."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"📘 Member Handbook / Constitution:"})," Details on expectations, leadership roles, auditions, and organizational structure."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"💸 Reimbursement Forms:"})," Submit expenses for travel, uniforms, and gear."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"🧑‍🤝‍🧑 Member Directory:"})," View private profiles with instrument, year, and contact info (opt-in only)."]})]})]}),vj=()=>g.jsxs("section",{className:"ucla-content",children:[g.jsx("h1",{className:"ucla-heading-xl",children:"Account Settings"}),g.jsx("p",{className:"ucla-paragraph",children:"Here you can update your profile, change your password, and manage notification preferences."})]});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ej(i,e,t,s){function o(u){return u instanceof t?u:new t(function(h){h(u)})}return new(t||(t=Promise))(function(u,h){function d(v){try{y(s.next(v))}catch(b){h(b)}}function p(v){try{y(s.throw(v))}catch(b){h(b)}}function y(v){v.done?u(v.value):o(v.value).then(d,p)}y((s=s.apply(i,[])).next())})}function Tj(i,e){var t={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,h;return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(y){return function(v){return p([y,v])}}function p(y){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,o&&(u=y[0]&2?o.return:y[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,y[1])).done)return u;switch(o=0,u&&(y=[y[0]&2,u.value]),y[0]){case 0:case 1:u=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,o=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(u=t.trys,!(u=u.length>0&&u[u.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){t.label=y[1];break}if(y[0]===6&&t.label<u[1]){t.label=u[1],u=y;break}if(u&&t.label<u[2]){t.label=u[2],t.ops.push(y);break}u[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(i,t)}catch(v){y=[6,v],o=0}finally{s=u=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yo=function(){return yo=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},yo.apply(this,arguments)},Uw=function(i){return{loading:i==null,value:i}},bj=function(){return function(i,e){switch(e.type){case"error":return yo(yo({},i),{error:e.error,loading:!1,value:void 0});case"reset":return Uw(e.defaultValue);case"value":return yo(yo({},i),{error:void 0,loading:!1,value:e.value});default:return i}}},Aj=(function(i){var e=i?i():void 0,t=B.useReducer(bj(),Uw(e)),s=t[0],o=t[1],u=B.useCallback(function(){var p=i?i():void 0;o({type:"reset",defaultValue:p})},[i]),h=B.useCallback(function(p){o({type:"error",error:p})},[]),d=B.useCallback(function(p){o({type:"value",value:p})},[]);return B.useMemo(function(){return{error:s.error,loading:s.loading,reset:u,setError:h,setValue:d,value:s.value}},[s.error,s.loading,u,h,d,s.value])}),wj=(function(i,e){var t=Aj(function(){return i.currentUser}),s=t.error,o=t.loading,u=t.setError,h=t.setValue,d=t.value;return B.useEffect(function(){var p=yf(i,function(y){return Ej(void 0,void 0,void 0,function(){var v;return Tj(this,function(b){switch(b.label){case 0:return[3,4];case 1:return b.trys.push([1,3,,4]),[4,e.onUserChanged(y)];case 2:return b.sent(),[3,4];case 3:return v=b.sent(),u(v),[3,4];case 4:return h(y),[2]}})})},u);return function(){p()}},[i]),[d,o,s]});const _u=i=>{if(i){if(i instanceof Date)return i;if(i instanceof Ge)return i.toDate();try{const e=new Date(i);return isNaN(e.getTime())?void 0:e}catch{return}}},Sj=(i,e)=>{const t=_u(i),s=_u(e);if(!t)return"";const o=t.toLocaleString?.()||t.toISOString();if(!s)return o;const h=t.toDateString()===s.toDateString()?s.toLocaleTimeString?.():s.toLocaleString?.();return`${o} → ${h}`},Rj=()=>{const[i]=wj(on),[e,t]=Ae.useState(!0),[s,o]=Ae.useState(null),[u,h]=Ae.useState([]),[d,p]=Ae.useState({}),[y,v]=Ae.useState({});Ae.useEffect(()=>{(async()=>{o(null),t(!0);try{const j=Tn(at,"events"),$=Bo(j,af("status","==","published")),ne=(await Du($)).docs.map(re=>({id:re.id,...re.data()})),W=Date.now(),K=ne.filter(re=>{const ae=_u(re.start)?.getTime();return typeof ae=="number"?ae>=W-1e3*60*60*24:!0}).sort((re,ae)=>{const ie=_u(re.start)?.getTime()??0,N=_u(ae.start)?.getTime()??0;return ie-N});if(h(K),i){const re={};for(const ae of K){const ie=Jn(at,"events",ae.id,"availability",i.uid),N=await zf(ie),C=N.exists()?N.data().status:"";re[ae.id]=C||""}p(re)}}catch(j){console.error(j),o(j?.message||"Failed to load events")}finally{t(!1)}})()},[i]);const b=(R,j)=>{const $=j.target.value;p(L=>({...L,[R]:$}))},w=async R=>{if(!i)return;const j=d[R]||"";if(!j){alert("Please select an availability first.");return}v($=>({...$,[R]:!0}));try{const $=Jn(at,"events",R,"availability",i.uid);await ty($,{uid:i.uid,status:j,updatedAt:Zt(),displayName:i.displayName||i.email||"Unknown",email:i.email||null},{merge:!0}),alert("Availability saved.")}catch($){console.error($),alert($?.message||"Failed to save")}finally{v($=>({...$,[R]:!1}))}};return i?g.jsxs("section",{className:"ucla-content",style:{maxWidth:900,margin:"0 auto"},children:[g.jsx("h1",{className:"ucla-heading-xl",children:"Performer Availability"}),e&&g.jsx("p",{children:"Loading events…"}),s&&g.jsx("p",{style:{color:"salmon"},children:s}),g.jsxs("div",{className:"availability-list",children:[u.map(R=>g.jsxs("div",{className:"availability-card",children:[g.jsxs("div",{className:"availability-head",children:[g.jsx("h3",{className:"availability-title",children:R.title||"Untitled Event"}),g.jsx("span",{className:`status-pill ${R.status}`,children:R.status})]}),g.jsxs("div",{className:"availability-meta",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"When: "}),g.jsx("span",{children:Sj(R.start,R.end)})]}),R.location&&g.jsxs("div",{children:[g.jsx("strong",{children:"Where: "}),g.jsx("span",{children:R.location})]})]}),g.jsxs("div",{className:"availability-actions",children:[g.jsxs("select",{value:d[R.id]||"",onChange:j=>b(R.id,j),"aria-label":`Availability for ${R.title}`,children:[g.jsx("option",{value:"",children:"Select availability…"}),g.jsx("option",{value:"yes",children:"Yes"}),g.jsx("option",{value:"maybe",children:"Maybe"}),g.jsx("option",{value:"no",children:"No"})]}),g.jsx("button",{disabled:!!y[R.id],onClick:()=>w(R.id),children:y[R.id]?"Saving…":"Submit"})]})]},R.id)),!e&&!u.length&&g.jsx("p",{children:"No upcoming events yet."})]})]}):g.jsxs("section",{className:"ucla-content",style:{maxWidth:900,margin:"0 auto"},children:[g.jsx("h1",{className:"ucla-heading-xl",children:"Performer Availability"}),g.jsx("p",{children:"Please log in to set availability."})]})},Cj=["angelrocks0319@gmail.com","uclatlan@ucla.edu","uclatlan@g.ucla.edu","enriquerodgon09@g.ucla.edu"];function Bw(i){if(!i)return!1;const e=i.toLowerCase();return Cj.map(t=>t.toLowerCase()).includes(e)}function lf(i,e){if(!i)return new Date;if(i instanceof Ge)return i.toDate();if(typeof i=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(i))return new Date(`${i}T12:00:00`);const t=new Date(i);return isNaN(+t)?e??new Date:t}return i instanceof Date?i:e??new Date}function Ij(i){const e=i.statuses??["published"],t=[];e.length===1?t.push(af("status","==",e[0])):e.length>1&&t.push(af("status","in",e.slice(0,10)));const s=Bo(Tn(at,"events"),...t);return qf(s,o=>{const u=o.docs.map(h=>{const d=h.data(),p=lf(d.start??d.date),y=d.end?lf(d.end):null,v=d.title??"Untitled Event";return{id:h.id,type:"event",title:v,start:p,end:y,location:d.location??null,status:d.status,raw:d}});u.sort((h,d)=>+h.start-+d.start),i.onChange(u)})}function xj(i){const e=Bo(Tn(at,"calendar_feed"));return qf(e,t=>{const s=t.docs.map(o=>{const u=o.data(),h=lf(u.start??u.date),d=u.end?lf(u.end):null,p=u.title??"Client Inquiry";return{id:o.id,type:"inquiry",title:p,start:h,end:d,location:u.location??null,status:u.status??"new",raw:u}});s.sort((o,u)=>+o.start-+u.start),i(s)})}function Nj(i,e){const t=[...i,...e];return t.sort((s,o)=>+s.start-+o.start),t}const Dj=()=>{const[i,e]=Ae.useState(void 0),[t,s]=Ae.useState(!1),[o,u]=Ae.useState([]),[h,d]=Ae.useState([]),[p,y]=Ae.useState([]);Ae.useEffect(()=>{const b=yf(on,w=>{const R=w?.email??void 0;e(R),s(Bw(R))});return()=>b()},[]),Ae.useEffect(()=>{const b=Ij({statuses:["published"],onChange:u}),w=xj(d);return()=>{b(),w()}},[t]),Ae.useEffect(()=>{y(Nj(o,h))},[o,h]);const v=Ae.useMemo(()=>{const b=new Map;for(const w of p){const R=w.start.toISOString().slice(0,10);b.has(R)||b.set(R,[]),b.get(R).push(w)}return Array.from(b.entries()).sort((w,R)=>w[0].localeCompare(R[0]))},[p]);return g.jsxs("section",{className:"calendar-page",children:[g.jsx("h1",{className:"ucla-heading-xl",children:"Calendar"}),g.jsxs("p",{className:"ucla-paragraph",children:["Published events",t?" + client inquiries":"","."]}),v.length===0&&g.jsx("p",{children:"No upcoming items yet."}),g.jsx("div",{className:"calendar-agenda",children:v.map(([b,w])=>g.jsxs("div",{className:"day-group",children:[g.jsx("h3",{className:"day-head",children:new Date(b).toLocaleDateString()}),g.jsx("ul",{className:"day-items",children:w.map(R=>g.jsxs("li",{className:`item ${R.type}`,children:[g.jsx("span",{className:`dot ${R.type}`}),g.jsxs("div",{className:"item-main",children:[g.jsxs("div",{className:"title-row",children:[g.jsx("strong",{children:R.title}),R.type==="inquiry"&&g.jsx("span",{className:"badge warn",children:"Inquiry"}),R.type==="event"&&R.status&&g.jsx("span",{className:`badge ${R.status}`,children:R.status})]}),g.jsxs("div",{className:"meta",children:[g.jsxs("span",{children:[R.start.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),R.end?` – ${R.end.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""]}),R.location?g.jsxs("span",{children:[" • ",R.location]}):null]})]})]},`${R.type}-${R.id}`))})]},b))})]})},Oj={};function Pj(i){const e="recaptcha-v3";if(document.getElementById(e))return;const t=document.createElement("script");t.id=e,t.async=!0,t.defer=!0,t.src=`https://www.google.com/recaptcha/api.js?render=${i}`,document.head.appendChild(t)}function zw(){const[i,e]=B.useState(!1),t=B.useRef(typeof import.meta<"u"?Oj?.VITE_RECAPTCHA_SITE_KEY??null:null);B.useEffect(()=>{if(!t.current){e(!0);return}Pj(t.current);const o=()=>e(!0),u=window.setInterval(()=>{window.grecaptcha?.execute&&(window.clearInterval(u),o())},100);return()=>window.clearInterval(u)},[]);const s=B.useCallback(async o=>{if(!t.current)return`dev_${o}_${Date.now()}`;const u=window.grecaptcha;if(!u||!u.execute)throw new Error("reCAPTCHA not ready");return await u.execute(t.current,{action:o})},[]);return{ready:i,execute:s}}async function qw(i){if(!i?.name||!i?.email)throw new Error("Name and email are required");const e={type:"client_request",name:i.name,email:i.email,phone:i.phone??null,org:i.org??null,message:i.message??null,event:i.event??null,recaptchaToken:i.recaptchaToken??null,status:"new",createdAt:Zt(),updatedAt:Zt()},t=await Ou(Tn(at,"clients"),e);try{i.event&&(i.event.title||i.event.date)&&await Ou(Tn(at,"events"),{title:i.event.title||"Client Inquiry",date:i.event.date??null,start:i.event.start??null,end:i.event.end??null,location:i.event.location??null,status:"inquiry",visibility:"private",source:"client_form",clientRef:t.path,createdAt:Zt(),updatedAt:Zt()})}catch(o){console.warn("[submitClientRequest] event draft create failed:",o)}const s="https://https://script.google.com/u/0/home/projects/1FIwKXVOJn4P5Toveh84N7GisHXMpfKnGDv3Xrr-_j384zPbr8hW05Lvk/edit";try{await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,firestoreId:t.id})})}catch(o){console.warn("[submitClientRequest] webhook failed:",o)}return{id:t.id}}const Mj=()=>{const[i,e]=B.useState({name:"",email:"",phone:"",eventDate:"",eventLocation:"",eventDetails:"",extraDetails:"",website:""}),[t,s]=B.useState("idle"),[o,u]=B.useState(""),{execute:h}=zw(),d=y=>{e(v=>({...v,[y.target.name]:y.target.value}))};async function p(y){if(y.preventDefault(),u(""),i.website&&i.website.trim().length>0){s("success");return}try{s("submitting");const v=await h("client_booking"),b=i.eventDate?new Date(`${i.eventDate}T09:00`).toISOString():void 0;await qw({recaptchaToken:v,name:i.name,email:i.email,phone:i.phone||void 0,org:void 0,message:[i.eventDetails?`Details: ${i.eventDetails}`:"",i.extraDetails?`Extra: ${i.extraDetails}`:""].filter(Boolean).join(`
`),event:{title:"Client Inquiry",date:i.eventDate||void 0,start:b,end:void 0,location:i.eventLocation||void 0}}),s("success"),e({name:"",email:"",phone:"",eventDate:"",eventLocation:"",eventDetails:"",extraDetails:"",website:""})}catch(v){s("error"),u(v?.message||"Failed to submit. Please try again later.")}}return g.jsxs("section",{className:"form-page bookus",children:[g.jsx("h1",{children:"Book Us"}),g.jsx("p",{children:"Please fill out this form to request a performance booking."}),g.jsxs("form",{onSubmit:p,className:"bookus-form",children:[g.jsx("input",{name:"website",value:i.website,onChange:d,className:"hp",tabIndex:-1,"aria-hidden":!0}),g.jsx("input",{name:"name",placeholder:"Your Name",value:i.name,onChange:d,required:!0}),g.jsx("input",{name:"email",type:"email",placeholder:"Your Email",value:i.email,onChange:d,required:!0}),g.jsx("input",{name:"phone",placeholder:"Phone Number",value:i.phone,onChange:d,required:!0}),g.jsx("input",{name:"eventDate",type:"date",value:i.eventDate,onChange:d,required:!0}),g.jsx("input",{name:"eventLocation",placeholder:"Event Location",value:i.eventLocation,onChange:d,required:!0}),g.jsx("textarea",{name:"eventDetails",placeholder:"Tell us about your event...",value:i.eventDetails,onChange:d,required:!0}),g.jsx("textarea",{name:"extraDetails",placeholder:"Anything else?",value:i.extraDetails,onChange:d}),g.jsx("button",{type:"submit",disabled:t==="submitting",children:t==="submitting"?"Submitting…":"Submit Request"}),t==="success"&&g.jsx("p",{className:"ok",children:"Thank you for your inquiry! We will get back to you soon."}),t==="error"&&g.jsx("p",{className:"err",children:o})]})]})},jj=()=>{const[i,e]=B.useState({name:"",email:"",phone:"",instrument:"",experience:""}),t=o=>{e({...i,[o.target.name]:o.target.value})},s=o=>{o.preventDefault(),console.log("Join request submitted:",i),alert("Thank you for your interest! We will contact you soon.")};return g.jsxs("section",{className:"form-page",children:[g.jsx("h1",{children:"Join Mariachi de Uclatlán"}),g.jsx("p",{children:"Interested in joining our group? Fill out the form below."}),g.jsxs("form",{onSubmit:s,children:[g.jsx("input",{name:"name",placeholder:"Your Name",onChange:t,required:!0}),g.jsx("input",{name:"email",type:"email",placeholder:"Your Email",onChange:t,required:!0}),g.jsx("input",{name:"phone",placeholder:"Phone Number",onChange:t,required:!0}),g.jsx("input",{name:"instrument",placeholder:"Instrument",onChange:t,required:!0}),g.jsx("textarea",{name:"experience",placeholder:"Tell us about your experience...",onChange:t,required:!0}),g.jsx("button",{type:"submit",children:"Submit Application"})]})]})};async function kj(i){if(!i?.name||!i?.email)throw new Error("Missing name or email in inquiry");const e={...i,status:"new",source:"public_form",createdAt:Zt(),updatedAt:Zt()};return(await Ou(Tn(at,"inquiries"),e)).id}function Vj(){const[i,e]=B.useState({name:"",email:"",phone:"",org:"",title:"",date:"",startTime:"",endTime:"",location:"",details:""}),[t,s]=B.useState(""),[o,u]=B.useState(""),{execute:h}=zw();async function d(p){p.preventDefault(),s(""),u("");try{const y=await h("client_booking"),v=i.date&&i.startTime?new Date(`${i.date}T${i.startTime}`).toISOString():void 0,b=i.date&&i.endTime?new Date(`${i.date}T${i.endTime}`).toISOString():void 0,w={name:i.name,email:i.email,phone:i.phone||void 0,org:i.org||void 0,message:i.details||void 0,event:{title:i.title||"Client Inquiry",date:i.date||void 0,start:v,end:b,location:i.location||void 0},meta:{userAgent:typeof navigator<"u"?navigator.userAgent:void 0,tz:Intl.DateTimeFormat().resolvedOptions().timeZone}};await Promise.all([qw({recaptchaToken:y,...w}),kj(w)]),s("Thanks! Your request was received. We'll reach out soon."),e({name:"",email:"",phone:"",org:"",title:"",date:"",startTime:"",endTime:"",location:"",details:""})}catch(y){console.error("[HireUs submit] ",y),u(y?.message||"Failed to send")}}return g.jsxs("div",{className:"hireus",children:[g.jsx("h2",{children:"Hire Us"}),g.jsxs("form",{onSubmit:d,className:"event-form",children:[g.jsx("h3",{children:"Contact"}),g.jsx("input",{placeholder:"Your name",value:i.name,onChange:p=>e(y=>({...y,name:p.target.value})),required:!0}),g.jsx("input",{type:"email",placeholder:"Email",value:i.email,onChange:p=>e(y=>({...y,email:p.target.value})),required:!0}),g.jsx("input",{placeholder:"Phone",value:i.phone,onChange:p=>e(y=>({...y,phone:p.target.value}))}),g.jsx("input",{placeholder:"Organization (optional)",value:i.org,onChange:p=>e(y=>({...y,org:p.target.value}))}),g.jsx("h3",{children:"Event"}),g.jsx("input",{placeholder:"Event title",value:i.title,onChange:p=>e(y=>({...y,title:p.target.value})),required:!0}),g.jsx("input",{type:"date",value:i.date,onChange:p=>e(y=>({...y,date:p.target.value}))}),g.jsxs("div",{className:"time-row",children:[g.jsx("input",{type:"time",value:i.startTime,onChange:p=>e(y=>({...y,startTime:p.target.value}))}),g.jsx("input",{type:"time",value:i.endTime,onChange:p=>e(y=>({...y,endTime:p.target.value}))})]}),g.jsx("input",{placeholder:"Location",value:i.location,onChange:p=>e(y=>({...y,location:p.target.value}))}),g.jsx("textarea",{placeholder:"Details / repertoire / special notes",value:i.details,onChange:p=>e(y=>({...y,details:p.target.value}))}),g.jsx("button",{type:"submit",children:"Submit request"}),t&&g.jsx("p",{className:"ok",children:t}),o&&g.jsx("p",{className:"err",children:o})]})]})}const pp=()=>g.jsxs("div",{className:"admin-page",children:[g.jsxs("header",{className:"admin-header",children:[g.jsx("h1",{children:"Admin Dashboard"}),g.jsx("p",{children:"Manage members, assign roles, and oversee events."})]}),g.jsxs("section",{className:"admin-grid",children:[g.jsxs(Fe,{className:"admin-card",to:"events",children:[g.jsx("h3",{children:"Events"}),g.jsx("p",{children:"Create, publish, and manage upcoming events."})]}),g.jsxs(Fe,{className:"admin-card",to:"managemembers",children:[g.jsx("h3",{children:"Manage Members"}),g.jsx("p",{children:"Search members and assign roles."})]}),g.jsxs(Fe,{className:"admin-card",to:"reports",children:[g.jsx("h3",{children:"Reports"}),g.jsx("p",{children:"Export availability summaries (CSV/PDF)."})]}),g.jsxs(Fe,{className:"admin-card",to:"inquiries",children:[g.jsx("h3",{children:"Requests"}),g.jsx("p",{children:"Accept/decline Hire Us inquiries → events."})]}),g.jsxs(Fe,{className:"admin-card",to:"participation",children:[g.jsx("h3",{children:"Participation"}),g.jsx("p",{children:"Event participation summaries."})]})]})]}),Fw=()=>{const i=({isActive:e})=>e?"active":void 0;return g.jsxs("nav",{className:"member-navbar",children:[g.jsx("div",{className:"member-brand",children:"Performer Portal"}),g.jsxs("ul",{className:"member-links",children:[g.jsx("li",{children:g.jsx(Fe,{to:"/dashboard",className:i,children:"Dashboard"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/members/profile",className:i,children:"Profile"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/members/events",className:i,children:"Events"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/members/calendar",className:i,children:"Calendar"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/members/performer-availability",className:i,children:"Availability"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/members/resources",className:i,children:"Resources"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/members/settings",className:i,children:"Settings"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/",className:i,children:"Public Site"})})]})]})},gp=()=>g.jsxs(g.Fragment,{children:[g.jsx(Fw,{}),g.jsxs("div",{style:{padding:"2rem"},children:[g.jsx("h1",{children:"Performer Dashboard"}),g.jsx("p",{children:"Welcome to the Performer Dashboard. Here you can see your events, resources, and manage your profile."})]})]}),Hw=()=>g.jsxs("nav",{className:"navbar",children:[g.jsx("div",{className:"nav-brand",children:"Mariachi de Uclatlán"}),g.jsxs("ul",{className:"nav-links",children:[g.jsx("li",{children:g.jsx(On,{to:"/",children:"Home"})}),g.jsx("li",{children:g.jsx(On,{to:"/about",children:"About"})}),g.jsx("li",{children:g.jsx(On,{to:"/members",children:"Members"})}),g.jsx("li",{children:g.jsx(On,{to:"/contact",children:"Contact"})}),g.jsx("li",{children:g.jsx(On,{to:"/Login",children:"Login"})}),g.jsx("li",{children:g.jsx(On,{to:"/Register",children:"Register"})})]})]}),Lj=()=>g.jsxs("footer",{className:"footer compact-footer",children:[g.jsxs("p",{children:["© ",new Date().getFullYear()," Mariachi de Uclatlán."]}),g.jsxs("p",{children:["Developed by Angel Ramirez | ",g.jsx("a",{href:"/contact",children:"Contact"})]})]}),Gw=()=>{const i=({isActive:e})=>e?"active":void 0;return g.jsxs("nav",{className:"member-navbar",children:[g.jsx("div",{className:"member-brand",children:g.jsx(Fe,{to:"/members",className:i,children:"Members Portal"})}),g.jsxs("ul",{className:"member-links",children:[g.jsx("li",{children:g.jsx(Fe,{to:"/members/profile",className:i,children:"Profile"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/members/events",className:i,children:"Events"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/members/calendar",className:i,children:"Calendar"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/members/performer-availability",className:i,children:"Availability"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/members/resources",className:i,children:"Resources"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/members/settings",className:i,children:"Settings"})}),g.jsx("li",{className:"divider"}),g.jsx("li",{children:g.jsx(Fe,{to:"/admin-dashboard",className:i,children:"Admin Dashboard"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/",className:i,children:"Public Site"})})]})]})},ly=()=>g.jsxs("nav",{className:"admin-navbar",role:"navigation","aria-label":"Admin Navigation Bar",children:[g.jsx("div",{className:"admin-brand",children:"Admin Portal"}),g.jsx("button",{className:"admin-menu-toggle","aria-label":"Toggle menu",onClick:()=>{document.querySelector(".admin-links")?.classList.toggle("open")},children:"☰"}),g.jsxs("ul",{className:"admin-links",children:[g.jsx("li",{children:g.jsx(Fe,{to:"/admin",end:!0,className:({isActive:i})=>i?"active":"",children:"Dashboard"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/admin/inquiries",className:({isActive:i})=>i?"active":"",children:"Requests"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/admin/participation",className:({isActive:i})=>i?"active":"",children:"Participation"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/admin/events",className:({isActive:i})=>i?"active":"",children:"Events"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/admin/managemembers",className:({isActive:i})=>i?"active":"",children:"Manage Members"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/admin/reports",className:({isActive:i})=>i?"active":"",children:"Reports"})}),g.jsx("li",{children:g.jsx(Fe,{to:"/members/performer-availability",className:({isActive:i})=>i?"active":"",children:"Availability"})}),g.jsx("li",{className:"divider","aria-hidden":!0,children:"│"}),g.jsx("li",{children:g.jsx(Fe,{to:"/",className:({isActive:i})=>i?"active":"",children:"Public Site"})})]})]}),Ab=({user:i,children:e})=>{const t=Ui();return i?g.jsx(g.Fragment,{children:e}):g.jsx(ts,{to:"/login",replace:!0,state:{from:t}})},Uj=({isAdmin:i,children:e})=>i?g.jsx(g.Fragment,{children:e}):g.jsx(ts,{to:"/members",replace:!0}),Bj=()=>g.jsxs("div",{className:"admin-shell",children:[g.jsx(ly,{}),g.jsx("div",{className:"admin-content",children:g.jsx(_1,{})})]}),zj=({open:i,onClose:e,onCreate:t,defaultValues:s})=>{const[o,u]=Ae.useState(()=>({title:s?.title??"",date:s?.date??new Date().toISOString().slice(0,10),startTime:s?.startTime??"",endTime:s?.endTime??"",location:s?.location??"",description:s?.description??"",status:s?.status??"draft"})),[h,d]=Ae.useState(!1),[p,y]=Ae.useState(null);if(Ae.useEffect(()=>{i&&(u(w=>({...w,title:s?.title??"",date:s?.date??new Date().toISOString().slice(0,10),startTime:s?.startTime??"",endTime:s?.endTime??"",location:s?.location??"",description:s?.description??"",status:s?.status??"draft"})),y(null))},[i]),!i)return null;const v=w=>{const{name:R,value:j}=w.target;u($=>({...$,[R]:j}))},b=async w=>{if(w.preventDefault(),y(null),!o.title.trim())return y("Title is required.");if(!/^\d{4}-\d{2}-\d{2}$/.test(o.date))return y("Date must be YYYY-MM-DD.");try{d(!0),await t(o),d(!1),e()}catch(R){console.error("[CreateEventModal] create error",R),d(!1),y(R?.message??"Failed to create event.")}};return g.jsx("div",{className:"cem-backdrop",role:"dialog","aria-modal":"true","aria-label":"Create event",children:g.jsxs("div",{className:"cem-modal",children:[g.jsxs("header",{className:"cem-header",children:[g.jsx("h2",{children:"Create Event"}),g.jsx("button",{className:"cem-icon",onClick:e,"aria-label":"Close",children:"×"})]}),g.jsxs("form",{className:"cem-form",onSubmit:b,children:[p&&g.jsx("div",{className:"cem-error",children:p}),g.jsxs("label",{className:"cem-field",children:[g.jsx("span",{children:"Title *"}),g.jsx("input",{name:"title",value:o.title,onChange:v,placeholder:"e.g., Wedding at Royce Hall"})]}),g.jsxs("div",{className:"cem-row",children:[g.jsxs("label",{className:"cem-field",children:[g.jsx("span",{children:"Date *"}),g.jsx("input",{type:"date",name:"date",value:o.date,onChange:v})]}),g.jsxs("label",{className:"cem-field",children:[g.jsx("span",{children:"Start"}),g.jsx("input",{type:"time",name:"startTime",value:o.startTime,onChange:v})]}),g.jsxs("label",{className:"cem-field",children:[g.jsx("span",{children:"End"}),g.jsx("input",{type:"time",name:"endTime",value:o.endTime,onChange:v})]})]}),g.jsxs("label",{className:"cem-field",children:[g.jsx("span",{children:"Location"}),g.jsx("input",{name:"location",value:o.location,onChange:v,placeholder:"Address or venue"})]}),g.jsxs("label",{className:"cem-field",children:[g.jsx("span",{children:"Description/Notes"}),g.jsx("textarea",{name:"description",value:o.description,onChange:v,placeholder:"Any details for performers or client..."})]}),g.jsxs("label",{className:"cem-field",children:[g.jsx("span",{children:"Status"}),g.jsxs("select",{name:"status",value:o.status,onChange:v,children:[g.jsx("option",{value:"draft",children:"Draft"}),g.jsx("option",{value:"published",children:"Published"}),g.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),g.jsxs("footer",{className:"cem-footer",children:[g.jsx("button",{type:"button",className:"btn btn-light",onClick:e,disabled:h,children:"Cancel"}),g.jsx("button",{type:"submit",className:"btn",disabled:h,children:h?"Saving…":"Create Event"})]})]})]})})};function qj(i){const{date:e,time:t}=kw(i);return{id:i.id,title:i.title,dateStr:t?`${e}, ${t}`:e,location:i.location||"",notes:i.description||"",status:i.status}}const Fj=()=>{const[i,e]=Ae.useState([]),[t,s]=Ae.useState(!0),[o,u]=Ae.useState(!1);Ae.useEffect(()=>{const y=Lw(v=>{e(v.map(qj)),s(!1)},v=>{console.error("[AdminEvents subscribe]",v),s(!1)});return()=>y()},[]);const h=y=>{console.log("edit",y)},d=async y=>{if(confirm("Delete (cancel) this event?"))try{await pj(y,{status:"cancelled"})}catch(v){console.error("[handleDelete]",v),alert("Failed to delete (cancel) event.")}},p=async y=>{const v={title:y.title.trim(),date:y.date,startTime:y.startTime||null,endTime:y.endTime||null,location:y.location?.trim()||"",description:y.description?.trim()||"",status:y.status??"draft"};await mj(v)};return g.jsxs("section",{className:"ucla-content",style:{maxWidth:1024,margin:"0 auto"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[g.jsx("h1",{className:"ucla-heading-xl",children:"Manage Events"}),g.jsx("button",{className:"btn",onClick:()=>u(!0),children:"+ Create Event"})]}),t&&g.jsx("p",{children:"Loading events…"}),!t&&g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:16,marginTop:16},children:i.map(y=>g.jsx(jw,{event:y,canManage:!0,onEdit:h,onDelete:d},y.id))}),!t&&i.length===0&&g.jsx("p",{children:"No events found."}),g.jsx(zj,{open:o,onClose:()=>u(!1),onCreate:p})]})};function Kp(i){const e=["admin","performer","member"];return i?(Array.isArray(i)?i:[i]).map(s=>typeof s=="string"?s.toLowerCase():s).filter(s=>e.includes(s)):[]}const $w="users";async function Hj(){return(await Du(Tn(at,$w))).docs.map(e=>{const t=e.data();return{uid:e.id,email:t.email??"",...t}})}async function Gj(i,e){const t=Jn(at,$w,i);await ty(t,{roles:e,isAdmin:e.includes("admin"),updatedAt:Zt()},{merge:!0})}const wb={name:"",phoneNumber:"",year:"",major:"",instrument:"",instruments:[],section:"",bio:"",roles:["member"],returning:"",emergencyName:"",emergencyPhone:"",emergencyRelation:"",photoURL:""};async function $j(){const i=on.currentUser;if(!i)return!1;try{if((await i.getIdTokenResult())?.claims?.admin)return!0}catch{}try{const e=await zf(Jn(at,"users",i.uid));return!!e.exists()&&!!e.data()?.isAdmin}catch{}return!1}function Yj(){const[i,e]=Ae.useState([]),[t,s]=Ae.useState(!0),[o,u]=Ae.useState(null);return Ae.useEffect(()=>{let h=!0;return(async()=>{s(!0),u(null);const d=on.currentUser;if(!d){u("Not signed in"),s(!1);return}try{if(await $j()){const v=(await Hj()).map(b=>({...wb,...b,uid:b.uid,email:b.email??"",roles:Kp(b.roles),instruments:Array.isArray(b.instruments)?b.instruments:[]}));h&&e(v)}else{const y=await zf(Jn(at,"users",d.uid)),v=y.exists()?y.data():{},b={...wb,...v,uid:d.uid,email:v?.email??d.email??"",roles:Kp(v?.roles),instruments:Array.isArray(v?.instruments)?v?.instruments:[]};h&&e([b])}}catch(p){console.error("[useUsersRoster] failed",p),h&&u(p?.message||"Failed to load users")}finally{h&&s(!1)}})(),()=>{h=!1}},[]),{profiles:i,loading:t,error:o}}const Kj={member:"#e2e8f0",performer:"#cffafe",admin:"#fde68a"},Qj={member:"Member",performer:"Performer",admin:"Admin"},Xj=({role:i})=>g.jsx("span",{style:{background:Kj[i],borderRadius:9999,padding:"2px 10px",fontSize:12,border:"1px solid rgba(0,0,0,0.06)"},children:Qj[i]}),Wj=({value:i,onChange:e,disabled:t})=>g.jsxs("select",{value:i,onChange:s=>e(s.target.value),disabled:t,style:{padding:"6px 8px"},children:[g.jsx("option",{value:"member",children:"Member"}),g.jsx("option",{value:"performer",children:"Performer"}),g.jsx("option",{value:"admin",children:"Admin"})]});function Zj(i){return!i||i.length===0?"member":i.includes("admin")?"admin":i.includes("performer")?"performer":"member"}const Jj=()=>{const{profiles:i,loading:e,error:t}=Yj(),[s,o]=Ae.useState(""),u=Ae.useMemo(()=>{const d=s.trim().toLowerCase();return d?i.filter(p=>{const y=(p.name??"").toLowerCase(),v=(p.email??"").toLowerCase(),b=(p.instruments??[]).join(", ").toLowerCase();return y.includes(d)||v.includes(d)||b.includes(d)}):i},[i,s]),h=async(d,p)=>{const y=p==="admin"?["admin"]:p==="performer"?["performer"]:["member"];await Gj(d.uid,y)};return g.jsxs("section",{className:"ucla-content",style:{maxWidth:1100,margin:"0 auto"},children:[g.jsx("h1",{className:"ucla-heading-xl",children:"Manage Members"}),g.jsx("p",{children:"Search, view, and assign roles."}),g.jsx("div",{style:{margin:"12px 0"},children:g.jsx("input",{value:s,onChange:d=>o(d.target.value),placeholder:"Search by name, email, instrument…",style:{width:"100%",maxWidth:420}})}),e&&g.jsx("p",{children:"Loading members…"}),t&&g.jsx("p",{style:{color:"salmon"},children:String(t)}),!e&&!t&&g.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[g.jsx("thead",{children:g.jsxs("tr",{style:{textAlign:"left"},children:[g.jsx("th",{children:"Name"}),g.jsx("th",{children:"Email"}),g.jsx("th",{children:"Instruments"}),g.jsx("th",{children:"Role"}),g.jsx("th",{children:"Change Role"})]})}),g.jsx("tbody",{children:u.map(d=>{const p=Kp(d.roles),y=Zj(p);return g.jsxs("tr",{style:{borderTop:"1px solid #eee"},children:[g.jsx("td",{children:d.name??""}),g.jsx("td",{children:d.email??""}),g.jsx("td",{children:(d.instruments??[]).join(", ")}),g.jsx("td",{children:g.jsx(Xj,{role:y})}),g.jsx("td",{children:g.jsx(Wj,{value:y,onChange:v=>h(d,v)})})]},d.uid)})})]})]})};function eu(i){if(i){if(typeof i=="string")return i;if(i instanceof Ge)return i.toDate().toISOString()}}async function Sb(i,e){const t=Bo(Tn(at,"calendar_feed"),af("sourceId","==",i),AP(1)),o=(await Du(t)).docs[0];o&&await of(Jn(at,"calendar_feed",o.id),{status:e,updatedAt:Zt()})}const ek=()=>{const[i,e]=Ae.useState([]),[t,s]=Ae.useState(""),[o,u]=Ae.useState("");Ae.useEffect(()=>{const p=Bo(Tn(at,"inquiries"),dw("createdAt","desc")),y=qf(p,v=>{const b=v.docs.map(w=>({id:w.id,...w.data()}));e(b)},v=>u(v?.message||"Failed to load inquiries"));return()=>y()},[]);const h=async p=>{try{s(p.id),u("");const y=p.event||{},v=eu(y.start)||(y.date?new Date(`${y.date}T12:00:00`).toISOString():void 0),b=eu(y.end),w={title:y.title||"Client Performance",date:y.date||void 0,start:v,end:b,location:y.location||"",status:"published",source:"inquiry",sourceId:p.id,createdAt:Zt(),updatedAt:Zt()},R=await Ou(Tn(at,"events"),w);await of(Jn(at,"inquiries",p.id),{status:"in_progress",eventId:R.id,updatedAt:Zt()}),await Sb(p.id,"in_progress")}catch(y){console.error("[accept inquiry]",y),u(y?.message||"Failed to accept request")}finally{s("")}},d=async p=>{try{s(p.id),u(""),await of(Jn(at,"inquiries",p.id),{status:"closed",updatedAt:Zt()}),await Sb(p.id,"closed")}catch(y){console.error("[decline inquiry]",y),u(y?.message||"Failed to decline request")}finally{s("")}};return g.jsxs("section",{className:"admin-inquiries ucla-content",children:[g.jsx("h1",{className:"ucla-heading-xl",children:"Performance Requests"}),g.jsx("p",{children:"Review client inquiries. Accept to create an Event; Decline to close."}),o&&g.jsx("p",{className:"err",role:"alert",children:o}),g.jsx("div",{className:"inq-list",children:i.map(p=>{const y=p.event||{};return g.jsxs("article",{className:`inq-card status-${p.status||"new"}`,children:[g.jsxs("header",{className:"inq-head",children:[g.jsxs("div",{children:[g.jsx("h3",{children:y.title||"Client Inquiry"}),g.jsxs("div",{className:"muted",children:["From: ",p.name," • ",p.email,p.org?` • ${p.org}`:""]})]}),g.jsx("span",{className:`chip ${p.status||"new"}`,children:p.status||"new"})]}),g.jsxs("dl",{className:"grid",children:[g.jsxs("div",{children:[g.jsx("dt",{children:"Date"}),g.jsx("dd",{children:y.date||(typeof y.start=="string"?y.start.slice(0,10):"")||"—"})]}),g.jsxs("div",{children:[g.jsx("dt",{children:"Time"}),g.jsx("dd",{children:(eu(y.start)?.slice(11,16)||"—")+(eu(y.end)?` – ${eu(y.end).slice(11,16)}`:"")})]}),g.jsxs("div",{children:[g.jsx("dt",{children:"Location"}),g.jsx("dd",{children:y.location||"—"})]}),g.jsxs("div",{className:"span-2",children:[g.jsx("dt",{children:"Notes"}),g.jsx("dd",{children:p.message||"—"})]})]}),g.jsxs("footer",{className:"actions",children:[g.jsx("button",{className:"btn",disabled:t===p.id,onClick:()=>h(p),children:"Accept"}),g.jsx("button",{className:"btn btn-light",disabled:t===p.id,onClick:()=>d(p),children:"Decline"})]})]},p.id)})}),i.length===0&&g.jsx("p",{children:"No requests yet."})]})},Rh=i=>{if(i){if(i instanceof Date)return i;if(i instanceof Ge)return i.toDate();try{const e=new Date(i);return isNaN(e.getTime())?void 0:e}catch{return}}},Rb=(i,e)=>{if(!i)return"";const t=i.toLocaleString?.()||i.toISOString();if(!e)return t;const o=i.toDateString()===e.toDateString()?e.toLocaleTimeString?.():e.toLocaleString?.();return`${t} → ${o}`},tk=i=>{const e=(i||"").toLowerCase().trim();return e==="yes"||e==="available"||e==="confirmed"?"yes":e==="maybe"?"maybe":e==="no"||e==="unavailable"||e==="declined"?"no":null},nk=()=>{const[i,e]=Ae.useState([]),[t,s]=Ae.useState(!0),[o,u]=Ae.useState(null),[h,d]=Ae.useState(null),p=Ae.useCallback(async()=>{u(null),s(!0);try{const v=(await Du(Tn(at,"events"))).docs.map(w=>({id:w.id,...w.data()}));v.sort((w,R)=>(Rh(w.start)?.getTime()??0)-(Rh(R.start)?.getTime()??0));const b=await Promise.all(v.map(async w=>{const R=await Du(Tn(at,"events",w.id,"availability")),j={yes:[],maybe:[],no:[]};return R.docs.forEach($=>{const L=$.data(),ne=tk(L.status);if(!ne)return;const W=(L.displayName||"").trim()||(L.email||"").trim()||L.uid||"Unknown",K=L.email||"";j[ne].push({uid:L.uid,name:W,email:K,status:ne})}),{eventId:w.id,title:w.title||w.id,start:Rh(w.start),end:Rh(w.end),yes:j.yes.length,maybe:j.maybe.length,no:j.no.length,people:j}}));e(b)}catch(y){console.error(y),u(y?.message||"Failed to load participation")}finally{s(!1)}},[]);return Ae.useEffect(()=>{p()},[p]),g.jsxs("section",{className:"ucla-content",style:{maxWidth:1100,margin:"0 auto"},children:[g.jsxs("div",{className:"rep-head",children:[g.jsx("h1",{className:"ucla-heading-xl",children:"Participation Report"}),g.jsx("div",{className:"rep-actions",children:g.jsx("button",{onClick:p,disabled:t,children:t?"Refreshing…":"Refresh"})})]}),o&&g.jsx("p",{style:{color:"salmon"},children:o}),g.jsx("div",{className:"rep-table-wrap",children:g.jsxs("table",{className:"rep-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Event"}),g.jsx("th",{children:"Date/Time"}),g.jsx("th",{children:"Yes"}),g.jsx("th",{children:"Maybe"}),g.jsx("th",{children:"No"}),g.jsx("th",{})]})}),g.jsx("tbody",{children:i.map(y=>g.jsxs("tr",{children:[g.jsx("td",{className:"rep-event-title",children:y.title}),g.jsx("td",{children:Rb(y.start,y.end)}),g.jsx("td",{className:"yes",children:y.yes}),g.jsx("td",{className:"maybe",children:y.maybe}),g.jsx("td",{className:"no",children:y.no}),g.jsx("td",{children:g.jsx("button",{className:"link-btn",onClick:()=>d(y),children:"View"})})]},y.eventId))})]})}),!t&&i.length===0&&g.jsx("p",{children:"No events found."}),h&&g.jsx("div",{className:"rep-modal-backdrop",onClick:()=>d(null),children:g.jsxs("div",{className:"rep-modal",role:"dialog","aria-modal":"true",onClick:y=>y.stopPropagation(),children:[g.jsx("h3",{style:{marginTop:0},children:h.title}),g.jsx("p",{className:"rep-sub",children:Rb(h.start,h.end)}),g.jsxs("div",{className:"rep-columns",children:[g.jsxs("div",{children:[g.jsxs("h4",{children:["Yes (",h.yes,")"]}),g.jsx("ul",{children:h.people.yes.map(y=>g.jsxs("li",{children:[g.jsx("strong",{children:y.name}),y.email?` · ${y.email}`:""]},y.uid))})]}),g.jsxs("div",{children:[g.jsxs("h4",{children:["Maybe (",h.maybe,")"]}),g.jsx("ul",{children:h.people.maybe.map(y=>g.jsxs("li",{children:[g.jsx("strong",{children:y.name}),y.email?` · ${y.email}`:""]},y.uid))})]}),g.jsxs("div",{children:[g.jsxs("h4",{children:["No (",h.no,")"]}),g.jsx("ul",{children:h.people.no.map(y=>g.jsxs("li",{children:[g.jsx("strong",{children:y.name}),y.email?` · ${y.email}`:""]},y.uid))})]})]}),g.jsx("div",{className:"rep-modal-actions",children:g.jsx("button",{onClick:()=>d(null),children:"Close"})})]})})]})},ik=()=>g.jsxs("section",{className:"reports stack",children:[g.jsxs("header",{className:"stack",children:[g.jsx("h1",{className:"title",children:"Reports"}),g.jsx("p",{className:"lede",children:"Overview of participation, inquiries, and revenue performance."})]}),g.jsxs("div",{className:"toolbar",children:[g.jsxs("div",{className:"left",children:[g.jsxs("label",{className:"field",children:[g.jsx("span",{children:"From"}),g.jsx("input",{type:"date"})]}),g.jsxs("label",{className:"field",children:[g.jsx("span",{children:"To"}),g.jsx("input",{type:"date"})]}),g.jsxs("label",{className:"field",children:[g.jsx("span",{children:"Ensemble"}),g.jsxs("select",{children:[g.jsx("option",{children:"All"}),g.jsx("option",{children:"Uclatlán"}),g.jsx("option",{children:"Los Desafinados"}),g.jsx("option",{children:"Romance Nocturno"})]})]})]}),g.jsxs("div",{className:"right",children:[g.jsx("button",{className:"btn",children:"Export CSV"}),g.jsx("button",{className:"btn btn-secondary",children:"Refresh"})]})]}),g.jsxs("div",{className:"grid cols-3 stack-md",children:[g.jsxs("article",{className:"card stat",children:[g.jsx("h3",{children:"Participation Summary"}),g.jsx("p",{className:"muted",children:"Attendance, average performers per event, top contributors."}),g.jsx("div",{className:"placeholder",children:"Chart/Numbers"})]}),g.jsxs("article",{className:"card stat",children:[g.jsx("h3",{children:"Inquiry Funnel"}),g.jsx("p",{className:"muted",children:"Submitted → Accepted → Booked → Completed"}),g.jsx("div",{className:"placeholder",children:"Chart/Numbers"})]}),g.jsxs("article",{className:"card stat",children:[g.jsx("h3",{children:"Revenue (Est.)"}),g.jsx("p",{className:"muted",children:"Client charges vs. performer payouts (estimates)"}),g.jsx("div",{className:"placeholder",children:"Chart/Numbers"})]})]}),g.jsxs("section",{className:"card stack",children:[g.jsx("h3",{children:"Recent Activity"}),g.jsxs("div",{className:"table",children:[g.jsxs("div",{className:"row head",children:[g.jsx("div",{children:"Date"}),g.jsx("div",{children:"Type"}),g.jsx("div",{children:"Event / Inquiry"}),g.jsx("div",{children:"Status"})]}),[...Array(5)].map((i,e)=>g.jsxs("div",{className:"row",children:[g.jsx("div",{children:"—"}),g.jsx("div",{children:"—"}),g.jsx("div",{children:"—"}),g.jsx("div",{children:g.jsx("span",{className:"badge",children:"—"})})]},e))]})]})]}),Cb=({adminComponent:i,performerComponent:e,publicComponent:t})=>{const[s,o]=B.useState("public"),u=h=>{const d=h.target.value;o(d)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f0f0f0"},children:[g.jsx("label",{style:{marginRight:"0.5rem"},children:"Select Role View:"}),g.jsxs("select",{value:s,onChange:u,children:[g.jsx("option",{value:"public",children:"Public"}),g.jsx("option",{value:"performer",children:"Performer"}),g.jsx("option",{value:"admin",children:"Admin"})]})]}),s==="admin"&&g.jsx(ly,{}),s==="performer"&&g.jsx(Gw,{}),"  ",s==="public"&&g.jsx(Hw,{}),g.jsxs("main",{children:[s==="admin"&&i,s==="performer"&&e,s==="public"&&t]})]})},rk=()=>{const[i,e]=Ae.useState(null),[t,s]=Ae.useState(null),o=Ui();Ae.useEffect(()=>{const v=yf(on,async b=>{if(e(b),b){const w=await u0(b);s(w.claims)}else s(null)});return()=>v()},[]);const u=Ae.useMemo(()=>Bw(i?.email??void 0),[i]),h=o.pathname.startsWith("/members"),d=o.pathname.startsWith("/dashboard")||o.pathname.startsWith("/performer-dashboard")||o.pathname.startsWith("/admin"),p=o.pathname.startsWith("/admin"),y=o.pathname.startsWith("/performer-dashboard");return g.jsxs("div",{className:"app-shell",children:[!h&&!d&&g.jsx(Hw,{}),h&&i&&g.jsx(Gw,{}),p&&i&&u&&g.jsx(ly,{}),y&&i&&g.jsx(Fw,{}),g.jsx("main",{className:"container main stack",role:"main",children:g.jsxs(E1,{children:[g.jsx(it,{path:"/",element:g.jsx(Zm,{})}),g.jsx(it,{path:"/about",element:g.jsx(iC,{})}),g.jsx(it,{path:"/contact",element:g.jsx(rC,{})}),g.jsx(it,{path:"/login",element:g.jsx(rj,{})}),g.jsx(it,{path:"/register",element:g.jsx(oj,{})}),g.jsx(it,{path:"/book-us",element:g.jsx(Mj,{})}),g.jsx(it,{path:"/hire-us",element:g.jsx(Vj,{})}),g.jsx(it,{path:"/join",element:g.jsx(jj,{})}),g.jsx(it,{path:"/members",element:i?g.jsx(lj,{}):g.jsx(ts,{to:"/login",replace:!0})}),g.jsx(it,{path:"/members/profile",element:i?g.jsx(cj,{}):g.jsx(ts,{to:"/login",replace:!0})}),g.jsx(it,{path:"/members/events",element:i?g.jsx(yj,{}):g.jsx(ts,{to:"/login",replace:!0})}),g.jsx(it,{path:"/members/resources",element:i?g.jsx(_j,{}):g.jsx(ts,{to:"/login",replace:!0})}),g.jsx(it,{path:"/members/settings",element:i?g.jsx(vj,{}):g.jsx(ts,{to:"/login",replace:!0})}),g.jsx(it,{path:"/members/performer-availability",element:i?g.jsx(Rj,{}):g.jsx(ts,{to:"/login",replace:!0})}),g.jsx(it,{path:"/members/calendar",element:g.jsx(Dj,{})}),g.jsx(it,{path:"/dashboard",element:g.jsx(Cb,{adminComponent:g.jsx(pp,{}),performerComponent:g.jsx(gp,{}),publicComponent:g.jsx(Zm,{})})}),g.jsx(it,{path:"/dashboard",element:g.jsx(Cb,{adminComponent:g.jsx(pp,{}),performerComponent:g.jsx(gp,{}),publicComponent:g.jsx(Zm,{})})}),g.jsxs(it,{path:"/admin",element:g.jsx(Ab,{user:i,children:g.jsx(Uj,{isAdmin:u,children:g.jsx(Bj,{})})}),children:[g.jsx(it,{index:!0,element:g.jsx(pp,{})}),g.jsx(it,{path:"events",element:g.jsx(Fj,{})}),g.jsx(it,{path:"managemembers",element:g.jsx(Jj,{})}),g.jsx(it,{path:"reports",element:g.jsx(ik,{})}),g.jsx(it,{path:"inquiries",element:g.jsx(ek,{})}),g.jsx(it,{path:"participation",element:g.jsx(nk,{})})]}),g.jsx(it,{path:"/performer-dashboard",element:g.jsx(Ab,{user:i,children:g.jsx(gp,{})})})]})}),!p&&g.jsx(Lj,{})]})},sk=()=>g.jsx(F1,{children:g.jsx(rk,{})});CR.createRoot(document.getElementById("root")).render(g.jsx(Ae.StrictMode,{children:g.jsx(sk,{})}));
