(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Ab(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var qm={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function mR(){if(pE)return Ql;pE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ql.Fragment=e,Ql.jsx=t,Ql.jsxs=t,Ql}var gE;function pR(){return gE||(gE=1,qm.exports=mR()),qm.exports}var y=pR(),Hm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function gR(){if(yE)return Ce;yE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,$={};function L(O,se,ce){this.props=O,this.context=se,this.refs=$,this.updater=ce||R}L.prototype.isReactComponent={},L.prototype.setState=function(O,se){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,se,"setState")},L.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ne(){}ne.prototype=L.prototype;function W(O,se,ce){this.props=O,this.context=se,this.refs=$,this.updater=ce||R}var K=W.prototype=new ne;K.constructor=W,k(K,L.prototype),K.isPureReactComponent=!0;var re=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function x(O,se,ce,oe,_e,Ne){return ce=Ne.ref,{$$typeof:i,type:O,key:se,ref:ce!==void 0?ce:null,props:Ne}}function C(O,se){return x(O.type,se,void 0,void 0,void 0,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function M(O){var se={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return se[ce]})}var V=/\/+/g;function U(O,se){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):se.toString(36)}function D(){}function Ft(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(se){O.status==="pending"&&(O.status="fulfilled",O.value=se)},function(se){O.status==="pending"&&(O.status="rejected",O.reason=se)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ht(O,se,ce,oe,_e){var Ne=typeof O;(Ne==="undefined"||Ne==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(Ne){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case i:case e:we=!0;break;case v:return we=O._init,ht(we(O._payload),se,ce,oe,_e)}}if(we)return _e=_e(O),we=oe===""?"."+U(O,0):oe,re(_e)?(ce="",we!=null&&(ce=we.replace(V,"$&/")+"/"),ht(_e,se,ce,"",function(hi){return hi})):_e!=null&&(I(_e)&&(_e=C(_e,ce+(_e.key==null||O&&O.key===_e.key?"":(""+_e.key).replace(V,"$&/")+"/")+we)),se.push(_e)),1;we=0;var jt=oe===""?".":oe+":";if(re(O))for(var et=0;et<O.length;et++)oe=O[et],Ne=jt+U(oe,et),we+=ht(oe,se,ce,Ne,_e);else if(et=A(O),typeof et=="function")for(O=et.call(O),et=0;!(oe=O.next()).done;)oe=oe.value,Ne=jt+U(oe,et++),we+=ht(oe,se,ce,Ne,_e);else if(Ne==="object"){if(typeof O.then=="function")return ht(Ft(O),se,ce,oe,_e);throw se=String(O),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return we}function Q(O,se,ce){if(O==null)return O;var oe=[],_e=0;return ht(O,oe,"","",function(Ne){return se.call(ce,Ne,_e++)}),oe}function ue(O){if(O._status===-1){var se=O._result;se=se(),se.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=se)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ze(){}return Ce.Children={map:Q,forEach:function(O,se,ce){Q(O,function(){se.apply(this,arguments)},ce)},count:function(O){var se=0;return Q(O,function(){se++}),se},toArray:function(O){return Q(O,function(se){return se})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ce.Component=L,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=W,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ae.H.useMemoCache(O)}},Ce.cache=function(O){return function(){return O.apply(null,arguments)}},Ce.cloneElement=function(O,se,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=k({},O.props),_e=O.key,Ne=void 0;if(se!=null)for(we in se.ref!==void 0&&(Ne=void 0),se.key!==void 0&&(_e=""+se.key),se)!ie.call(se,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&se.ref===void 0||(oe[we]=se[we]);var we=arguments.length-2;if(we===1)oe.children=ce;else if(1<we){for(var jt=Array(we),et=0;et<we;et++)jt[et]=arguments[et+2];oe.children=jt}return x(O.type,_e,void 0,void 0,Ne,oe)},Ce.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ce.createElement=function(O,se,ce){var oe,_e={},Ne=null;if(se!=null)for(oe in se.key!==void 0&&(Ne=""+se.key),se)ie.call(se,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(_e[oe]=se[oe]);var we=arguments.length-2;if(we===1)_e.children=ce;else if(1<we){for(var jt=Array(we),et=0;et<we;et++)jt[et]=arguments[et+2];_e.children=jt}if(O&&O.defaultProps)for(oe in we=O.defaultProps,we)_e[oe]===void 0&&(_e[oe]=we[oe]);return x(O,Ne,void 0,void 0,null,_e)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:d,render:O}},Ce.isValidElement=I,Ce.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ue}},Ce.memo=function(O,se){return{$$typeof:g,type:O,compare:se===void 0?null:se}},Ce.startTransition=function(O){var se=ae.T,ce={};ae.T=ce;try{var oe=O(),_e=ae.S;_e!==null&&_e(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ze,ge)}catch(Ne){ge(Ne)}finally{ae.T=se}},Ce.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ce.use=function(O){return ae.H.use(O)},Ce.useActionState=function(O,se,ce){return ae.H.useActionState(O,se,ce)},Ce.useCallback=function(O,se){return ae.H.useCallback(O,se)},Ce.useContext=function(O){return ae.H.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O,se){return ae.H.useDeferredValue(O,se)},Ce.useEffect=function(O,se,ce){var oe=ae.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(O,se)},Ce.useId=function(){return ae.H.useId()},Ce.useImperativeHandle=function(O,se,ce){return ae.H.useImperativeHandle(O,se,ce)},Ce.useInsertionEffect=function(O,se){return ae.H.useInsertionEffect(O,se)},Ce.useLayoutEffect=function(O,se){return ae.H.useLayoutEffect(O,se)},Ce.useMemo=function(O,se){return ae.H.useMemo(O,se)},Ce.useOptimistic=function(O,se){return ae.H.useOptimistic(O,se)},Ce.useReducer=function(O,se,ce){return ae.H.useReducer(O,se,ce)},Ce.useRef=function(O){return ae.H.useRef(O)},Ce.useState=function(O){return ae.H.useState(O)},Ce.useSyncExternalStore=function(O,se,ce){return ae.H.useSyncExternalStore(O,se,ce)},Ce.useTransition=function(){return ae.H.useTransition()},Ce.version="19.1.1",Ce}var _E;function $p(){return _E||(_E=1,Hm.exports=gR()),Hm.exports}var B=$p();const Se=Ab(B);var Fm={exports:{}},Xl={},Gm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function yR(){return vE||(vE=1,(function(i){function e(Q,ue){var ge=Q.length;Q.push(ue);e:for(;0<ge;){var ze=ge-1>>>1,O=Q[ze];if(0<o(O,ue))Q[ze]=ue,Q[ge]=O,ge=ze;else break e}}function t(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ue=Q[0],ge=Q.pop();if(ge!==ue){Q[0]=ge;e:for(var ze=0,O=Q.length,se=O>>>1;ze<se;){var ce=2*(ze+1)-1,oe=Q[ce],_e=ce+1,Ne=Q[_e];if(0>o(oe,ge))_e<O&&0>o(Ne,oe)?(Q[ze]=Ne,Q[_e]=ge,ze=_e):(Q[ze]=oe,Q[ce]=ge,ze=ce);else if(_e<O&&0>o(Ne,ge))Q[ze]=Ne,Q[_e]=ge,ze=_e;else break e}}return ue}function o(Q,ue){var ge=Q.sortIndex-ue.sortIndex;return ge!==0?ge:Q.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],v=1,b=null,A=3,R=!1,k=!1,$=!1,L=!1,ne=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function re(Q){for(var ue=t(g);ue!==null;){if(ue.callback===null)s(g);else if(ue.startTime<=Q)s(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=t(g)}}function ae(Q){if($=!1,re(Q),!k)if(t(p)!==null)k=!0,ie||(ie=!0,U());else{var ue=t(g);ue!==null&&ht(ae,ue.startTime-Q)}}var ie=!1,x=-1,C=5,I=-1;function M(){return L?!0:!(i.unstable_now()-I<C)}function V(){if(L=!1,ie){var Q=i.unstable_now();I=Q;var ue=!0;try{e:{k=!1,$&&($=!1,W(x),x=-1),R=!0;var ge=A;try{t:{for(re(Q),b=t(p);b!==null&&!(b.expirationTime>Q&&M());){var ze=b.callback;if(typeof ze=="function"){b.callback=null,A=b.priorityLevel;var O=ze(b.expirationTime<=Q);if(Q=i.unstable_now(),typeof O=="function"){b.callback=O,re(Q),ue=!0;break t}b===t(p)&&s(p),re(Q)}else s(p);b=t(p)}if(b!==null)ue=!0;else{var se=t(g);se!==null&&ht(ae,se.startTime-Q),ue=!1}}break e}finally{b=null,A=ge,R=!1}ue=void 0}}finally{ue?U():ie=!1}}}var U;if(typeof K=="function")U=function(){K(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ft=D.port2;D.port1.onmessage=V,U=function(){Ft.postMessage(null)}}else U=function(){ne(V,0)};function ht(Q,ue){x=ne(function(){Q(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var ue=3;break;default:ue=A}var ge=A;A=ue;try{return Q()}finally{A=ge}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(Q,ue){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=A;A=Q;try{return ue()}finally{A=ge}},i.unstable_scheduleCallback=function(Q,ue,ge){var ze=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ze+ge:ze):ge=ze,Q){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ge+O,Q={id:v++,callback:ue,priorityLevel:Q,startTime:ge,expirationTime:O,sortIndex:-1},ge>ze?(Q.sortIndex=ge,e(g,Q),t(p)===null&&Q===t(g)&&($?(W(x),x=-1):$=!0,ht(ae,ge-ze))):(Q.sortIndex=O,e(p,Q),k||R||(k=!0,ie||(ie=!0,U()))),Q},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(Q){var ue=A;return function(){var ge=A;A=ue;try{return Q.apply(this,arguments)}finally{A=ge}}}})($m)),$m}var EE;function _R(){return EE||(EE=1,Gm.exports=yR()),Gm.exports}var Ym={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function vR(){if(TE)return tn;TE=1;var i=$p();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},tn.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:R}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},tn.useFormStatus=function(){return h.H.useHostTransitionStatus()},tn.version="19.1.1",tn}var bE;function ER(){if(bE)return Ym.exports;bE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ym.exports=vR(),Ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function TR(){if(wE)return Xl;wE=1;var i=_R(),e=$p(),t=ER();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),n;if(m===l)return d(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var T=!1,w=f.child;w;){if(w===a){T=!0,a=f,l=m;break}if(w===l){T=!0,l=f,a=m;break}w=w.sibling}if(!T){for(w=m.child;w;){if(w===a){T=!0,a=m,l=f;break}if(w===l){T=!0,l=m,a=f;break}w=w.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),K=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function Ft(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case L:return"Profiler";case $:return"StrictMode";case ae:return"Suspense";case ie:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case R:return"Portal";case K:return(n.displayName||"Context")+".Provider";case W:return(n._context.displayName||"Context")+".Consumer";case re:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return r=n.displayName||null,r!==null?r:Ft(n.type)||"Memo";case C:r=n._payload,n=n._init;try{return Ft(n(r))}catch{}}return null}var ht=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ze=[],O=-1;function se(n){return{current:n}}function ce(n){0>O||(n.current=ze[O],ze[O]=null,O--)}function oe(n,r){O++,ze[O]=n.current,n.current=r}var _e=se(null),Ne=se(null),we=se(null),jt=se(null);function et(n,r){switch(oe(we,r),oe(Ne,n),oe(_e,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Hv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Hv(r),n=Fv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ce(_e),oe(_e,n)}function hi(){ce(_e),ce(Ne),ce(we)}function Ar(n){n.memoizedState!==null&&oe(jt,n);var r=_e.current,a=Fv(r,n.type);r!==a&&(oe(Ne,n),oe(_e,a))}function Bi(n){Ne.current===n&&(ce(_e),ce(Ne)),jt.current===n&&(ce(jt),Fl._currentValue=ge)}var bs=Object.prototype.hasOwnProperty,ws=i.unstable_scheduleCallback,As=i.unstable_cancelCallback,zo=i.unstable_shouldYield,$u=i.unstable_requestPaint,kn=i.unstable_now,qf=i.unstable_getCurrentPriorityLevel,qo=i.unstable_ImmediatePriority,Ea=i.unstable_UserBlockingPriority,Ss=i.unstable_NormalPriority,Hf=i.unstable_LowPriority,Ta=i.unstable_IdlePriority,Ho=i.log,Yu=i.unstable_setDisableYieldValue,ft=null,Ge=null;function Tn(n){if(typeof Ho=="function"&&Yu(n),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ft,n)}catch{}}var Jt=Math.clz32?Math.clz32:Rs,Ku=Math.log,Ff=Math.LN2;function Rs(n){return n>>>=0,n===0?32:31-(Ku(n)/Ff|0)|0}var Cs=256,Is=4194304;function Zn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ba(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?f=Zn(l):(T&=w,T!==0?f=Zn(T):a||(a=w&~n,a!==0&&(f=Zn(a))))):(w=l&~m,w!==0?f=Zn(w):T!==0?f=Zn(T):a||(a=l&~n,a!==0&&(f=Zn(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function Ns(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Fo(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Go(){var n=Cs;return Cs<<=1,(Cs&4194048)===0&&(Cs=256),n}function $o(){var n=Is;return Is<<=1,(Is&62914560)===0&&(Is=4194304),n}function zi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function qi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Yo(n,r,a,l,f,m){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,N=n.expirationTimes,H=n.hiddenUpdates;for(a=T&~a;0<a;){var X=31-Jt(a),ee=1<<X;w[X]=0,N[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var G=F[X];G!==null&&(G.lane&=-536870913)}a&=~ee}l!==0&&fi(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~r))}function fi(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Jt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Ko(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Jt(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function Sr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function wa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Rr(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:uE(n.type))}function Qu(n,r){var a=ue.p;try{return ue.p=n,r()}finally{ue.p=a}}var st=Math.random().toString(36).slice(2),xt="__reactFiber$"+st,bt="__reactProps$"+st,Vn="__reactContainer$"+st,Qo="__reactEvents$"+st,Gf="__reactListeners$"+st,Cr="__reactHandles$"+st,Xu="__reactResources$"+st,xs="__reactMarker$"+st;function Ir(n){delete n[xt],delete n[bt],delete n[Qo],delete n[Gf],delete n[Cr]}function Hi(n){var r=n[xt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Vn]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Kv(n);n!==null;){if(a=n[xt])return a;n=Kv(n)}return r}n=a,a=n.parentNode}return null}function di(n){if(n=n[xt]||n[Vn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function mi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function un(n){var r=n[Xu];return r||(r=n[Xu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function _t(n){n[xs]=!0}var Xo=new Set,Aa={};function Jn(n,r){Fi(n,r),Fi(n+"Capture",r)}function Fi(n,r){for(Aa[n]=r,n=0;n<r.length;n++)Xo.add(r[n])}var Wu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zu={},Ds={};function Ju(n){return bs.call(Ds,n)?!0:bs.call(Zu,n)?!1:Wu.test(n)?Ds[n]=!0:(Zu[n]=!0,!1)}function Nr(n,r,a){if(Ju(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function pi(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Gt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var Os,ec;function Gi(n){if(Os===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Os=r&&r[1]||"",ec=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Os+n+ec}var Sa=!1;function Ra(n,r){if(!n||Sa)return"";Sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(G){var F=G}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(G){F=G}n.call(ee.prototype)}}else{try{throw Error()}catch(G){F=G}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],w=m[1];if(T&&w){var N=T.split(`
`),H=w.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===H.length)for(l=N.length-1,f=H.length-1;1<=l&&0<=f&&N[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==H[f]){var X=`
`+N[l].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=l&&0<=f);break}}}finally{Sa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Gi(a):""}function Wo(n){switch(n.tag){case 26:case 27:case 5:return Gi(n.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 15:return Ra(n.type,!1);case 11:return Ra(n.type.render,!1);case 1:return Ra(n.type,!0);case 31:return Gi("Activity");default:return""}}function Ca(n){try{var r="";do r+=Wo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Zo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $f(n){var r=Zo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ia(n){n._valueTracker||(n._valueTracker=$f(n))}function Jo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Zo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ps(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Yf=/[\n"\\]/g;function wt(n){return n.replace(Yf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bn(n,r,a,l,f,m,T,w){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),r!=null?T==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+cn(r)):n.value!==""+cn(r)&&(n.value=""+cn(r)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),r!=null?xr(n,T,cn(r)):a!=null?xr(n,T,cn(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+cn(w):n.removeAttribute("name")}function Ms(n,r,a,l,f,m,T,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+cn(a):"",r=r!=null?""+cn(r):a,w||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function xr(n,r,a){r==="number"&&Ps(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function $i(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+cn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Qe(n,r,a){if(r!=null&&(r=""+cn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+cn(a):""}function ks(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=cn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function jn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tc(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Vs.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function el(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&tc(n,f,l)}else for(var m in r)r.hasOwnProperty(m)&&tc(n,m,r[m])}function tl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(n){return Qf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Yi=null;function Ln(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ki=null,Qi=null;function nl(n){var r=di(n);if(r&&(n=r.stateNode)){var a=n[bt]||null;e:switch(n=r.stateNode,r.type){case"input":if(bn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+wt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[bt]||null;if(!f)throw Error(s(90));bn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Jo(l)}break e;case"textarea":Qe(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&$i(n,!!a.multiple,r,!1)}}}var gi=!1;function nc(n,r,a){if(gi)return n(r,a);gi=!0;try{var l=n(r);return l}finally{if(gi=!1,(Ki!==null||Qi!==null)&&(Qc(),Ki&&(r=Ki,n=Qi,Qi=Ki=null,nl(r),n)))for(r=0;r<n.length;r++)nl(n[r])}}function js(n,r){var a=n.stateNode;if(a===null)return null;var l=a[bt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Un=!1;if(ei)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Un=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Un=!1}var yi=null,Dr=null,Xi=null;function il(){if(Xi)return Xi;var n,r=Dr,a=r.length,l,f="value"in yi?yi.value:yi.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var T=a-n;for(l=1;l<=T&&r[a-l]===f[m-l];l++);return Xi=f.slice(n,1<l?1-l:void 0)}function _i(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function vi(){return!0}function rl(){return!1}function Lt(n){function r(a,l,f,m,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?vi:rl,this.isPropagationStopped=rl,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),r}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Lt(He),Us=v({},He,{view:0,detail:0}),ic=Lt(Us),Da,Oa,Ei,Bs=v({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ei&&(Ei&&n.type==="mousemove"?(Da=n.screenX-Ei.screenX,Oa=n.screenY-Ei.screenY):Oa=Da=0,Ei=n),Da)},movementY:function(n){return"movementY"in n?n.movementY:Oa}}),Bn=Lt(Bs),rc=v({},Bs,{dataTransfer:0}),Xf=Lt(rc),zs=v({},Us,{relatedTarget:0}),Pa=Lt(zs),sl=v({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Ma=Lt(sl),sc=v({},He,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ka=Lt(sc),Wf=v({},He,{data:0}),al=Lt(Wf),qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ol(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=oc[n])?!!r[n]:!1}function Hs(){return ol}var lc=v({},Us,{key:function(n){if(n.key){var r=qs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=_i(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ac[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(n){return n.type==="keypress"?_i(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_i(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Va=Lt(lc),uc=v({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=Lt(uc),Wi=v({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),cc=Lt(Wi),hc=v({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),fc=Lt(hc),dc=v({},Bs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=Lt(dc),hn=v({},He,{newState:0,oldState:0}),mc=Lt(hn),pc=[9,13,27,32],Ti=ei&&"CompositionEvent"in window,c=null;ei&&"documentMode"in document&&(c=document.documentMode);var _=ei&&"TextEvent"in window&&!c,E=ei&&(!Ti||c&&8<c&&11>=c),S=" ",z=!1;function Y(n,r){switch(n){case"keyup":return pc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ve=!1;function Dt(n,r){switch(n){case"compositionend":return le(r);case"keypress":return r.which!==32?null:(z=!0,S);case"textInput":return n=r.data,n===S&&z?null:n;default:return null}}function je(n,r){if(Ve)return n==="compositionend"||!Ti&&Y(n,r)?(n=il(),Xi=Dr=yi=null,Ve=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Ut[n.type]:r==="textarea"}function Zi(n,r,a,l){Ki?Qi?Qi.push(l):Qi=[l]:Ki=l,r=th(r,"onChange"),0<r.length&&(a=new xa("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var $t=null,bi=null;function ul(n){Lv(n,0)}function gc(n){var r=mi(n);if(Jo(r))return n}function sy(n,r){if(n==="change")return r}var ay=!1;if(ei){var Zf;if(ei){var Jf="oninput"in document;if(!Jf){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),Jf=typeof oy.oninput=="function"}Zf=Jf}else Zf=!1;ay=Zf&&(!document.documentMode||9<document.documentMode)}function ly(){$t&&($t.detachEvent("onpropertychange",uy),bi=$t=null)}function uy(n){if(n.propertyName==="value"&&gc(bi)){var r=[];Zi(r,bi,n,Ln(n)),nc(ul,r)}}function FA(n,r,a){n==="focusin"?(ly(),$t=r,bi=a,$t.attachEvent("onpropertychange",uy)):n==="focusout"&&ly()}function GA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gc(bi)}function $A(n,r){if(n==="click")return gc(r)}function YA(n,r){if(n==="input"||n==="change")return gc(r)}function KA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var wn=typeof Object.is=="function"?Object.is:KA;function cl(n,r){if(wn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!bs.call(r,f)||!wn(n[f],r[f]))return!1}return!0}function cy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function hy(n,r){var a=cy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cy(a)}}function fy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?fy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function dy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ps(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ps(n.document)}return r}function ed(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var QA=ei&&"documentMode"in document&&11>=document.documentMode,La=null,td=null,hl=null,nd=!1;function my(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nd||La==null||La!==Ps(l)||(l=La,"selectionStart"in l&&ed(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=th(td,"onSelect"),0<l.length&&(r=new xa("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=La)))}function Fs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ua={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},id={},py={};ei&&(py=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Gs(n){if(id[n])return id[n];if(!Ua[n])return n;var r=Ua[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in py)return id[n]=r[a];return n}var gy=Gs("animationend"),yy=Gs("animationiteration"),_y=Gs("animationstart"),XA=Gs("transitionrun"),WA=Gs("transitionstart"),ZA=Gs("transitioncancel"),vy=Gs("transitionend"),Ey=new Map,rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rd.push("scrollEnd");function ti(n,r){Ey.set(n,r),Jn(r,[n])}var Ty=new WeakMap;function zn(n,r){if(typeof n=="object"&&n!==null){var a=Ty.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Ca(r)},Ty.set(n,r),r)}return{value:n,source:r,stack:Ca(r)}}var qn=[],Ba=0,sd=0;function yc(){for(var n=Ba,r=sd=Ba=0;r<n;){var a=qn[r];qn[r++]=null;var l=qn[r];qn[r++]=null;var f=qn[r];qn[r++]=null;var m=qn[r];if(qn[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&by(a,f,m)}}function _c(n,r,a,l){qn[Ba++]=n,qn[Ba++]=r,qn[Ba++]=a,qn[Ba++]=l,sd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function ad(n,r,a,l){return _c(n,r,a,l),vc(n)}function za(n,r){return _c(n,null,null,r),vc(n)}function by(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&r!==null&&(f=31-Jt(a),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function vc(n){if(50<Vl)throw Vl=0,fm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var qa={};function JA(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(n,r,a,l){return new JA(n,r,a,l)}function od(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ji(n,r){var a=n.alternate;return a===null?(a=An(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function wy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ec(n,r,a,l,f,m){var T=0;if(l=n,typeof n=="function")od(n)&&(T=1);else if(typeof n=="string")T=tR(n,a,_e.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=An(31,a,r,f),n.elementType=I,n.lanes=m,n;case k:return $s(a.children,f,m,r);case $:T=8,f|=24;break;case L:return n=An(12,a,r,f|2),n.elementType=L,n.lanes=m,n;case ae:return n=An(13,a,r,f),n.elementType=ae,n.lanes=m,n;case ie:return n=An(19,a,r,f),n.elementType=ie,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ne:case K:T=10;break e;case W:T=9;break e;case re:T=11;break e;case x:T=14;break e;case C:T=16,l=null;break e}T=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=An(T,a,r,f),r.elementType=n,r.type=l,r.lanes=m,r}function $s(n,r,a,l){return n=An(7,n,l,r),n.lanes=a,n}function ld(n,r,a){return n=An(6,n,null,r),n.lanes=a,n}function ud(n,r,a){return r=An(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ha=[],Fa=0,Tc=null,bc=0,Hn=[],Fn=0,Ys=null,er=1,tr="";function Ks(n,r){Ha[Fa++]=bc,Ha[Fa++]=Tc,Tc=n,bc=r}function Ay(n,r,a){Hn[Fn++]=er,Hn[Fn++]=tr,Hn[Fn++]=Ys,Ys=n;var l=er;n=tr;var f=32-Jt(l)-1;l&=~(1<<f),a+=1;var m=32-Jt(r)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,er=1<<32-Jt(r)+f|a<<f|l,tr=m+n}else er=1<<m|a<<f|l,tr=n}function cd(n){n.return!==null&&(Ks(n,1),Ay(n,1,0))}function hd(n){for(;n===Tc;)Tc=Ha[--Fa],Ha[Fa]=null,bc=Ha[--Fa],Ha[Fa]=null;for(;n===Ys;)Ys=Hn[--Fn],Hn[Fn]=null,tr=Hn[--Fn],Hn[Fn]=null,er=Hn[--Fn],Hn[Fn]=null}var fn=null,dt=null,qe=!1,Qs=null,wi=!1,fd=Error(s(519));function Xs(n){var r=Error(s(418,""));throw ml(zn(r,n)),fd}function Sy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[xt]=n,r[bt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Oe(Ll[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Ms(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ia(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),ks(r,l.value,l.defaultValue,l.children),Ia(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||qv(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=nh),r=!0):r=!1,r||Xs(n)}function Ry(n){for(fn=n.return;fn;)switch(fn.tag){case 5:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:fn=fn.return}}function fl(n){if(n!==fn)return!1;if(!qe)return Ry(n),qe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Im(n.type,n.memoizedProps)),a=!a),a&&dt&&Xs(n),Ry(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){dt=ii(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}dt=null}}else r===27?(r=dt,Yr(n.type)?(n=Om,Om=null,dt=n):dt=r):dt=fn?ii(n.stateNode.nextSibling):null;return!0}function dl(){dt=fn=null,qe=!1}function Cy(){var n=Qs;return n!==null&&(gn===null?gn=n:gn.push.apply(gn,n),Qs=null),n}function ml(n){Qs===null?Qs=[n]:Qs.push(n)}var dd=se(null),Ws=null,nr=null;function Or(n,r,a){oe(dd,r._currentValue),r._currentValue=a}function ir(n){n._currentValue=dd.current,ce(dd)}function md(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function pd(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var N=0;N<r.length;N++)if(w.context===r[N]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),md(m.return,a,n),l||(T=null);break e}m=w.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),md(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function pl(n,r,a,l){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=f.type;wn(f.pendingProps.value,T.value)||(n!==null?n.push(w):n=[w])}}else if(f===jt.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Fl):n=[Fl])}f=f.return}n!==null&&pd(r,n,a,l),r.flags|=262144}function wc(n){for(n=n.firstContext;n!==null;){if(!wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Zs(n){Ws=n,nr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return Iy(Ws,n)}function Ac(n,r){return Ws===null&&Zs(n),Iy(n,r)}function Iy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},nr===null){if(n===null)throw Error(s(308));nr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else nr=nr.next=r;return a}var eS=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},tS=i.unstable_scheduleCallback,nS=i.unstable_NormalPriority,Pt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gd(){return{controller:new eS,data:new Map,refCount:0}}function gl(n){n.refCount--,n.refCount===0&&tS(nS,function(){n.controller.abort()})}var yl=null,yd=0,Ga=0,$a=null;function iS(n,r){if(yl===null){var a=yl=[];yd=0,Ga=vm(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yd++,r.then(Ny,Ny),r}function Ny(){if(--yd===0&&yl!==null){$a!==null&&($a.status="fulfilled");var n=yl;yl=null,Ga=0,$a=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function rS(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var xy=Q.S;Q.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&iS(n,r),xy!==null&&xy(n,r)};var Js=se(null);function _d(){var n=Js.current;return n!==null?n:tt.pooledCache}function Sc(n,r){r===null?oe(Js,Js.current):oe(Js,r.pool)}function Dy(){var n=_d();return n===null?null:{parent:Pt._currentValue,pool:n}}var _l=Error(s(460)),Oy=Error(s(474)),Rc=Error(s(542)),vd={then:function(){}};function Py(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Cc(){}function My(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Cc,Cc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Vy(n),n;default:if(typeof r.status=="string")r.then(Cc,Cc);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Vy(n),n}throw vl=r,_l}}var vl=null;function ky(){if(vl===null)throw Error(s(459));var n=vl;return vl=null,n}function Vy(n){if(n===_l||n===Rc)throw Error(s(483))}var Pr=!1;function Ed(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Td(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Mr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function kr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=vc(n),by(n,null,a),r}return _c(n,l,r,a),vc(n)}function El(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Ko(n,a)}}function bd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var wd=!1;function Tl(){if(wd){var n=$a;if(n!==null)throw n}}function bl(n,r,a,l){wd=!1;var f=n.updateQueue;Pr=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,H=N.next;N.next=null,T===null?m=H:T.next=H,T=N;var X=n.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==T&&(w===null?X.firstBaseUpdate=H:w.next=H,X.lastBaseUpdate=N))}if(m!==null){var ee=f.baseState;T=0,X=H=N=null,w=m;do{var F=w.lane&-536870913,G=F!==w.lane;if(G?(Le&F)===F:(l&F)===F){F!==0&&F===Ga&&(wd=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var be=n,ve=w;F=r;var Ze=a;switch(ve.tag){case 1:if(be=ve.payload,typeof be=="function"){ee=be.call(Ze,ee,F);break e}ee=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ve.payload,F=typeof be=="function"?be.call(Ze,ee,F):be,F==null)break e;ee=v({},ee,F);break e;case 2:Pr=!0}}F=w.callback,F!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[F]:G.push(F))}else G={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(H=X=G,N=ee):X=X.next=G,T|=F;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;G=w,w=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);X===null&&(N=ee),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=X,m===null&&(f.shared.lanes=0),Hr|=T,n.lanes=T,n.memoizedState=ee}}function jy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Ly(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)jy(a[n],r)}var Ya=se(null),Ic=se(0);function Uy(n,r){n=cr,oe(Ic,n),oe(Ya,r),cr=n|r.baseLanes}function Ad(){oe(Ic,cr),oe(Ya,Ya.current)}function Sd(){cr=Ic.current,ce(Ya),ce(Ic)}var Vr=0,Ie=null,Xe=null,At=null,Nc=!1,Ka=!1,ea=!1,xc=0,wl=0,Qa=null,sS=0;function vt(){throw Error(s(321))}function Rd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!wn(n[a],r[a]))return!1;return!0}function Cd(n,r,a,l,f,m){return Vr=m,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=n===null||n.memoizedState===null?b_:w_,ea=!1,m=a(l,f),ea=!1,Ka&&(m=zy(r,a,l,f)),By(n),m}function By(n){Q.H=Vc;var r=Xe!==null&&Xe.next!==null;if(Vr=0,At=Xe=Ie=null,Nc=!1,wl=0,Qa=null,r)throw Error(s(300));n===null||Bt||(n=n.dependencies,n!==null&&wc(n)&&(Bt=!0))}function zy(n,r,a,l){Ie=n;var f=0;do{if(Ka&&(Qa=null),wl=0,Ka=!1,25<=f)throw Error(s(301));if(f+=1,At=Xe=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=fS,m=r(a,l)}while(Ka);return m}function aS(){var n=Q.H,r=n.useState()[0];return r=typeof r.then=="function"?Al(r):r,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Ie.flags|=1024),r}function Id(){var n=xc!==0;return xc=0,n}function Nd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function xd(n){if(Nc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Nc=!1}Vr=0,At=Xe=Ie=null,Ka=!1,wl=xc=0,Qa=null}function mn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ie.memoizedState=At=n:At=At.next=n,At}function St(){if(Xe===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var r=At===null?Ie.memoizedState:At.next;if(r!==null)At=r,Xe=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},At===null?Ie.memoizedState=At=n:At=At.next=n}return At}function Dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(n){var r=wl;return wl+=1,Qa===null&&(Qa=[]),n=My(Qa,n,r),r=Ie,(At===null?r.memoizedState:At.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?b_:w_),n}function Dc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Al(n);if(n.$$typeof===K)return en(n)}throw Error(s(438,String(n)))}function Od(n){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Dd(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=M;return r.index++,a}function rr(n,r){return typeof r=="function"?r(n):r}function Oc(n){var r=St();return Pd(r,Xe,n)}function Pd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}r.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var w=T=null,N=null,H=r,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Le&ee)===ee:(Vr&ee)===ee){var F=H.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===Ga&&(X=!0);else if((Vr&F)===F){H=H.next,F===Ga&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(w=N=ee,T=m):N=N.next=ee,Ie.lanes|=F,Hr|=F;ee=H.action,ea&&a(m,ee),m=H.hasEagerState?H.eagerState:a(m,ee)}else F={lane:ee,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(w=N=F,T=m):N=N.next=F,Ie.lanes|=ee,Hr|=ee;H=H.next}while(H!==null&&H!==r);if(N===null?T=m:N.next=w,!wn(m,n.memoizedState)&&(Bt=!0,X&&(a=$a,a!==null)))throw a;n.memoizedState=m,n.baseState=T,n.baseQueue=N,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Md(n){var r=St(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=n(m,T.action),T=T.next;while(T!==f);wn(m,r.memoizedState)||(Bt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function qy(n,r,a){var l=Ie,f=St(),m=qe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!wn((Xe||f).memoizedState,a);T&&(f.memoizedState=a,Bt=!0),f=f.queue;var w=Gy.bind(null,l,f,n);if(Sl(2048,8,w,[n]),f.getSnapshot!==r||T||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Xa(9,Pc(),Fy.bind(null,l,f,a,r),null),tt===null)throw Error(s(349));m||(Vr&124)!==0||Hy(l,r,a)}return a}function Hy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=Dd(),Ie.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Fy(n,r,a,l){r.value=a,r.getSnapshot=l,$y(r)&&Yy(n)}function Gy(n,r,a){return a(function(){$y(r)&&Yy(n)})}function $y(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!wn(n,a)}catch{return!0}}function Yy(n){var r=za(n,2);r!==null&&Nn(r,n,2)}function kd(n){var r=mn();if(typeof n=="function"){var a=n;if(n=a(),ea){Tn(!0);try{a()}finally{Tn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:n},r}function Ky(n,r,a,l){return n.baseState=a,Pd(n,Xe,typeof l=="function"?l:rr)}function oS(n,r,a,l,f){if(kc(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};Q.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Qy(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Qy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var m=Q.T,T={};Q.T=T;try{var w=a(f,l),N=Q.S;N!==null&&N(T,w),Xy(n,r,w)}catch(H){Vd(n,r,H)}finally{Q.T=m}}else try{m=a(f,l),Xy(n,r,m)}catch(H){Vd(n,r,H)}}function Xy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wy(n,r,l)},function(l){return Vd(n,r,l)}):Wy(n,r,a)}function Wy(n,r,a){r.status="fulfilled",r.value=a,Zy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Qy(n,a)))}function Vd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Zy(r),r=r.next;while(r!==l)}n.action=null}function Zy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Jy(n,r){return r}function e_(n,r){if(qe){var a=tt.formState;if(a!==null){e:{var l=Ie;if(qe){if(dt){t:{for(var f=dt,m=wi;f.nodeType!==8;){if(!m){f=null;break t}if(f=ii(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){dt=ii(f.nextSibling),l=f.data==="F!";break e}}Xs(l)}l=!1}l&&(r=a[0])}}return a=mn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jy,lastRenderedState:r},a.queue=l,a=v_.bind(null,Ie,l),l.dispatch=a,l=kd(!1),m=zd.bind(null,Ie,!1,l.queue),l=mn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=oS.bind(null,Ie,f,m,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function t_(n){var r=St();return n_(r,Xe,n)}function n_(n,r,a){if(r=Pd(n,r,Jy)[0],n=Oc(rr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Al(r)}catch(T){throw T===_l?Rc:T}else l=r;r=St();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Xa(9,Pc(),lS.bind(null,f,a),null)),[l,m,n]}function lS(n,r){n.action=r}function i_(n){var r=St(),a=Xe;if(a!==null)return n_(r,a,n);St(),r=r.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Xa(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Dd(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Pc(){return{destroy:void 0,resource:void 0}}function r_(){return St().memoizedState}function Mc(n,r,a,l){var f=mn();l=l===void 0?null:l,Ie.flags|=n,f.memoizedState=Xa(1|r,Pc(),a,l)}function Sl(n,r,a,l){var f=St();l=l===void 0?null:l;var m=f.memoizedState.inst;Xe!==null&&l!==null&&Rd(l,Xe.memoizedState.deps)?f.memoizedState=Xa(r,m,a,l):(Ie.flags|=n,f.memoizedState=Xa(1|r,m,a,l))}function s_(n,r){Mc(8390656,8,n,r)}function a_(n,r){Sl(2048,8,n,r)}function o_(n,r){return Sl(4,2,n,r)}function l_(n,r){return Sl(4,4,n,r)}function u_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function c_(n,r,a){a=a!=null?a.concat([n]):null,Sl(4,4,u_.bind(null,r,n),a)}function jd(){}function h_(n,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Rd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function f_(n,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Rd(r,l[1]))return l[0];if(l=n(),ea){Tn(!0);try{n()}finally{Tn(!1)}}return a.memoizedState=[l,r],l}function Ld(n,r,a){return a===void 0||(Vr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=pv(),Ie.lanes|=n,Hr|=n,a)}function d_(n,r,a,l){return wn(a,r)?a:Ya.current!==null?(n=Ld(n,a,l),wn(n,r)||(Bt=!0),n):(Vr&42)===0?(Bt=!0,n.memoizedState=a):(n=pv(),Ie.lanes|=n,Hr|=n,r)}function m_(n,r,a,l,f){var m=ue.p;ue.p=m!==0&&8>m?m:8;var T=Q.T,w={};Q.T=w,zd(n,!1,r,a);try{var N=f(),H=Q.S;if(H!==null&&H(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=rS(N,l);Rl(n,r,X,In(n))}else Rl(n,r,l,In(n))}catch(ee){Rl(n,r,{then:function(){},status:"rejected",reason:ee},In())}finally{ue.p=m,Q.T=T}}function uS(){}function Ud(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=p_(n).queue;m_(n,f,r,ge,a===null?uS:function(){return g_(n),a(l)})}function p_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function g_(n){var r=p_(n).next.queue;Rl(n,r,{},In())}function Bd(){return en(Fl)}function y_(){return St().memoizedState}function __(){return St().memoizedState}function cS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=In();n=Mr(a);var l=kr(r,n,a);l!==null&&(Nn(l,r,a),El(l,r,a)),r={cache:gd()},n.payload=r;return}r=r.return}}function hS(n,r,a){var l=In();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},kc(n)?E_(r,a):(a=ad(n,r,a,l),a!==null&&(Nn(a,n,l),T_(a,r,l)))}function v_(n,r,a){var l=In();Rl(n,r,a,l)}function Rl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(kc(n))E_(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,w=m(T,a);if(f.hasEagerState=!0,f.eagerState=w,wn(w,T))return _c(n,r,f,0),tt===null&&yc(),!1}catch{}finally{}if(a=ad(n,r,f,l),a!==null)return Nn(a,n,l),T_(a,r,l),!0}return!1}function zd(n,r,a,l){if(l={lane:2,revertLane:vm(),action:l,hasEagerState:!1,eagerState:null,next:null},kc(n)){if(r)throw Error(s(479))}else r=ad(n,a,l,2),r!==null&&Nn(r,n,2)}function kc(n){var r=n.alternate;return n===Ie||r!==null&&r===Ie}function E_(n,r){Ka=Nc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function T_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Ko(n,a)}}var Vc={readContext:en,use:Dc,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},b_={readContext:en,use:Dc,useCallback:function(n,r){return mn().memoizedState=[n,r===void 0?null:r],n},useContext:en,useEffect:s_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Mc(4194308,4,u_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Mc(4194308,4,n,r)},useInsertionEffect:function(n,r){Mc(4,2,n,r)},useMemo:function(n,r){var a=mn();r=r===void 0?null:r;var l=n();if(ea){Tn(!0);try{n()}finally{Tn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=mn();if(a!==void 0){var f=a(r);if(ea){Tn(!0);try{a(r)}finally{Tn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=hS.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var r=mn();return n={current:n},r.memoizedState=n},useState:function(n){n=kd(n);var r=n.queue,a=v_.bind(null,Ie,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:jd,useDeferredValue:function(n,r){var a=mn();return Ld(a,n,r)},useTransition:function(){var n=kd(!1);return n=m_.bind(null,Ie,n.queue,!0,!1),mn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ie,f=mn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(Le&124)!==0||Hy(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,s_(Gy.bind(null,l,m,n),[n]),l.flags|=2048,Xa(9,Pc(),Fy.bind(null,l,m,a,r),null),a},useId:function(){var n=mn(),r=tt.identifierPrefix;if(qe){var a=tr,l=er;a=(l&~(1<<32-Jt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=xc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=sS++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Bd,useFormState:e_,useActionState:e_,useOptimistic:function(n){var r=mn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=zd.bind(null,Ie,!0,a),a.dispatch=r,[n,r]},useMemoCache:Od,useCacheRefresh:function(){return mn().memoizedState=cS.bind(null,Ie)}},w_={readContext:en,use:Dc,useCallback:h_,useContext:en,useEffect:a_,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:Oc,useRef:r_,useState:function(){return Oc(rr)},useDebugValue:jd,useDeferredValue:function(n,r){var a=St();return d_(a,Xe.memoizedState,n,r)},useTransition:function(){var n=Oc(rr)[0],r=St().memoizedState;return[typeof n=="boolean"?n:Al(n),r]},useSyncExternalStore:qy,useId:y_,useHostTransitionStatus:Bd,useFormState:t_,useActionState:t_,useOptimistic:function(n,r){var a=St();return Ky(a,Xe,n,r)},useMemoCache:Od,useCacheRefresh:__},fS={readContext:en,use:Dc,useCallback:h_,useContext:en,useEffect:a_,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:Md,useRef:r_,useState:function(){return Md(rr)},useDebugValue:jd,useDeferredValue:function(n,r){var a=St();return Xe===null?Ld(a,n,r):d_(a,Xe.memoizedState,n,r)},useTransition:function(){var n=Md(rr)[0],r=St().memoizedState;return[typeof n=="boolean"?n:Al(n),r]},useSyncExternalStore:qy,useId:y_,useHostTransitionStatus:Bd,useFormState:i_,useActionState:i_,useOptimistic:function(n,r){var a=St();return Xe!==null?Ky(a,Xe,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Od,useCacheRefresh:__},Wa=null,Cl=0;function jc(n){var r=Cl;return Cl+=1,Wa===null&&(Wa=[]),My(Wa,n,r)}function Il(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Lc(n,r){throw r.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function A_(n){var r=n._init;return r(n._payload)}function S_(n){function r(j,P){if(n){var q=j.deletions;q===null?(j.deletions=[P],j.flags|=16):q.push(P)}}function a(j,P){if(!n)return null;for(;P!==null;)r(j,P),P=P.sibling;return null}function l(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function f(j,P){return j=Ji(j,P),j.index=0,j.sibling=null,j}function m(j,P,q){return j.index=q,n?(q=j.alternate,q!==null?(q=q.index,q<P?(j.flags|=67108866,P):q):(j.flags|=67108866,P)):(j.flags|=1048576,P)}function T(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function w(j,P,q,Z){return P===null||P.tag!==6?(P=ld(q,j.mode,Z),P.return=j,P):(P=f(P,q),P.return=j,P)}function N(j,P,q,Z){var me=q.type;return me===k?X(j,P,q.props.children,Z,q.key):P!==null&&(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&A_(me)===P.type)?(P=f(P,q.props),Il(P,q),P.return=j,P):(P=Ec(q.type,q.key,q.props,null,j.mode,Z),Il(P,q),P.return=j,P)}function H(j,P,q,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=ud(q,j.mode,Z),P.return=j,P):(P=f(P,q.children||[]),P.return=j,P)}function X(j,P,q,Z,me){return P===null||P.tag!==7?(P=$s(q,j.mode,Z,me),P.return=j,P):(P=f(P,q),P.return=j,P)}function ee(j,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=ld(""+P,j.mode,q),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return q=Ec(P.type,P.key,P.props,null,j.mode,q),Il(q,P),q.return=j,q;case R:return P=ud(P,j.mode,q),P.return=j,P;case C:var Z=P._init;return P=Z(P._payload),ee(j,P,q)}if(ht(P)||U(P))return P=$s(P,j.mode,q,null),P.return=j,P;if(typeof P.then=="function")return ee(j,jc(P),q);if(P.$$typeof===K)return ee(j,Ac(j,P),q);Lc(j,P)}return null}function F(j,P,q,Z){var me=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return me!==null?null:w(j,P,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===me?N(j,P,q,Z):null;case R:return q.key===me?H(j,P,q,Z):null;case C:return me=q._init,q=me(q._payload),F(j,P,q,Z)}if(ht(q)||U(q))return me!==null?null:X(j,P,q,Z,null);if(typeof q.then=="function")return F(j,P,jc(q),Z);if(q.$$typeof===K)return F(j,P,Ac(j,q),Z);Lc(j,q)}return null}function G(j,P,q,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(q)||null,w(P,j,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return j=j.get(Z.key===null?q:Z.key)||null,N(P,j,Z,me);case R:return j=j.get(Z.key===null?q:Z.key)||null,H(P,j,Z,me);case C:var xe=Z._init;return Z=xe(Z._payload),G(j,P,q,Z,me)}if(ht(Z)||U(Z))return j=j.get(q)||null,X(P,j,Z,me,null);if(typeof Z.then=="function")return G(j,P,q,jc(Z),me);if(Z.$$typeof===K)return G(j,P,q,Ac(P,Z),me);Lc(P,Z)}return null}function be(j,P,q,Z){for(var me=null,xe=null,pe=P,Ee=P=0,qt=null;pe!==null&&Ee<q.length;Ee++){pe.index>Ee?(qt=pe,pe=null):qt=pe.sibling;var Be=F(j,pe,q[Ee],Z);if(Be===null){pe===null&&(pe=qt);break}n&&pe&&Be.alternate===null&&r(j,pe),P=m(Be,P,Ee),xe===null?me=Be:xe.sibling=Be,xe=Be,pe=qt}if(Ee===q.length)return a(j,pe),qe&&Ks(j,Ee),me;if(pe===null){for(;Ee<q.length;Ee++)pe=ee(j,q[Ee],Z),pe!==null&&(P=m(pe,P,Ee),xe===null?me=pe:xe.sibling=pe,xe=pe);return qe&&Ks(j,Ee),me}for(pe=l(pe);Ee<q.length;Ee++)qt=G(pe,j,Ee,q[Ee],Z),qt!==null&&(n&&qt.alternate!==null&&pe.delete(qt.key===null?Ee:qt.key),P=m(qt,P,Ee),xe===null?me=qt:xe.sibling=qt,xe=qt);return n&&pe.forEach(function(Zr){return r(j,Zr)}),qe&&Ks(j,Ee),me}function ve(j,P,q,Z){if(q==null)throw Error(s(151));for(var me=null,xe=null,pe=P,Ee=P=0,qt=null,Be=q.next();pe!==null&&!Be.done;Ee++,Be=q.next()){pe.index>Ee?(qt=pe,pe=null):qt=pe.sibling;var Zr=F(j,pe,Be.value,Z);if(Zr===null){pe===null&&(pe=qt);break}n&&pe&&Zr.alternate===null&&r(j,pe),P=m(Zr,P,Ee),xe===null?me=Zr:xe.sibling=Zr,xe=Zr,pe=qt}if(Be.done)return a(j,pe),qe&&Ks(j,Ee),me;if(pe===null){for(;!Be.done;Ee++,Be=q.next())Be=ee(j,Be.value,Z),Be!==null&&(P=m(Be,P,Ee),xe===null?me=Be:xe.sibling=Be,xe=Be);return qe&&Ks(j,Ee),me}for(pe=l(pe);!Be.done;Ee++,Be=q.next())Be=G(pe,j,Ee,Be.value,Z),Be!==null&&(n&&Be.alternate!==null&&pe.delete(Be.key===null?Ee:Be.key),P=m(Be,P,Ee),xe===null?me=Be:xe.sibling=Be,xe=Be);return n&&pe.forEach(function(dR){return r(j,dR)}),qe&&Ks(j,Ee),me}function Ze(j,P,q,Z){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:e:{for(var me=q.key;P!==null;){if(P.key===me){if(me=q.type,me===k){if(P.tag===7){a(j,P.sibling),Z=f(P,q.props.children),Z.return=j,j=Z;break e}}else if(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&A_(me)===P.type){a(j,P.sibling),Z=f(P,q.props),Il(Z,q),Z.return=j,j=Z;break e}a(j,P);break}else r(j,P);P=P.sibling}q.type===k?(Z=$s(q.props.children,j.mode,Z,q.key),Z.return=j,j=Z):(Z=Ec(q.type,q.key,q.props,null,j.mode,Z),Il(Z,q),Z.return=j,j=Z)}return T(j);case R:e:{for(me=q.key;P!==null;){if(P.key===me)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(j,P.sibling),Z=f(P,q.children||[]),Z.return=j,j=Z;break e}else{a(j,P);break}else r(j,P);P=P.sibling}Z=ud(q,j.mode,Z),Z.return=j,j=Z}return T(j);case C:return me=q._init,q=me(q._payload),Ze(j,P,q,Z)}if(ht(q))return be(j,P,q,Z);if(U(q)){if(me=U(q),typeof me!="function")throw Error(s(150));return q=me.call(q),ve(j,P,q,Z)}if(typeof q.then=="function")return Ze(j,P,jc(q),Z);if(q.$$typeof===K)return Ze(j,P,Ac(j,q),Z);Lc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(j,P.sibling),Z=f(P,q),Z.return=j,j=Z):(a(j,P),Z=ld(q,j.mode,Z),Z.return=j,j=Z),T(j)):a(j,P)}return function(j,P,q,Z){try{Cl=0;var me=Ze(j,P,q,Z);return Wa=null,me}catch(pe){if(pe===_l||pe===Rc)throw pe;var xe=An(29,pe,null,j.mode);return xe.lanes=Z,xe.return=j,xe}finally{}}}var Za=S_(!0),R_=S_(!1),Gn=se(null),Ai=null;function jr(n){var r=n.alternate;oe(Mt,Mt.current&1),oe(Gn,n),Ai===null&&(r===null||Ya.current!==null||r.memoizedState!==null)&&(Ai=n)}function C_(n){if(n.tag===22){if(oe(Mt,Mt.current),oe(Gn,n),Ai===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ai=n)}}else Lr()}function Lr(){oe(Mt,Mt.current),oe(Gn,Gn.current)}function sr(n){ce(Gn),Ai===n&&(Ai=null),ce(Mt)}var Mt=se(0);function Uc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Dm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function qd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Hd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=In(),f=Mr(l);f.payload=r,a!=null&&(f.callback=a),r=kr(n,f,l),r!==null&&(Nn(r,n,l),El(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=In(),f=Mr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=kr(n,f,l),r!==null&&(Nn(r,n,l),El(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=In(),l=Mr(a);l.tag=2,r!=null&&(l.callback=r),r=kr(n,l,a),r!==null&&(Nn(r,n,a),El(r,n,a))}};function I_(n,r,a,l,f,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,T):r.prototype&&r.prototype.isPureReactComponent?!cl(a,l)||!cl(f,m):!0}function N_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Hd.enqueueReplaceState(r,r.state,null)}function ta(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Bc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function x_(n){Bc(n)}function D_(n){console.error(n)}function O_(n){Bc(n)}function zc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function P_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fd(n,r,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){zc(n,r)},a}function M_(n){return n=Mr(n),n.tag=3,n}function k_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){P_(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){P_(r,a,l),typeof f!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function dS(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&pl(r,a,f,!0),a=Gn.current,a!==null){switch(a.tag){case 13:return Ai===null?mm():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===vd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),gm(n,l,f)),!1;case 22:return a.flags|=65536,l===vd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),gm(n,l,f)),!1}throw Error(s(435,a.tag))}return gm(n,l,f),mm(),!1}if(qe)return r=Gn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==fd&&(n=Error(s(422),{cause:l}),ml(zn(n,a)))):(l!==fd&&(r=Error(s(423),{cause:l}),ml(zn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=zn(l,a),f=Fd(n.stateNode,l,f),bd(n,f),mt!==4&&(mt=2)),!1;var m=Error(s(520),{cause:l});if(m=zn(m,a),kl===null?kl=[m]:kl.push(m),mt!==4&&(mt=2),r===null)return!0;l=zn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Fd(a.stateNode,l,n),bd(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Fr===null||!Fr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=M_(f),k_(f,n,a,l),bd(a,f),!1}a=a.return}while(a!==null);return!1}var V_=Error(s(461)),Bt=!1;function Yt(n,r,a,l){r.child=n===null?R_(r,null,a,l):Za(r,n.child,a,l)}function j_(n,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var T={};for(var w in l)w!=="ref"&&(T[w]=l[w])}else T=l;return Zs(r),l=Cd(n,r,a,T,m,f),w=Id(),n!==null&&!Bt?(Nd(n,r,f),ar(n,r,f)):(qe&&w&&cd(r),r.flags|=1,Yt(n,r,l,f),r.child)}function L_(n,r,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!od(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,U_(n,r,m,l,f)):(n=Ec(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Zd(n,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(T,l)&&n.ref===r.ref)return ar(n,r,f)}return r.flags|=1,n=Ji(m,l),n.ref=r.ref,n.return=r,r.child=n}function U_(n,r,a,l,f){if(n!==null){var m=n.memoizedProps;if(cl(m,l)&&n.ref===r.ref)if(Bt=!1,r.pendingProps=l=m,Zd(n,f))(n.flags&131072)!==0&&(Bt=!0);else return r.lanes=n.lanes,ar(n,r,f)}return Gd(n,r,a,l,f)}function B_(n,r,a){var l=r.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(f=r.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return z_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Sc(r,m!==null?m.cachePool:null),m!==null?Uy(r,m):Ad(),C_(r);else return r.lanes=r.childLanes=536870912,z_(n,r,m!==null?m.baseLanes|a:a,a)}else m!==null?(Sc(r,m.cachePool),Uy(r,m),Lr(),r.memoizedState=null):(n!==null&&Sc(r,null),Ad(),Lr());return Yt(n,r,f,a),r.child}function z_(n,r,a,l){var f=_d();return f=f===null?null:{parent:Pt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Sc(r,null),Ad(),C_(r),n!==null&&pl(n,r,l,!0),null}function qc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Gd(n,r,a,l,f){return Zs(r),a=Cd(n,r,a,l,void 0,f),l=Id(),n!==null&&!Bt?(Nd(n,r,f),ar(n,r,f)):(qe&&l&&cd(r),r.flags|=1,Yt(n,r,a,f),r.child)}function q_(n,r,a,l,f,m){return Zs(r),r.updateQueue=null,a=zy(r,l,a,f),By(n),l=Id(),n!==null&&!Bt?(Nd(n,r,m),ar(n,r,m)):(qe&&l&&cd(r),r.flags|=1,Yt(n,r,a,m),r.child)}function H_(n,r,a,l,f){if(Zs(r),r.stateNode===null){var m=qa,T=a.contextType;typeof T=="object"&&T!==null&&(m=en(T)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Hd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Ed(r),T=a.contextType,m.context=typeof T=="object"&&T!==null?en(T):qa,m.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(qd(r,a,T,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Hd.enqueueReplaceState(m,m.state,null),bl(r,l,m,f),Tl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){m=r.stateNode;var w=r.memoizedProps,N=ta(a,w);m.props=N;var H=m.context,X=a.contextType;T=qa,typeof X=="object"&&X!==null&&(T=en(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||H!==T)&&N_(r,m,l,T),Pr=!1;var F=r.memoizedState;m.state=F,bl(r,l,m,f),Tl(),H=r.memoizedState,w||F!==H||Pr?(typeof ee=="function"&&(qd(r,a,ee,l),H=r.memoizedState),(N=Pr||I_(r,a,N,l,F,H,T))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),m.props=l,m.state=H,m.context=T,l=N):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Td(n,r),T=r.memoizedProps,X=ta(a,T),m.props=X,ee=r.pendingProps,F=m.context,H=a.contextType,N=qa,typeof H=="object"&&H!==null&&(N=en(H)),w=a.getDerivedStateFromProps,(H=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==ee||F!==N)&&N_(r,m,l,N),Pr=!1,F=r.memoizedState,m.state=F,bl(r,l,m,f),Tl();var G=r.memoizedState;T!==ee||F!==G||Pr||n!==null&&n.dependencies!==null&&wc(n.dependencies)?(typeof w=="function"&&(qd(r,a,w,l),G=r.memoizedState),(X=Pr||I_(r,a,X,l,F,G,N)||n!==null&&n.dependencies!==null&&wc(n.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,G,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,G,N)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),m.props=l,m.state=G,m.context=N,l=X):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),l=!1)}return m=l,qc(n,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&l?(r.child=Za(r,n.child,null,f),r.child=Za(r,null,a,f)):Yt(n,r,a,f),r.memoizedState=m.state,n=r.child):n=ar(n,r,f),n}function F_(n,r,a,l){return dl(),r.flags|=256,Yt(n,r,a,l),r.child}var $d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(n){return{baseLanes:n,cachePool:Dy()}}function Kd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=$n),n}function G_(n,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(Mt.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,n===null){if(qe){if(f?jr(r):Lr(),qe){var w=dt,N;if(N=w){e:{for(N=w,w=wi;N.nodeType!==8;){if(!w){w=null;break e}if(N=ii(N.nextSibling),N===null){w=null;break e}}w=N}w!==null?(r.memoizedState={dehydrated:w,treeContext:Ys!==null?{id:er,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},N=An(18,null,null,0),N.stateNode=w,N.return=r,r.child=N,fn=r,dt=null,N=!0):N=!1}N||Xs(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Dm(w)?r.lanes=32:r.lanes=536870912,null;sr(r)}return w=l.children,l=l.fallback,f?(Lr(),f=r.mode,w=Hc({mode:"hidden",children:w},f),l=$s(l,f,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,f=r.child,f.memoizedState=Yd(a),f.childLanes=Kd(n,T,a),r.memoizedState=$d,l):(jr(r),Qd(r,w))}if(N=n.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(m)r.flags&256?(jr(r),r.flags&=-257,r=Xd(n,r,a)):r.memoizedState!==null?(Lr(),r.child=n.child,r.flags|=128,r=null):(Lr(),f=l.fallback,w=r.mode,l=Hc({mode:"visible",children:l.children},w),f=$s(f,w,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Za(r,n.child,null,a),l=r.child,l.memoizedState=Yd(a),l.childLanes=Kd(n,T,a),r.memoizedState=$d,r=f);else if(jr(r),Dm(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var H=T.dgst;T=H,l=Error(s(419)),l.stack="",l.digest=T,ml({value:l,source:null,stack:null}),r=Xd(n,r,a)}else if(Bt||pl(n,r,a,!1),T=(a&n.childLanes)!==0,Bt||T){if(T=tt,T!==null&&(l=a&-a,l=(l&42)!==0?1:Sr(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,za(n,l),Nn(T,n,l),V_;w.data==="$?"||mm(),r=Xd(n,r,a)}else w.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=N.treeContext,dt=ii(w.nextSibling),fn=r,qe=!0,Qs=null,wi=!1,n!==null&&(Hn[Fn++]=er,Hn[Fn++]=tr,Hn[Fn++]=Ys,er=n.id,tr=n.overflow,Ys=r),r=Qd(r,l.children),r.flags|=4096);return r}return f?(Lr(),f=l.fallback,w=r.mode,N=n.child,H=N.sibling,l=Ji(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?f=Ji(H,f):(f=$s(f,w,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,w=n.child.memoizedState,w===null?w=Yd(a):(N=w.cachePool,N!==null?(H=Pt._currentValue,N=N.parent!==H?{parent:H,pool:H}:N):N=Dy(),w={baseLanes:w.baseLanes|a,cachePool:N}),f.memoizedState=w,f.childLanes=Kd(n,T,a),r.memoizedState=$d,l):(jr(r),a=n.child,n=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(T=r.deletions,T===null?(r.deletions=[n],r.flags|=16):T.push(n)),r.child=a,r.memoizedState=null,a)}function Qd(n,r){return r=Hc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Hc(n,r){return n=An(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Xd(n,r,a){return Za(r,n.child,null,a),n=Qd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function $_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),md(n.return,r,a)}function Wd(n,r,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function Y_(n,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(Yt(n,r,l.children,a),l=Mt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$_(n,a,r);else if(n.tag===19)$_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(oe(Mt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Uc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Wd(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Uc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Wd(r,!0,a,null,m);break;case"together":Wd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ar(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Hr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(pl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Ji(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Ji(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Zd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&wc(n)))}function mS(n,r,a){switch(r.tag){case 3:et(r,r.stateNode.containerInfo),Or(r,Pt,n.memoizedState.cache),dl();break;case 27:case 5:Ar(r);break;case 4:et(r,r.stateNode.containerInfo);break;case 10:Or(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(jr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?G_(n,r,a):(jr(r),n=ar(n,r,a),n!==null?n.sibling:null);jr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(pl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Y_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(Mt,Mt.current),l)break;return null;case 22:case 23:return r.lanes=0,B_(n,r,a);case 24:Or(r,Pt,n.memoizedState.cache)}return ar(n,r,a)}function K_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Bt=!0;else{if(!Zd(n,a)&&(r.flags&128)===0)return Bt=!1,mS(n,r,a);Bt=(n.flags&131072)!==0}else Bt=!1,qe&&(r.flags&1048576)!==0&&Ay(r,bc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")od(l)?(n=ta(l,n),r.tag=1,r=H_(null,r,l,n,a)):(r.tag=0,r=Gd(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===re){r.tag=11,r=j_(null,r,l,n,a);break e}else if(f===x){r.tag=14,r=L_(null,r,l,n,a);break e}}throw r=Ft(l)||l,Error(s(306,r,""))}}return r;case 0:return Gd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ta(l,r.pendingProps),H_(n,r,l,f,a);case 3:e:{if(et(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Td(n,r),bl(r,l,null,a);var T=r.memoizedState;if(l=T.cache,Or(r,Pt,l),l!==m.cache&&pd(r,[Pt],a,!0),Tl(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=F_(n,r,l,a);break e}else if(l!==f){f=zn(Error(s(424)),r),ml(f),r=F_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(dt=ii(n.firstChild),fn=r,qe=!0,Qs=null,wi=!0,a=R_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(dl(),l===f){r=ar(n,r,a);break e}Yt(n,r,l,a)}r=r.child}return r;case 26:return qc(n,r),n===null?(a=Zv(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,n=r.pendingProps,l=ih(we.current).createElement(a),l[xt]=r,l[bt]=n,Qt(l,a,n),_t(l),r.stateNode=l):r.memoizedState=Zv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Ar(r),n===null&&qe&&(l=r.stateNode=Qv(r.type,r.pendingProps,we.current),fn=r,wi=!0,f=dt,Yr(r.type)?(Om=f,dt=ii(l.firstChild)):dt=f),Yt(n,r,r.pendingProps.children,a),qc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&qe&&((f=l=dt)&&(l=qS(l,r.type,r.pendingProps,wi),l!==null?(r.stateNode=l,fn=r,dt=ii(l.firstChild),wi=!1,f=!0):f=!1),f||Xs(r)),Ar(r),f=r.type,m=r.pendingProps,T=n!==null?n.memoizedProps:null,l=m.children,Im(f,m)?l=null:T!==null&&Im(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=Cd(n,r,aS,null,null,a),Fl._currentValue=f),qc(n,r),Yt(n,r,l,a),r.child;case 6:return n===null&&qe&&((n=a=dt)&&(a=HS(a,r.pendingProps,wi),a!==null?(r.stateNode=a,fn=r,dt=null,n=!0):n=!1),n||Xs(r)),null;case 13:return G_(n,r,a);case 4:return et(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Za(r,null,l,a):Yt(n,r,l,a),r.child;case 11:return j_(n,r,r.type,r.pendingProps,a);case 7:return Yt(n,r,r.pendingProps,a),r.child;case 8:return Yt(n,r,r.pendingProps.children,a),r.child;case 12:return Yt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Or(r,r.type,l.value),Yt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Zs(r),f=en(f),l=l(f),r.flags|=1,Yt(n,r,l,a),r.child;case 14:return L_(n,r,r.type,r.pendingProps,a);case 15:return U_(n,r,r.type,r.pendingProps,a);case 19:return Y_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Hc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Ji(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return B_(n,r,a);case 24:return Zs(r),l=en(Pt),n===null?(f=_d(),f===null&&(f=tt,m=gd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},Ed(r),Or(r,Pt,f)):((n.lanes&a)!==0&&(Td(n,r),bl(r,null,null,a),Tl()),f=n.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Or(r,Pt,l)):(l=m.cache,Or(r,Pt,l),l!==f.cache&&pd(r,[Pt],a,!0))),Yt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function or(n){n.flags|=4}function Q_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!iE(r)){if(r=Gn.current,r!==null&&((Le&4194048)===Le?Ai!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==Ai))throw vl=vd,Oy;n.flags|=8192}}function Fc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?$o():536870912,n.lanes|=r,no|=r)}function Nl(n,r){if(!qe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function lt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function pS(n,r,a){var l=r.pendingProps;switch(hd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ir(Pt),hi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(fl(r)?or(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Cy())),lt(r),null;case 26:return a=r.memoizedState,n===null?(or(r),a!==null?(lt(r),Q_(r,a)):(lt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(or(r),lt(r),Q_(r,a)):(lt(r),r.flags&=-16777217):(n.memoizedProps!==l&&or(r),lt(r),r.flags&=-16777217),null;case 27:Bi(r),a=we.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&or(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}n=_e.current,fl(r)?Sy(r):(n=Qv(f,l,a),r.stateNode=n,or(r))}return lt(r),null;case 5:if(Bi(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&or(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(n=_e.current,fl(r))Sy(r);else{switch(f=ih(we.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[xt]=r,n[bt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Qt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&or(r)}}return lt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&or(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=we.current,fl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=fn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[xt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||qv(n.nodeValue,a)),n||Xs(r)}else n=ih(n).createTextNode(l),n[xt]=r,r.stateNode=n}return lt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=fl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xt]=r}else dl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),f=!1}else f=Cy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(sr(r),r):(sr(r),null)}if(sr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Fc(r,r.updateQueue),lt(r),null;case 4:return hi(),n===null&&wm(r.stateNode.containerInfo),lt(r),null;case 10:return ir(r.type),lt(r),null;case 19:if(ce(Mt),f=r.memoizedState,f===null)return lt(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)Nl(f,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=Uc(n),m!==null){for(r.flags|=128,Nl(f,!1),n=m.updateQueue,r.updateQueue=n,Fc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)wy(a,n),a=a.sibling;return oe(Mt,Mt.current&1|2),r.child}n=n.sibling}f.tail!==null&&kn()>Yc&&(r.flags|=128,l=!0,Nl(f,!1),r.lanes=4194304)}else{if(!l)if(n=Uc(m),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Fc(r,n),Nl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!qe)return lt(r),null}else 2*kn()-f.renderingStartTime>Yc&&a!==536870912&&(r.flags|=128,l=!0,Nl(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=kn(),r.sibling=null,n=Mt.current,oe(Mt,l?n&1|2:n&1),r):(lt(r),null);case 22:case 23:return sr(r),Sd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),a=r.updateQueue,a!==null&&Fc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ce(Js),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ir(Pt),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function gS(n,r){switch(hd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return ir(Pt),hi(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Bi(r),null;case 13:if(sr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));dl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ce(Mt),null;case 4:return hi(),null;case 10:return ir(r.type),null;case 22:case 23:return sr(r),Sd(),n!==null&&ce(Js),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return ir(Pt),null;case 25:return null;default:return null}}function X_(n,r){switch(hd(r),r.tag){case 3:ir(Pt),hi();break;case 26:case 27:case 5:Bi(r);break;case 4:hi();break;case 13:sr(r);break;case 19:ce(Mt);break;case 10:ir(r.type);break;case 22:case 23:sr(r),Sd(),n!==null&&ce(Js);break;case 24:ir(Pt)}}function xl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==f)}}catch(w){Je(r,r.return,w)}}function Ur(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var T=l.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,f=r;var N=a,H=w;try{H()}catch(X){Je(f,N,X)}}}l=l.next}while(l!==m)}}catch(X){Je(r,r.return,X)}}function W_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Ly(r,a)}catch(l){Je(n,n.return,l)}}}function Z_(n,r,a){a.props=ta(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Je(n,r,l)}}function Dl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Je(n,r,f)}}function Si(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(n,r,f)}else a.current=null}function J_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(n,n.return,f)}}function Jd(n,r,a){try{var l=n.stateNode;jS(l,n.type,a,r),l[bt]=r}catch(f){Je(n,n.return,f)}}function ev(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Yr(n.type)||n.tag===4}function em(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ev(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Yr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function tm(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=nh));else if(l!==4&&(l===27&&Yr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(tm(n,r,a),n=n.sibling;n!==null;)tm(n,r,a),n=n.sibling}function Gc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Yr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Gc(n,r,a),n=n.sibling;n!==null;)Gc(n,r,a),n=n.sibling}function tv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Qt(r,l,a),r[xt]=n,r[bt]=a}catch(m){Je(n,n.return,m)}}var lr=!1,Et=!1,nm=!1,nv=typeof WeakSet=="function"?WeakSet:Set,zt=null;function yS(n,r){if(n=n.containerInfo,Rm=uh,n=dy(n),ed(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,w=-1,N=-1,H=0,X=0,ee=n,F=null;t:for(;;){for(var G;ee!==a||f!==0&&ee.nodeType!==3||(w=T+f),ee!==m||l!==0&&ee.nodeType!==3||(N=T+l),ee.nodeType===3&&(T+=ee.nodeValue.length),(G=ee.firstChild)!==null;)F=ee,ee=G;for(;;){if(ee===n)break t;if(F===a&&++H===f&&(w=T),F===m&&++X===l&&(N=T),(G=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=G}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cm={focusedElem:n,selectionRange:a},uh=!1,zt=r;zt!==null;)if(r=zt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,zt=n;else for(;zt!==null;){switch(r=zt,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var be=ta(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(be,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Je(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)xm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":xm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,zt=n;break}zt=r.return}}function iv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Br(n,a),l&4&&xl(5,a);break;case 1:if(Br(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(T){Je(a,a.return,T)}else{var f=ta(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Je(a,a.return,T)}}l&64&&W_(a),l&512&&Dl(a,a.return);break;case 3:if(Br(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ly(n,r)}catch(T){Je(a,a.return,T)}}break;case 27:r===null&&l&4&&tv(a);case 26:case 5:Br(n,a),r===null&&l&4&&J_(a),l&512&&Dl(a,a.return);break;case 12:Br(n,a);break;case 13:Br(n,a),l&4&&av(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=RS.bind(null,a),FS(n,a))));break;case 22:if(l=a.memoizedState!==null||lr,!l){r=r!==null&&r.memoizedState!==null||Et,f=lr;var m=Et;lr=l,(Et=r)&&!m?zr(n,a,(a.subtreeFlags&8772)!==0):Br(n,a),lr=f,Et=m}break;case 30:break;default:Br(n,a)}}function rv(n){var r=n.alternate;r!==null&&(n.alternate=null,rv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Ir(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var at=null,pn=!1;function ur(n,r,a){for(a=a.child;a!==null;)sv(n,r,a),a=a.sibling}function sv(n,r,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:Et||Si(a,r),ur(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Et||Si(a,r);var l=at,f=pn;Yr(a.type)&&(at=a.stateNode,pn=!1),ur(n,r,a),Bl(a.stateNode),at=l,pn=f;break;case 5:Et||Si(a,r);case 6:if(l=at,f=pn,at=null,ur(n,r,a),at=l,pn=f,at!==null)if(pn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(m){Je(a,r,m)}else try{at.removeChild(a.stateNode)}catch(m){Je(a,r,m)}break;case 18:at!==null&&(pn?(n=at,Yv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Kl(n)):Yv(at,a.stateNode));break;case 4:l=at,f=pn,at=a.stateNode.containerInfo,pn=!0,ur(n,r,a),at=l,pn=f;break;case 0:case 11:case 14:case 15:Et||Ur(2,a,r),Et||Ur(4,a,r),ur(n,r,a);break;case 1:Et||(Si(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Z_(a,r,l)),ur(n,r,a);break;case 21:ur(n,r,a);break;case 22:Et=(l=Et)||a.memoizedState!==null,ur(n,r,a),Et=l;break;default:ur(n,r,a)}}function av(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Kl(n)}catch(a){Je(r,r.return,a)}}function _S(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new nv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new nv),r;default:throw Error(s(435,n.tag))}}function im(n,r){var a=_S(n);r.forEach(function(l){var f=CS.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Sn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,T=r,w=T;e:for(;w!==null;){switch(w.tag){case 27:if(Yr(w.type)){at=w.stateNode,pn=!1;break e}break;case 5:at=w.stateNode,pn=!1;break e;case 3:case 4:at=w.stateNode.containerInfo,pn=!0;break e}w=w.return}if(at===null)throw Error(s(160));sv(m,T,f),at=null,pn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)ov(r,n),r=r.sibling}var ni=null;function ov(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Sn(r,n),Rn(n),l&4&&(Ur(3,n,n.return),xl(3,n),Ur(5,n,n.return));break;case 1:Sn(r,n),Rn(n),l&512&&(Et||a===null||Si(a,a.return)),l&64&&lr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ni;if(Sn(r,n),Rn(n),l&512&&(Et||a===null||Si(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[xs]||m[xt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Qt(m,l,a),m[xt]=n,_t(m),l=m;break e;case"link":var T=tE("link","href",f).get(l+(a.href||""));if(T){for(var w=0;w<T.length;w++)if(m=T[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(w,1);break t}}m=f.createElement(l),Qt(m,l,a),f.head.appendChild(m);break;case"meta":if(T=tE("meta","content",f).get(l+(a.content||""))){for(w=0;w<T.length;w++)if(m=T[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(w,1);break t}}m=f.createElement(l),Qt(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[xt]=n,_t(m),l=m}n.stateNode=l}else nE(f,n.type,n.stateNode);else n.stateNode=eE(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?nE(f,n.type,n.stateNode):eE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Jd(n,n.memoizedProps,a.memoizedProps)}break;case 27:Sn(r,n),Rn(n),l&512&&(Et||a===null||Si(a,a.return)),a!==null&&l&4&&Jd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Sn(r,n),Rn(n),l&512&&(Et||a===null||Si(a,a.return)),n.flags&32){f=n.stateNode;try{jn(f,"")}catch(G){Je(n,n.return,G)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Jd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(nm=!0);break;case 6:if(Sn(r,n),Rn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(G){Je(n,n.return,G)}}break;case 3:if(ah=null,f=ni,ni=rh(r.containerInfo),Sn(r,n),ni=f,Rn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Kl(r.containerInfo)}catch(G){Je(n,n.return,G)}nm&&(nm=!1,lv(n));break;case 4:l=ni,ni=rh(n.stateNode.containerInfo),Sn(r,n),Rn(n),ni=l;break;case 12:Sn(r,n),Rn(n);break;case 13:Sn(r,n),Rn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(um=kn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,im(n,l)));break;case 22:f=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=lr,X=Et;if(lr=H||f,Et=X||N,Sn(r,n),Et=X,lr=H,Rn(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||lr||Et||na(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(m=N.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=N.stateNode;var ee=N.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){Je(N,N.return,G)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(G){Je(N,N.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,im(n,a))));break;case 19:Sn(r,n),Rn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,im(n,l)));break;case 30:break;case 21:break;default:Sn(r,n),Rn(n)}}function Rn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(ev(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=em(n);Gc(n,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(jn(T,""),a.flags&=-33);var w=em(n);Gc(n,w,T);break;case 3:case 4:var N=a.stateNode.containerInfo,H=em(n);tm(n,H,N);break;default:throw Error(s(161))}}catch(X){Je(n,n.return,X)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function lv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;lv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Br(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)iv(n,r.alternate,r),r=r.sibling}function na(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Ur(4,r,r.return),na(r);break;case 1:Si(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Z_(r,r.return,a),na(r);break;case 27:Bl(r.stateNode);case 26:case 5:Si(r,r.return),na(r);break;case 22:r.memoizedState===null&&na(r);break;case 30:na(r);break;default:na(r)}n=n.sibling}}function zr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:zr(f,m,a),xl(4,m);break;case 1:if(zr(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Je(l,l.return,H)}if(l=m,f=l.updateQueue,f!==null){var w=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)jy(N[f],w)}catch(H){Je(l,l.return,H)}}a&&T&64&&W_(m),Dl(m,m.return);break;case 27:tv(m);case 26:case 5:zr(f,m,a),a&&l===null&&T&4&&J_(m),Dl(m,m.return);break;case 12:zr(f,m,a);break;case 13:zr(f,m,a),a&&T&4&&av(f,m);break;case 22:m.memoizedState===null&&zr(f,m,a),Dl(m,m.return);break;case 30:break;default:zr(f,m,a)}r=r.sibling}}function rm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&gl(a))}function sm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&gl(n))}function Ri(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)uv(n,r,a,l),r=r.sibling}function uv(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ri(n,r,a,l),f&2048&&xl(9,r);break;case 1:Ri(n,r,a,l);break;case 3:Ri(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&gl(n)));break;case 12:if(f&2048){Ri(n,r,a,l),n=r.stateNode;try{var m=r.memoizedProps,T=m.id,w=m.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){Je(r,r.return,N)}}else Ri(n,r,a,l);break;case 13:Ri(n,r,a,l);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?Ri(n,r,a,l):Ol(n,r):m._visibility&2?Ri(n,r,a,l):(m._visibility|=2,Ja(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&rm(T,r);break;case 24:Ri(n,r,a,l),f&2048&&sm(r.alternate,r);break;default:Ri(n,r,a,l)}}function Ja(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,T=r,w=a,N=l,H=T.flags;switch(T.tag){case 0:case 11:case 15:Ja(m,T,w,N,f),xl(8,T);break;case 23:break;case 22:var X=T.stateNode;T.memoizedState!==null?X._visibility&2?Ja(m,T,w,N,f):Ol(m,T):(X._visibility|=2,Ja(m,T,w,N,f)),f&&H&2048&&rm(T.alternate,T);break;case 24:Ja(m,T,w,N,f),f&&H&2048&&sm(T.alternate,T);break;default:Ja(m,T,w,N,f)}r=r.sibling}}function Ol(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Ol(a,l),f&2048&&rm(l.alternate,l);break;case 24:Ol(a,l),f&2048&&sm(l.alternate,l);break;default:Ol(a,l)}r=r.sibling}}var Pl=8192;function eo(n){if(n.subtreeFlags&Pl)for(n=n.child;n!==null;)cv(n),n=n.sibling}function cv(n){switch(n.tag){case 26:eo(n),n.flags&Pl&&n.memoizedState!==null&&iR(ni,n.memoizedState,n.memoizedProps);break;case 5:eo(n);break;case 3:case 4:var r=ni;ni=rh(n.stateNode.containerInfo),eo(n),ni=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Pl,Pl=16777216,eo(n),Pl=r):eo(n));break;default:eo(n)}}function hv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ml(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,dv(l,n)}hv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fv(n),n=n.sibling}function fv(n){switch(n.tag){case 0:case 11:case 15:Ml(n),n.flags&2048&&Ur(9,n,n.return);break;case 3:Ml(n);break;case 12:Ml(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,$c(n)):Ml(n);break;default:Ml(n)}}function $c(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,dv(l,n)}hv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Ur(8,r,r.return),$c(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,$c(r));break;default:$c(r)}n=n.sibling}}function dv(n,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Ur(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=n;zt!==null;){l=zt;var f=l.sibling,m=l.return;if(rv(l),l===a){zt=null;break e}if(f!==null){f.return=m,zt=f;break e}zt=m}}}var vS={getCacheForType:function(n){var r=en(Pt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},ES=typeof WeakMap=="function"?WeakMap:Map,$e=0,tt=null,De=null,Le=0,Ye=0,Cn=null,qr=!1,to=!1,am=!1,cr=0,mt=0,Hr=0,ia=0,om=0,$n=0,no=0,kl=null,gn=null,lm=!1,um=0,Yc=1/0,Kc=null,Fr=null,Kt=0,Gr=null,io=null,ro=0,cm=0,hm=null,mv=null,Vl=0,fm=null;function In(){if(($e&2)!==0&&Le!==0)return Le&-Le;if(Q.T!==null){var n=Ga;return n!==0?n:vm()}return Rr()}function pv(){$n===0&&($n=(Le&536870912)===0||qe?Go():536870912);var n=Gn.current;return n!==null&&(n.flags|=32),$n}function Nn(n,r,a){(n===tt&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)&&(so(n,0),$r(n,Le,$n,!1)),qi(n,a),(($e&2)===0||n!==tt)&&(n===tt&&(($e&2)===0&&(ia|=a),mt===4&&$r(n,Le,$n,!1)),Ci(n))}function gv(n,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||Ns(n,r),f=l?wS(n,r):pm(n,r,!0),m=l;do{if(f===0){to&&!l&&$r(n,r,0,!1);break}else{if(a=n.current.alternate,m&&!TS(a)){f=pm(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var w=n;f=kl;var N=w.current.memoizedState.isDehydrated;if(N&&(so(w,T).flags|=256),T=pm(w,T,!1),T!==2){if(am&&!N){w.errorRecoveryDisabledLanes|=m,ia|=m,f=4;break e}m=gn,gn=f,m!==null&&(gn===null?gn=m:gn.push.apply(gn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){so(n,0),$r(n,r,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:$r(l,r,$n,!qr);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=um+300-kn(),10<f)){if($r(l,r,$n,!qr),ba(l,0,!0)!==0)break e;l.timeoutHandle=Gv(yv.bind(null,l,a,gn,Kc,lm,r,$n,ia,no,qr,m,2,-0,0),f);break e}yv(l,a,gn,Kc,lm,r,$n,ia,no,qr,m,0,-0,0)}}break}while(!0);Ci(n)}function yv(n,r,a,l,f,m,T,w,N,H,X,ee,F,G){if(n.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:nR},cv(r),ee=rR(),ee!==null)){n.cancelPendingCommit=ee(Av.bind(null,n,r,m,a,l,f,T,w,N,X,1,F,G)),$r(n,m,T,!H);return}Av(n,r,m,a,l,f,T,w,N)}function TS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!wn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(n,r,a,l){r&=~om,r&=~ia,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var m=31-Jt(f),T=1<<m;l[m]=-1,f&=~T}a!==0&&fi(n,a,r)}function Qc(){return($e&6)===0?(jl(0),!1):!0}function dm(){if(De!==null){if(Ye===0)var n=De.return;else n=De,nr=Ws=null,xd(n),Wa=null,Cl=0,n=De;for(;n!==null;)X_(n.alternate,n),n=n.return;De=null}}function so(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,US(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),dm(),tt=n,De=a=Ji(n.current,null),Le=r,Ye=0,Cn=null,qr=!1,to=Ns(n,r),am=!1,no=$n=om=ia=Hr=mt=0,gn=kl=null,lm=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Jt(l),m=1<<f;r|=n[f],l&=~m}return cr=r,yc(),a}function _v(n,r){Ie=null,Q.H=Vc,r===_l||r===Rc?(r=ky(),Ye=3):r===Oy?(r=ky(),Ye=4):Ye=r===V_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Cn=r,De===null&&(mt=1,zc(n,zn(r,n.current)))}function vv(){var n=Q.H;return Q.H=Vc,n===null?Vc:n}function Ev(){var n=Q.A;return Q.A=vS,n}function mm(){mt=4,qr||(Le&4194048)!==Le&&Gn.current!==null||(to=!0),(Hr&134217727)===0&&(ia&134217727)===0||tt===null||$r(tt,Le,$n,!1)}function pm(n,r,a){var l=$e;$e|=2;var f=vv(),m=Ev();(tt!==n||Le!==r)&&(Kc=null,so(n,r)),r=!1;var T=mt;e:do try{if(Ye!==0&&De!==null){var w=De,N=Cn;switch(Ye){case 8:dm(),T=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(r=!0);var H=Ye;if(Ye=0,Cn=null,ao(n,w,N,H),a&&to){T=0;break e}break;default:H=Ye,Ye=0,Cn=null,ao(n,w,N,H)}}bS(),T=mt;break}catch(X){_v(n,X)}while(!0);return r&&n.shellSuspendCounter++,nr=Ws=null,$e=l,Q.H=f,Q.A=m,De===null&&(tt=null,Le=0,yc()),T}function bS(){for(;De!==null;)Tv(De)}function wS(n,r){var a=$e;$e|=2;var l=vv(),f=Ev();tt!==n||Le!==r?(Kc=null,Yc=kn()+500,so(n,r)):to=Ns(n,r);e:do try{if(Ye!==0&&De!==null){r=De;var m=Cn;t:switch(Ye){case 1:Ye=0,Cn=null,ao(n,r,m,1);break;case 2:case 9:if(Py(m)){Ye=0,Cn=null,bv(r);break}r=function(){Ye!==2&&Ye!==9||tt!==n||(Ye=7),Ci(n)},m.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Py(m)?(Ye=0,Cn=null,bv(r)):(Ye=0,Cn=null,ao(n,r,m,7));break;case 5:var T=null;switch(De.tag){case 26:T=De.memoizedState;case 5:case 27:var w=De;if(!T||iE(T)){Ye=0,Cn=null;var N=w.sibling;if(N!==null)De=N;else{var H=w.return;H!==null?(De=H,Xc(H)):De=null}break t}}Ye=0,Cn=null,ao(n,r,m,5);break;case 6:Ye=0,Cn=null,ao(n,r,m,6);break;case 8:dm(),mt=6;break e;default:throw Error(s(462))}}AS();break}catch(X){_v(n,X)}while(!0);return nr=Ws=null,Q.H=l,Q.A=f,$e=a,De!==null?0:(tt=null,Le=0,yc(),mt)}function AS(){for(;De!==null&&!zo();)Tv(De)}function Tv(n){var r=K_(n.alternate,n,cr);n.memoizedProps=n.pendingProps,r===null?Xc(n):De=r}function bv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=q_(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=q_(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:xd(r);default:X_(a,r),r=De=wy(r,cr),r=K_(a,r,cr)}n.memoizedProps=n.pendingProps,r===null?Xc(n):De=r}function ao(n,r,a,l){nr=Ws=null,xd(r),Wa=null,Cl=0;var f=r.return;try{if(dS(n,f,r,a,Le)){mt=1,zc(n,zn(a,n.current)),De=null;return}}catch(m){if(f!==null)throw De=f,m;mt=1,zc(n,zn(a,n.current)),De=null;return}r.flags&32768?(qe||l===1?n=!0:to||(Le&536870912)!==0?n=!1:(qr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),wv(r,n)):Xc(r)}function Xc(n){var r=n;do{if((r.flags&32768)!==0){wv(r,qr);return}n=r.return;var a=pS(r.alternate,r,cr);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=n}while(r!==null);mt===0&&(mt=5)}function wv(n,r){do{var a=gS(n.alternate,n);if(a!==null){a.flags&=32767,De=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){De=n;return}De=n=a}while(n!==null);mt=6,De=null}function Av(n,r,a,l,f,m,T,w,N){n.cancelPendingCommit=null;do Wc();while(Kt!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=sd,Yo(n,a,m,T,w,N),n===tt&&(De=tt=null,Le=0),io=r,Gr=n,ro=a,cm=m,hm=f,mv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,IS(Ss,function(){return Nv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=ue.p,ue.p=2,T=$e,$e|=4;try{yS(n,r,a)}finally{$e=T,ue.p=f,Q.T=l}}Kt=1,Sv(),Rv(),Cv()}}function Sv(){if(Kt===1){Kt=0;var n=Gr,r=io,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ue.p;ue.p=2;var f=$e;$e|=4;try{ov(r,n);var m=Cm,T=dy(n.containerInfo),w=m.focusedElem,N=m.selectionRange;if(T!==w&&w&&w.ownerDocument&&fy(w.ownerDocument.documentElement,w)){if(N!==null&&ed(w)){var H=N.start,X=N.end;if(X===void 0&&(X=H),"selectionStart"in w)w.selectionStart=H,w.selectionEnd=Math.min(X,w.value.length);else{var ee=w.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var G=F.getSelection(),be=w.textContent.length,ve=Math.min(N.start,be),Ze=N.end===void 0?ve:Math.min(N.end,be);!G.extend&&ve>Ze&&(T=Ze,Ze=ve,ve=T);var j=hy(w,ve),P=hy(w,Ze);if(j&&P&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==P.node||G.focusOffset!==P.offset)){var q=ee.createRange();q.setStart(j.node,j.offset),G.removeAllRanges(),ve>Ze?(G.addRange(q),G.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),G.addRange(q))}}}}for(ee=[],G=w;G=G.parentNode;)G.nodeType===1&&ee.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var Z=ee[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}uh=!!Rm,Cm=Rm=null}finally{$e=f,ue.p=l,Q.T=a}}n.current=r,Kt=2}}function Rv(){if(Kt===2){Kt=0;var n=Gr,r=io,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ue.p;ue.p=2;var f=$e;$e|=4;try{iv(n,r.alternate,r)}finally{$e=f,ue.p=l,Q.T=a}}Kt=3}}function Cv(){if(Kt===4||Kt===3){Kt=0,$u();var n=Gr,r=io,a=ro,l=mv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Kt=5:(Kt=0,io=Gr=null,Iv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Fr=null),wa(a),r=r.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ft,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,f=ue.p,ue.p=2,Q.T=null;try{for(var m=n.onRecoverableError,T=0;T<l.length;T++){var w=l[T];m(w.value,{componentStack:w.stack})}}finally{Q.T=r,ue.p=f}}(ro&3)!==0&&Wc(),Ci(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===fm?Vl++:(Vl=0,fm=n):Vl=0,jl(0)}}function Iv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,gl(r)))}function Wc(n){return Sv(),Rv(),Cv(),Nv()}function Nv(){if(Kt!==5)return!1;var n=Gr,r=cm;cm=0;var a=wa(ro),l=Q.T,f=ue.p;try{ue.p=32>a?32:a,Q.T=null,a=hm,hm=null;var m=Gr,T=ro;if(Kt=0,io=Gr=null,ro=0,($e&6)!==0)throw Error(s(331));var w=$e;if($e|=4,fv(m.current),uv(m,m.current,T,a),$e=w,jl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ft,m)}catch{}return!0}finally{ue.p=f,Q.T=l,Iv(n,r)}}function xv(n,r,a){r=zn(a,r),r=Fd(n.stateNode,r,2),n=kr(n,r,2),n!==null&&(qi(n,2),Ci(n))}function Je(n,r,a){if(n.tag===3)xv(n,n,a);else for(;r!==null;){if(r.tag===3){xv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){n=zn(a,n),a=M_(2),l=kr(r,a,2),l!==null&&(k_(a,l,r,n),qi(l,2),Ci(l));break}}r=r.return}}function gm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new ES;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(am=!0,f.add(a),n=SS.bind(null,n,r,a),r.then(n,n))}function SS(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(Le&a)===a&&(mt===4||mt===3&&(Le&62914560)===Le&&300>kn()-um?($e&2)===0&&so(n,0):om|=a,no===Le&&(no=0)),Ci(n)}function Dv(n,r){r===0&&(r=$o()),n=za(n,r),n!==null&&(qi(n,r),Ci(n))}function RS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Dv(n,a)}function CS(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Dv(n,a)}function IS(n,r){return ws(n,r)}var Zc=null,oo=null,ym=!1,Jc=!1,_m=!1,ra=0;function Ci(n){n!==oo&&n.next===null&&(oo===null?Zc=oo=n:oo=oo.next=n),Jc=!0,ym||(ym=!0,xS())}function jl(n,r){if(!_m&&Jc){_m=!0;do for(var a=!1,l=Zc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-Jt(42|n)+1)-1,m&=f&~(T&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,kv(l,m))}else m=Le,m=ba(l,l===tt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ns(l,m)||(a=!0,kv(l,m));l=l.next}while(a);_m=!1}}function NS(){Ov()}function Ov(){Jc=ym=!1;var n=0;ra!==0&&(LS()&&(n=ra),ra=0);for(var r=kn(),a=null,l=Zc;l!==null;){var f=l.next,m=Pv(l,r);m===0?(l.next=null,a===null?Zc=f:a.next=f,f===null&&(oo=a)):(a=l,(n!==0||(m&3)!==0)&&(Jc=!0)),l=f}jl(n)}function Pv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-Jt(m),w=1<<T,N=f[T];N===-1?((w&a)===0||(w&l)!==0)&&(f[T]=Fo(w,r)):N<=r&&(n.expiredLanes|=w),m&=~w}if(r=tt,a=Le,a=ba(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&As(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ns(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&As(l),wa(a)){case 2:case 8:a=Ea;break;case 32:a=Ss;break;case 268435456:a=Ta;break;default:a=Ss}return l=Mv.bind(null,n),a=ws(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&As(l),n.callbackPriority=2,n.callbackNode=null,2}function Mv(n,r){if(Kt!==0&&Kt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Wc()&&n.callbackNode!==a)return null;var l=Le;return l=ba(n,n===tt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(gv(n,l,r),Pv(n,kn()),n.callbackNode!=null&&n.callbackNode===a?Mv.bind(null,n):null)}function kv(n,r){if(Wc())return null;gv(n,r,!0)}function xS(){BS(function(){($e&6)!==0?ws(qo,NS):Ov()})}function vm(){return ra===0&&(ra=Go()),ra}function Vv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Na(""+n)}function jv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function DS(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=Vv((f[bt]||null).action),T=l.submitter;T&&(r=(r=T[bt]||null)?Vv(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var w=new xa("action","action",null,l,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ra!==0){var N=T?jv(f,T):new FormData(f);Ud(a,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(w.preventDefault(),N=T?jv(f,T):new FormData(f),Ud(a,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var Em=0;Em<rd.length;Em++){var Tm=rd[Em],OS=Tm.toLowerCase(),PS=Tm[0].toUpperCase()+Tm.slice(1);ti(OS,"on"+PS)}ti(gy,"onAnimationEnd"),ti(yy,"onAnimationIteration"),ti(_y,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(XA,"onTransitionRun"),ti(WA,"onTransitionStart"),ti(ZA,"onTransitionCancel"),ti(vy,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Lv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var T=l.length-1;0<=T;T--){var w=l[T],N=w.instance,H=w.currentTarget;if(w=w.listener,N!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=H;try{m(f)}catch(X){Bc(X)}f.currentTarget=null,m=N}else for(T=0;T<l.length;T++){if(w=l[T],N=w.instance,H=w.currentTarget,w=w.listener,N!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=H;try{m(f)}catch(X){Bc(X)}f.currentTarget=null,m=N}}}}function Oe(n,r){var a=r[Qo];a===void 0&&(a=r[Qo]=new Set);var l=n+"__bubble";a.has(l)||(Uv(r,n,2,!1),a.add(l))}function bm(n,r,a){var l=0;r&&(l|=4),Uv(a,n,l,r)}var eh="_reactListening"+Math.random().toString(36).slice(2);function wm(n){if(!n[eh]){n[eh]=!0,Xo.forEach(function(a){a!=="selectionchange"&&(MS.has(a)||bm(a,!1,n),bm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[eh]||(r[eh]=!0,bm("selectionchange",!1,r))}}function Uv(n,r,a,l){switch(uE(r)){case 2:var f=oR;break;case 8:f=lR;break;default:f=jm}a=f.bind(null,r,a,n),f=void 0,!Un||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Am(n,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var w=l.stateNode.containerInfo;if(w===f)break;if(T===4)for(T=l.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;w!==null;){if(T=Hi(w),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){l=m=T;continue e}w=w.parentNode}}l=l.return}nc(function(){var H=m,X=Ln(a),ee=[];e:{var F=Ey.get(n);if(F!==void 0){var G=xa,be=n;switch(n){case"keypress":if(_i(a)===0)break e;case"keydown":case"keyup":G=Va;break;case"focusin":be="focus",G=Pa;break;case"focusout":be="blur",G=Pa;break;case"beforeblur":case"afterblur":G=Pa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=cc;break;case gy:case yy:case _y:G=Ma;break;case vy:G=fc;break;case"scroll":case"scrollend":G=ic;break;case"wheel":G=ja;break;case"copy":case"cut":case"paste":G=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ll;break;case"toggle":case"beforetoggle":G=mc}var ve=(r&4)!==0,Ze=!ve&&(n==="scroll"||n==="scrollend"),j=ve?F!==null?F+"Capture":null:F;ve=[];for(var P=H,q;P!==null;){var Z=P;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||j===null||(Z=js(P,j),Z!=null&&ve.push(Ul(P,Z,q))),Ze)break;P=P.return}0<ve.length&&(F=new G(F,be,null,a,X),ee.push({event:F,listeners:ve}))}}if((r&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",F&&a!==Yi&&(be=a.relatedTarget||a.fromElement)&&(Hi(be)||be[Vn]))break e;if((G||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,G?(be=a.relatedTarget||a.toElement,G=H,be=be?Hi(be):null,be!==null&&(Ze=u(be),ve=be.tag,be!==Ze||ve!==5&&ve!==27&&ve!==6)&&(be=null)):(G=null,be=H),G!==be)){if(ve=Bn,Z="onMouseLeave",j="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(ve=ll,Z="onPointerLeave",j="onPointerEnter",P="pointer"),Ze=G==null?F:mi(G),q=be==null?F:mi(be),F=new ve(Z,P+"leave",G,a,X),F.target=Ze,F.relatedTarget=q,Z=null,Hi(X)===H&&(ve=new ve(j,P+"enter",be,a,X),ve.target=q,ve.relatedTarget=Ze,Z=ve),Ze=Z,G&&be)t:{for(ve=G,j=be,P=0,q=ve;q;q=lo(q))P++;for(q=0,Z=j;Z;Z=lo(Z))q++;for(;0<P-q;)ve=lo(ve),P--;for(;0<q-P;)j=lo(j),q--;for(;P--;){if(ve===j||j!==null&&ve===j.alternate)break t;ve=lo(ve),j=lo(j)}ve=null}else ve=null;G!==null&&Bv(ee,F,G,ve,!1),be!==null&&Ze!==null&&Bv(ee,Ze,be,ve,!0)}}e:{if(F=H?mi(H):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var me=sy;else if(Ot(F))if(ay)me=YA;else{me=GA;var xe=FA}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&tl(H.elementType)&&(me=sy):me=$A;if(me&&(me=me(n,H))){Zi(ee,me,a,X);break e}xe&&xe(n,F,H),n==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&xr(F,"number",F.value)}switch(xe=H?mi(H):window,n){case"focusin":(Ot(xe)||xe.contentEditable==="true")&&(La=xe,td=H,hl=null);break;case"focusout":hl=td=La=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,my(ee,a,X);break;case"selectionchange":if(QA)break;case"keydown":case"keyup":my(ee,a,X)}var pe;if(Ti)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ve?Y(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(E&&a.locale!=="ko"&&(Ve||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ve&&(pe=il()):(yi=X,Dr="value"in yi?yi.value:yi.textContent,Ve=!0)),xe=th(H,Ee),0<xe.length&&(Ee=new al(Ee,n,null,a,X),ee.push({event:Ee,listeners:xe}),pe?Ee.data=pe:(pe=le(a),pe!==null&&(Ee.data=pe)))),(pe=_?Dt(n,a):je(n,a))&&(Ee=th(H,"onBeforeInput"),0<Ee.length&&(xe=new al("onBeforeInput","beforeinput",null,a,X),ee.push({event:xe,listeners:Ee}),xe.data=pe)),DS(ee,n,H,a,X)}Lv(ee,r)})}function Ul(n,r,a){return{instance:n,listener:r,currentTarget:a}}function th(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=js(n,a),f!=null&&l.unshift(Ul(n,f,m)),f=js(n,r),f!=null&&l.push(Ul(n,f,m))),n.tag===3)return l;n=n.return}return[]}function lo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Bv(n,r,a,l,f){for(var m=r._reactName,T=[];a!==null&&a!==l;){var w=a,N=w.alternate,H=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||H===null||(N=H,f?(H=js(a,m),H!=null&&T.unshift(Ul(a,H,N))):f||(H=js(a,m),H!=null&&T.push(Ul(a,H,N)))),a=a.return}T.length!==0&&n.push({event:r,listeners:T})}var kS=/\r\n?/g,VS=/\u0000|\uFFFD/g;function zv(n){return(typeof n=="string"?n:""+n).replace(kS,`
`).replace(VS,"")}function qv(n,r){return r=zv(r),zv(n)===r}function nh(){}function We(n,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||jn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&jn(n,""+l);break;case"className":pi(n,"class",l);break;case"tabIndex":pi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(n,a,l);break;case"style":el(n,l,m);break;case"data":if(r!=="object"){pi(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Na(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&We(n,r,"name",f.name,f,null),We(n,r,"formEncType",f.formEncType,f,null),We(n,r,"formMethod",f.formMethod,f,null),We(n,r,"formTarget",f.formTarget,f,null)):(We(n,r,"encType",f.encType,f,null),We(n,r,"method",f.method,f,null),We(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Na(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=nh);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Na(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),Nr(n,"popover",l);break;case"xlinkActuate":Gt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Nr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Kf.get(a)||a,Nr(n,a,l))}}function Sm(n,r,a,l,f,m){switch(a){case"style":el(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?jn(n,l):(typeof l=="number"||typeof l=="bigint")&&jn(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=nh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[bt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Nr(n,a,l)}}}function Qt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,m,T,a,null)}}f&&We(n,r,"srcSet",a.srcSet,a,null),l&&We(n,r,"src",a.src,a,null);return;case"input":Oe("invalid",n);var w=m=T=f=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":T=X;break;case"checked":N=X;break;case"defaultChecked":H=X;break;case"value":m=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:We(n,r,l,X,a,null)}}Ms(n,m,w,N,H,T,f,!1),Ia(n);return;case"select":Oe("invalid",n),l=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":T=w;break;case"multiple":l=w;default:We(n,r,f,w,a,null)}r=m,a=T,n.multiple=!!l,r!=null?$i(n,!!l,r,!1):a!=null&&$i(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),m=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(w=a[T],w!=null))switch(T){case"value":l=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:We(n,r,T,w,a,null)}ks(n,l,f,m),Ia(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(n,r,N,l,a,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Oe(Ll[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,H,l,a,null)}return;default:if(tl(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Sm(n,r,X,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&We(n,r,w,l,a,null))}function jS(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,w=null,N=null,H=null,X=null;for(G in a){var ee=a[G];if(a.hasOwnProperty(G)&&ee!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(G)||We(n,r,G,null,l,ee)}}for(var F in l){var G=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(G!=null||ee!=null))switch(F){case"type":m=G;break;case"name":f=G;break;case"checked":H=G;break;case"defaultChecked":X=G;break;case"value":T=G;break;case"defaultValue":w=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==ee&&We(n,r,F,G,l,ee)}}bn(n,T,w,N,H,X,m,f);return;case"select":G=T=w=F=null;for(m in a)if(N=a[m],a.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":G=N;default:l.hasOwnProperty(m)||We(n,r,m,null,l,N)}for(f in l)if(m=l[f],N=a[f],l.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":F=m;break;case"defaultValue":w=m;break;case"multiple":T=m;default:m!==N&&We(n,r,f,m,l,N)}r=w,a=T,l=G,F!=null?$i(n,!!a,F,!1):!!l!=!!a&&(r!=null?$i(n,!!a,r,!0):$i(n,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:We(n,r,w,null,l,f)}for(T in l)if(f=l[T],m=a[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":F=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&We(n,r,T,f,l,m)}Qe(n,F,G);return;case"option":for(var be in a)if(F=a[be],a.hasOwnProperty(be)&&F!=null&&!l.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:We(n,r,be,null,l,F)}for(N in l)if(F=l[N],G=a[N],l.hasOwnProperty(N)&&F!==G&&(F!=null||G!=null))switch(N){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(n,r,N,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)F=a[ve],a.hasOwnProperty(ve)&&F!=null&&!l.hasOwnProperty(ve)&&We(n,r,ve,null,l,F);for(H in l)if(F=l[H],G=a[H],l.hasOwnProperty(H)&&F!==G&&(F!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:We(n,r,H,F,l,G)}return;default:if(tl(r)){for(var Ze in a)F=a[Ze],a.hasOwnProperty(Ze)&&F!==void 0&&!l.hasOwnProperty(Ze)&&Sm(n,r,Ze,void 0,l,F);for(X in l)F=l[X],G=a[X],!l.hasOwnProperty(X)||F===G||F===void 0&&G===void 0||Sm(n,r,X,F,l,G);return}}for(var j in a)F=a[j],a.hasOwnProperty(j)&&F!=null&&!l.hasOwnProperty(j)&&We(n,r,j,null,l,F);for(ee in l)F=l[ee],G=a[ee],!l.hasOwnProperty(ee)||F===G||F==null&&G==null||We(n,r,ee,F,l,G)}var Rm=null,Cm=null;function ih(n){return n.nodeType===9?n:n.ownerDocument}function Hv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Im(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Nm=null;function LS(){var n=window.event;return n&&n.type==="popstate"?n===Nm?!1:(Nm=n,!0):(Nm=null,!1)}var Gv=typeof setTimeout=="function"?setTimeout:void 0,US=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,BS=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(n){return $v.resolve(null).then(n).catch(zS)}:Gv;function zS(n){setTimeout(function(){throw n})}function Yr(n){return n==="head"}function Yv(n,r){var a=r,l=0,f=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=n.ownerDocument;if(a&1&&Bl(T.documentElement),a&2&&Bl(T.body),a&4)for(a=T.head,Bl(a),T=a.firstChild;T;){var w=T.nextSibling,N=T.nodeName;T[xs]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=w}}if(f===0){n.removeChild(m),Kl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Kl(r)}function xm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xm(a),Ir(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function qS(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[xs])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=ii(n.nextSibling),n===null)break}return null}function HS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ii(n.nextSibling),n===null))return null;return n}function Dm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function FS(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ii(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Om=null;function Kv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Qv(n,r,a){switch(r=ih(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Bl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Ir(n)}var Yn=new Map,Xv=new Set;function rh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var hr=ue.d;ue.d={f:GS,r:$S,D:YS,C:KS,L:QS,m:XS,X:ZS,S:WS,M:JS};function GS(){var n=hr.f(),r=Qc();return n||r}function $S(n){var r=di(n);r!==null&&r.tag===5&&r.type==="form"?g_(r):hr.r(n)}var uo=typeof document>"u"?null:document;function Wv(n,r,a){var l=uo;if(l&&typeof r=="string"&&r){var f=wt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Xv.has(f)||(Xv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Qt(r,"link",n),_t(r),l.head.appendChild(r)))}}function YS(n){hr.D(n),Wv("dns-prefetch",n,null)}function KS(n,r){hr.C(n,r),Wv("preconnect",n,r)}function QS(n,r,a){hr.L(n,r,a);var l=uo;if(l&&n&&r){var f='link[rel="preload"][as="'+wt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+wt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+wt(a.imageSizes)+'"]')):f+='[href="'+wt(n)+'"]';var m=f;switch(r){case"style":m=co(n);break;case"script":m=ho(n)}Yn.has(m)||(n=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Yn.set(m,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(zl(m))||r==="script"&&l.querySelector(ql(m))||(r=l.createElement("link"),Qt(r,"link",n),_t(r),l.head.appendChild(r)))}}function XS(n,r){hr.m(n,r);var a=uo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+wt(l)+'"][href="'+wt(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ho(n)}if(!Yn.has(m)&&(n=v({rel:"modulepreload",href:n},r),Yn.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ql(m)))return}l=a.createElement("link"),Qt(l,"link",n),_t(l),a.head.appendChild(l)}}}function WS(n,r,a){hr.S(n,r,a);var l=uo;if(l&&n){var f=un(l).hoistableStyles,m=co(n);r=r||"default";var T=f.get(m);if(!T){var w={loading:0,preload:null};if(T=l.querySelector(zl(m)))w.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Yn.get(m))&&Pm(n,a);var N=T=l.createElement("link");_t(N),Qt(N,"link",n),N._p=new Promise(function(H,X){N.onload=H,N.onerror=X}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,sh(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:w},f.set(m,T)}}}function ZS(n,r){hr.X(n,r);var a=uo;if(a&&n){var l=un(a).hoistableScripts,f=ho(n),m=l.get(f);m||(m=a.querySelector(ql(f)),m||(n=v({src:n,async:!0},r),(r=Yn.get(f))&&Mm(n,r),m=a.createElement("script"),_t(m),Qt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function JS(n,r){hr.M(n,r);var a=uo;if(a&&n){var l=un(a).hoistableScripts,f=ho(n),m=l.get(f);m||(m=a.querySelector(ql(f)),m||(n=v({src:n,async:!0,type:"module"},r),(r=Yn.get(f))&&Mm(n,r),m=a.createElement("script"),_t(m),Qt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Zv(n,r,a,l){var f=(f=we.current)?rh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=co(a.href),a=un(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=co(a.href);var m=un(f).hoistableStyles,T=m.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=f.querySelector(zl(n)))&&!m._p&&(T.instance=m,T.state.loading=5),Yn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(n,a),m||eR(f,n,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ho(a),a=un(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function co(n){return'href="'+wt(n)+'"'}function zl(n){return'link[rel="stylesheet"]['+n+"]"}function Jv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function eR(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Qt(r,"link",a),_t(r),n.head.appendChild(r))}function ho(n){return'[src="'+wt(n)+'"]'}function ql(n){return"script[async]"+n}function eE(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+wt(a.href)+'"]');if(l)return r.instance=l,_t(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),_t(l),Qt(l,"style",f),sh(l,a.precedence,n),r.instance=l;case"stylesheet":f=co(a.href);var m=n.querySelector(zl(f));if(m)return r.state.loading|=4,r.instance=m,_t(m),m;l=Jv(a),(f=Yn.get(f))&&Pm(l,f),m=(n.ownerDocument||n).createElement("link"),_t(m);var T=m;return T._p=new Promise(function(w,N){T.onload=w,T.onerror=N}),Qt(m,"link",l),r.state.loading|=4,sh(m,a.precedence,n),r.instance=m;case"script":return m=ho(a.src),(f=n.querySelector(ql(m)))?(r.instance=f,_t(f),f):(l=a,(f=Yn.get(m))&&(l=v({},a),Mm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),_t(f),Qt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,sh(l,a.precedence,n));return r.instance}function sh(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var w=l[T];if(w.dataset.precedence===r)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Pm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Mm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var ah=null;function tE(n,r,a){if(ah===null){var l=new Map,f=ah=new Map;f.set(a,l)}else f=ah,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[xs]||m[xt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=n+T;var w=l.get(T);w?w.push(m):l.set(T,[m])}}return l}function nE(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function tR(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function iE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Hl=null;function nR(){}function iR(n,r,a){if(Hl===null)throw Error(s(475));var l=Hl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=co(a.href),m=n.querySelector(zl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=oh.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=m,_t(m);return}m=n.ownerDocument||n,a=Jv(a),(f=Yn.get(f))&&Pm(a,f),m=m.createElement("link"),_t(m);var T=m;T._p=new Promise(function(w,N){T.onload=w,T.onerror=N}),Qt(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=oh.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function rR(){if(Hl===null)throw Error(s(475));var n=Hl;return n.stylesheets&&n.count===0&&km(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&km(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function oh(){if(this.count--,this.count===0){if(this.stylesheets)km(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var lh=null;function km(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,lh=new Map,r.forEach(sR,n),lh=null,oh.call(n))}function sR(n,r){if(!(r.state.loading&4)){var a=lh.get(n);if(a)var l=a.get(null);else{a=new Map,lh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,f),a.set(T,f),this.count++,l=oh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Fl={$$typeof:K,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function aR(n,r,a,l,f,m,T,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function rE(n,r,a,l,f,m,T,w,N,H,X,ee){return n=new aR(n,r,a,T,w,N,H,ee),r=1,m===!0&&(r|=24),m=An(3,null,null,r),n.current=m,m.stateNode=n,r=gd(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},Ed(m),n}function sE(n){return n?(n=qa,n):qa}function aE(n,r,a,l,f,m){f=sE(f),l.context===null?l.context=f:l.pendingContext=f,l=Mr(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=kr(n,l,r),a!==null&&(Nn(a,n,r),El(a,n,r))}function oE(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Vm(n,r){oE(n,r),(n=n.alternate)&&oE(n,r)}function lE(n){if(n.tag===13){var r=za(n,67108864);r!==null&&Nn(r,n,67108864),Vm(n,67108864)}}var uh=!0;function oR(n,r,a,l){var f=Q.T;Q.T=null;var m=ue.p;try{ue.p=2,jm(n,r,a,l)}finally{ue.p=m,Q.T=f}}function lR(n,r,a,l){var f=Q.T;Q.T=null;var m=ue.p;try{ue.p=8,jm(n,r,a,l)}finally{ue.p=m,Q.T=f}}function jm(n,r,a,l){if(uh){var f=Lm(l);if(f===null)Am(n,r,l,ch,a),cE(n,l);else if(cR(f,n,r,a,l))l.stopPropagation();else if(cE(n,l),r&4&&-1<uR.indexOf(n)){for(;f!==null;){var m=di(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Zn(m.pendingLanes);if(T!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var N=1<<31-Jt(T);w.entanglements[1]|=N,T&=~N}Ci(m),($e&6)===0&&(Yc=kn()+500,jl(0))}}break;case 13:w=za(m,2),w!==null&&Nn(w,m,2),Qc(),Vm(m,2)}if(m=Lm(l),m===null&&Am(n,r,l,ch,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Am(n,r,l,null,a)}}function Lm(n){return n=Ln(n),Um(n)}var ch=null;function Um(n){if(ch=null,n=Hi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return ch=n,null}function uE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qf()){case qo:return 2;case Ea:return 8;case Ss:case Hf:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var Bm=!1,Kr=null,Qr=null,Xr=null,Gl=new Map,$l=new Map,Wr=[],uR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cE(n,r){switch(n){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Gl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(r.pointerId)}}function Yl(n,r,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=di(r),r!==null&&lE(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function cR(n,r,a,l,f){switch(r){case"focusin":return Kr=Yl(Kr,n,r,a,l,f),!0;case"dragenter":return Qr=Yl(Qr,n,r,a,l,f),!0;case"mouseover":return Xr=Yl(Xr,n,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return Gl.set(m,Yl(Gl.get(m)||null,n,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,$l.set(m,Yl($l.get(m)||null,n,r,a,l,f)),!0}return!1}function hE(n){var r=Hi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Qu(n.priority,function(){if(a.tag===13){var l=In();l=Sr(l);var f=za(a,l);f!==null&&Nn(f,a,l),Vm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function hh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Lm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Yi=l,a.target.dispatchEvent(l),Yi=null}else return r=di(a),r!==null&&lE(r),n.blockedOn=a,!1;r.shift()}return!0}function fE(n,r,a){hh(n)&&a.delete(r)}function hR(){Bm=!1,Kr!==null&&hh(Kr)&&(Kr=null),Qr!==null&&hh(Qr)&&(Qr=null),Xr!==null&&hh(Xr)&&(Xr=null),Gl.forEach(fE),$l.forEach(fE)}function fh(n,r){n.blockedOn===r&&(n.blockedOn=null,Bm||(Bm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,hR)))}var dh=null;function dE(n){dh!==n&&(dh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){dh===n&&(dh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(Um(l||a)===null)continue;break}var m=di(a);m!==null&&(n.splice(r,3),r-=3,Ud(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Kl(n){function r(N){return fh(N,n)}Kr!==null&&fh(Kr,n),Qr!==null&&fh(Qr,n),Xr!==null&&fh(Xr,n),Gl.forEach(r),$l.forEach(r);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)hE(a),a.blockedOn===null&&Wr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],T=f[bt]||null;if(typeof m=="function")T||dE(a);else if(T){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[bt]||null)w=T.formAction;else if(Um(f)!==null)continue}else w=T.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),dE(a)}}}function zm(n){this._internalRoot=n}mh.prototype.render=zm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=In();aE(a,l,n,r,null,null)},mh.prototype.unmount=zm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;aE(n.current,2,null,n,null,null),Qc(),r[Vn]=null}};function mh(n){this._internalRoot=n}mh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Rr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Wr.length&&r!==0&&r<Wr[a].priority;a++);Wr.splice(a,0,n),a===0&&hE(n)}};var mE=e.version;if(mE!=="19.1.1")throw Error(s(527,mE,"19.1.1"));ue.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var fR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{ft=ph.inject(fR),Ge=ph}catch{}}return Xl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=x_,m=D_,T=O_,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=rE(n,1,!1,null,null,a,l,f,m,T,w,null),n[Vn]=r.current,wm(n),new zm(r)},Xl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",m=x_,T=D_,w=O_,N=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),r=rE(n,1,!0,r,a??null,l,f,m,T,w,N,H),r.context=sE(null),a=r.current,l=In(),l=Sr(l),f=Mr(l),f.callback=null,kr(a,f,l),a=l,r.current.lanes=a,qi(r,a),Ci(r),n[Vn]=r.current,wm(n),new mh(r)},Xl.version="19.1.1",Xl}var AE;function bR(){if(AE)return Fm.exports;AE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Fm.exports=TR(),Fm.exports}var wR=bR();const AR=Ab(wR);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var SE="popstate";function SR(i={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return fp("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Eu(o)}return CR(e,t,null,i)}function ot(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ai(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RR(){return Math.random().toString(36).substring(2,10)}function RE(i,e){return{usr:i.state,key:i.key,idx:e}}function fp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Do(e):e,state:t,key:e&&e.key||s||RR()}}function Eu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Do(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function CR(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function b(){d="POP";let L=v(),ne=L==null?null:L-g;g=L,p&&p({action:d,location:$.location,delta:ne})}function A(L,ne){d="PUSH";let W=fp($.location,L,ne);g=v()+1;let K=RE(W,g),re=$.createHref(W);try{h.pushState(K,"",re)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(re)}u&&p&&p({action:d,location:$.location,delta:1})}function R(L,ne){d="REPLACE";let W=fp($.location,L,ne);g=v();let K=RE(W,g),re=$.createHref(W);h.replaceState(K,"",re),u&&p&&p({action:d,location:$.location,delta:0})}function k(L){return IR(L)}let $={get action(){return d},get location(){return i(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(SE,b),p=L,()=>{o.removeEventListener(SE,b),p=null}},createHref(L){return e(o,L)},createURL:k,encodeLocation(L){let ne=k(L);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:A,replace:R,go(L){return h.go(L)}};return $}function IR(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ot(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Eu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Sb(i,e,t="/"){return NR(i,e,t,!1)}function NR(i,e,t,s){let o=typeof e=="string"?Do(e):e,u=gr(o.pathname||"/",t);if(u==null)return null;let h=Rb(i);xR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=zR(u);d=UR(h[p],g,s)}return d}function Rb(i,e=[],t=[],s="",o=!1){let u=(h,d,p=o,g)=>{let v={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;ot(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=mr([s,v.relativePath]),A=t.concat(v);h.children&&h.children.length>0&&(ot(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Rb(h.children,e,A,b,p)),!(h.path==null&&!h.index)&&e.push({path:b,score:jR(b,h.index),routesMeta:A})};return i.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))u(h,d);else for(let p of Cb(h.path))u(h,d,!0,p)}),e}function Cb(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=Cb(s.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function xR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:LR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var DR=/^:[\w-]+$/,OR=3,PR=2,MR=1,kR=10,VR=-2,CE=i=>i==="*";function jR(i,e){let t=i.split("/"),s=t.length;return t.some(CE)&&(s+=VR),e&&(s+=PR),t.filter(o=>!CE(o)).reduce((o,u)=>o+(DR.test(u)?OR:u===""?MR:kR),s)}function LR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function UR(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",b=Lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),A=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=Lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:mr([u,b.pathname]),pathnameBase:GR(mr([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=mr([u,b.pathnameBase]))}return h}function Lh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=BR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},A)=>{if(v==="*"){let k=d[A]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const R=d[A];return b&&!R?g[v]=void 0:g[v]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function BR(i,e=!1,t=!0){ai(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function zR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ai(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function gr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function qR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Do(i):i;return{pathname:t?t.startsWith("/")?t:HR(t,e):e,search:$R(s),hash:YR(o)}}function HR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Km(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Yp(i){let e=FR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Kp(i,e,t,s=!1){let o;typeof i=="string"?o=Do(i):(o={...i},ot(!o.pathname||!o.pathname.includes("?"),Km("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Km("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Km("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let b=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}d=b>=0?e[b]:"/"}let p=qR(o,d),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var mr=i=>i.join("/").replace(/\/\/+/g,"/"),GR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),$R=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,YR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function KR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Ib=["POST","PUT","PATCH","DELETE"];new Set(Ib);var QR=["GET",...Ib];new Set(QR);var Oo=B.createContext(null);Oo.displayName="DataRouter";var of=B.createContext(null);of.displayName="DataRouterState";B.createContext(!1);var Nb=B.createContext({isTransitioning:!1});Nb.displayName="ViewTransition";var XR=B.createContext(new Map);XR.displayName="Fetchers";var WR=B.createContext(null);WR.displayName="Await";var ui=B.createContext(null);ui.displayName="Navigation";var Ou=B.createContext(null);Ou.displayName="Location";var ji=B.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var Qp=B.createContext(null);Qp.displayName="RouteError";function ZR(i,{relative:e}={}){ot(Po(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=B.useContext(ui),{hash:o,pathname:u,search:h}=Pu(i,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:mr([t,u])),s.createHref({pathname:d,search:h,hash:o})}function Po(){return B.useContext(Ou)!=null}function Li(){return ot(Po(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Ou).location}var xb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Db(i){B.useContext(ui).static||B.useLayoutEffect(i)}function lf(){let{isDataRoute:i}=B.useContext(ji);return i?h1():JR()}function JR(){ot(Po(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(Oo),{basename:e,navigator:t}=B.useContext(ui),{matches:s}=B.useContext(ji),{pathname:o}=Li(),u=JSON.stringify(Yp(s)),h=B.useRef(!1);return Db(()=>{h.current=!0}),B.useCallback((p,g={})=>{if(ai(h.current,xb),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=Kp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:mr([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,i])}B.createContext(null);function Pu(i,{relative:e}={}){let{matches:t}=B.useContext(ji),{pathname:s}=Li(),o=JSON.stringify(Yp(t));return B.useMemo(()=>Kp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function e1(i,e){return Ob(i,e)}function Ob(i,e,t,s,o){ot(Po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(ui),{matches:h}=B.useContext(ji),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let W=b&&b.path||"";Pb(g,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let A=Li(),R;if(e){let W=typeof e=="string"?Do(e):e;ot(v==="/"||W.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),R=W}else R=A;let k=R.pathname||"/",$=k;if(v!=="/"){let W=v.replace(/^\//,"").split("/");$="/"+k.replace(/^\//,"").split("/").slice(W.length).join("/")}let L=Sb(i,{pathname:$});ai(b||L!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),ai(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=s1(L&&L.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:mr([v,u.encodeLocation?u.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:mr([v,u.encodeLocation?u.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),h,t,s,o);return e&&ne?B.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},ne):ne}function t1(){let i=c1(),e=KR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,h)}var n1=B.createElement(t1,null),i1=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?B.createElement(ji.Provider,{value:this.props.routeContext},B.createElement(Qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r1({routeContext:i,match:e,children:t}){let s=B.useContext(Oo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(ji.Provider,{value:i},t)}function s1(i,e=[],t=null,s=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let u=i,h=t?.errors;if(h!=null){let g=u.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);ot(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let d=!1,p=-1;if(t)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:b,errors:A}=t,R=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||R){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,v,b)=>{let A,R=!1,k=null,$=null;t&&(A=h&&v.route.id?h[v.route.id]:void 0,k=v.route.errorElement||n1,d&&(p<0&&b===0?(Pb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,$=null):p===b&&(R=!0,$=v.route.hydrateFallbackElement||null)));let L=e.concat(u.slice(0,b+1)),ne=()=>{let W;return A?W=k:R?W=$:v.route.Component?W=B.createElement(v.route.Component,null):v.route.element?W=v.route.element:W=g,B.createElement(r1,{match:v,routeContext:{outlet:g,matches:L,isDataRoute:t!=null},children:W})};return t&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?B.createElement(i1,{location:t.location,revalidation:t.revalidation,component:k,error:A,children:ne(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:s}):ne()},null)}function Xp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a1(i){let e=B.useContext(Oo);return ot(e,Xp(i)),e}function o1(i){let e=B.useContext(of);return ot(e,Xp(i)),e}function l1(i){let e=B.useContext(ji);return ot(e,Xp(i)),e}function Wp(i){let e=l1(i),t=e.matches[e.matches.length-1];return ot(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function u1(){return Wp("useRouteId")}function c1(){let i=B.useContext(Qp),e=o1("useRouteError"),t=Wp("useRouteError");return i!==void 0?i:e.errors?.[t]}function h1(){let{router:i}=a1("useNavigate"),e=Wp("useNavigate"),t=B.useRef(!1);return Db(()=>{t.current=!0}),B.useCallback(async(o,u={})=>{ai(t.current,xb),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var IE={};function Pb(i,e,t){!e&&!IE[i]&&(IE[i]=!0,ai(!1,t))}B.memo(f1);function f1({routes:i,future:e,state:t,unstable_onError:s}){return Ob(i,void 0,t,s,e)}function es({to:i,replace:e,state:t,relative:s}){ot(Po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(ui);ai(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(ji),{pathname:h}=Li(),d=lf(),p=Kp(i,Yp(u),h,s==="path"),g=JSON.stringify(p);return B.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function ut(i){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function d1({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ot(!Po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Do(t));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:A="default"}=t,R=B.useMemo(()=>{let k=gr(p,h);return k==null?null:{location:{pathname:k,search:g,hash:v,state:b,key:A},navigationType:s}},[h,p,g,v,b,A,s]);return ai(R!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:B.createElement(ui.Provider,{value:d},B.createElement(Ou.Provider,{children:e,value:R}))}function m1({children:i,location:e}){return e1(dp(i),e)}function dp(i,e=[]){let t=[];return B.Children.forEach(i,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){t.push.apply(t,dp(s.props.children,u));return}ot(s.type===ut,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=dp(s.props.children,u)),t.push(h)}),t}var Rh="get",Ch="application/x-www-form-urlencoded";function uf(i){return i!=null&&typeof i.tagName=="string"}function p1(i){return uf(i)&&i.tagName.toLowerCase()==="button"}function g1(i){return uf(i)&&i.tagName.toLowerCase()==="form"}function y1(i){return uf(i)&&i.tagName.toLowerCase()==="input"}function _1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function v1(i,e){return i.button===0&&(!e||e==="_self")&&!_1(i)}var gh=null;function E1(){if(gh===null)try{new FormData(document.createElement("form"),0),gh=!1}catch{gh=!0}return gh}var T1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qm(i){return i!=null&&!T1.has(i)?(ai(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ch}"`),null):i}function b1(i,e){let t,s,o,u,h;if(g1(i)){let d=i.getAttribute("action");s=d?gr(d,e):null,t=i.getAttribute("method")||Rh,o=Qm(i.getAttribute("enctype"))||Ch,u=new FormData(i)}else if(p1(i)||y1(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?gr(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||Rh,o=Qm(i.getAttribute("formenctype"))||Qm(d.getAttribute("enctype"))||Ch,u=new FormData(d,i),!E1()){let{name:g,type:v,value:b}=i;if(v==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,b)}}else{if(uf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Rh,s=null,o=Ch,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function w1(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&gr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function A1(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function S1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function R1(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await A1(u,t);return h.links?h.links():[]}return[]}));return x1(s.flat(1).filter(S1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function NE(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function C1(i,e,{includeHydrateFallback:t}={}){return I1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function I1(i){return[...new Set(i)]}function N1(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function x1(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(N1(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function Mb(){let i=B.useContext(Oo);return Zp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function D1(){let i=B.useContext(of);return Zp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Jp=B.createContext(void 0);Jp.displayName="FrameworkContext";function kb(){let i=B.useContext(Jp);return Zp(i,"You must render this element inside a <HydratedRouter> element"),i}function O1(i,e){let t=B.useContext(Jp),[s,o]=B.useState(!1),[u,h]=B.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,A=B.useRef(null);B.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=ne=>{ne.forEach(W=>{h(W.isIntersecting)})},L=new IntersectionObserver($,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[i]),B.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let R=()=>{o(!0)},k=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Wl(d,R),onBlur:Wl(p,k),onMouseEnter:Wl(g,R),onMouseLeave:Wl(v,k),onTouchStart:Wl(b,R)}]:[!1,A,{}]}function Wl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function P1({page:i,...e}){let{router:t}=Mb(),s=B.useMemo(()=>Sb(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?B.createElement(k1,{page:i,matches:s,...e}):null}function M1(i){let{manifest:e,routeModules:t}=kb(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return R1(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function k1({page:i,matches:e,...t}){let s=Li(),{manifest:o,routeModules:u}=kb(),{basename:h}=Mb(),{loaderData:d,matches:p}=D1(),g=B.useMemo(()=>NE(i,e,p,o,s,"data"),[i,e,p,o,s]),v=B.useMemo(()=>NE(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=B.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let k=new Set,$=!1;if(e.forEach(ne=>{let W=o.routes[ne.route.id];!W||!W.hasLoader||(!g.some(K=>K.route.id===ne.route.id)&&ne.route.id in d&&u[ne.route.id]?.shouldRevalidate||W.hasClientLoader?$=!0:k.add(ne.route.id))}),k.size===0)return[];let L=w1(i,h,"data");return $&&k.size>0&&L.searchParams.set("_routes",e.filter(ne=>k.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[L.pathname+L.search]},[h,d,s,o,g,e,i,u]),A=B.useMemo(()=>C1(v,o),[v,o]),R=M1(v);return B.createElement(B.Fragment,null,b.map(k=>B.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),A.map(k=>B.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),R.map(({key:k,link:$})=>B.createElement("link",{key:k,nonce:t.nonce,...$})))}function V1(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vb&&(window.__reactRouterVersion="7.8.2")}catch{}function j1({basename:i,children:e,window:t}){let s=B.useRef();s.current==null&&(s.current=SR({window:t,v5Compat:!0}));let o=s.current,[u,h]=B.useState({action:o.action,location:o.location}),d=B.useCallback(p=>{B.startTransition(()=>h(p))},[h]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.createElement(d1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xn=B.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:v,viewTransition:b,...A},R){let{basename:k}=B.useContext(ui),$=typeof g=="string"&&jb.test(g),L,ne=!1;if(typeof g=="string"&&$&&(L=g,Vb))try{let I=new URL(window.location.href),M=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=gr(M.pathname,k);M.origin===I.origin&&V!=null?g=V+M.search+M.hash:ne=!0}catch{ai(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=ZR(g,{relative:o}),[K,re,ae]=O1(s,A),ie=B1(g,{replace:h,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:b});function x(I){e&&e(I),I.defaultPrevented||ie(I)}let C=B.createElement("a",{...A,...ae,href:L||W,onClick:ne||u?e:x,ref:V1(R,re),target:p,"data-discover":!$&&t==="render"?"true":void 0});return K&&!$?B.createElement(B.Fragment,null,C,B.createElement(P1,{page:W})):C});xn.displayName="Link";var nt=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},v){let b=Pu(h,{relative:g.relative}),A=Li(),R=B.useContext(of),{navigator:k,basename:$}=B.useContext(ui),L=R!=null&&G1(b)&&d===!0,ne=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,W=A.pathname,K=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(W=W.toLowerCase(),K=K?K.toLowerCase():null,ne=ne.toLowerCase()),K&&$&&(K=gr(K,$)||K);const re=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let ae=W===ne||!o&&W.startsWith(ne)&&W.charAt(re)==="/",ie=K!=null&&(K===ne||!o&&K.startsWith(ne)&&K.charAt(ne.length)==="/"),x={isActive:ae,isPending:ie,isTransitioning:L},C=ae?e:void 0,I;typeof s=="function"?I=s(x):I=[s,ae?"active":null,ie?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(x):u;return B.createElement(xn,{...g,"aria-current":C,className:I,ref:v,style:M,to:h,viewTransition:d},typeof p=="function"?p(x):p)});nt.displayName="NavLink";var L1=B.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=Rh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...A},R)=>{let k=H1(),$=F1(d,{relative:g}),L=h.toLowerCase()==="get"?"get":"post",ne=typeof d=="string"&&jb.test(d),W=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let re=K.nativeEvent.submitter,ae=re?.getAttribute("formmethod")||h;k(re||K.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:b})};return B.createElement("form",{ref:R,method:L,action:$,onSubmit:s?p:W,...A,"data-discover":!ne&&i==="render"?"true":void 0})});L1.displayName="Form";function U1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lb(i){let e=B.useContext(Oo);return ot(e,U1(i)),e}function B1(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=lf(),p=Li(),g=Pu(i,{relative:u});return B.useCallback(v=>{if(v1(v,e)){v.preventDefault();let b=t!==void 0?t:Eu(p)===Eu(g);d(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,t,s,e,i,o,u,h])}var z1=0,q1=()=>`__${String(++z1)}__`;function H1(){let{router:i}=Lb("useSubmit"),{basename:e}=B.useContext(ui),t=u1();return B.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=b1(s,e);if(o.navigate===!1){let v=o.fetcherKey||q1();await i.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function F1(i,{relative:e}={}){let{basename:t}=B.useContext(ui),s=B.useContext(ji);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Pu(i||".",{relative:e})},h=Li();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:mr([t,u.pathname])),Eu(u)}function G1(i,{relative:e}={}){let t=B.useContext(Nb);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Lb("useViewTransitionState"),o=Pu(i,{relative:e});if(!t.isTransitioning)return!1;let u=gr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=gr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Lh(o.pathname,h)!=null||Lh(o.pathname,u)!=null}const $1="/mariachis-uclatlan/assets/IMG_1055-u3cmuSPQ.jpg",Y1="/mariachis-uclatlan/assets/inauguration-CnT_fCsw.jpg",K1="/mariachis-uclatlan/assets/juliofrenk-xh5a58GC.jpg",Q1=[$1,Y1,K1];function X1({images:i=Q1,autoPlayMs:e=5e3,showIndicators:t=!0,aspectRatio:s="16/9",className:o=""}){const[u,h]=B.useState(0),d=B.useRef(null),p=B.useRef(null),g=B.useRef(!1),v=B.useRef(null),b=B.useRef(0),A=i.length,R=B.useCallback(re=>{h((re%A+A)%A)},[A]),k=B.useCallback(()=>R(u+1),[R,u]),$=B.useCallback(()=>R(u-1),[R,u]);B.useEffect(()=>{const re=ae=>{ae.key==="ArrowRight"&&k(),ae.key==="ArrowLeft"&&$()};return window.addEventListener("keydown",re),()=>window.removeEventListener("keydown",re)},[k,$]),B.useEffect(()=>{if(!e)return;const re=()=>{p.current!==null&&window.clearInterval(p.current),!g.current&&!document.hidden&&(p.current=window.setInterval(()=>{h(x=>(x+1)%A)},e))},ae=()=>{p.current!==null&&window.clearInterval(p.current),p.current=null};re();const ie=()=>document.hidden?ae():re();return document.addEventListener("visibilitychange",ie),()=>{document.removeEventListener("visibilitychange",ie),ae()}},[e,A]);const L=re=>{v.current=re.touches[0].clientX,b.current=0},ne=re=>{if(v.current!==null&&(b.current=re.touches[0].clientX-v.current,d.current)){const ae=b.current/d.current.clientWidth*100;d.current.style.transition="none",d.current.style.transform=`translateX(calc(${-u*100}% + ${ae}%))`}},W=()=>{d.current&&(d.current.style.transition="");const re=b.current;v.current=null,b.current=0,Math.abs(re)>40?re<0?k():$():d.current&&(d.current.style.transform=`translateX(${-u*100}%)`)},K=B.useMemo(()=>i.map((re,ae)=>y.jsx("button",{"aria-label":`Go to slide ${ae+1}`,className:`carousel-indicator ${ae===u?"active":""}`,onClick:()=>R(ae)},ae)),[i,u,R]);return y.jsxs("div",{className:`carousel ${o}`,style:{"--carousel-aspect":s},onMouseEnter:()=>g.current=!0,onMouseLeave:()=>g.current=!1,"aria-roledescription":"carousel",children:[y.jsx("div",{className:"carousel-viewport",onTouchStart:L,onTouchMove:ne,onTouchEnd:W,children:y.jsx("div",{ref:d,className:"carousel-track",style:{transform:`translateX(${-u*100}%)`},children:i.map((re,ae)=>y.jsxs("div",{className:"carousel-slide",role:"group","aria-roledescription":"slide","aria-label":`${ae+1} of ${A}`,children:[y.jsx("img",{className:"carousel-image",src:re,loading:"lazy",alt:`Slide ${ae+1}`}),y.jsx("div",{className:"carousel-gradient","aria-hidden":"true"})]},ae))})}),y.jsx("button",{className:"carousel-button prev",onClick:$,"aria-label":"Previous slide",children:"‹"}),y.jsx("button",{className:"carousel-button next",onClick:k,"aria-label":"Next slide",children:"›"}),t&&y.jsx("div",{className:"carousel-indicators",role:"tablist","aria-label":"Slide indicators",children:K})]})}const xE=()=>y.jsxs("div",{style:{padding:"2rem",maxWidth:1e3,margin:"0 auto",lineHeight:1.6},children:[y.jsx("h1",{children:"Mariachi de Uclatlán"}),y.jsx("p",{children:"Welcome to Mariachi de Uclatlán — UCLA's premier mariachi ensemble dedicated to preserving and celebrating the vibrant traditions of Mexican music and culture. Founded in 1961, Mariachi de Uclatlán stands as the first collegiate mariachi group in the United States, pioneering the integration of mariachi into academic programs and performance art."}),y.jsx("p",{children:"Our ensemble is composed of passionate student musicians and dancers who are committed to honoring the heritage of mariachi while continuously evolving with modern influences. Through spirited performances, cultural outreach, and educational initiatives, we strive to keep the heart of mariachi alive for future generations."}),y.jsx("p",{children:"Whether you are a musician, a fan of traditional Mexican music, or someone looking to connect with a vibrant community, we invite you to join us on this journey. Explore our history, meet our talented members, and experience the soulful melodies that define Mariachi de Uclatlán."}),y.jsx(X1,{}),y.jsx("p",{children:"¡Viva el mariachi!"})]});function W1(){return y.jsxs("div",{className:"about-page",children:[y.jsx("h1",{children:"About Us"}),y.jsx("p",{children:"Welcome to Mariachi de Uclatlán! We are UCLA's premier mariachi ensemble dedicated to preserving the rich traditions of Mexican music and culture. Founded in 1961, our ensemble has a long history of excellence and passion for mariachi music."}),y.jsx("h2",{children:"Watch a Recent Performance"}),y.jsx("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,marginBottom:"2rem"},children:y.jsx("iframe",{src:"https://www.youtube.com/embed/PVT9JTaZokk?start=6720",title:"Mariachi de Uclatlán Performance",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})}),y.jsx("h2",{children:"Our History"}),y.jsx("p",{children:"Mariachi de Uclatlán was established to provide students with an opportunity to experience and perform traditional Mexican music while also promoting cultural awareness. Over the years, we have participated in numerous events and competitions, showcasing the talent and dedication of our members."})]})}const Z1=()=>y.jsxs("section",{className:"contact-page",children:[y.jsx("h1",{children:"Contact Us"}),y.jsxs("p",{className:"contact-intro",children:["Email us at"," ",y.jsx("a",{href:"mailto:uclatlan@ucla.edu",className:"contact-link",children:"uclatlan@ucla.edu"})," ","or choose an option below:"]}),y.jsxs("div",{className:"contact-actions",children:[y.jsx(xn,{to:"/hire-us",className:"cta-button",children:"Hiring"}),y.jsx(xn,{to:"/book-us",className:"cta-button",children:"Performance Inquiry"}),y.jsx(xn,{to:"/join",className:"cta-button",children:"How to Join Our Group"}),y.jsx(xn,{to:"/contact/form",className:"cta-button",children:"General Questions"})]})]}),J1=()=>{};var DE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},eC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],d=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Bb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,b=(u&3)<<4|d>>4;let A=(d&15)<<2|g>>6,R=g&63;p||(R=64,h||(A=64)),s.push(t[v],t[b],t[A],t[R])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Ub(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):eC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||b==null)throw new tC;const A=u<<2|d>>4;if(s.push(A),g!==64){const R=d<<4&240|g>>2;if(s.push(R),b!==64){const k=g<<6&192|b;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class tC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nC=function(i){const e=Ub(i);return Bb.encodeByteArray(e,!0)},Uh=function(i){return nC(i).replace(/\./g,"")},zb=function(i){try{return Bb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=()=>iC().__FIREBASE_DEFAULTS__,sC=()=>{if(typeof process>"u"||typeof DE>"u")return;const i=DE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},aC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&zb(i[1]);return e&&JSON.parse(e)},cf=()=>{try{return J1()||rC()||sC()||aC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},qb=i=>cf()?.emulatorHosts?.[i],eg=i=>{const e=qb(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Hb=()=>cf()?.config,Fb=i=>cf()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hf(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Uh(JSON.stringify(t)),Uh(JSON.stringify(h)),""].join(".")}const uu={};function lC(){const i={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?i.emulator.push(e):i.prod.push(e);return i}function uC(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let OE=!1;function ff(i,e){if(typeof window>"u"||typeof document>"u"||!wr(window.location.host)||uu[i]===e||uu[i]||OE)return;uu[i]=e;function t(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=lC().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,R){A.setAttribute("width","24"),A.setAttribute("id",R),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{OE=!0,h()},A}function v(A,R){A.setAttribute("id",R),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=uC(s),R=t("text"),k=document.getElementById(R)||document.createElement("span"),$=t("learnmore"),L=document.getElementById($)||document.createElement("a"),ne=t("preprendIcon"),W=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const K=A.element;d(K),v(L,$);const re=g();p(W,ne),K.append(W,k,L,re),document.body.appendChild(K)}u?(k.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function hC(){const i=cf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function mC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pC(){const i=ln();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function gC(){return!hC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yC(){try{return typeof indexedDB=="object"}catch{return!1}}function _C(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="FirebaseError";class Ui extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=vC,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?EC(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Ui(o,d,s)}}function EC(i,e){return i.replace(TC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const TC=/\{\$([^}]+)}/g;function bC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ha(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(PE(u)&&PE(h)){if(!ha(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function PE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function nu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function iu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function wC(i,e){const t=new AC(i,e);return t.subscribe.bind(t)}class AC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");SC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Xm),o.error===void 0&&(o.error=Xm),o.complete===void 0&&(o.complete=Xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Xm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(i){return i&&i._delegate?i._delegate:i}class yr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new oC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IC(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CC(i){return i===sa?void 0:i}function IC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new RC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const xC={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},DC=Pe.INFO,OC={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},PC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=OC[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tg{constructor(e){this.name=e,this._logLevel=DC,this._logHandler=PC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const MC=(i,e)=>e.some(t=>i instanceof t);let ME,kE;function kC(){return ME||(ME=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VC(){return kE||(kE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $b=new WeakMap,mp=new WeakMap,Yb=new WeakMap,Wm=new WeakMap,ng=new WeakMap;function jC(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(as(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&$b.set(t,i)}).catch(()=>{}),ng.set(e,i),e}function LC(i){if(mp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});mp.set(i,e)}let pp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return mp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Yb.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return as(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function UC(i){pp=i(pp)}function BC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Zm(this),e,...t);return Yb.set(s,e.sort?e.sort():[e]),as(s)}:VC().includes(i)?function(...e){return i.apply(Zm(this),e),as($b.get(this))}:function(...e){return as(i.apply(Zm(this),e))}}function zC(i){return typeof i=="function"?BC(i):(i instanceof IDBTransaction&&LC(i),MC(i,kC())?new Proxy(i,pp):i)}function as(i){if(i instanceof IDBRequest)return jC(i);if(Wm.has(i))return Wm.get(i);const e=zC(i);return e!==i&&(Wm.set(i,e),ng.set(e,i)),e}const Zm=i=>ng.get(i);function qC(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=as(h);return s&&h.addEventListener("upgradeneeded",p=>{s(as(h.result),p.oldVersion,p.newVersion,as(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const HC=["get","getKey","getAll","getAllKeys","count"],FC=["put","add","delete","clear"],Jm=new Map;function VE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=FC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||HC.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Jm.set(e,u),u}UC(i=>({...i,get:(e,t,s)=>VE(e,t)||i.get(e,t,s),has:(e,t)=>!!VE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($C(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function $C(i){return i.getComponent()?.type==="VERSION"}const gp="@firebase/app",jE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new tg("@firebase/app"),YC="@firebase/app-compat",KC="@firebase/analytics-compat",QC="@firebase/analytics",XC="@firebase/app-check-compat",WC="@firebase/app-check",ZC="@firebase/auth",JC="@firebase/auth-compat",eI="@firebase/database",tI="@firebase/data-connect",nI="@firebase/database-compat",iI="@firebase/functions",rI="@firebase/functions-compat",sI="@firebase/installations",aI="@firebase/installations-compat",oI="@firebase/messaging",lI="@firebase/messaging-compat",uI="@firebase/performance",cI="@firebase/performance-compat",hI="@firebase/remote-config",fI="@firebase/remote-config-compat",dI="@firebase/storage",mI="@firebase/storage-compat",pI="@firebase/firestore",gI="@firebase/ai",yI="@firebase/firestore-compat",_I="firebase",vI="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="[DEFAULT]",EI={[gp]:"fire-core",[YC]:"fire-core-compat",[QC]:"fire-analytics",[KC]:"fire-analytics-compat",[WC]:"fire-app-check",[XC]:"fire-app-check-compat",[ZC]:"fire-auth",[JC]:"fire-auth-compat",[eI]:"fire-rtdb",[tI]:"fire-data-connect",[nI]:"fire-rtdb-compat",[iI]:"fire-fn",[rI]:"fire-fn-compat",[sI]:"fire-iid",[aI]:"fire-iid-compat",[oI]:"fire-fcm",[lI]:"fire-fcm-compat",[uI]:"fire-perf",[cI]:"fire-perf-compat",[hI]:"fire-rc",[fI]:"fire-rc-compat",[dI]:"fire-gcs",[mI]:"fire-gcs-compat",[pI]:"fire-fst",[yI]:"fire-fst-compat",[gI]:"fire-vertex","fire-js":"fire-js",[_I]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=new Map,TI=new Map,_p=new Map;function LE(i,e){try{i.container.addComponent(e)}catch(t){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function cs(i){const e=i.name;if(_p.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;_p.set(e,i);for(const t of Tu.values())LE(t,i);for(const t of TI.values())LE(t,i);return!0}function ku(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function on(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new Mu("app","Firebase",bI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=vI;function Kb(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:yp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(t||(t=Hb()),!t)throw os.create("no-options");const u=Tu.get(o);if(u){if(ha(t,u.options)&&ha(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const h=new NC(o);for(const p of _p.values())h.addComponent(p);const d=new wI(t,s,h);return Tu.set(o,d),d}function df(i=yp){const e=Tu.get(i);if(!e&&i===yp&&Hb())return Kb();if(!e)throw os.create("no-app",{appName:i});return e}function UE(){return Array.from(Tu.values())}function Xn(i,e,t){let s=EI[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(h.join(" "));return}cs(new yr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="firebase-heartbeat-database",SI=1,bu="firebase-heartbeat-store";let ep=null;function Qb(){return ep||(ep=qC(AI,SI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(bu)}catch(t){console.warn(t)}}}}).catch(i=>{throw os.create("idb-open",{originalErrorMessage:i.message})})),ep}async function RI(i){try{const t=(await Qb()).transaction(bu),s=await t.objectStore(bu).get(Xb(i));return await t.done,s}catch(e){if(e instanceof Ui)_r.warn(e.message);else{const t=os.create("idb-get",{originalErrorMessage:e?.message});_r.warn(t.message)}}}async function BE(i,e){try{const s=(await Qb()).transaction(bu,"readwrite");await s.objectStore(bu).put(e,Xb(i)),await s.done}catch(t){if(t instanceof Ui)_r.warn(t.message);else{const s=os.create("idb-set",{originalErrorMessage:t?.message});_r.warn(s.message)}}}function Xb(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=1024,II=30;class NI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>II){const o=OI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_r.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zE(),{heartbeatsToSend:t,unsentEntries:s}=xI(this._heartbeatsCache.heartbeats),o=Uh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _r.warn(e),""}}}function zE(){return new Date().toISOString().substring(0,10)}function xI(i,e=CI){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),qE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),qE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class DI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yC()?_C().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await RI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return BE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return BE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function qE(i){return Uh(JSON.stringify({version:2,heartbeats:i})).length}function OI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(i){cs(new yr("platform-logger",e=>new GC(e),"PRIVATE")),cs(new yr("heartbeat",e=>new NI(e),"PRIVATE")),Xn(gp,jE,i),Xn(gp,jE,"esm2020"),Xn("fire-js","")}PI("");function Wb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MI=Wb,Zb=new Mu("auth","Firebase",Wb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new tg("@firebase/auth");function kI(i,...e){Bh.logLevel<=Pe.WARN&&Bh.warn(`Auth (${ya}): ${i}`,...e)}function Ih(i,...e){Bh.logLevel<=Pe.ERROR&&Bh.error(`Auth (${ya}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(i,...e){throw rg(i,...e)}function vn(i,...e){return rg(i,...e)}function ig(i,e,t){const s={...MI(),[e]:t};return new Mu("auth","Firebase",s).create(e,{appName:i.name})}function Di(i){return ig(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VI(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Wn(i,"argument-error"),ig(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return Zb.create(i,...e)}function de(i,e,...t){if(!i)throw rg(e,...t)}function fr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ih(e),new Error(e)}function vr(i,e){i||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(){return typeof self<"u"&&self.location?.href||""}function Jb(){return HE()==="http:"||HE()==="https:"}function HE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Jb()||dC()||"connection"in navigator)?navigator.onLine:!0}function LI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,vr(t>e,"Short delay should be less than long delay!"),this.isMobile=cC()||mC()}get(){return jI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(i,e){vr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zI=new Vu(3e4,6e4);function En(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Mn(i,e,t,s,o={}){return t0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=Mo({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return fC()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&wr(i.emulatorConfig.host)&&(g.credentials="include"),e0.fetch()(await n0(i,i.config.apiHost,t,d),g)})}async function t0(i,e,t){i._canInitEmulator=!1;const s={...UI,...e};try{const o=new HI(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ru(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ru(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ru(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw ru(i,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ig(i,v,g);Wn(i,v)}}catch(o){if(o instanceof Ui)throw o;Wn(i,"network-request-failed",{message:String(o)})}}async function _s(i,e,t,s,o={}){const u=await Mn(i,e,t,s,o);return"mfaPendingCredential"in u&&Wn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function n0(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?sg(i.config,o):`${i.config.apiScheme}://${o}`;return BI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function qI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(vn(this.auth,"network-request-failed")),zI.get())})}}function ru(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=vn(i,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(i){return i!==void 0&&i.getResponse!==void 0}function GE(i){return i!==void 0&&i.enterprise!==void 0}class i0{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(i){return(await Mn(i,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function r0(i,e){return Mn(i,"GET","/v2/recaptchaConfig",En(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(i,e){return Mn(i,"POST","/v1/accounts:delete",e)}async function zh(i,e){return Mn(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s0(i,e=!1){const t=rt(i),s=await t.getIdToken(e),o=ag(s);de(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:cu(tp(o.auth_time)),issuedAtTime:cu(tp(o.iat)),expirationTime:cu(tp(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function tp(i){return Number(i)*1e3}function ag(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=zb(t);return o?JSON.parse(o):(Ih("Failed to decode base64 JWT payload"),null)}catch(o){return Ih("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $E(i){const e=ag(i);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ui&&$I(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function $I({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(i){const e=i.auth,t=await i.getIdToken(),s=await Ao(i,zh(e,{idToken:t}));de(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?a0(o.providerUserInfo):[],h=QI(i.providerData,u),d=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function KI(i){const e=rt(i);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function a0(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(i,e){const t=await t0(i,{},async()=>{const s=Mo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await n0(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return i.emulatorConfig&&wr(i.emulatorConfig.host)&&(p.credentials="include"),e0.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function WI(i,e){return Mn(i,"POST","/v2/accounts:revokeToken",En(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");const t=$E(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await XI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new vo;return s&&(de(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(de(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(de(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(i,e){de(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new YI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ao(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return s0(this,e)}reload(){return KI(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await qh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(Di(this.auth));const e=await this.getIdToken();return await Ao(this,GI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:R,providerData:k,stsTokenManager:$}=t;de(b&&$,e,"internal-error");const L=vo.fromJSON(this.name,$);de(typeof b=="string",e,"internal-error"),Jr(s,e.name),Jr(o,e.name),de(typeof A=="boolean",e,"internal-error"),de(typeof R=="boolean",e,"internal-error"),Jr(u,e.name),Jr(h,e.name),Jr(d,e.name),Jr(p,e.name),Jr(g,e.name),Jr(v,e.name);const ne=new ri({uid:b,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:R,photoURL:h,phoneNumber:u,tenantId:d,stsTokenManager:L,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(ne.providerData=k.map(W=>({...W}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,t,s=!1){const o=new vo;o.updateFromServerResponse(t);const u=new ri({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await qh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];de(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?a0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,d=new vo;d.updateFromIdToken(s);const p=new ri({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;function dr(i){vr(i instanceof Function,"Expected a class definition");let e=YE.get(i);return e?(vr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,YE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}o0.type="NONE";const KE=o0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(i,e,t){return`firebase:${i}:${e}:${t}`}class Eo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Nh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await zh(this.auth,{idToken:e}).catch(()=>{});return t?ri._fromGetAccountInfoResponse(this.auth,t,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Eo(dr(KE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||dr(KE);const h=Nh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(h);if(v){let b;if(typeof v=="string"){const A=await zh(e,{idToken:v}).catch(()=>{});if(!A)break;b=await ri._fromGetAccountInfoResponse(e,A,v)}else b=ri._fromJSON(e,v);g!==u&&(d=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Eo(u,e,s):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Eo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d0(e))return"Blackberry";if(m0(e))return"Webos";if(u0(e))return"Safari";if((e.includes("chrome/")||c0(e))&&!e.includes("edge/"))return"Chrome";if(f0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function l0(i=ln()){return/firefox\//i.test(i)}function u0(i=ln()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c0(i=ln()){return/crios\//i.test(i)}function h0(i=ln()){return/iemobile/i.test(i)}function f0(i=ln()){return/android/i.test(i)}function d0(i=ln()){return/blackberry/i.test(i)}function m0(i=ln()){return/webos/i.test(i)}function og(i=ln()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function ZI(i=ln()){return og(i)&&!!window.navigator?.standalone}function JI(){return pC()&&document.documentMode===10}function p0(i=ln()){return og(i)||f0(i)||m0(i)||d0(i)||/windows phone/i.test(i)||h0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(i,e=[]){let t;switch(i){case"Browser":t=QE(ln());break;case"Worker":t=`${QE(ln())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ya}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(i,e={}){return Mn(i,"GET","/v2/passwordPolicy",En(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=6;class iN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??nN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XE(this),this.idTokenSubscription=new XE(this),this.beforeStateQueue=new eN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zh(this,{idToken:e}),s=await ri._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(on(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(Di(this));const t=e?rt(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(Di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(Di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tN(this),t=new iN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await WI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&dr(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[dr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=g0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ci(i){return rt(i)}class XE{constructor(e){this.auth=e,this.observer=null,this.addObserver=wC(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sN(i){ju=i}function lg(i){return ju.loadJS(i)}function aN(){return ju.recaptchaV2Script}function oN(){return ju.recaptchaEnterpriseScript}function lN(){return ju.gapiScript}function y0(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=500,cN=6e4,yh=1e12;class hN{constructor(e){this.auth=e,this.counter=yh,this._widgets=new Map}render(e,t){const s=this.counter;return this._widgets.set(s,new mN(e,this.auth.name,t||{})),this.counter++,s}reset(e){const t=e||yh;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||yh;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||yh;return this._widgets.get(t)?.execute(),""}}class fN{constructor(){this.enterprise=new dN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class dN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class mN{constructor(e,t,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof e=="string"?document.getElementById(e):e;de(o,"argument-error",{appName:t}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=pN(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},cN)},uN))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function pN(i){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<i;s++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const gN="recaptcha-enterprise",hu="NO_RECAPTCHA";class _0{constructor(e){this.type=gN,this.auth=ci(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{r0(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new i0(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;GE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(hu)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fN().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&GE(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=oN();p.length!==0&&(p+=d),lg(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function Zl(i,e,t,s=!1,o=!1){const u=new _0(i);let h;if(o)h=hu;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function To(i,e,t,s,o){if(o==="EMAIL_PASSWORD_PROVIDER")if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Zl(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Zl(i,e,t,t==="getOobCode");return s(i,h)}else return Promise.reject(u)});else if(o==="PHONE_PROVIDER")if(i._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const u=await Zl(i,e,t);return s(i,u).catch(async h=>{if(i._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(h.code==="auth/missing-recaptcha-token"||h.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const d=await Zl(i,e,t,!1,!0);return s(i,d)}return Promise.reject(h)})}else{const u=await Zl(i,e,t,!1,!0);return s(i,u)}else return Promise.reject(o+" provider is not supported.")}async function yN(i){const e=ci(i),t=await r0(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new i0(t);e.tenantId==null?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,s.isAnyProviderEnabled()&&new _0(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(i,e){const t=ku(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ha(u,e??{}))return o;Wn(o,"already-initialized")}return t.initialize({options:e})}function vN(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(dr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function EN(i,e,t){const s=ci(i);de(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=v0(e),{host:h,port:d}=TN(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){de(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),de(ha(g,s.config.emulator)&&ha(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,wr(h)?(hf(`${u}//${h}${p}`),ff("Auth",!0)):bN()}function v0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function TN(i){const e=v0(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:WE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:WE(h)}}}function WE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function bN(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,t){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function wN(i,e){return Mn(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(i,e){return _s(i,"POST","/v1/accounts:signInWithPassword",En(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(i,e){return _s(i,"POST","/v1/accounts:signInWithEmailLink",En(i,e))}async function RN(i,e){return _s(i,"POST","/v1/accounts:signInWithEmailLink",En(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends mf{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new wu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new wu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return To(e,t,"signInWithPassword",AN,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return SN(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return To(e,s,"signUpPassword",wN,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return RN(e,{idToken:t,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(i,e){return _s(i,"POST","/v1/accounts:signInWithIdp",En(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="http://localhost";class fa extends mf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const h=new fa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return bo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,bo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bo(e,t)}buildRequest(){const e={requestUri:CN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mo(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZE(i,e){return Mn(i,"POST","/v1/accounts:sendVerificationCode",En(i,e))}async function IN(i,e){return _s(i,"POST","/v1/accounts:signInWithPhoneNumber",En(i,e))}async function NN(i,e){const t=await _s(i,"POST","/v1/accounts:signInWithPhoneNumber",En(i,e));if(t.temporaryProof)throw ru(i,"account-exists-with-different-credential",t);return t}const xN={USER_NOT_FOUND:"user-not-found"};async function DN(i,e){const t={...e,operation:"REAUTH"};return _s(i,"POST","/v1/accounts:signInWithPhoneNumber",En(i,t),xN)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends mf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new fu({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new fu({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return IN(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return NN(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return DN(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:s,verificationCode:o}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:s,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:s,phoneNumber:o,temporaryProof:u}=e;return!s&&!t&&!o&&!u?null:new fu({verificationId:t,verificationCode:s,phoneNumber:o,temporaryProof:u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PN(i){const e=nu(iu(i)).link,t=e?nu(iu(e)).deep_link_id:null,s=nu(iu(i)).deep_link_id;return(s?nu(iu(s)).link:null)||s||t||e||i}class ug{constructor(e){const t=nu(iu(e)),s=t.apiKey??null,o=t.oobCode??null,u=ON(t.mode??null);de(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=PN(e);try{return new ug(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,t){return wu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ug.parseLink(t);return de(s,"argument-error"),wu._fromEmailAndCode(e,s.code,s.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends cg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Lu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fa._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ni.credential(t,s)}catch{return null}}}Ni.GOOGLE_SIGN_IN_METHOD="google.com";Ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Lu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Lu{constructor(){super("twitter.com")}static credential(e,t){return fa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return is.credential(t,s)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(i,e){return _s(i,"POST","/v1/accounts:signUp",En(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ri._fromIdTokenResponse(e,s,o),h=JE(s);return new da({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=JE(s);return new da({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function JE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends Ui{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Hh(e,t,s,o)}}function E0(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(i,u,e,s):u})}async function kN(i,e,t=!1){const s=await Ao(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return da._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(i,e,t=!1){const{auth:s}=i;if(on(s.app))return Promise.reject(Di(s));const o="reauthenticate";try{const u=await Ao(i,E0(s,o,e,i),t);de(u.idToken,s,"internal-error");const h=ag(u.idToken);de(h,s,"internal-error");const{sub:d}=h;return de(i.uid===d,s,"user-mismatch"),da._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Wn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T0(i,e,t=!1){if(on(i.app))return Promise.reject(Di(i));const s="signIn",o=await E0(i,s,e),u=await da._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function b0(i,e){return T0(ci(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0(i){const e=ci(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jN(i,e,t){if(on(i.app))return Promise.reject(Di(i));const s=ci(i),h=await To(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MN,"EMAIL_PASSWORD_PROVIDER").catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&w0(i),p}),d=await da._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function LN(i,e,t){return on(i.app)?Promise.reject(Di(i)):b0(rt(i),ko.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&w0(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(i,e){return Mn(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=rt(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Ao(s,UN(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const d=s.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function zN(i,e,t,s){return rt(i).onIdTokenChanged(e,t,s)}function qN(i,e,t){return rt(i).beforeAuthStateChanged(e,t)}function pf(i,e,t,s){return rt(i).onAuthStateChanged(e,t,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(i,e){return Mn(i,"POST","/v2/accounts/mfaEnrollment:start",En(i,e))}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=1e3,FN=10;class S0 extends A0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=p0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);JI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,FN):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},HN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}S0.type="LOCAL";const GN=S0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0 extends A0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}R0.type="SESSION";const C0=R0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new gf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await $N(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=hg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(A.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return window}function KN(i){Ct().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(){return typeof Ct().WorkerGlobalScope<"u"&&typeof Ct().importScripts=="function"}async function QN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XN(){return navigator?.serviceWorker?.controller||null}function WN(){return fg()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="firebaseLocalStorageDb",ZN=1,Gh="firebaseLocalStorage",N0="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yf(i,e){return i.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function JN(){const i=indexedDB.deleteDatabase(I0);return new Uu(i).toPromise()}function Tp(){const i=indexedDB.open(I0,ZN);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Gh,{keyPath:N0})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Gh)?e(s):(s.close(),await JN(),e(await Tp()))})})}async function tT(i,e,t){const s=yf(i,!0).put({[N0]:e,value:t});return new Uu(s).toPromise()}async function ex(i,e){const t=yf(i,!1).get(e),s=await new Uu(t).toPromise();return s===void 0?null:s.value}function nT(i,e){const t=yf(i,!0).delete(e);return new Uu(t).toPromise()}const tx=800,nx=3;class x0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>nx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(WN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QN(),!this.activeServiceWorker)return;this.sender=new YN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await tT(e,Fh,"1"),await nT(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>tT(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>ex(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>nT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=yf(o,!1).getAll();return new Uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}x0.type="LOCAL";const ix=x0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(i,e){return Mn(i,"POST","/v2/accounts/mfaSignIn:start",En(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=y0("rcb"),rx=new Vu(3e4,6e4);class sx{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ct().grecaptcha?.render}load(e,t=""){return de(ax(t),e,"argument-error"),this.shouldResolveImmediately(t)&&FE(Ct().grecaptcha)?Promise.resolve(Ct().grecaptcha):new Promise((s,o)=>{const u=Ct().setTimeout(()=>{o(vn(e,"network-request-failed"))},rx.get());Ct()[np]=()=>{Ct().clearTimeout(u),delete Ct()[np];const d=Ct().grecaptcha;if(!d||!FE(d)){o(vn(e,"internal-error"));return}const p=d.render;d.render=(g,v)=>{const b=p(g,v);return this.counter++,b},this.hostLanguage=t,s(d)};const h=`${aN()}?${Mo({onload:np,render:"explicit",hl:t})}`;lg(h).catch(()=>{clearTimeout(u),o(vn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Ct().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function ax(i){return i.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(i)}class ox{async load(e){return new hN(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du="recaptcha",lx={theme:"light",type:"image"};class bp{constructor(e,t,s={...lx}){this.parameters=s,this.type=du,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ci(e),this.isInvisible=this.parameters.size==="invisible",de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof t=="string"?document.getElementById(t):t;de(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ox:new sx,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),s=t.getResponse(e);return s||new Promise(o=>{const u=h=>{h&&(this.tokenChangeListeners.delete(u),o(h))};this.tokenChangeListeners.add(u),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(s=>s(t)),typeof e=="function")e(t);else if(typeof e=="string"){const s=Ct()[e];typeof s=="function"&&s(t)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){de(Jb()&&!fg(),this.auth,"internal-error"),await ux(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await FI(this.auth);de(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function ux(){let i=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}i=()=>e(),window.addEventListener("load",i)}).catch(e=>{throw i&&window.removeEventListener("load",i),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=fu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function D0(i,e,t){if(on(i.app))return Promise.reject(Di(i));const s=ci(i),o=await hx(s,e,rt(t));return new cx(o,u=>b0(s,u))}async function hx(i,e,t){if(!i._getRecaptchaConfig())try{await yN(i)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s){de(o.type==="enroll",i,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await To(i,u,"mfaSmsEnrollment",async(g,v)=>{if(v.phoneEnrollmentInfo.captchaResponse===hu){de(t?.type===du,g,"argument-error");const b=await ip(g,v,t);return eT(g,b)}return eT(g,v)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{de(o.type==="signin",i,"internal-error");const u=s.multiFactorHint?.uid||s.multiFactorUid;de(u,i,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await To(i,h,"mfaSmsSignIn",async(v,b)=>{if(b.phoneSignInInfo.captchaResponse===hu){de(t?.type===du,v,"argument-error");const A=await ip(v,b,t);return iT(v,A)}return iT(v,b)},"PHONE_PROVIDER").catch(v=>Promise.reject(v))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await To(i,o,"sendVerificationCode",async(p,g)=>{if(g.captchaResponse===hu){de(t?.type===du,p,"argument-error");const v=await ip(p,g,t);return ZE(p,v)}return ZE(p,g)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).sessionInfo}}finally{t?._reset()}}async function ip(i,e,t){de(t.type===du,i,"argument-error");const s=await t.verify();de(typeof s=="string",i,"argument-error");const o={...e};if("phoneEnrollmentInfo"in o){const u=o.phoneEnrollmentInfo.phoneNumber,h=o.phoneEnrollmentInfo.captchaResponse,d=o.phoneEnrollmentInfo.clientType,p=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:s,captchaResponse:h,clientType:d,recaptchaVersion:p}}),o}else if("phoneSignInInfo"in o){const u=o.phoneSignInInfo.captchaResponse,h=o.phoneSignInInfo.clientType,d=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:u,clientType:h,recaptchaVersion:d}}),o}else return Object.assign(o,{recaptchaToken:s}),o}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(i,e){return e?dr(e):(de(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends mf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fx(i){return T0(i.auth,new dg(i),i.bypassAuthState)}function dx(i){const{auth:e,user:t}=i;return de(t,e,"internal-error"),VN(t,new dg(i),i.bypassAuthState)}async function mx(i){const{auth:e,user:t}=i;return de(t,e,"internal-error"),kN(t,new dg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fx;case"linkViaPopup":case"linkViaRedirect":return mx;case"reauthViaPopup":case"reauthViaRedirect":return dx;default:Wn(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new Vu(2e3,1e4);async function M0(i,e,t){if(on(i.app))return Promise.reject(vn(i,"operation-not-supported-in-this-environment"));const s=ci(i);VI(i,e,cg);const o=O0(s,t);return new aa(s,"signInViaPopup",e,o).executeNotNull()}class aa extends P0{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const e=hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,px.get())};e()}}aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="pendingRedirect",xh=new Map;class yx extends P0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=xh.get(this.auth._key());if(!e){try{const s=await _x(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}xh.set(this.auth._key(),e)}return this.bypassAuthState||xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _x(i,e){const t=Tx(e),s=Ex(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function vx(i,e){xh.set(i._key(),e)}function Ex(i){return dr(i._redirectPersistence)}function Tx(i){return Nh(gx,i.config.apiKey,i.name)}async function bx(i,e,t=!1){if(on(i.app))return Promise.reject(Di(i));const s=ci(i),o=O0(s,e),h=await new yx(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=600*1e3;class Ax{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Sx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!k0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(vn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wx&&this.cachedEventUids.clear(),this.cachedEventUids.has(rT(e))}saveEventToCache(e){this.cachedEventUids.add(rT(e)),this.lastProcessedEventTime=Date.now()}}function rT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function k0({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function Sx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(i,e={}){return Mn(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ix=/^https?/;async function Nx(i){if(i.config.emulator)return;const{authorizedDomains:e}=await Rx(i);for(const t of e)try{if(xx(t))return}catch{}Wn(i,"unauthorized-domain")}function xx(i){const e=vp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!Ix.test(t))return!1;if(Cx.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new Vu(3e4,6e4);function sT(){const i=Ct().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function Ox(i){return new Promise((e,t)=>{function s(){sT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sT(),t(vn(i,"network-request-failed"))},timeout:Dx.get()})}if(Ct().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ct().gapi?.load)s();else{const o=y0("iframefcb");return Ct()[o]=()=>{gapi.load?s():t(vn(i,"network-request-failed"))},lg(`${lN()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function Px(i){return Dh=Dh||Ox(i),Dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Vu(5e3,15e3),kx="__/auth/iframe",Vx="emulator/auth/iframe",jx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ux(i){const e=i.config;de(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?sg(e,Vx):`https://${i.config.authDomain}/${kx}`,s={apiKey:e.apiKey,appName:i.name,v:ya},o=Lx.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Mo(s).slice(1)}`}async function Bx(i){const e=await Px(i),t=Ct().gapi;return de(t,i,"internal-error"),e.open({where:document.body,url:Ux(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=vn(i,"network-request-failed"),d=Ct().setTimeout(()=>{u(h)},Mx.get());function p(){Ct().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qx=500,Hx=600,Fx="_blank",Gx="http://localhost";class aT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $x(i,e,t,s=qx,o=Hx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...zx,width:s.toString(),height:o.toString(),top:u,left:h},g=ln().toLowerCase();t&&(d=c0(g)?Fx:t),l0(g)&&(e=e||Gx,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[R,k])=>`${A}${R}=${k},`,"");if(ZI(g)&&d!=="_self")return Yx(e||"",d),new aT(null);const b=window.open(e||"",d,v);de(b,i,"popup-blocked");try{b.focus()}catch{}return new aT(b)}function Yx(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="__/auth/handler",Qx="emulator/auth/handler",Xx=encodeURIComponent("fac");async function oT(i,e,t,s,o,u){de(i.config.authDomain,i,"auth-domain-config-required"),de(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:ya,eventId:o};if(e instanceof cg){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",bC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))h[v]=b}if(e instanceof Lu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await i._getAppCheckToken(),g=p?`#${Xx}=${encodeURIComponent(p)}`:"";return`${Wx(i)}?${Mo(d).slice(1)}${g}`}function Wx({config:i}){return i.emulator?sg(i,Qx):`https://${i.authDomain}/${Kx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="webStorageSupport";class Zx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C0,this._completeRedirectFn=bx,this._overrideRedirectResult=vx}async _openPopup(e,t,s,o){vr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await oT(e,t,s,vp(),o);return $x(e,u,hg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await oT(e,t,s,vp(),o);return KN(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(vr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await Bx(e),s=new Ax(e);return t.register("authEvent",o=>(de(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rp,{type:rp},o=>{const u=o?.[0]?.[rp];u!==void 0&&t(!!u),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Nx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return p0()||u0()||og()}}const Jx=Zx;var lT="@firebase/auth",uT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nD(i){cs(new yr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;de(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g0(i)},g=new rN(s,o,u,p);return vN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),cs(new yr("auth-internal",e=>{const t=ci(e.getProvider("auth").getImmediate());return(s=>new eD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(lT,uT,tD(i)),Xn(lT,uT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=300,rD=Fb("authIdTokenMaxAge")||iD;let cT=null;const sD=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>rD)return;const o=t?.token;cT!==o&&(cT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aD(i=df()){const e=ku(i,"auth");if(e.isInitialized())return e.getImmediate();const t=_N(i,{popupRedirectResolver:Jx,persistence:[ix,GN,C0]}),s=Fb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=sD(u.toString());qN(t,h,()=>h(t.currentUser)),zN(t,d=>h(d))}}const o=qb("auth");return o&&EN(t,`http://${o}`),t}function oD(){return document.getElementsByTagName("head")?.[0]??document}sN({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=vn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",oD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nD("Browser");var lD="firebase",uD="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(lD,uD,"app");var hT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,V0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,C){function I(){}I.prototype=C.prototype,x.D=C.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(M,V,U){for(var D=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)D[Ft-2]=arguments[Ft];return C.prototype[V].apply(M,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,C,I){I||(I=0);var M=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)M[V]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(V=0;16>V;++V)M[V]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=x.g[0],I=x.g[1],V=x.g[2];var U=x.g[3],D=C+(U^I&(V^U))+M[0]+3614090360&4294967295;C=I+(D<<7&4294967295|D>>>25),D=U+(V^C&(I^V))+M[1]+3905402710&4294967295,U=C+(D<<12&4294967295|D>>>20),D=V+(I^U&(C^I))+M[2]+606105819&4294967295,V=U+(D<<17&4294967295|D>>>15),D=I+(C^V&(U^C))+M[3]+3250441966&4294967295,I=V+(D<<22&4294967295|D>>>10),D=C+(U^I&(V^U))+M[4]+4118548399&4294967295,C=I+(D<<7&4294967295|D>>>25),D=U+(V^C&(I^V))+M[5]+1200080426&4294967295,U=C+(D<<12&4294967295|D>>>20),D=V+(I^U&(C^I))+M[6]+2821735955&4294967295,V=U+(D<<17&4294967295|D>>>15),D=I+(C^V&(U^C))+M[7]+4249261313&4294967295,I=V+(D<<22&4294967295|D>>>10),D=C+(U^I&(V^U))+M[8]+1770035416&4294967295,C=I+(D<<7&4294967295|D>>>25),D=U+(V^C&(I^V))+M[9]+2336552879&4294967295,U=C+(D<<12&4294967295|D>>>20),D=V+(I^U&(C^I))+M[10]+4294925233&4294967295,V=U+(D<<17&4294967295|D>>>15),D=I+(C^V&(U^C))+M[11]+2304563134&4294967295,I=V+(D<<22&4294967295|D>>>10),D=C+(U^I&(V^U))+M[12]+1804603682&4294967295,C=I+(D<<7&4294967295|D>>>25),D=U+(V^C&(I^V))+M[13]+4254626195&4294967295,U=C+(D<<12&4294967295|D>>>20),D=V+(I^U&(C^I))+M[14]+2792965006&4294967295,V=U+(D<<17&4294967295|D>>>15),D=I+(C^V&(U^C))+M[15]+1236535329&4294967295,I=V+(D<<22&4294967295|D>>>10),D=C+(V^U&(I^V))+M[1]+4129170786&4294967295,C=I+(D<<5&4294967295|D>>>27),D=U+(I^V&(C^I))+M[6]+3225465664&4294967295,U=C+(D<<9&4294967295|D>>>23),D=V+(C^I&(U^C))+M[11]+643717713&4294967295,V=U+(D<<14&4294967295|D>>>18),D=I+(U^C&(V^U))+M[0]+3921069994&4294967295,I=V+(D<<20&4294967295|D>>>12),D=C+(V^U&(I^V))+M[5]+3593408605&4294967295,C=I+(D<<5&4294967295|D>>>27),D=U+(I^V&(C^I))+M[10]+38016083&4294967295,U=C+(D<<9&4294967295|D>>>23),D=V+(C^I&(U^C))+M[15]+3634488961&4294967295,V=U+(D<<14&4294967295|D>>>18),D=I+(U^C&(V^U))+M[4]+3889429448&4294967295,I=V+(D<<20&4294967295|D>>>12),D=C+(V^U&(I^V))+M[9]+568446438&4294967295,C=I+(D<<5&4294967295|D>>>27),D=U+(I^V&(C^I))+M[14]+3275163606&4294967295,U=C+(D<<9&4294967295|D>>>23),D=V+(C^I&(U^C))+M[3]+4107603335&4294967295,V=U+(D<<14&4294967295|D>>>18),D=I+(U^C&(V^U))+M[8]+1163531501&4294967295,I=V+(D<<20&4294967295|D>>>12),D=C+(V^U&(I^V))+M[13]+2850285829&4294967295,C=I+(D<<5&4294967295|D>>>27),D=U+(I^V&(C^I))+M[2]+4243563512&4294967295,U=C+(D<<9&4294967295|D>>>23),D=V+(C^I&(U^C))+M[7]+1735328473&4294967295,V=U+(D<<14&4294967295|D>>>18),D=I+(U^C&(V^U))+M[12]+2368359562&4294967295,I=V+(D<<20&4294967295|D>>>12),D=C+(I^V^U)+M[5]+4294588738&4294967295,C=I+(D<<4&4294967295|D>>>28),D=U+(C^I^V)+M[8]+2272392833&4294967295,U=C+(D<<11&4294967295|D>>>21),D=V+(U^C^I)+M[11]+1839030562&4294967295,V=U+(D<<16&4294967295|D>>>16),D=I+(V^U^C)+M[14]+4259657740&4294967295,I=V+(D<<23&4294967295|D>>>9),D=C+(I^V^U)+M[1]+2763975236&4294967295,C=I+(D<<4&4294967295|D>>>28),D=U+(C^I^V)+M[4]+1272893353&4294967295,U=C+(D<<11&4294967295|D>>>21),D=V+(U^C^I)+M[7]+4139469664&4294967295,V=U+(D<<16&4294967295|D>>>16),D=I+(V^U^C)+M[10]+3200236656&4294967295,I=V+(D<<23&4294967295|D>>>9),D=C+(I^V^U)+M[13]+681279174&4294967295,C=I+(D<<4&4294967295|D>>>28),D=U+(C^I^V)+M[0]+3936430074&4294967295,U=C+(D<<11&4294967295|D>>>21),D=V+(U^C^I)+M[3]+3572445317&4294967295,V=U+(D<<16&4294967295|D>>>16),D=I+(V^U^C)+M[6]+76029189&4294967295,I=V+(D<<23&4294967295|D>>>9),D=C+(I^V^U)+M[9]+3654602809&4294967295,C=I+(D<<4&4294967295|D>>>28),D=U+(C^I^V)+M[12]+3873151461&4294967295,U=C+(D<<11&4294967295|D>>>21),D=V+(U^C^I)+M[15]+530742520&4294967295,V=U+(D<<16&4294967295|D>>>16),D=I+(V^U^C)+M[2]+3299628645&4294967295,I=V+(D<<23&4294967295|D>>>9),D=C+(V^(I|~U))+M[0]+4096336452&4294967295,C=I+(D<<6&4294967295|D>>>26),D=U+(I^(C|~V))+M[7]+1126891415&4294967295,U=C+(D<<10&4294967295|D>>>22),D=V+(C^(U|~I))+M[14]+2878612391&4294967295,V=U+(D<<15&4294967295|D>>>17),D=I+(U^(V|~C))+M[5]+4237533241&4294967295,I=V+(D<<21&4294967295|D>>>11),D=C+(V^(I|~U))+M[12]+1700485571&4294967295,C=I+(D<<6&4294967295|D>>>26),D=U+(I^(C|~V))+M[3]+2399980690&4294967295,U=C+(D<<10&4294967295|D>>>22),D=V+(C^(U|~I))+M[10]+4293915773&4294967295,V=U+(D<<15&4294967295|D>>>17),D=I+(U^(V|~C))+M[1]+2240044497&4294967295,I=V+(D<<21&4294967295|D>>>11),D=C+(V^(I|~U))+M[8]+1873313359&4294967295,C=I+(D<<6&4294967295|D>>>26),D=U+(I^(C|~V))+M[15]+4264355552&4294967295,U=C+(D<<10&4294967295|D>>>22),D=V+(C^(U|~I))+M[6]+2734768916&4294967295,V=U+(D<<15&4294967295|D>>>17),D=I+(U^(V|~C))+M[13]+1309151649&4294967295,I=V+(D<<21&4294967295|D>>>11),D=C+(V^(I|~U))+M[4]+4149444226&4294967295,C=I+(D<<6&4294967295|D>>>26),D=U+(I^(C|~V))+M[11]+3174756917&4294967295,U=C+(D<<10&4294967295|D>>>22),D=V+(C^(U|~I))+M[2]+718787259&4294967295,V=U+(D<<15&4294967295|D>>>17),D=I+(U^(V|~C))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var I=C-this.blockSize,M=this.B,V=this.h,U=0;U<C;){if(V==0)for(;U<=I;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<C;)if(M[V++]=x.charCodeAt(U++),V==this.blockSize){o(this,M),V=0;break}}else for(;U<C;)if(M[V++]=x[U++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=C},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var I=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=I&255,I/=256;for(this.u(x),x=Array(16),C=I=0;4>C;++C)for(var M=0;32>M;M+=8)x[I++]=this.g[C]>>>M&255;return x};function u(x,C){var I=d;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=C(x)}function h(x,C){this.h=C;for(var I=[],M=!0,V=x.length-1;0<=V;V--){var U=x[V]|0;M&&U==C||(I[V]=U,M=!1)}this.g=I}var d={};function p(x){return-128<=x&&128>x?u(x,function(C){return new h([C|0],0>C?-1:0)}):new h([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return L(g(-x));for(var C=[],I=1,M=0;x>=I;M++)C[M]=x/I|0,I*=4294967296;return new h(C,0)}function v(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return L(v(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(C,8)),M=b,V=0;V<x.length;V+=8){var U=Math.min(8,x.length-V),D=parseInt(x.substring(V,V+U),C);8>U?(U=g(Math.pow(C,U)),M=M.j(U).add(g(D))):(M=M.j(I),M=M.add(g(D)))}return M}var b=p(0),A=p(1),R=p(16777216);i=h.prototype,i.m=function(){if($(this))return-L(this).m();for(var x=0,C=1,I=0;I<this.g.length;I++){var M=this.i(I);x+=(0<=M?M:4294967296+M)*C,C*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k(this))return"0";if($(this))return"-"+L(this).toString(x);for(var C=g(Math.pow(x,6)),I=this,M="";;){var V=re(I,C).g;I=ne(I,V.j(C));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=V,k(I))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function k(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function $(x){return x.h==-1}i.l=function(x){return x=ne(this,x),$(x)?-1:k(x)?0:1};function L(x){for(var C=x.g.length,I=[],M=0;M<C;M++)I[M]=~x.g[M];return new h(I,~x.h).add(A)}i.abs=function(){return $(this)?L(this):this},i.add=function(x){for(var C=Math.max(this.g.length,x.g.length),I=[],M=0,V=0;V<=C;V++){var U=M+(this.i(V)&65535)+(x.i(V)&65535),D=(U>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);M=D>>>16,U&=65535,D&=65535,I[V]=D<<16|U}return new h(I,I[I.length-1]&-2147483648?-1:0)};function ne(x,C){return x.add(L(C))}i.j=function(x){if(k(this)||k(x))return b;if($(this))return $(x)?L(this).j(L(x)):L(L(this).j(x));if($(x))return L(this.j(L(x)));if(0>this.l(R)&&0>x.l(R))return g(this.m()*x.m());for(var C=this.g.length+x.g.length,I=[],M=0;M<2*C;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<x.g.length;V++){var U=this.i(M)>>>16,D=this.i(M)&65535,Ft=x.i(V)>>>16,ht=x.i(V)&65535;I[2*M+2*V]+=D*ht,W(I,2*M+2*V),I[2*M+2*V+1]+=U*ht,W(I,2*M+2*V+1),I[2*M+2*V+1]+=D*Ft,W(I,2*M+2*V+1),I[2*M+2*V+2]+=U*Ft,W(I,2*M+2*V+2)}for(M=0;M<C;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=C;M<2*C;M++)I[M]=0;return new h(I,0)};function W(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function K(x,C){this.g=x,this.h=C}function re(x,C){if(k(C))throw Error("division by zero");if(k(x))return new K(b,b);if($(x))return C=re(L(x),C),new K(L(C.g),L(C.h));if($(C))return C=re(x,L(C)),new K(L(C.g),C.h);if(30<x.g.length){if($(x)||$(C))throw Error("slowDivide_ only works with positive integers.");for(var I=A,M=C;0>=M.l(x);)I=ae(I),M=ae(M);var V=ie(I,1),U=ie(M,1);for(M=ie(M,2),I=ie(I,2);!k(M);){var D=U.add(M);0>=D.l(x)&&(V=V.add(I),U=D),M=ie(M,1),I=ie(I,1)}return C=ne(x,V.j(C)),new K(V,C)}for(V=b;0<=x.l(C);){for(I=Math.max(1,Math.floor(x.m()/C.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=g(I),D=U.j(C);$(D)||0<D.l(x);)I-=M,U=g(I),D=U.j(C);k(U)&&(U=A),V=V.add(U),x=ne(x,D)}return new K(V,x)}i.A=function(x){return re(this,x).h},i.and=function(x){for(var C=Math.max(this.g.length,x.g.length),I=[],M=0;M<C;M++)I[M]=this.i(M)&x.i(M);return new h(I,this.h&x.h)},i.or=function(x){for(var C=Math.max(this.g.length,x.g.length),I=[],M=0;M<C;M++)I[M]=this.i(M)|x.i(M);return new h(I,this.h|x.h)},i.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),I=[],M=0;M<C;M++)I[M]=this.i(M)^x.i(M);return new h(I,this.h^x.h)};function ae(x){for(var C=x.g.length+1,I=[],M=0;M<C;M++)I[M]=x.i(M)<<1|x.i(M-1)>>>31;return new h(I,x.h)}function ie(x,C){var I=C>>5;C%=32;for(var M=x.g.length-I,V=[],U=0;U<M;U++)V[U]=0<C?x.i(U+I)>>>C|x.i(U+I+1)<<32-C:x.i(U+I);return new h(V,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,V0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,ls=h}).apply(typeof hT<"u"?hT:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j0,su,L0,Oh,wp,U0,B0,z0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,E){return c==Array.prototype||c==Object.prototype||(c[_]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(c,_){if(_)e:{var E=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in E))break e;E=E[z]}c=c[c.length-1],S=E[c],_=_(S),_!=S&&_!=null&&e(E,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var E=0,S=!1,z={next:function(){if(!S&&E<c.length){var Y=E++;return{value:_(Y,c[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function v(c,_,E){return c.call.apply(c.bind,arguments)}function b(c,_,E){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(_,z)}}return function(){return c.apply(_,arguments)}}function A(c,_,E){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,A.apply(null,arguments)}function R(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function k(c,_){function E(){}E.prototype=_.prototype,c.aa=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(S,z,Y){for(var le=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)le[Ve-2]=arguments[Ve];return _.prototype[z].apply(S,le)}}function $(c){const _=c.length;if(0<_){const E=Array(_);for(let S=0;S<_;S++)E[S]=c[S];return E}return[]}function L(c,_){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(p(S)){const z=c.length||0,Y=S.length||0;c.length=z+Y;for(let le=0;le<Y;le++)c[z+le]=S[le]}else c.push(S)}}class ne{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function W(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var ae=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ie(c,_,E){for(const S in c)_.call(E,c[S],S,c)}function x(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function C(c){const _={};for(const E in c)_[E]=c[E];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,_){let E,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(E in S)c[E]=S[E];for(let Y=0;Y<I.length;Y++)E=I[Y],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function V(c){var _=1;c=c.split(":");const E=[];for(;0<_&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function U(c){d.setTimeout(()=>{throw c},0)}function D(){var c=ze;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class Ft{constructor(){this.h=this.g=null}add(_,E){const S=ht.get();S.set(_,E),this.h?this.h.next=S:this.g=S,this.h=S}}var ht=new ne(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ge=!1,ze=new Ft,O=()=>{const c=d.Promise.resolve(void 0);ue=()=>{c.then(se)}};var se=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(E){U(E)}var _=ht;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}ge=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var _e=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,_),d.removeEventListener("test",E,_)}catch{}return c})();function Ne(c,_){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(ae){e:{try{re(_.nodeName);var z=!0;break e}catch{}z=!1}z||(_=null)}}else E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement);this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}k(Ne,oe);var we={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),et=0;function hi(c,_,E,S,z){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!S,this.ha=z,this.key=++et,this.da=this.fa=!1}function Ar(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bi(c){this.src=c,this.g={},this.h=0}Bi.prototype.add=function(c,_,E,S,z){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var le=ws(c,_,S,z);return-1<le?(_=c[le],E||(_.fa=!1)):(_=new hi(_,this.src,Y,!!S,z),_.fa=E,c.push(_)),_};function bs(c,_){var E=_.type;if(E in c.g){var S=c.g[E],z=Array.prototype.indexOf.call(S,_,void 0),Y;(Y=0<=z)&&Array.prototype.splice.call(S,z,1),Y&&(Ar(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function ws(c,_,E,S){for(var z=0;z<c.length;++z){var Y=c[z];if(!Y.da&&Y.listener==_&&Y.capture==!!E&&Y.ha==S)return z}return-1}var As="closure_lm_"+(1e6*Math.random()|0),zo={};function $u(c,_,E,S,z){if(Array.isArray(_)){for(var Y=0;Y<_.length;Y++)$u(c,_[Y],E,S,z);return null}return E=Yu(E),c&&c[jt]?c.K(_,E,g(S)?!!S.capture:!1,z):kn(c,_,E,!1,S,z)}function kn(c,_,E,S,z,Y){if(!_)throw Error("Invalid event type");var le=g(z)?!!z.capture:!!z,Ve=Ta(c);if(Ve||(c[As]=Ve=new Bi(c)),E=Ve.add(_,E,S,le,Y),E.proxy)return E;if(S=qf(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)_e||(z=le),z===void 0&&(z=!1),c.addEventListener(_.toString(),S,z);else if(c.attachEvent)c.attachEvent(Ss(_.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function qf(){function c(E){return _.call(c.src,c.listener,E)}const _=Hf;return c}function qo(c,_,E,S,z){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)qo(c,_[Y],E,S,z);else S=g(S)?!!S.capture:!!S,E=Yu(E),c&&c[jt]?(c=c.i,_=String(_).toString(),_ in c.g&&(Y=c.g[_],E=ws(Y,E,S,z),-1<E&&(Ar(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete c.g[_],c.h--)))):c&&(c=Ta(c))&&(_=c.g[_.toString()],c=-1,_&&(c=ws(_,E,S,z)),(E=-1<c?_[c]:null)&&Ea(E))}function Ea(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[jt])bs(_.i,c);else{var E=c.type,S=c.proxy;_.removeEventListener?_.removeEventListener(E,S,c.capture):_.detachEvent?_.detachEvent(Ss(E),S):_.addListener&&_.removeListener&&_.removeListener(S),(E=Ta(_))?(bs(E,c),E.h==0&&(E.src=null,_[As]=null)):Ar(c)}}}function Ss(c){return c in zo?zo[c]:zo[c]="on"+c}function Hf(c,_){if(c.da)c=!0;else{_=new Ne(_,this);var E=c.listener,S=c.ha||c.src;c.fa&&Ea(c),c=E.call(S,_)}return c}function Ta(c){return c=c[As],c instanceof Bi?c:null}var Ho="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yu(c){return typeof c=="function"?c:(c[Ho]||(c[Ho]=function(_){return c.handleEvent(_)}),c[Ho])}function ft(){ce.call(this),this.i=new Bi(this),this.M=this,this.F=null}k(ft,ce),ft.prototype[jt]=!0,ft.prototype.removeEventListener=function(c,_,E,S){qo(this,c,_,E,S)};function Ge(c,_){var E,S=c.F;if(S)for(E=[];S;S=S.F)E.push(S);if(c=c.M,S=_.type||_,typeof _=="string")_=new oe(_,c);else if(_ instanceof oe)_.target=_.target||c;else{var z=_;_=new oe(S,c),M(_,z)}if(z=!0,E)for(var Y=E.length-1;0<=Y;Y--){var le=_.g=E[Y];z=Tn(le,S,!0,_)&&z}if(le=_.g=c,z=Tn(le,S,!0,_)&&z,z=Tn(le,S,!1,_)&&z,E)for(Y=0;Y<E.length;Y++)le=_.g=E[Y],z=Tn(le,S,!1,_)&&z}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var E=c.g[_],S=0;S<E.length;S++)Ar(E[S]);delete c.g[_],c.h--}}this.F=null},ft.prototype.K=function(c,_,E,S){return this.i.add(String(c),_,!1,E,S)},ft.prototype.L=function(c,_,E,S){return this.i.add(String(c),_,!0,E,S)};function Tn(c,_,E,S){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var z=!0,Y=0;Y<_.length;++Y){var le=_[Y];if(le&&!le.da&&le.capture==E){var Ve=le.listener,Dt=le.ha||le.src;le.fa&&bs(c.i,le),z=Ve.call(Dt,S)!==!1&&z}}return z&&!S.defaultPrevented}function Jt(c,_,E){if(typeof c=="function")E&&(c=A(c,E));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(c,_||0)}function Ku(c){c.g=Jt(()=>{c.g=null,c.i&&(c.i=!1,Ku(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class Ff extends ce{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ku(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(c){ce.call(this),this.h=c,this.g={}}k(Rs,ce);var Cs=[];function Is(c){ie(c.g,function(_,E){this.g.hasOwnProperty(E)&&Ea(_)},c),c.g={}}Rs.prototype.N=function(){Rs.aa.N.call(this),Is(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=d.JSON.stringify,ba=d.JSON.parse,Ns=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Fo(){}Fo.prototype.h=null;function Go(c){return c.h||(c.h=c.i())}function $o(){}var zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qi(){oe.call(this,"d")}k(qi,oe);function Yo(){oe.call(this,"c")}k(Yo,oe);var fi={},Ko=null;function Sr(){return Ko=Ko||new ft}fi.La="serverreachability";function wa(c){oe.call(this,fi.La,c)}k(wa,oe);function Rr(c){const _=Sr();Ge(_,new wa(_))}fi.STAT_EVENT="statevent";function Qu(c,_){oe.call(this,fi.STAT_EVENT,c),this.stat=_}k(Qu,oe);function st(c){const _=Sr();Ge(_,new Qu(_,c))}fi.Ma="timingevent";function xt(c,_){oe.call(this,fi.Ma,c),this.size=_}k(xt,oe);function bt(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},_)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function Qo(c,_,E,S,z,Y){c.info(function(){if(c.g)if(Y)for(var le="",Ve=Y.split("&"),Dt=0;Dt<Ve.length;Dt++){var je=Ve[Dt].split("=");if(1<je.length){var Ut=je[0];je=je[1];var Ot=Ut.split("_");le=2<=Ot.length&&Ot[1]=="type"?le+(Ut+"="+je+"&"):le+(Ut+"=redacted&")}}else le=null;else le=Y;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+_+`
`+E+`
`+le})}function Gf(c,_,E,S,z,Y,le){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+_+`
`+E+`
`+Y+" "+le})}function Cr(c,_,E,S){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+xs(c,E)+(S?" "+S:"")})}function Xu(c,_){c.info(function(){return"TIMEOUT: "+_})}Vn.prototype.info=function(){};function xs(c,_){if(!c.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var S=E[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var Y=z[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var le=1;le<z.length;le++)z[le]=""}}}}return Zn(E)}catch{return _}}var Ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},di;function mi(){}k(mi,Fo),mi.prototype.g=function(){return new XMLHttpRequest},mi.prototype.i=function(){return{}},di=new mi;function un(c,_,E,S){this.j=c,this.i=_,this.l=E,this.R=S||1,this.U=new Rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var Xo={},Aa={};function Jn(c,_,E){c.L=1,c.v=ks(bn(_)),c.m=E,c.P=!0,Fi(c,null)}function Fi(c,_){c.F=Date.now(),Ds(c),c.A=bn(c.v);var E=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),nl(E.i,"t",S),c.C=0,E=c.j.J,c.h=new _t,c.g=fc(c.j,E?_:null,!c.m),0<c.O&&(c.M=new Ff(A(c.Y,c,c.g),c.O)),_=c.U,E=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Cs[0]=z.toString()),z=Cs);for(var Y=0;Y<z.length;Y++){var le=$u(E,z[Y],S||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),Rr(),Qo(c.i,c.u,c.A,c.l,c.R,c.m)}un.prototype.ca=function(c){c=c.target;const _=this.M;_&&Bn(c)==3?_.j():this.Y(c)},un.prototype.Y=function(c){try{if(c==this.g)e:{const Ot=Bn(this.g);var _=this.g.Ba();const Zi=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||rc(this.g)))){this.J||Ot!=4||_==7||(_==8||0>=Zi?Rr(3):Rr(2)),Nr(this);var E=this.g.Z();this.X=E;t:if(Wu(this)){var S=rc(this.g);c="";var z=S.length,Y=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),pi(this);var le="";break t}this.h.i=new d.TextDecoder}for(_=0;_<z;_++)this.h.h=!0,c+=this.h.i.decode(S[_],{stream:!(Y&&_==z-1)});S.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=E==200,Gf(this.i,this.u,this.A,this.l,this.R,Ot,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Dt=this.g;if((Ve=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ve)){var je=Ve;break t}}je=null}if(E=je)Cr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Os(this,E);else{this.o=!1,this.s=3,st(12),Gt(this),pi(this);break e}}if(this.P){E=!0;let $t;for(;!this.J&&this.C<le.length;)if($t=Zu(this,le),$t==Aa){Ot==4&&(this.s=4,st(14),E=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if($t==Xo){this.s=4,st(15),Cr(this.i,this.l,le,"[Invalid Chunk]"),E=!1;break}else Cr(this.i,this.l,$t,null),Os(this,$t);if(Wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||le.length!=0||this.h.h||(this.s=1,st(16),E=!1),this.o=this.o&&E,!E)Cr(this.i,this.l,le,"[Invalid Chunked Response]"),Gt(this),pi(this);else if(0<le.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Hs(Ut),Ut.M=!0,st(11))}}else Cr(this.i,this.l,le,null),Os(this,le);Ot==4&&Gt(this),this.o&&!this.J&&(Ot==4?uc(this.j,this):(this.o=!1,Ds(this)))}else Xf(this.g),E==400&&0<le.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Gt(this),pi(this)}}}catch{}finally{}};function Wu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Zu(c,_){var E=c.C,S=_.indexOf(`
`,E);return S==-1?Aa:(E=Number(_.substring(E,S)),isNaN(E)?Xo:(S+=1,S+E>_.length?Aa:(_=_.slice(S,S+E),c.C=S+E,_)))}un.prototype.cancel=function(){this.J=!0,Gt(this)};function Ds(c){c.S=Date.now()+c.I,Ju(c,c.I)}function Ju(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=bt(A(c.ba,c),_)}function Nr(c){c.B&&(d.clearTimeout(c.B),c.B=null)}un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Xu(this.i,this.A),this.L!=2&&(Rr(),st(17)),Gt(this),this.s=2,pi(this)):Ju(this,this.S-c)};function pi(c){c.j.G==0||c.J||uc(c.j,c)}function Gt(c){Nr(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,Is(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function Os(c,_){try{var E=c.j;if(E.G!=0&&(E.g==c||Wo(E.h,c))){if(!c.K&&Wo(E.h,c)&&E.G==3){try{var S=E.Da.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Va(E),Ma(E);else break e;ol(E),st(18)}}else E.za=z[1],0<E.za-E.T&&37500>z[2]&&E.F&&E.v==0&&!E.C&&(E.C=bt(A(E.Za,E),6e3));if(1>=Ra(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Wi(E,11)}else if((c.K||E.g==c)&&Va(E),!W(_))for(z=E.Da.g.parse(_),_=0;_<z.length;_++){let je=z[_];if(E.T=je[0],je=je[1],E.G==2)if(je[0]=="c"){E.K=je[1],E.ia=je[2];const Ut=je[3];Ut!=null&&(E.la=Ut,E.j.info("VER="+E.la));const Ot=je[4];Ot!=null&&(E.Aa=Ot,E.j.info("SVER="+E.Aa));const Zi=je[5];Zi!=null&&typeof Zi=="number"&&0<Zi&&(S=1.5*Zi,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const $t=c.g;if($t){const bi=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var Y=S.h;Y.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ca(Y,Y.h),Y.h=null))}if(S.D){const ul=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(S.ya=ul,Qe(S.I,S.D,ul))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var le=c;if(S.qa=hc(S,S.J?S.ia:null,S.W),le.K){cn(S.h,le);var Ve=le,Dt=S.L;Dt&&(Ve.I=Dt),Ve.B&&(Nr(Ve),Ds(Ve)),S.g=le}else oc(S);0<E.i.length&&ka(E)}else je[0]!="stop"&&je[0]!="close"||Wi(E,7);else E.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Wi(E,7):sl(E):je[0]!="noop"&&E.l&&E.l.ta(je),E.v=0)}}Rr(4)}catch{}}var ec=class{constructor(c,_){this.g=c,this.map=_}};function Gi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ra(c){return c.h?1:c.g?c.g.size:0}function Wo(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Ca(c,_){c.g?c.g.add(_):c.h=_}function cn(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Gi.prototype.cancel=function(){if(this.i=Zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.D);return _}return $(c.i)}function $f(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var _=[],E=c.length,S=0;S<E;S++)_.push(c[S]);return _}_=[],E=0;for(S in c)_[E++]=c[S];return _}function Ia(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var _=[];c=c.length;for(var E=0;E<c;E++)_.push(E);return _}_=[],E=0;for(const S in c)_[E++]=S;return _}}}function Jo(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var E=Ia(c),S=$f(c),z=S.length,Y=0;Y<z;Y++)_.call(void 0,S[Y],E&&E[Y],c)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yf(c,_){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var S=c[E].indexOf("="),z=null;if(0<=S){var Y=c[E].substring(0,S);z=c[E].substring(S+1)}else Y=c[E];_(Y,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function wt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wt){this.h=c.h,Ms(this,c.j),this.o=c.o,this.g=c.g,xr(this,c.s),this.l=c.l;var _=c.i,E=new Yi;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),$i(this,E),this.m=c.m}else c&&(_=String(c).match(Ps))?(this.h=!1,Ms(this,_[1]||"",!0),this.o=jn(_[2]||""),this.g=jn(_[3]||"",!0),xr(this,_[4]),this.l=jn(_[5]||"",!0),$i(this,_[6]||"",!0),this.m=jn(_[7]||"")):(this.h=!1,this.i=new Yi(null,this.h))}wt.prototype.toString=function(){var c=[],_=this.j;_&&c.push(Vs(_,el,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Vs(_,el,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Vs(E,E.charAt(0)=="/"?Kf:tl,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Vs(E,Na)),c.join("")};function bn(c){return new wt(c)}function Ms(c,_,E){c.j=E?jn(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function xr(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function $i(c,_,E){_ instanceof Yi?(c.i=_,nc(c.i,c.h)):(E||(_=Vs(_,Qf)),c.i=new Yi(_,c.h))}function Qe(c,_,E){c.i.set(_,E)}function ks(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function jn(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vs(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,tc),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function tc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var el=/[#\/\?@]/g,tl=/[#\?:]/g,Kf=/[#\?]/g,Qf=/[#\?@]/g,Na=/#/g;function Yi(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Ln(c){c.g||(c.g=new Map,c.h=0,c.i&&Yf(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}i=Yi.prototype,i.add=function(c,_){Ln(this),this.i=null,c=gi(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function Ki(c,_){Ln(c),_=gi(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Qi(c,_){return Ln(c),_=gi(c,_),c.g.has(_)}i.forEach=function(c,_){Ln(this),this.g.forEach(function(E,S){E.forEach(function(z){c.call(_,z,S,this)},this)},this)},i.na=function(){Ln(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let S=0;S<_.length;S++){const z=c[S];for(let Y=0;Y<z.length;Y++)E.push(_[S])}return E},i.V=function(c){Ln(this);let _=[];if(typeof c=="string")Qi(this,c)&&(_=_.concat(this.g.get(gi(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)_=_.concat(c[E])}return _},i.set=function(c,_){return Ln(this),this.i=null,c=gi(this,c),Qi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function nl(c,_,E){Ki(c,_),0<E.length&&(c.i=null,c.g.set(gi(c,_),$(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var S=_[E];const Y=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var z=Y;le[S]!==""&&(z+="="+encodeURIComponent(String(le[S]))),c.push(z)}}return this.i=c.join("&")};function gi(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function nc(c,_){_&&!c.j&&(Ln(c),c.i=null,c.g.forEach(function(E,S){var z=S.toLowerCase();S!=z&&(Ki(this,S),nl(this,z,E))},c)),c.j=_}function js(c,_){const E=new Vn;if(d.Image){const S=new Image;S.onload=R(Un,E,"TestLoadImage: loaded",!0,_,S),S.onerror=R(Un,E,"TestLoadImage: error",!1,_,S),S.onabort=R(Un,E,"TestLoadImage: abort",!1,_,S),S.ontimeout=R(Un,E,"TestLoadImage: timeout",!1,_,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else _(!1)}function ei(c,_){const E=new Vn,S=new AbortController,z=setTimeout(()=>{S.abort(),Un(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(z),Y.ok?Un(E,"TestPingServer: ok",!0,_):Un(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(z),Un(E,"TestPingServer: error",!1,_)})}function Un(c,_,E,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(E)}catch{}}function Ls(){this.g=new Ns}function yi(c,_,E){const S=E||"";try{Jo(c,function(z,Y){let le=z;g(z)&&(le=Zn(z)),_.push(S+Y+"="+encodeURIComponent(le))})}catch(z){throw _.push(S+"type="+encodeURIComponent("_badmap")),z}}function Dr(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Dr,Fo),Dr.prototype.g=function(){return new Xi(this.l,this.j)},Dr.prototype.i=(function(c){return function(){return c}})({});function Xi(c,_){ft.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Xi,ft),i=Xi.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,vi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;il(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function il(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?_i(this):vi(this),this.readyState==3&&il(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,_i(this))},i.Qa=function(c){this.g&&(this.response=c,_i(this))},i.ga=function(){this.g&&_i(this)};function _i(c){c.readyState=4,c.l=null,c.j=null,c.v=null,vi(c)}i.setRequestHeader=function(c,_){this.u.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function vi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function rl(c){let _="";return ie(c,function(E,S){_+=S,_+=":",_+=E,_+=`\r
`}),_}function Lt(c,_,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=rl(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Qe(c,_,E))}function He(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(He,ft);var xa=/^https?$/i,Us=["POST","PUT"];i=He.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,_,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():di.g(),this.v=this.o?Go(this.o):Go(di),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(Y){ic(this,Y);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)E.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())E.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Us,_,void 0))||S||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of E)this.g.setRequestHeader(Y,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){ic(this,Y)}};function ic(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,Da(c),Ei(c)}function Da(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),Ei(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},i.bb=function(){Oa(this)};function Oa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Bn(c)!=4||c.Z()!=2)){if(c.u&&Bn(c)==4)Jt(c.Ea,0,c);else if(Ge(c,"readystatechange"),Bn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var S;if(S=le===0){var z=String(c.D).match(Ps)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),S=!xa.test(z?z.toLowerCase():"")}E=S}if(E)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var Y=2<Bn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Da(c)}}finally{Ei(c)}}}}function Ei(c,_){if(c.g){Bs(c);const E=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Ge(c,"ready");try{E.onreadystatechange=S}catch{}}}function Bs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Bn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),ba(_)}};function rc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xf(c){const _={};c=(c.g&&2<=Bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(W(c[S]))continue;var E=V(c[S]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=_[z]||[];_[z]=Y,Y.push(E)}x(_,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function Pa(c){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zs("baseRetryDelayMs",5e3,c),this.cb=zs("retryDelaySeedMs",1e4,c),this.Wa=zs("forwardChannelMaxRetries",2,c),this.wa=zs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Gi(c&&c.concurrentRequestLimit),this.Da=new Ls,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Pa.prototype,i.la=8,i.G=1,i.connect=function(c,_,E,S){st(0),this.W=c,this.H=_||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=hc(this,null,this.W),ka(this)};function sl(c){if(sc(c),c.G==3){var _=c.U++,E=bn(c.I);if(Qe(E,"SID",c.K),Qe(E,"RID",_),Qe(E,"TYPE","terminate"),qs(c,E),_=new un(c,c.j,_),_.L=2,_.v=ks(bn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=_.v,E=!0),E||(_.g=fc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ds(_)}cc(c)}function Ma(c){c.g&&(Hs(c),c.g.cancel(),c.g=null)}function sc(c){Ma(c),c.u&&(d.clearTimeout(c.u),c.u=null),Va(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ka(c){if(!Sa(c.h)&&!c.s){c.s=!0;var _=c.Ga;ue||O(),ge||(ue(),ge=!0),ze.add(_,c),c.B=0}}function Wf(c,_){return Ra(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=bt(A(c.Ga,c,_),ll(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new un(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=C(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(z.H=Y,Y=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=ac(this,z,_),E=bn(this.I),Qe(E,"RID",c),Qe(E,"CVER",22),this.D&&Qe(E,"X-HTTP-Session-Id",this.D),qs(this,E),Y&&(this.O?_="headers="+encodeURIComponent(String(rl(Y)))+"&"+_:this.m&&Lt(E,this.m,Y)),Ca(this.h,z),this.Ua&&Qe(E,"TYPE","init"),this.P?(Qe(E,"$req",_),Qe(E,"SID","null"),z.T=!0,Jn(z,E,null)):Jn(z,E,_),this.G=2}}else this.G==3&&(c?al(this,c):this.i.length==0||Sa(this.h)||al(this))};function al(c,_){var E;_?E=_.l:E=c.U++;const S=bn(c.I);Qe(S,"SID",c.K),Qe(S,"RID",E),Qe(S,"AID",c.T),qs(c,S),c.m&&c.o&&Lt(S,c.m,c.o),E=new un(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),_&&(c.i=_.D.concat(c.i)),_=ac(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ca(c.h,E),Jn(E,S,_)}function qs(c,_){c.H&&ie(c.H,function(E,S){Qe(_,S,E)}),c.l&&Jo({},function(E,S){Qe(_,S,E)})}function ac(c,_,E){E=Math.min(c.i.length,E);var S=c.l?A(c.l.Na,c.l,c):null;e:{var z=c.i;let Y=-1;for(;;){const le=["count="+E];Y==-1?0<E?(Y=z[0].g,le.push("ofs="+Y)):Y=0:le.push("ofs="+Y);let Ve=!0;for(let Dt=0;Dt<E;Dt++){let je=z[Dt].g;const Ut=z[Dt].map;if(je-=Y,0>je)Y=Math.max(0,z[Dt].g-100),Ve=!1;else try{yi(Ut,le,"req"+je+"_")}catch{S&&S(Ut)}}if(Ve){S=le.join("&");break e}}}return c=c.i.splice(0,E),_.D=c,S}function oc(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;ue||O(),ge||(ue(),ge=!0),ze.add(_,c),c.v=0}}function ol(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=bt(A(c.Fa,c),ll(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,lc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=bt(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Ma(this),lc(this))};function Hs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function lc(c){c.g=new un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=bn(c.qa);Qe(_,"RID","rpc"),Qe(_,"SID",c.K),Qe(_,"AID",c.T),Qe(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(_,"TO",c.ja),Qe(_,"TYPE","xmlhttp"),qs(c,_),c.m&&c.o&&Lt(_,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=ks(bn(_)),E.m=null,E.P=!0,Fi(E,c)}i.Za=function(){this.C!=null&&(this.C=null,Ma(this),ol(this),st(19))};function Va(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function uc(c,_){var E=null;if(c.g==_){Va(c),Hs(c),c.g=null;var S=2}else if(Wo(c.h,_))E=_.D,cn(c.h,_),S=1;else return;if(c.G!=0){if(_.o)if(S==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var z=c.B;S=Sr(),Ge(S,new xt(S,E)),ka(c)}else oc(c);else if(z=_.s,z==3||z==0&&0<_.X||!(S==1&&Wf(c,_)||S==2&&ol(c)))switch(E&&0<E.length&&(_=c.h,_.i=_.i.concat(E)),z){case 1:Wi(c,5);break;case 4:Wi(c,10);break;case 3:Wi(c,6);break;default:Wi(c,2)}}}function ll(c,_){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*_}function Wi(c,_){if(c.j.info("Error code "+_),_==2){var E=A(c.fb,c),S=c.Xa;const z=!S;S=new wt(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ms(S,"https"),ks(S),z?js(S.toString(),E):ei(S.toString(),E)}else st(2);c.G=0,c.l&&c.l.sa(_),cc(c),sc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function cc(c){if(c.G=0,c.ka=[],c.l){const _=Zo(c.h);(_.length!=0||c.i.length!=0)&&(L(c.ka,_),L(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function hc(c,_,E){var S=E instanceof wt?bn(E):new wt(E);if(S.g!="")_&&(S.g=_+"."+S.g),xr(S,S.s);else{var z=d.location;S=z.protocol,_=_?_+"."+z.hostname:z.hostname,z=+z.port;var Y=new wt(null);S&&Ms(Y,S),_&&(Y.g=_),z&&xr(Y,z),E&&(Y.l=E),S=Y}return E=c.D,_=c.ya,E&&_&&Qe(S,E,_),Qe(S,"VER",c.la),qs(c,S),S}function fc(c,_,E){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new He(new Dr({eb:E})):new He(c.pa),_.Ha(c.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function dc(){}i=dc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ja(){}ja.prototype.g=function(c,_){return new hn(c,_)};function hn(c,_){ft.call(this),this.g=new Pa(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!W(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!W(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Ti(this)}k(hn,ft),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){sl(this.g)},hn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Zn(c),c=E);_.i.push(new ec(_.Ya++,c)),_.G==3&&ka(_)},hn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,hn.aa.N.call(this)};function mc(c){qi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const E in _){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}k(mc,qi);function pc(){Yo.call(this),this.status=1}k(pc,Yo);function Ti(c){this.g=c}k(Ti,dc),Ti.prototype.ua=function(){Ge(this.g,"a")},Ti.prototype.ta=function(c){Ge(this.g,new mc(c))},Ti.prototype.sa=function(c){Ge(this.g,new pc)},Ti.prototype.ra=function(){Ge(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,z0=function(){return new ja},B0=function(){return Sr()},U0=fi,wp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Oh=Ir,Hi.COMPLETE="complete",L0=Hi,$o.EventType=zi,zi.OPEN="a",zi.CLOSE="b",zi.ERROR="c",zi.MESSAGE="d",ft.prototype.listen=ft.prototype.K,su=$o,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,j0=He}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const fT="@firebase/firestore",dT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new tg("@firebase/firestore");function mo(){return ma.logLevel}function fe(i,...e){if(ma.logLevel<=Pe.DEBUG){const t=e.map(mg);ma.debug(`Firestore (${Vo}): ${i}`,...t)}}function Er(i,...e){if(ma.logLevel<=Pe.ERROR){const t=e.map(mg);ma.error(`Firestore (${Vo}): ${i}`,...t)}}function So(i,...e){if(ma.logLevel<=Pe.WARN){const t=e.map(mg);ma.warn(`Firestore (${Vo}): ${i}`,...t)}}function mg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,q0(i,s,t)}function q0(i,e,t){let s=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Er(s),new Error(s)}function Fe(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||q0(e,o,s)}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(rn.UNAUTHENTICATED)))}shutdown(){}}class hD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class fD{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new pr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new pr)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new H0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class dD{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mD{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new dD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,on(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=gD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Me(i,e){return i<e?-1:i>e?1:0}function Ap(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return sp(o)===sp(u)?Me(o,u):sp(o)?1:-1}return Me(i.length,e.length)}const yD=55296,_D=57343;function sp(i){const e=i.charCodeAt(0);return e>=yD&&e<=_D}function Ro(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="__name__";class Ii{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Ii.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Me(e.length,t.length)}static compareSegments(e,t){const s=Ii.isNumericId(e),o=Ii.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ii.extractNumericId(e).compare(Ii.extractNumericId(t)):Ap(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class it extends Ii{construct(e,t,s){return new it(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new it(t)}static emptyPath(){return new it([])}}const vD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ii{construct(e,t,s){return new Wt(e,t,s)}static isValidIdentifier(e){return vD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pT}static keyField(){return new Wt([pT])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(i,e,t){if(!t)throw new he(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ED(i,e,t,s){if(e===!0&&s===!0)throw new he(J.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function gT(i){if(!ye.isDocumentKey(i))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function yT(i){if(ye.isDocumentKey(i))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function G0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function _f(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Pn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_f(i);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Bu(i,e){if(!G0(i))throw new he(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new he(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=-62135596800,vT=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*vT);return new Ke(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<_T)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vT}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bu(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_T;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:Nt("string",Ke._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Ke(0,0))}static max(){return new Ae(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=-1;function TD(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Ke(t+1,0):new Ke(t,s));return new hs(o,ye.empty(),e)}function bD(i){return new hs(i.readTime,i.key,Au)}class hs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new hs(Ae.min(),ye.empty(),Au)}static max(){return new hs(Ae.max(),ye.empty(),Au)}}function wD(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(i.documentKey,e.documentKey),t!==0?t:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==AD)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,s)=>{t(e)}))}static reject(e){return new te(((t,s)=>{s(e)}))}static waitFor(e){return new te(((t,s)=>{let o=0,u=0,h=!1;e.forEach((d=>{++o,d.next((()=>{++u,h&&u===o&&t()}),(p=>s(p)))})),h=!0,u===o&&t()}))}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next((o=>o?te.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new te(((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next((v=>{h[g]=v,++d,d===u&&s(h)}),(v=>o(v)))}}))}static doWhile(e,t){return new te(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function RD(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Lo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=-1;function Ef(i){return i==null}function $h(i){return i===0&&1/i==-1/0}function CD(i){return typeof i=="number"&&Number.isInteger(i)&&!$h(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="";function ID(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=ET(e)),e=ND(i.get(t),e);return ET(e)}function ND(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case $0:t+="";break;default:t+=u}}return t}function ET(i){return i+$0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function vs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Y0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Xt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bT(this.data.getIterator())}getIteratorFrom(e){return new bT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class bT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new kt(Wt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new K0("Invalid base64 string: "+u):u}})(e);return new Zt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const xD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const t=xD.exec(i);if(Fe(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(i.seconds),nanos:Tt(i.nanos)}}function Tt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ds(i){return typeof i=="string"?Zt.fromBase64String(i):Zt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="server_timestamp",X0="__type__",W0="__previous_value__",Z0="__local_write_time__";function yg(i){return(i?.mapValue?.fields||{})[X0]?.stringValue===Q0}function Tf(i){const e=i.mapValue.fields[W0];return yg(e)?Tf(e):e}function Su(i){const e=fs(i.mapValue.fields[Z0].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t,s,o,u,h,d,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Yh="(default)";class Ru{constructor(e,t){this.projectId=e,this.database=t||Yh}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="__type__",OD="__max__",Eh={mapValue:{}},ew="__vector__",Kh="value";function ms(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?yg(i)?4:MD(i)?9007199254740991:PD(i)?10:11:Te(28295,{value:i})}function Vi(i,e){if(i===e)return!0;const t=ms(i);if(t!==ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Su(i).isEqual(Su(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=fs(o.timestampValue),d=fs(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Tt(o.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Tt(o.integerValue)===Tt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Tt(o.doubleValue),d=Tt(u.doubleValue);return h===d?$h(h)===$h(d):isNaN(h)&&isNaN(d)}return!1})(i,e);case 9:return Ro(i.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(TT(h)!==TT(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Vi(h[p],d[p])))return!1;return!0})(i,e);default:return Te(52216,{left:i})}}function Cu(i,e){return(i.values||[]).find((t=>Vi(t,e)))!==void 0}function Co(i,e){if(i===e)return 0;const t=ms(i),s=ms(e);if(t!==s)return Me(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const d=Tt(u.integerValue||u.doubleValue),p=Tt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(i,e);case 3:return wT(i.timestampValue,e.timestampValue);case 4:return wT(Su(i),Su(e));case 5:return Ap(i.stringValue,e.stringValue);case 6:return(function(u,h){const d=ds(u),p=ds(h);return d.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Me(d[g],p[g]);if(v!==0)return v}return Me(d.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const d=Me(Tt(u.latitude),Tt(h.latitude));return d!==0?d:Me(Tt(u.longitude),Tt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return AT(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const d=u.fields||{},p=h.fields||{},g=d[Kh]?.arrayValue,v=p[Kh]?.arrayValue,b=Me(g?.values?.length||0,v?.values?.length||0);return b!==0?b:AT(g,v)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Eh.mapValue&&h===Eh.mapValue)return 0;if(u===Eh.mapValue)return 1;if(h===Eh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const A=Ap(p[b],v[b]);if(A!==0)return A;const R=Co(d[p[b]],g[v[b]]);if(R!==0)return R}return Me(p.length,v.length)})(i.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function wT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const t=fs(i),s=fs(e),o=Me(t.seconds,s.seconds);return o!==0?o:Me(t.nanos,s.nanos)}function AT(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Co(t[o],s[o]);if(u)return u}return Me(t.length,s.length)}function Io(i){return Sp(i)}function Sp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=fs(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return ds(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ye.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Sp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Sp(t.fields[h])}`;return o+"}"})(i.mapValue):Te(61005,{value:i})}function Ph(i){switch(ms(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tf(i);return e?16+Ph(e):16;case 5:return 2*i.stringValue.length;case 6:return ds(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ph(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return vs(s.fields,((u,h)=>{o+=u.length+Ph(h)})),o})(i.mapValue);default:throw Te(13486,{value:i})}}function ST(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Rp(i){return!!i&&"integerValue"in i}function _g(i){return!!i&&"arrayValue"in i}function RT(i){return!!i&&"nullValue"in i}function CT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Mh(i){return!!i&&"mapValue"in i}function PD(i){return(i?.mapValue?.fields||{})[J0]?.stringValue===ew}function mu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return vs(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=mu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mu(i.arrayValue.values[t]);return e}return{...i}}function MD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===OD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(t)}setAll(e){let t=Wt.emptyPath(),s={},o=[];e.forEach(((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=mu(h):o.push(d.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){vs(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new _n(mu(this.value))}}function tw(i){const e=[];return vs(i.fields,((t,s)=>{const o=new Wt([t]);if(Mh(s)){const u=tw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new sn(e,0,Ae.min(),Ae.min(),Ae.min(),_n.empty(),0)}static newFoundDocument(e,t,s,o){return new sn(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new sn(e,2,t,Ae.min(),Ae.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new sn(e,3,t,Ae.min(),Ae.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t){this.position=e,this.inclusive=t}}function IT(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),t.key):s=Co(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function NT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Vi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,t="asc"){this.field=e,this.dir=t}}function kD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{}class It extends nw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new jD(e,t,s):t==="array-contains"?new BD(e,s):t==="in"?new zD(e,s):t==="not-in"?new qD(e,s):t==="array-contains-any"?new HD(e,s):new It(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new LD(e,s):new UD(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Co(t,this.value)):t!==null&&ms(this.value)===ms(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends nw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new oi(e,t)}matches(e){return iw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iw(i){return i.op==="and"}function rw(i){return VD(i)&&iw(i)}function VD(i){for(const e of i.filters)if(e instanceof oi)return!1;return!0}function Cp(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+Io(i.value);if(rw(i))return i.filters.map((e=>Cp(e))).join(",");{const e=i.filters.map((t=>Cp(t))).join(",");return`${i.op}(${e})`}}function sw(i,e){return i instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Vi(s.value,o.value)})(i,e):i instanceof oi?(function(s,o){return o instanceof oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,d)=>u&&sw(h,o.filters[d])),!0):!1})(i,e):void Te(19439)}function aw(i){return i instanceof It?(function(t){return`${t.field.canonicalString()} ${t.op} ${Io(t.value)}`})(i):i instanceof oi?(function(t){return t.op.toString()+" {"+t.getFilters().map(aw).join(" ,")+"}"})(i):"Filter"}class jD extends It{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class LD extends It{constructor(e,t){super(e,"in",t),this.keys=ow("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class UD extends It{constructor(e,t){super(e,"not-in",t),this.keys=ow("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ow(i,e){return(e.arrayValue?.values||[]).map((t=>ye.fromName(t.referenceValue)))}class BD extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _g(t)&&Cu(t.arrayValue,this.value)}}class zD extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Cu(this.value.arrayValue,t)}}class qD extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Cu(this.value.arrayValue,t)}}class HD extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_g(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Cu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Te=null}}function xT(i,e=null,t=[],s=[],o=null,u=null,h=null){return new FD(i,e,t,s,o,u,h)}function vg(i){const e=Re(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Cp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ef(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Io(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Io(s))).join(",")),e.Te=t}return e.Te}function Eg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!kD(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!sw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!NT(i.startAt,e.startAt)&&NT(i.endAt,e.endAt)}function Ip(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GD(i,e,t,s,o,u,h,d){return new Uo(i,e,t,s,o,u,h,d)}function bf(i){return new Uo(i)}function DT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function lw(i){return i.collectionGroup!==null}function pu(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new kt(Wt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Iu(u,s))})),t.has(Wt.keyField().canonicalString())||e.Ie.push(new Iu(Wt.keyField(),s))}return e.Ie}function Oi(i){const e=Re(i);return e.Ee||(e.Ee=$D(e,pu(i))),e.Ee}function $D(i,e){if(i.limitType==="F")return xT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Iu(o.field,u)}));const t=i.endAt?new Qh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Qh(i.startAt.position,i.startAt.inclusive):null;return xT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Np(i,e){const t=i.filters.concat([e]);return new Uo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function xp(i,e,t){return new Uo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function wf(i,e){return Eg(Oi(i),Oi(e))&&i.limitType===e.limitType}function uw(i){return`${vg(Oi(i))}|lt:${i.limitType}`}function po(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>aw(o))).join(", ")}]`),Ef(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Io(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Io(o))).join(",")),`Target(${s})`})(Oi(i))}; limitType=${i.limitType})`}function Af(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of pu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,d,p){const g=IT(h,d,p);return h.inclusive?g<=0:g<0})(s.startAt,pu(s),o)||s.endAt&&!(function(h,d,p){const g=IT(h,d,p);return h.inclusive?g>=0:g>0})(s.endAt,pu(s),o))})(i,e)}function YD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function cw(i){return(e,t)=>{let s=!1;for(const o of pu(i)){const u=KD(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function KD(i,e,t){const s=i.field.isKeyField()?ye.comparator(e.key,t.key):(function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Co(p,g):Te(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Y0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new ct(ye.comparator);function Tr(){return QD}const hw=new ct(ye.comparator);function au(...i){let e=hw;for(const t of i)e=e.insert(t.key,t);return e}function fw(i){let e=hw;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function oa(){return gu()}function dw(){return gu()}function gu(){return new _a((i=>i.toString()),((i,e)=>i.isEqual(e)))}const XD=new ct(ye.comparator),WD=new kt(ye.comparator);function ke(...i){let e=WD;for(const t of i)e=e.add(t);return e}const ZD=new kt(Me);function JD(){return ZD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function mw(i){return{integerValue:""+i}}function e2(i,e){return CD(e)?mw(e):Tg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this._=void 0}}function t2(i,e,t){return i instanceof Nu?(function(o,u){const h={fields:{[X0]:{stringValue:Q0},[Z0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yg(u)&&(u=Tf(u)),u&&(h.fields[W0]=u),{mapValue:h}})(t,e):i instanceof xu?gw(i,e):i instanceof Du?yw(i,e):(function(o,u){const h=pw(o,u),d=OT(h)+OT(o.Ae);return Rp(h)&&Rp(o.Ae)?mw(d):Tg(o.serializer,d)})(i,e)}function n2(i,e,t){return i instanceof xu?gw(i,e):i instanceof Du?yw(i,e):t}function pw(i,e){return i instanceof Xh?(function(s){return Rp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Nu extends Sf{}class xu extends Sf{constructor(e){super(),this.elements=e}}function gw(i,e){const t=_w(e);for(const s of i.elements)t.some((o=>Vi(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Du extends Sf{constructor(e){super(),this.elements=e}}function yw(i,e){let t=_w(e);for(const s of i.elements)t=t.filter((o=>!Vi(o,s)));return{arrayValue:{values:t}}}class Xh extends Sf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function OT(i){return Tt(i.integerValue||i.doubleValue)}function _w(i){return _g(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,t){this.field=e,this.transform=t}}function r2(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof xu&&o instanceof xu||s instanceof Du&&o instanceof Du?Ro(s.elements,o.elements,Vi):s instanceof Xh&&o instanceof Xh?Vi(s.Ae,o.Ae):s instanceof Nu&&o instanceof Nu})(i.transform,e.transform)}class s2{constructor(e,t){this.version=e,this.transformResults=t}}class si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Rf{}function vw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Tw(i.key,si.none()):new zu(i.key,i.data,si.none());{const t=i.data,s=_n.empty();let o=new kt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Es(i.key,s,new Dn(o.toArray()),si.none())}}function a2(i,e,t){i instanceof zu?(function(o,u,h){const d=o.value.clone(),p=MT(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()})(i,e,t):i instanceof Es?(function(o,u,h){if(!kh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=MT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Ew(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,t):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function yu(i,e,t,s){return i instanceof zu?(function(u,h,d,p){if(!kh(u.precondition,h))return d;const g=u.value.clone(),v=kT(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,t,s):i instanceof Es?(function(u,h,d,p){if(!kh(u.precondition,h))return d;const g=kT(u.fieldTransforms,p,h),v=h.data;return v.setAll(Ew(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,t,s):(function(u,h,d){return kh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d})(i,e,t)}function o2(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=pw(s.transform,o||null);u!=null&&(t===null&&(t=_n.empty()),t.set(s.field,u))}return t||null}function PT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ro(s,o,((u,h)=>r2(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class zu extends Rf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Es extends Rf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ew(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function MT(i,e,t){const s=new Map;Fe(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,n2(h,d,t[o]))}return s}function kT(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,t2(u,h,e))}return s}class Tw extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l2 extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&a2(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=yu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=yu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=dw();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=vw(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ke())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,((t,s)=>PT(t,s)))&&Ro(this.baseMutations,e.baseMutations,((t,s)=>PT(t,s)))}}class bg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return XD})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new bg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Ue;function f2(i){switch(i){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function bw(i){if(i===void 0)return Er("GRPC error has no .code"),J.UNKNOWN;switch(i){case Rt.OK:return J.OK;case Rt.CANCELLED:return J.CANCELLED;case Rt.UNKNOWN:return J.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return J.INTERNAL;case Rt.UNAVAILABLE:return J.UNAVAILABLE;case Rt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Rt.NOT_FOUND:return J.NOT_FOUND;case Rt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Rt.ABORTED:return J.ABORTED;case Rt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Rt.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:i})}}(Ue=Rt||(Rt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new ls([4294967295,4294967295],0);function VT(i){const e=d2().encode(i),t=new V0;return t.update(e),new Uint8Array(t.digest())}function jT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ls([t,s],0),new ls([o,u],0)]}class wg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ou(`Invalid padding: ${t}`);if(s<0)throw new ou(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ou(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ls.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(ls.fromNumber(s)));return o.compare(m2)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=VT(e),[s,o]=jT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new wg(u,o,t);return s.forEach((d=>h.insert(d))),h}insert(e){if(this.ge===0)return;const t=VT(e),[s,o]=jT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Cf(Ae.min(),o,new ct(Me),Tr(),ke())}}class qu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new qu(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class ww{constructor(e,t){this.targetId=e,this.Ce=t}}class Aw{constructor(e,t,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class LT{constructor(){this.ve=0,this.Fe=UT(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),t=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new qu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=UT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class p2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Tr(),this.Je=Th(),this.He=Th(),this.Ye=new ct(Me)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Ip(u))if(s===0){const h=new ye(u.path);this.et(t,h,sn.newNoDocument(h,Ae.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const d=this.ut(e),p=d?this.ct(d,e,h):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=ds(s).toUint8Array()}catch(p){if(p instanceof K0)return So("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new wg(h,o,u)}catch(p){return So(p instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,h)=>{const d=this.ot(h);if(d){if(u.current&&Ip(d.target)){const p=new ye(d.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,sn.newNoDocument(p,e))}u.Be&&(t.set(h,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,h)=>{let d=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Cf(e,t,this.Ye,this.je,s);return this.je=Tr(),this.Je=Th(),this.He=Th(),this.Ye=new ct(Me),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new LT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new kt(Me),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new kt(Me),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new LT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Th(){return new ct(ye.comparator)}function UT(){return new ct(ye.comparator)}const g2={asc:"ASCENDING",desc:"DESCENDING"},y2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_2={and:"AND",or:"OR"};class v2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dp(i,e){return i.useProto3Json||Ef(e)?e:{value:e}}function Wh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function E2(i,e){return Wh(i,e.toTimestamp())}function Pi(i){return Fe(!!i,49232),Ae.fromTimestamp((function(t){const s=fs(t);return new Ke(s.seconds,s.nanos)})(i))}function Ag(i,e){return Op(i,e).canonicalString()}function Op(i,e){const t=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function Rw(i){const e=it.fromString(i);return Fe(Dw(e),10190,{key:e.toString()}),e}function Pp(i,e){return Ag(i.databaseId,e.path)}function ap(i,e){const t=Rw(e);if(t.get(1)!==i.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ye(Iw(t))}function Cw(i,e){return Ag(i.databaseId,e)}function T2(i){const e=Rw(i);return e.length===4?it.emptyPath():Iw(e)}function Mp(i){return new it(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Iw(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function BT(i,e,t){return{name:Pp(i,e),fields:t.value.mapValue.fields}}function b2(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Fe(v===void 0||typeof v=="string",58123),Zt.fromBase64String(v||"")):(Fe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Zt.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&(function(g){const v=g.code===void 0?J.UNKNOWN:bw(g.code);return new he(v,g.message||"")})(h);t=new Aw(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ap(i,s.document.name),u=Pi(s.document.updateTime),h=s.document.createTime?Pi(s.document.createTime):Ae.min(),d=new _n({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(o,u,h,d),g=s.targetIds||[],v=s.removedTargetIds||[];t=new Vh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ap(i,s.document),u=s.readTime?Pi(s.readTime):Ae.min(),h=sn.newNoDocument(o,u),d=s.removedTargetIds||[];t=new Vh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ap(i,s.document),u=s.removedTargetIds||[];t=new Vh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new h2(o,u),d=s.targetId;t=new ww(d,h)}}return t}function w2(i,e){let t;if(e instanceof zu)t={update:BT(i,e.key,e.value)};else if(e instanceof Tw)t={delete:Pp(i,e.key)};else if(e instanceof Es)t={update:BT(i,e.key,e.data),updateMask:O2(e.fieldMask)};else{if(!(e instanceof l2))return Te(16599,{Vt:e.type});t={verify:Pp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const d=h.transform;if(d instanceof Nu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Du)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xh)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw Te(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:E2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(i,e.precondition)),t}function A2(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map((t=>(function(o,u){let h=o.updateTime?Pi(o.updateTime):Pi(u);return h.isEqual(Ae.min())&&(h=Pi(u)),new s2(h,o.transformResults||[])})(t,e)))):[]}function S2(i,e){return{documents:[Cw(i,e.path)]}}function R2(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Cw(i,o);const u=(function(g){if(g.length!==0)return xw(oi.create(g,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:go(A.field),direction:N2(A.dir)}})(v)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Dp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function C2(i){let e=T2(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=(function(b){const A=Nw(b);return A instanceof oi&&rw(A)?A.getFilters():[A]})(t.where));let h=[];t.orderBy&&(h=(function(b){return b.map((A=>(function(k){return new Iu(yo(k.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(A)))})(t.orderBy));let d=null;t.limit&&(d=(function(b){let A;return A=typeof b=="object"?b.value:b,Ef(A)?null:A})(t.limit));let p=null;t.startAt&&(p=(function(b){const A=!!b.before,R=b.values||[];return new Qh(R,A)})(t.startAt));let g=null;return t.endAt&&(g=(function(b){const A=!b.before,R=b.values||[];return new Qh(R,A)})(t.endAt)),GD(e,o,h,u,d,"F",p,g)}function I2(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Nw(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=yo(t.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(t.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=yo(t.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(i):i.fieldFilter!==void 0?(function(t){return It.create(yo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return oi.create(t.compositeFilter.filters.map((s=>Nw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(i):Te(30097,{filter:i})}function N2(i){return g2[i]}function x2(i){return y2[i]}function D2(i){return _2[i]}function go(i){return{fieldPath:i.canonicalString()}}function yo(i){return Wt.fromServerFormat(i.fieldPath)}function xw(i){return i instanceof It?(function(t){if(t.op==="=="){if(CT(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NAN"}};if(RT(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(CT(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NAN"}};if(RT(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(t.field),op:x2(t.op),value:t.value}}})(i):i instanceof oi?(function(t){const s=t.getFilters().map((o=>xw(o)));return s.length===1?s[0]:{compositeFilter:{op:D2(t.op),filters:s}}})(i):Te(54877,{filter:i})}function O2(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Dw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,t,s,o,u=Ae.min(),h=Ae.min(),d=Zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.yt=e}}function M2(i){const e=C2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.Cn=new V2}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(hs.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class V2{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new kt(it.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ow=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(Ow,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new No(0)}static cr(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="LruGarbageCollector",j2=1048576;function HT([i,e],[t,s]){const o=Me(i,t);return o===0?Me(e,s):o}class L2{constructor(e){this.Ir=e,this.buffer=new kt(HT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();HT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class U2{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(qT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Lo(t)?fe(qT,"Ignoring IndexedDB error during garbage collection: ",t):await jo(t)}await this.Vr(3e5)}))}}class B2{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(vf.ce);const s=new L2(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(zT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,h,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,d=Date.now(),this.removeTargets(e,s,t)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),mo()<=Pe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function z2(i,e){return new B2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.changes=new _a((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&yu(s.mutation,o,Dn.empty(),Ke.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ke()){const o=oa();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let h=au();return u.forEach(((d,p)=>{h=h.insert(d,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=oa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ke())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,d)=>{t.set(h,d)}))}))}computeViews(e,t,s,o){let u=Tr();const h=gu(),d=(function(){return gu()})();return t.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Es)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),yu(v.mutation,g,v.mutation.getFieldMask(),Ke.now())):h.set(g.key,Dn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,v)=>h.set(g,v))),t.forEach(((g,v)=>d.set(g,new H2(v,h.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=gu();let o=new ct(((h,d)=>h-d)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const d of h)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||Dn.empty();v=d.applyToLocalView(g,v),s.set(p,v);const b=(o.get(d.batchId)||ke()).add(p);o=o.insert(d.batchId,b)}))})).next((()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,b=dw();v.forEach((A=>{if(!u.has(A)){const R=vw(t.get(A),s.get(A));R!==null&&b.set(A,R),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return te.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(oa());let d=Au,p=u;return h.next((g=>te.forEach(g,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ke()))).next((v=>({batchId:d,changes:fw(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((s=>{let o=au();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=au();return this.indexManager.getCollectionParents(e,u).next((d=>te.forEach(d,(p=>{const g=(function(b,A){return new Uo(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((b,A)=>{h=h.insert(b,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,sn.newInvalidDocument(v)))}));let d=au();return h.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&yu(v.mutation,g,Dn.empty(),Ke.now()),Af(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:M2(o.bundledQuery),readTime:Pi(o.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.overlays=new ct(ye.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=oa();return te.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.St(e,t,u)})),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=oa(),u=t.length+1,h=new ye(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ct(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=oa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=oa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return te.resolve(d)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new c2(t,s));let u=this.qr.get(t);u===void 0&&(u=ke(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.Qr=new kt(Ht.$r),this.Ur=new kt(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Ht(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Ht(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new ye(new it([])),s=new Ht(t,e),o=new Ht(t,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new it([])),s=new Ht(t,e),o=new Ht(t,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new Ht(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Me(e.Yr,t.Yr)}static Kr(e,t){return Me(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Ht.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new u2(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Zr=this.Zr.add(new Ht(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?gg:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const d=this.Xr(h.Yr);u.push(d)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kt(Me);return t.forEach((o=>{const u=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(d=>{s=s.add(d.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new Ht(new ye(u),0);let d=new kt(Me);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),h),te.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Fe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(t.mutations,(o=>{const u=new Ht(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Ht(t,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.ri=e,this.docs=(function(){return new ct(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(t))}getEntries(e,t){let s=Tr();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Tr();const h=t.path,d=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||wD(bD(v),s)<=0||(o.has(v.key)||Af(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}ii(e,t){return te.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new X2(this)}getSize(e){return te.resolve(this.size)}}class X2 extends q2{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.persistence=e,this.si=new _a((t=>vg(t)),Eg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Sg,this.targetCount=0,this.ai=No.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new No(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach(((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,t){this.ui={},this.overlays={},this.ci=new vf(0),this.li=!1,this.li=!0,this.hi=new Y2,this.referenceDelegate=e(this),this.Pi=new W2(this),this.indexManager=new k2,this.remoteDocumentCache=(function(o){return new Q2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new P2(t),this.Ii=new G2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new K2(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new Z2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class Z2 extends SD{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.Ri=new Sg,this.Vi=null}static mi(e){return new Rg(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||t.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Zh{constructor(e,t){this.persistence=e,this.pi=new _a((s=>ID(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=z2(this,t)}static mi(e,t){return new Zh(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((d=>{d||(s++,u.removeEntry(h,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ph(e.data.value)),t}br(e,t,s){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gC()?8:RD(ln())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,t,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new J2;return this.Ss(e,t,h).next((d=>{if(u.result=d,this.Vs)return this.bs(e,t,h,d.size)}))})).next((()=>u.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(mo()<=Pe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(mo()<=Pe.DEBUG&&fe("QueryEngine","Query:",po(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(mo()<=Pe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(t))):te.resolve())}ys(e,t){if(DT(t))return te.resolve(null);let s=Oi(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=xp(t,null,"F"),s=Oi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=ke(...u);return this.ps.getDocuments(e,h).next((d=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(t,d);return this.Cs(t,g,h,p.readTime)?this.ys(e,xp(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,s,o){return DT(t)||o.isEqual(Ae.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(t,u);return this.Cs(t,h,s,o)?te.resolve(null):(mo()<=Pe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(t)),this.vs(e,h,t,TD(o,Au)).next((d=>d)))}))}Ds(e,t){let s=new kt(cw(e));return t.forEach(((o,u)=>{Af(e,u)&&(s=s.add(u))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return mo()<=Pe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",po(t)),this.ps.getDocumentsMatchingQuery(e,t,hs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",tO=3e8;class nO{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ct(Me),this.xs=new _a((u=>vg(u)),Eg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function iO(i,e,t,s){return new nO(i,e,t,s)}async function Mw(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],d=[];let p=ke();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:d})))}))}))}function rO(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const b=g.batch,A=b.keys();let R=te.resolve();return A.forEach((k=>{R=R.next((()=>v.getEntry(p,k))).next(($=>{const L=g.docVersions.get(k);Fe(L!==null,48541),$.version.compareTo(L)<0&&(b.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),v.addEntry($)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(p,b)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=ke();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function kw(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function sO(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((v,b)=>{const A=o.get(b);if(!A)return;d.push(t.Pi.removeMatchingKeys(u,v.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(u,v.addedDocuments,b))));let R=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?R=R.withResumeToken(Zt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),o=o.insert(b,R),(function($,L,ne){return $.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=tO?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(A,R,v)&&d.push(t.Pi.updateTargetData(u,R))}));let p=Tr(),g=ke();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(aO(u,h,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Ae.min())){const v=t.Pi.getLastRemoteSnapshotVersion(u).next((b=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(v)}return te.waitFor(d).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(t.Ms=o,u)))}function aO(i,e,t){let s=ke(),o=ke();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Tr();return t.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):fe(Ig,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function oO(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=gg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function lO(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):t.Pi.allocateTargetId(s).next((h=>(o=new ss(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function kp(i,e,t){const s=Re(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Lo(h))throw h;fe(Ig,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function FT(i,e,t){const s=Re(i);let o=Ae.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,v){const b=Re(p),A=b.xs.get(v);return A!==void 0?te.resolve(b.Ms.get(A)):b.Pi.getTargetData(g,v)})(s,h,Oi(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,d.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?u:ke()))).next((d=>(uO(s,YD(e),d),{documents:d,Qs:u})))))}function uO(i,e,t){let s=i.Os.get(e)||Ae.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class GT{constructor(){this.activeTargetIds=JD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cO{constructor(){this.Mo=new GT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new GT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="ConnectivityMonitor";class YT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe($T,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe($T,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh=null;function Vp(){return bh===null?bh=(function(){return 268435456+Math.round(2147483648*Math.random())})():bh++,"0x"+bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="RestConnection",fO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const h=Vp(),d=this.zo(e,t.toUriEncodedString());fe(op,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),v=wr(g);return this.Jo(e,d,p,s,v).then((b=>(fe(op,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw So(op,`RPC '${e}' ${h} failed with error: `,b,"url: ",d,"request:",s),b}))}Ho(e,t,s,o,u,h){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const s=fO[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class pO extends dO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=Vp();return new Promise(((d,p)=>{const g=new j0;g.setWithCredentials(!0),g.listenOnce(L0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Oh.NO_ERROR:const b=g.getResponseJson();fe(nn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),d(b);break;case Oh.TIMEOUT:fe(nn,`RPC '${e}' ${h} timed out`),p(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:const A=g.getStatus();if(fe(nn,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const k=R?.error;if(k&&k.status&&k.message){const $=(function(ne){const W=ne.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(W)>=0?W:J.UNKNOWN})(k.status);p(new he($,k.message))}else p(new he(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(nn,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);fe(nn,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",v,s,15)}))}T_(e,t,s){const o=Vp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=z0(),d=B0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=u.join("");fe(nn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=h.createWebChannel(v,p);this.I_(b);let A=!1,R=!1;const k=new mO({Yo:L=>{R?fe(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(fe(nn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),fe(nn,`RPC '${e}' stream ${o} sending:`,L),b.send(L))},Zo:()=>b.close()}),$=(L,ne,W)=>{L.listen(ne,(K=>{try{W(K)}catch(re){setTimeout((()=>{throw re}),0)}}))};return $(b,su.EventType.OPEN,(()=>{R||(fe(nn,`RPC '${e}' stream ${o} transport opened.`),k.o_())})),$(b,su.EventType.CLOSE,(()=>{R||(R=!0,fe(nn,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(b))})),$(b,su.EventType.ERROR,(L=>{R||(R=!0,So(nn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),k.a_(new he(J.UNAVAILABLE,"The operation could not be completed")))})),$(b,su.EventType.MESSAGE,(L=>{if(!R){const ne=L.data[0];Fe(!!ne,16349);const W=ne,K=W?.error||W[0]?.error;if(K){fe(nn,`RPC '${e}' stream ${o} received error:`,K);const re=K.status;let ae=(function(C){const I=Rt[C];if(I!==void 0)return bw(I)})(re),ie=K.message;ae===void 0&&(ae=J.INTERNAL,ie="Unknown error status: "+re+" with message "+K.message),R=!0,k.a_(new he(ae,ie)),b.close()}else fe(nn,`RPC '${e}' stream ${o} received:`,ne),k.u_(ne)}})),$(d,U0.STAT_EVENT,(L=>{L.stat===wp.PROXY?fe(nn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===wp.NOPROXY&&fe(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(i){return new v2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="PersistentStream";class jw{constructor(e,t,s,o,u,h,d,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Er(t.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(KT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(fe(KT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gO extends jw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=b2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Pi(h.readTime):Ae.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Mp(this.serializer),t.addTarget=(function(u,h){let d;const p=h.target;if(d=Ip(p)?{documents:S2(u,p)}:{query:R2(u,p).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Sw(u,h.resumeToken);const g=Dp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ae.min())>0){d.readTime=Wh(u,h.snapshotVersion.toTimestamp());const g=Dp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=I2(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Mp(this.serializer),t.removeTarget=e,this.q_(t)}}class yO extends jw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=A2(e.writeResults,e.commitTime),s=Pi(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Mp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>w2(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{}class vO extends _O{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Op(t,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(J.UNKNOWN,u.toString())}))}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Ho(e,Op(t,s),o,h,d,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class EO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Er(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class TO{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{va(this)&&(fe(pa,"Restarting streams for network reachability change."),await(async function(p){const g=Re(p);g.Ea.add(4),await Hu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Nf(g)})(this))}))})),this.Ra=new EO(s,o)}}async function Nf(i){if(va(i))for(const e of i.da)await e(!0)}async function Hu(i){for(const e of i.da)await e(!1)}function Lw(i,e){const t=Re(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Og(t)?Dg(t):Bo(t).O_()&&xg(t,e))}function Ng(i,e){const t=Re(i),s=Bo(t);t.Ia.delete(e),s.O_()&&Uw(t,e),t.Ia.size===0&&(s.O_()?s.L_():va(t)&&t.Ra.set("Unknown"))}function xg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bo(i).Y_(e)}function Uw(i,e){i.Va.Ue(e),Bo(i).Z_(e)}function Dg(i){i.Va=new p2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Bo(i).start(),i.Ra.ua()}function Og(i){return va(i)&&!Bo(i).x_()&&i.Ia.size>0}function va(i){return Re(i).Ea.size===0}function Bw(i){i.Va=void 0}async function bO(i){i.Ra.set("Online")}async function wO(i){i.Ia.forEach(((e,t)=>{xg(i,e)}))}async function AO(i,e){Bw(i),Og(i)?(i.Ra.ha(e),Dg(i)):i.Ra.set("Unknown")}async function SO(i,e,t){if(i.Ra.set("Online"),e instanceof Aw&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ia.delete(d),o.Va.removeTarget(d))})(i,e)}catch(s){fe(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jh(i,s)}else if(e instanceof Vh?i.Va.Ze(e):e instanceof ww?i.Va.st(e):i.Va.tt(e),!t.isEqual(Ae.min()))try{const s=await kw(i.localStore);t.compareTo(s)>=0&&await(function(u,h){const d=u.Va.Tt(h);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,h))}})),d.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Zt.EMPTY_BYTE_STRING,v.snapshotVersion)),Uw(u,p);const b=new ss(v.target,p,g,v.sequenceNumber);xg(u,b)})),u.remoteSyncer.applyRemoteEvent(d)})(i,t)}catch(s){fe(pa,"Failed to raise snapshot:",s),await Jh(i,s)}}async function Jh(i,e,t){if(!Lo(e))throw e;i.Ea.add(1),await Hu(i),i.Ra.set("Offline"),t||(t=()=>kw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(pa,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Nf(i)}))}function zw(i,e){return e().catch((t=>Jh(i,t,e)))}async function xf(i){const e=Re(i),t=ps(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gg;for(;RO(e);)try{const o=await oO(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,CO(e,o)}catch(o){await Jh(e,o)}qw(e)&&Hw(e)}function RO(i){return va(i)&&i.Ta.length<10}function CO(i,e){i.Ta.push(e);const t=ps(i);t.O_()&&t.X_&&t.ea(e.mutations)}function qw(i){return va(i)&&!ps(i).x_()&&i.Ta.length>0}function Hw(i){ps(i).start()}async function IO(i){ps(i).ra()}async function NO(i){const e=ps(i);for(const t of i.Ta)e.ea(t.mutations)}async function xO(i,e,t){const s=i.Ta.shift(),o=bg.from(s,e,t);await zw(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await xf(i)}async function DO(i,e){e&&ps(i).X_&&await(async function(s,o){if((function(h){return f2(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();ps(s).B_(),await zw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await xf(s)}})(i,e),qw(i)&&Hw(i)}async function QT(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),fe(pa,"RemoteStore received new credentials");const s=va(t);t.Ea.add(3),await Hu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Nf(t)}async function OO(i,e){const t=Re(i);e?(t.Ea.delete(2),await Nf(t)):e||(t.Ea.add(2),await Hu(t),t.Ra.set("Unknown"))}function Bo(i){return i.ma||(i.ma=(function(t,s,o){const u=Re(t);return u.sa(),new gO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:bO.bind(null,i),t_:wO.bind(null,i),r_:AO.bind(null,i),H_:SO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Og(i)?Dg(i):i.Ra.set("Unknown")):(await i.ma.stop(),Bw(i))}))),i.ma}function ps(i){return i.fa||(i.fa=(function(t,s,o){const u=Re(t);return u.sa(),new yO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:IO.bind(null,i),r_:DO.bind(null,i),ta:NO.bind(null,i),na:xO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await xf(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(pa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new Pg(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mg(i,e){if(Er("AsyncQueue",`${e}: ${i}`),Lo(i))return new he(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=au(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.ga=new ct(ye.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class xo{constructor(e,t,s,o,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach((d=>{h.push({type:0,doc:d})})),new xo(e,t,wo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class MO{constructor(){this.queries=WT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=WT(),u.forEach(((h,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new he(J.ABORTED,"Firestore shutting down"))}}function WT(){return new _a((i=>uw(i)),wf)}async function kg(i,e){const t=Re(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new PO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Mg(h,`Initialization of query '${po(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&jg(t)}async function Vg(i,e){const t=Re(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function kO(i,e){const t=Re(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.Sa)d.Fa(o)&&(s=!0);h.wa=o}}s&&jg(t)}function VO(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function jg(i){i.Ca.forEach((e=>{e.next()}))}var jp,ZT;(ZT=jp||(jp={})).Ma="default",ZT.Cache="cache";class Lg{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new xo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.key=e}}class Gw{constructor(e){this.key=e}}class jO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=cw(e),this.tu=new wo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new XT,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const A=o.get(v),R=Af(this.query,b)?b:null,k=!!A&&this.mutatedKeys.has(A.key),$=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let L=!1;A&&R?A.data.isEqual(R.data)?k!==$&&(s.track({type:3,doc:R}),L=!0):this.su(A,R)||(s.track({type:2,doc:R}),L=!0,(p&&this.eu(R,p)>0||g&&this.eu(R,g)<0)&&(d=!0)):!A&&R?(s.track({type:0,doc:R}),L=!0):A&&!R&&(s.track({type:1,doc:A}),L=!0,(p||g)&&(d=!0)),L&&(R?(h=h.add(R),u=$?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:h,iu:s,Cs:d,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,b)=>(function(R,k){const $=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:L})}};return $(R)-$(k)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),o=o??!1;const d=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new xo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new XT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new Gw(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new Fw(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ug="SyncEngine";class LO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class UO{constructor(e){this.key=e,this.hu=!1}}class BO{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new _a((d=>uw(d)),wf),this.Iu=new Map,this.Eu=new Set,this.du=new ct(ye.comparator),this.Au=new Map,this.Ru=new Sg,this.Vu={},this.mu=new Map,this.fu=No.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zO(i,e,t=!0){const s=Ww(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await $w(s,e,t,!0),o}async function qO(i,e){const t=Ww(i);await $w(t,e,!0,!1)}async function $w(i,e,t,s){const o=await lO(i.localStore,Oi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await HO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&Lw(i.remoteStore,o),d}async function HO(i,e,t,s,o){i.pu=(b,A,R)=>(async function($,L,ne,W){let K=L.view.ru(ne);K.Cs&&(K=await FT($.localStore,L.query,!1).then((({documents:x})=>L.view.ru(x,K))));const re=W&&W.targetChanges.get(L.targetId),ae=W&&W.targetMismatches.get(L.targetId)!=null,ie=L.view.applyChanges(K,$.isPrimaryClient,re,ae);return eb($,L.targetId,ie.au),ie.snapshot})(i,b,A,R);const u=await FT(i.localStore,e,!0),h=new jO(e,u.Qs),d=h.ru(u.documents),p=qu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);eb(i,t,g.au);const v=new LO(e,t,h);return i.Tu.set(e,v),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function FO(i,e,t){const s=Re(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!wf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await kp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Ng(s.remoteStore,o.targetId),Lp(s,o.targetId)})).catch(jo)):(Lp(s,o.targetId),await kp(s.localStore,o.targetId,!0))}async function GO(i,e){const t=Re(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Ng(t.remoteStore,s.targetId))}async function $O(i,e,t){const s=JO(i);try{const o=await(function(h,d){const p=Re(h),g=Ke.now(),v=d.reduce(((R,k)=>R.add(k.key)),ke());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let k=Tr(),$=ke();return p.Ns.getEntries(R,v).next((L=>{k=L,k.forEach(((ne,W)=>{W.isValidDocument()||($=$.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,k))).next((L=>{b=L;const ne=[];for(const W of d){const K=o2(W,b.get(W.key).overlayedDocument);K!=null&&ne.push(new Es(W.key,K,tw(K.value.mapValue),si.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,ne,d)})).next((L=>{A=L;const ne=L.applyToLocalDocumentSet(b,$);return p.documentOverlayCache.saveOverlays(R,L.batchId,ne)}))})).then((()=>({batchId:A.batchId,changes:fw(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,d,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ct(Me)),g=g.insert(d,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,t),await Fu(s,o.changes),await xf(s.remoteStore)}catch(o){const u=Mg(o,"Failed to persist write");t.reject(u)}}async function Yw(i,e){const t=Re(i);try{const s=await sO(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=t.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await Fu(t,s,e)}catch(s){await jo(s)}}function JT(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(h,d){const p=Re(h);p.onlineState=d;let g=!1;p.queries.forEach(((v,b)=>{for(const A of b.Sa)A.va(d)&&(g=!0)})),g&&jg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function YO(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ct(ye.comparator);h=h.insert(u,sn.newNoDocument(u,Ae.min()));const d=ke().add(u),p=new Cf(Ae.min(),new Map,new ct(Me),h,d);await Yw(s,p),s.du=s.du.remove(u),s.Au.delete(e),Bg(s)}else await kp(s.localStore,e,!1).then((()=>Lp(s,e,t))).catch(jo)}async function KO(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await rO(t.localStore,e);Qw(t,s,null),Kw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Fu(t,o)}catch(o){await jo(o)}}async function QO(i,e,t){const s=Re(i);try{const o=await(function(h,d){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((b=>(Fe(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);Qw(s,e,t),Kw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Fu(s,o)}catch(o){await jo(o)}}function Kw(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function Qw(i,e,t){const s=Re(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Lp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Xw(i,s)}))}function Xw(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Ng(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Bg(i))}function eb(i,e,t){for(const s of t)s instanceof Fw?(i.Ru.addReference(s.key,e),XO(i,s)):s instanceof Gw?(fe(Ug,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Xw(i,s.key)):Te(19791,{wu:s})}function XO(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(fe(Ug,"New document in limbo: "+t),i.Eu.add(s),Bg(i))}function Bg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ye(it.fromString(e)),s=i.fu.next();i.Au.set(s,new UO(t)),i.du=i.du.insert(t,s),Lw(i.remoteStore,new ss(Oi(bf(t.path)),s,"TargetPurposeLimboResolution",vf.ce))}}async function Fu(i,e,t){const s=Re(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{h.push(s.pu(p,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Cg.As(p.targetId,g);u.push(v)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const v=Re(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(g,(A=>te.forEach(A.Es,(R=>v.persistence.referenceDelegate.addReference(b,A.targetId,R))).next((()=>te.forEach(A.ds,(R=>v.persistence.referenceDelegate.removeReference(b,A.targetId,R)))))))))}catch(b){if(!Lo(b))throw b;fe(Ig,"Failed to update sequence numbers: "+b)}for(const b of g){const A=b.targetId;if(!b.fromCache){const R=v.Ms.get(A),k=R.snapshotVersion,$=R.withLastLimboFreeSnapshotVersion(k);v.Ms=v.Ms.insert(A,$)}}})(s.localStore,u))}async function WO(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){fe(Ug,"User change. New user:",e.toKey());const s=await Mw(t.localStore,e);t.currentUser=e,(function(u,h){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new he(J.CANCELLED,h))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fu(t,s.Ls)}}function ZO(i,e){const t=Re(i),s=t.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const d=t.Tu.get(h);o=o.unionWith(d.view.nu)}return o}}function Ww(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YO.bind(null,e),e.Pu.H_=kO.bind(null,e.eventManager),e.Pu.yu=VO.bind(null,e.eventManager),e}function JO(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QO.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return iO(this.persistence,new eO,e.initialUser,this.serializer)}Cu(e){return new Pw(Rg.mi,this.serializer)}Du(e){return new cO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class eP extends ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Fe(this.persistence.referenceDelegate instanceof Zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new U2(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new Pw((s=>Zh.mi(s,t)),this.serializer)}}class Up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>JT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WO.bind(null,this.syncEngine),await OO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MO})()}createDatastore(e){const t=If(e.databaseInfo.databaseId),s=(function(u){return new pO(u)})(e.databaseInfo);return(function(u,h,d,p){return new vO(u,h,d,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,h,d){return new TO(s,o,u,h,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>JT(this.syncEngine,t,0)),(function(){return YT.v()?new YT:new hO})())}createSyncEngine(e,t){return(function(o,u,h,d,p,g,v){const b=new BO(o,u,h,d,p,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Re(t);fe(pa,"RemoteStore shutting down."),s.Ea.add(5),await Hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Up.provider={build:()=>new Up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class tP{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=pg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{fe(gs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(fe(gs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Mg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function up(i,e){i.asyncQueue.verifyOperationInProgress(),fe(gs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Mw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function tb(i,e){i.asyncQueue.verifyOperationInProgress();const t=await nP(i);fe(gs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>QT(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>QT(e.remoteStore,o))),i._onlineComponents=e}async function nP(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(gs,"Using user provided OfflineComponentProvider");try{await up(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;So("Error using user provided cache. Falling back to memory cache: "+t),await up(i,new ef)}}else fe(gs,"Using default OfflineComponentProvider"),await up(i,new eP(void 0));return i._offlineComponents}async function Zw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(gs,"Using user provided OnlineComponentProvider"),await tb(i,i._uninitializedComponentsProvider._online)):(fe(gs,"Using default OnlineComponentProvider"),await tb(i,new Up))),i._onlineComponents}function iP(i){return Zw(i).then((e=>e.syncEngine))}async function tf(i){const e=await Zw(i),t=e.eventManager;return t.onListen=zO.bind(null,e.syncEngine),t.onUnlisten=FO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=qO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=GO.bind(null,e.syncEngine),t}function rP(i,e,t={}){const s=new pr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,d,p,g){const v=new zg({next:A=>{v.Nu(),h.enqueueAndForget((()=>Vg(u,b)));const R=A.docs.has(d);!R&&A.fromCache?g.reject(new he(J.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&A.fromCache&&p&&p.source==="server"?g.reject(new he(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new Lg(bf(d.path),v,{includeMetadataChanges:!0,qa:!0});return kg(u,b)})(await tf(i),i.asyncQueue,e,t,s))),s.promise}function sP(i,e,t={}){const s=new pr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,d,p,g){const v=new zg({next:A=>{v.Nu(),h.enqueueAndForget((()=>Vg(u,b))),A.fromCache&&p.source==="server"?g.reject(new he(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new Lg(d,v,{includeMetadataChanges:!0,qa:!0});return kg(u,b)})(await tf(i),i.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firestore.googleapis.com",ib=!0;class rb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eA,this.ssl=ib}else this.host=e.host,this.ssl=e.ssl??ib;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ow;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j2)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ED("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new cD;switch(s.type){case"firstParty":return new mD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=nb.get(t);s&&(fe("ComponentProvider","Removing Datastore"),nb.delete(t),s.terminate())})(this),Promise.resolve()}}function aP(i,e,t,s={}){i=Pn(i,Df);const o=wr(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},d=`${e}:${t}`;o&&(hf(`https://${d}`),ff("Firestore",!0)),u.host!==eA&&u.host!==d&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!ha(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=rn.MOCK_USER;else{g=Gb(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new rn(b)}i._authCredentials=new hD(new H0(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class pt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Bu(t,pt._jsonSchema))return new pt(e,s||null,new ye(it.fromString(t.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Nt("string",pt._jsonSchemaVersion),referencePath:Nt("string")};class us extends Ts{constructor(e,t,s){super(e,t,bf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new ye(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function li(i,e,...t){if(i=rt(i),F0("collection","path",e),i instanceof Df){const s=it.fromString(e,...t);return yT(s),new us(i,null,s)}{if(!(i instanceof pt||i instanceof us))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...t));return yT(s),new us(i.firestore,null,s)}}function br(i,e,...t){if(i=rt(i),arguments.length===1&&(e=pg.newId()),F0("doc","path",e),i instanceof Df){const s=it.fromString(e,...t);return gT(s),new pt(i,null,new ye(s))}{if(!(i instanceof pt||i instanceof us))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...t));return gT(s),new pt(i.firestore,i instanceof us?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="AsyncQueue";class ab{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vw(this,"async_queue_retry"),this._c=()=>{const s=lp();s&&fe(sb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=lp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=lp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lo(e))throw e;fe(sb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Er("INTERNAL UNHANDLED ERROR: ",ob(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Pg.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:ob(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ob(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class ys extends Df{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new ab,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ab(e),this._firestoreClient=void 0,await e}}}function oP(i,e){const t=typeof i=="object"?i:df(),s=typeof i=="string"?i:Yh,o=ku(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=eg("firestore");u&&aP(o,...u)}return o}function Of(i){if(i._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||lP(i),i._firestoreClient}function lP(i){const e=i._freezeSettings(),t=(function(o,u,h,d){return new DD(o,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Jw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new tP(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(Zt.fromBase64String(e))}catch(t){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bu(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Nt("string",Kn._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(Bu(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Nt("string",Mi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bu(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ki(e.vectorValues);throw new he(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Nt("string",ki._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=/^__.*__$/;class cP{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,t,this.fieldTransforms):new zu(e,this.data,t,this.fieldTransforms)}}class tA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Es(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:i})}}class qg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return nf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nA(this.Ac)&&uP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hP{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||If(e)}Cc(e,t,s,o=!1){return new qg({Ac:e,methodName:t,Dc:s,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kf(i){const e=i._freezeSettings(),t=If(i._databaseId);return new hP(i._databaseId,!!e.ignoreUndefinedProperties,t)}function iA(i,e,t,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);Fg("Data must be an object, but it was:",h,s);const d=rA(s,h);let p,g;if(u.merge)p=new Dn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const A=Bp(e,b,t);if(!h.contains(A))throw new he(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);aA(v,A)||v.push(A)}p=new Dn(v),g=h.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=h.fieldTransforms;return new cP(new _n(d),p,g)}class Vf extends Mf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}class Hg extends Mf{_toFieldTransform(e){return new i2(e.path,new Nu)}isEqual(e){return e instanceof Hg}}function fP(i,e,t,s){const o=i.Cc(1,e,t);Fg("Data must be an object, but it was:",o,s);const u=[],h=_n.empty();vs(s,((p,g)=>{const v=Gg(e,p,t);g=rt(g);const b=o.yc(v);if(g instanceof Vf)u.push(v);else{const A=Gu(g,b);A!=null&&(u.push(v),h.set(v,A))}}));const d=new Dn(u);return new tA(h,d,o.fieldTransforms)}function dP(i,e,t,s,o,u){const h=i.Cc(1,e,t),d=[Bp(e,s,t)],p=[o];if(u.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)d.push(Bp(e,u[A])),p.push(u[A+1]);const g=[],v=_n.empty();for(let A=d.length-1;A>=0;--A)if(!aA(g,d[A])){const R=d[A];let k=p[A];k=rt(k);const $=h.yc(R);if(k instanceof Vf)g.push(R);else{const L=Gu(k,$);L!=null&&(g.push(R),v.set(R,L))}}const b=new Dn(g);return new tA(v,b,h.fieldTransforms)}function mP(i,e,t,s=!1){return Gu(t,i.Cc(s?4:3,e))}function Gu(i,e){if(sA(i=rt(i)))return Fg("Unsupported field value:",e,i),rA(i,e);if(i instanceof Mf)return(function(s,o){if(!nA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const d of s){let p=Gu(d,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=rt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return e2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ke.fromDate(s);return{timestampValue:Wh(o.serializer,u)}}if(s instanceof Ke){const u=new Ke(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wh(o.serializer,u)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Kn)return{bytesValue:Sw(o.serializer,s._byteString)};if(s instanceof pt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ag(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ki)return(function(h,d){return{mapValue:{fields:{[J0]:{stringValue:ew},[Kh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Tg(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${_f(s)}`)})(i,e)}function rA(i,e){const t={};return Y0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(i,((s,o)=>{const u=Gu(o,e.mc(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function sA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ke||i instanceof Mi||i instanceof Kn||i instanceof pt||i instanceof Mf||i instanceof ki)}function Fg(i,e,t){if(!sA(t)||!G0(t)){const s=_f(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Bp(i,e,t){if((e=rt(e))instanceof Pf)return e._internalPath;if(typeof e=="string")return Gg(i,e);throw nf("Field path arguments must be of type string or ",i,!1,void 0,t)}const pP=new RegExp("[~\\*/\\[\\]]");function Gg(i,e,t){if(e.search(pP)>=0)throw nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Pf(...e.split("."))._internalPath}catch{throw nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function nf(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new he(J.INVALID_ARGUMENT,d+i+p)}function aA(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gP extends oA{data(){return super.data()}}function jf(i,e){return typeof e=="string"?Gg(i,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $g{}class uA extends $g{}function Lf(i,e,...t){let s=[];e instanceof $g&&s.push(e),s=s.concat(t),(function(u){const h=u.filter((p=>p instanceof Yg)).length,d=u.filter((p=>p instanceof Uf)).length;if(h>1||h>0&&d>0)throw new he(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Uf extends uA{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Uf(e,t,s)}_apply(e){const t=this._parse(e);return cA(e._query,t),new Ts(e.firestore,e.converter,Np(e._query,t))}_parse(e){const t=kf(e.firestore);return(function(u,h,d,p,g,v,b){let A;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){cb(b,v);const k=[];for(const $ of b)k.push(ub(p,u,$));A={arrayValue:{values:k}}}else A=ub(p,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||cb(b,v),A=mP(d,h,b,v==="in"||v==="not-in");return It.create(g,v,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function zp(i,e,t){const s=e,o=jf("where",i);return Uf._create(o,s,t)}class Yg extends $g{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yg(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:oi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)cA(h,p),h=Np(h,p)})(e._query,t),new Ts(e.firestore,e.converter,Np(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kg extends uA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kg(e,t)}_apply(e){const t=(function(o,u,h){if(o.startAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iu(u,h)})(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Uo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function yP(i,e="asc"){const t=e,s=jf("orderBy",i);return Kg._create(s,t)}function ub(i,e,t){if(typeof(t=rt(t))=="string"){if(t==="")throw new he(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lw(e)&&t.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(it.fromString(t));if(!ye.isDocumentKey(s))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ST(i,new ye(s))}if(t instanceof pt)return ST(i,t._key);throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(t)}.`)}function cb(i,e){if(!Array.isArray(i)||i.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cA(i,e){const t=(function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _P{convertValue(e,t="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return vs(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[Kh].arrayValue?.values?.map((s=>Tt(s.doubleValue)));return new ki(t)}convertGeoPoint(e){return new Mi(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Tf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const t=fs(e);return new Ke(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=it.fromString(e);Fe(Dw(s),9688,{name:e});const o=new Ru(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(t)||Er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class lu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends oA{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(jf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=la._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Nt("string",la._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class jh extends la{data(e={}){return super.data(e)}}class ua{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new lu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new jh(this._firestore,this._userDataWriter,s.key,s,new lu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((d=>{const p=new jh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new lu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new jh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new lu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:vP(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vP(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(i){i=Pn(i,pt);const e=Pn(i.firestore,ys);return rP(Of(e),i._key).then((t=>fA(e,i,t)))}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:Nt("string",ua._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Qg extends _P{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}function rf(i){i=Pn(i,Ts);const e=Pn(i.firestore,ys),t=Of(e),s=new Qg(e);return lA(i._query),sP(t,i._query).then((o=>new ua(e,s,i,o)))}function Xg(i,e,t){i=Pn(i,pt);const s=Pn(i.firestore,ys),o=hA(i.converter,e,t);return Zg(s,[iA(kf(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,si.none())])}function EP(i,e,t,...s){i=Pn(i,pt);const o=Pn(i.firestore,ys),u=kf(o);let h;return h=typeof(e=rt(e))=="string"||e instanceof Pf?dP(u,"updateDoc",i._key,e,t,s):fP(u,"updateDoc",i._key,e),Zg(o,[h.toMutation(i._key,si.exists(!0))])}function sf(i,e){const t=Pn(i.firestore,ys),s=br(i),o=hA(i.converter,e);return Zg(t,[iA(kf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,si.exists(!1))]).then((()=>s))}function Wg(i,...e){i=rt(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||lb(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(lb(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,d;if(i instanceof pt)h=Pn(i.firestore,ys),d=bf(i._key.path),u={next:p=>{e[s]&&e[s](fA(h,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Pn(i,Ts);h=Pn(p.firestore,ys),d=p._query;const g=new Qg(h);u={next:v=>{e[s]&&e[s](new ua(h,g,p,v))},error:e[s+1],complete:e[s+2]},lA(i._query)}return(function(g,v,b,A){const R=new zg(A),k=new Lg(v,R,b);return g.asyncQueue.enqueueAndForget((async()=>kg(await tf(g),k))),()=>{R.Nu(),g.asyncQueue.enqueueAndForget((async()=>Vg(await tf(g),k)))}})(Of(h),d,o,u)}function Zg(i,e){return(function(s,o){const u=new pr;return s.asyncQueue.enqueueAndForget((async()=>$O(await iP(s),o,u))),u.promise})(Of(i),e)}function fA(i,e,t){const s=t.docs.get(e._key),o=new Qg(i);return new la(i,o,e._key,s,new lu(t.hasPendingWrites,t.fromCache),e.converter)}function Qn(){return new Hg("serverTimestamp")}(function(e,t=!0){(function(o){Vo=o})(ya),cs(new yr("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new ys(new fD(s.getProvider("auth-internal")),new pD(h,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(g.options.projectId,v)})(h,o),h);return u={useFetchStreams:t,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Xn(fT,dT,e),Xn(fT,dT,"esm2020")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,t,s,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,on(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||t.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="us-central1";class bP{constructor(e,t,s,o,u=qp,h=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=h,this.emulatorOrigin=null,this.contextProvider=new TP(e,t,s,o),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(u);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=qp}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function wP(i,e,t){const s=wr(e);i.emulatorOrigin=`http${s?"s":""}://${e}:${t}`,s&&(hf(i.emulatorOrigin),ff("Functions",!0))}const hb="@firebase/functions",fb="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="auth-internal",SP="app-check-internal",RP="messaging-internal";function CP(i){const e=(t,{instanceIdentifier:s})=>{const o=t.getProvider("app").getImmediate(),u=t.getProvider(AP),h=t.getProvider(RP),d=t.getProvider(SP);return new bP(o,u,h,d,s)};cs(new yr(dA,e,"PUBLIC").setMultipleInstances(!0)),Xn(hb,fb,i),Xn(hb,fb,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(i=df(),e=qp){const s=ku(rt(i),dA).getImmediate({identifier:e}),o=eg("functions");return o&&NP(s,...o),s}function NP(i,e,t){wP(rt(i),e,t)}CP();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firebasestorage.googleapis.com",pA="storageBucket",xP=120*1e3,DP=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends Ui{constructor(e,t,s=0){super(cp(e),`Firebase Storage: ${t} (${cp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function cp(i){return"storage/"+i}function Jg(){const i="An unknown error occurred, please check the error payload for server response.";return new yt(gt.UNKNOWN,i)}function OP(i){return new yt(gt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function PP(i){return new yt(gt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function MP(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(gt.UNAUTHENTICATED,i)}function kP(){return new yt(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function VP(i){return new yt(gt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function jP(){return new yt(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LP(){return new yt(gt.CANCELED,"User canceled the upload/download.")}function UP(i){return new yt(gt.INVALID_URL,"Invalid URL '"+i+"'.")}function BP(i){return new yt(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function zP(){return new yt(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pA+"' property when initializing the app?")}function qP(){return new yt(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HP(){return new yt(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function FP(i){return new yt(gt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hp(i){return new yt(gt.INVALID_ARGUMENT,i)}function gA(){return new yt(gt.APP_DELETED,"The Firebase app was deleted.")}function GP(i){return new yt(gt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _u(i,e){return new yt(gt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Jl(i){throw new yt(gt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=On.makeFromUrl(e,t)}catch{return new On(e,"")}if(s.path==="")return s;throw BP(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(re){re.path_=decodeURIComponent(re.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",R=new RegExp(`^https?://${b}/${v}/b/${o}/o${A}`,"i"),k={bucket:1,path:3},$=t===mA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",ne=new RegExp(`^https?://${$}/${o}/${L}`,"i"),K=[{regex:d,indices:p,postModify:u},{regex:R,indices:k,postModify:g},{regex:ne,indices:{bucket:1,path:2},postModify:g}];for(let re=0;re<K.length;re++){const ae=K[re],ie=ae.regex.exec(e);if(ie){const x=ie[ae.indices.bucket];let C=ie[ae.indices.path];C||(C=""),s=new On(x,C),ae.postModify(s);break}}if(s==null)throw UP(e);return s}}class $P{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(i,e,t){let s=1,o=null,u=null,h=!1,d=0;function p(){return d===2}let g=!1;function v(...L){g||(g=!0,e.apply(null,L))}function b(L){o=setTimeout(()=>{o=null,i(R,p())},L)}function A(){u&&clearTimeout(u)}function R(L,...ne){if(g){A();return}if(L){A(),v.call(null,L,...ne);return}if(p()||h){A(),v.call(null,L,...ne);return}s<64&&(s*=2);let K;d===1?(d=2,K=0):K=(s+Math.random())*1e3,b(K)}let k=!1;function $(L){k||(k=!0,A(),!g&&(o!==null?(L||(d=2),clearTimeout(o),b(0)):L||(d=1)))}return b(0),u=setTimeout(()=>{h=!0,$(!0)},t),$}function KP(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(i){return i!==void 0}function XP(i){return typeof i=="object"&&!Array.isArray(i)}function ey(i){return typeof i=="string"||i instanceof String}function db(i){return ty()&&i instanceof Blob}function ty(){return typeof Blob<"u"}function mb(i,e,t,s){if(s<e)throw Hp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw Hp(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function yA(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var ca;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ca||(ca={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,t,s,o,u,h,d,p,g,v,b,A=!0,R=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=A,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,$)=>{this.resolve_=k,this.reject_=$,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new wh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===ca.NO_ERROR,p=u.getStatus();if(!d||WP(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===ca.ABORT;s(!1,new wh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new wh(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());QP(p)?u(p):u()}catch(p){h(p)}else if(d!==null){const p=Jg();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?gA():LP();h(p)}else{const p=jP();h(p)}};this.canceled_?t(!1,new wh(!1,null,!0)):this.backoffId_=YP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function JP(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function eM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function nM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function iM(i,e,t,s,o,u,h=!0,d=!1){const p=yA(i.urlParams),g=i.url+p,v=Object.assign({},i.headers);return tM(v,e),JP(v,t),eM(v,u),nM(v,s),new ZP(g,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sM(...i){const e=rM();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(ty())return new Blob(i);throw new yt(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function aM(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(i){if(typeof atob>"u")throw FP("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hp{constructor(e,t){this.data=e,this.contentType=t||null}}function lM(i,e){switch(i){case xi.RAW:return new hp(_A(e));case xi.BASE64:case xi.BASE64URL:return new hp(vA(i,e));case xi.DATA_URL:return new hp(cM(e),hM(e))}throw Jg()}function _A(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function uM(i){let e;try{e=decodeURIComponent(i)}catch{throw _u(xi.DATA_URL,"Malformed data URL.")}return _A(e)}function vA(i,e){switch(i){case xi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw _u(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case xi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw _u(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=oM(e)}catch(o){throw o.message.includes("polyfill")?o:_u(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class EA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw _u(xi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=fM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function cM(i){const e=new EA(i);return e.base64?vA(xi.BASE64,e.rest):uM(e.rest)}function hM(i){return new EA(i).contentType}function fM(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t){let s=0,o="";db(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(db(this.data_)){const s=this.data_,o=aM(s,e,t);return o===null?null:new rs(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new rs(s,!0)}}static getBlob(...e){if(ty()){const t=e.map(s=>s instanceof rs?s.data_:s);return new rs(sM.apply(null,t))}else{const t=e.map(h=>ey(h)?lM(xi.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let d=0;d<h.length;d++)o[u++]=h[d]}),new rs(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(i){let e;try{e=JSON.parse(i)}catch{return null}return XP(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function mM(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function bA(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(i,e){return e}class dn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||pM}}let Ah=null;function gM(i){return!ey(i)||i.length<2?i:bA(i)}function wA(){if(Ah)return Ah;const i=[];i.push(new dn("bucket")),i.push(new dn("generation")),i.push(new dn("metageneration")),i.push(new dn("name","fullPath",!0));function e(u,h){return gM(h)}const t=new dn("name");t.xform=e,i.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new dn("size");return o.xform=s,i.push(o),i.push(new dn("timeCreated")),i.push(new dn("updated")),i.push(new dn("md5Hash",null,!0)),i.push(new dn("cacheControl",null,!0)),i.push(new dn("contentDisposition",null,!0)),i.push(new dn("contentEncoding",null,!0)),i.push(new dn("contentLanguage",null,!0)),i.push(new dn("contentType",null,!0)),i.push(new dn("metadata","customMetadata",!0)),Ah=i,Ah}function yM(i,e){function t(){const s=i.bucket,o=i.fullPath,u=new On(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function _M(i,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return yM(s,i),s}function AA(i,e,t){const s=TA(e);return s===null?null:_M(i,s,t)}function vM(i,e,t,s){const o=TA(e);if(o===null||!ey(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const v=i.bucket,b=i.fullPath,A="/b/"+h(v)+"/o/"+h(b),R=ny(A,t,s),k=yA({alt:"media",token:g});return R+k})[0]}function EM(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}class SA{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(i){if(!i)throw Jg()}function TM(i,e){function t(s,o){const u=AA(i,o,e);return RA(u!==null),u}return t}function bM(i,e){function t(s,o){const u=AA(i,o,e);return RA(u!==null),vM(u,o,i.host,i._protocol)}return t}function CA(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=kP():o=MP():t.getStatus()===402?o=PP(i.bucket):t.getStatus()===403?o=VP(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function wM(i){const e=CA(i);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=OP(i.path)),u.serverResponse=o.serverResponse,u}return t}function AM(i,e,t){const s=e.fullServerUrl(),o=ny(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,d=new SA(o,u,bM(i,t),h);return d.errorHandler=wM(e),d}function SM(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function RM(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=SM(null,e)),s}function CM(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function d(){let K="";for(let re=0;re<2;re++)K=K+Math.random().toString().slice(2);return K}const p=d();h["Content-Type"]="multipart/related; boundary="+p;const g=RM(e,s,o),v=EM(g,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",R=rs.getBlob(b,s,A);if(R===null)throw qP();const k={name:g.fullPath},$=ny(u,i.host,i._protocol),L="POST",ne=i.maxUploadRetryTime,W=new SA($,L,TM(i,t),ne);return W.urlParams=k,W.headers=h,W.body=R.uploadData(),W.errorHandler=CA(e),W}class IM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ca.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ca.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ca.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,u){if(this.sent_)throw Jl("cannot .send() more than once");if(wr(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class NM extends IM{initXhr(){this.xhr_.responseType="text"}}function IA(){return new NM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t){this._service=e,t instanceof On?this._location=t:this._location=On.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ga(e,t)}get root(){const e=new On(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bA(this._location.path)}get storage(){return this._service}get parent(){const e=dM(this._location.path);if(e===null)return null;const t=new On(this._location.bucket,e);return new ga(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw GP(e)}}function xM(i,e,t){i._throwIfRoot("uploadBytes");const s=CM(i.storage,i._location,wA(),new rs(e,!0),t);return i.storage.makeRequestWithTokens(s,IA).then(o=>({metadata:o,ref:i}))}function DM(i){i._throwIfRoot("getDownloadURL");const e=AM(i.storage,i._location,wA());return i.storage.makeRequestWithTokens(e,IA).then(t=>{if(t===null)throw HP();return t})}function OM(i,e){const t=mM(i._location.path,e),s=new On(i._location.bucket,t);return new ga(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(i){return/^[A-Za-z]+:\/\//.test(i)}function MM(i,e){return new ga(i,e)}function NA(i,e){if(i instanceof iy){const t=i;if(t._bucket==null)throw zP();const s=new ga(t,t._bucket);return e!=null?NA(s,e):s}else return e!==void 0?OM(i,e):i}function kM(i,e){if(e&&PM(e)){if(i instanceof iy)return MM(i,e);throw Hp("To use ref(service, url), the first argument must be a Storage instance.")}else return NA(i,e)}function pb(i,e){const t=e?.[pA];return t==null?null:On.makeFromBucketSpec(t,i)}function VM(i,e,t,s={}){i.host=`${e}:${t}`;const o=wr(e);o&&(hf(`https://${i.host}/b`),ff("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:Gb(u,i.app.options.projectId))}class iy{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=mA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xP,this._maxUploadRetryTime=DP,this._requests=new Set,o!=null?this._bucket=On.makeFromBucketSpec(o,this._host):this._bucket=pb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=On.makeFromBucketSpec(this._url,e):this._bucket=pb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ga(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new $P(gA());{const h=iM(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const gb="@firebase/storage",yb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="storage";function jM(i,e,t){return i=rt(i),xM(i,e,t)}function LM(i){return i=rt(i),DM(i)}function UM(i,e){return i=rt(i),kM(i,e)}function BM(i=df(),e){i=rt(i);const s=ku(i,xA).getImmediate({identifier:e}),o=eg("storage");return o&&zM(s,...o),s}function zM(i,e,t,s={}){VM(i,e,t,s)}function qM(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new iy(t,s,o,e,ya)}function HM(){cs(new yr(xA,qM,"PUBLIC").setMultipleInstances(!0)),Xn(gb,yb,""),Xn(gb,yb,"esm2020")}HM();var FM="AIzaSyBTl0Jl9ZMQBA84LBbECwzUz5jcL4dYV3Y",GM="mduwebsite1345.firebaseapp.com",$M="mduwebsite1345",YM="mduwebsite1345.firebasestorage.app",KM="653256711691",QM="1:653256711691:web:5aca0f2e84ed19df90710e";const XM={apiKey:FM,authDomain:GM,projectId:$M,storageBucket:YM,messagingSenderId:KM,appId:QM},zf=UE().length?UE()[0]:Kb(XM),an=aD(zf),Vt=oP(zf);IP(zf);const WM=BM(zf),ZM=/^\+[1-9]\d{7,14}$/,JM=()=>{const[i,e]=B.useState(""),[t,s]=B.useState(""),[o,u]=B.useState(""),[h,d]=B.useState(""),[p,g]=B.useState(null),[v,b]=B.useState(""),[A,R]=B.useState(!1),k=lf(),$=()=>k("/members");B.useEffect(()=>{const ie=pf(an,x=>{x&&$()});return()=>ie()},[]);const L=async ie=>{if(ie.preventDefault(),!A){b(""),R(!0);try{await LN(an,i.trim(),t),$()}catch(x){console.error("[Email login] ",x),b(x?.message??"Login failed")}finally{R(!1)}}},ne=async()=>{if(!A){b(""),R(!0);try{const ie=new Ni;await M0(an,ie),$()}catch(ie){console.error("[Google login] ",ie),b(ie?.message??"Google sign-in failed")}finally{R(!1)}}},W=()=>{if(window.recaptchaVerifier)return window.recaptchaVerifier;try{window.recaptchaVerifier=new bp(an,"recaptcha-container",{size:"invisible"})}catch(ie){console.warn("[reCAPTCHA modular ctor failed, trying compat]",ie),window.recaptchaVerifier=new bp("recaptcha-container",{size:"invisible"},an)}return window.recaptchaVerifier};B.useEffect(()=>()=>{try{window.recaptchaVerifier?.clear?.()}catch{}window.recaptchaVerifier=void 0},[]);const K=B.useMemo(()=>ZM.test(o.trim()),[o]),re=async()=>{if(!(A||!K)){b(""),R(!0);try{const ie=W(),x=await D0(an,o.trim(),ie);g(x)}catch(ie){console.error("[sendPhoneCode] ",ie),b(ie?.message??"Failed to send code");try{window.recaptchaVerifier?.reset?.()}catch{}}finally{R(!1)}}},ae=async()=>{if(!(!p||A||h.trim().length<6)){b(""),R(!0);try{await p.confirm(h.trim()),$()}catch(ie){console.error("[verifyPhoneCode] ",ie),b(ie?.message??"Invalid verification code")}finally{R(!1)}}};return y.jsx("div",{children:y.jsxs("div",{className:"background",children:[y.jsx("div",{className:"shape"}),y.jsx("div",{className:"shape"}),y.jsxs("form",{onSubmit:L,"aria-busy":A,children:[y.jsx("h3",{children:"Login Here"}),y.jsx("label",{htmlFor:"email",children:"Email"}),y.jsx("input",{id:"email",type:"email",placeholder:"you@ucla.edu",value:i,onChange:ie=>e(ie.target.value),autoComplete:"email",required:!0,disabled:A}),y.jsx("label",{htmlFor:"password",children:"Password"}),y.jsx("input",{id:"password",type:"password",placeholder:"Password",value:t,onChange:ie=>s(ie.target.value),autoComplete:"current-password",required:!0,disabled:A}),y.jsx("button",{type:"submit",disabled:A,children:A?"Signing in…":"Log In"}),y.jsx("div",{className:"social",style:{marginTop:20},children:y.jsx("button",{type:"button",className:"go",onClick:ne,"aria-label":"Continue with Google",disabled:A,children:"Continue with Google"})}),y.jsxs("fieldset",{style:{marginTop:24,border:"none",padding:0},children:[y.jsx("legend",{style:{fontWeight:600,marginBottom:8},children:"Or sign in with phone"}),p?y.jsxs(y.Fragment,{children:[y.jsx("label",{htmlFor:"code",children:"Enter verification code"}),y.jsx("input",{id:"code",type:"text",placeholder:"123456",value:h,onChange:ie=>d(ie.target.value),disabled:A}),y.jsx("button",{type:"button",onClick:ae,disabled:A||h.trim().length<6,children:"Verify & Sign in"}),y.jsx("button",{type:"button",onClick:()=>{g(null),d("");try{window.recaptchaVerifier?.reset?.()}catch{}},disabled:A,style:{marginLeft:8},children:"Use a different phone"})]}):y.jsxs(y.Fragment,{children:[y.jsx("label",{htmlFor:"phone",children:"Phone (E.164, e.g. +13105551234)"}),y.jsx("input",{id:"phone",type:"tel",placeholder:"+1##########",value:o,onChange:ie=>u(ie.target.value),disabled:A,"aria-invalid":o.length>0&&!K}),y.jsx("button",{type:"button",onClick:re,disabled:A||!K,children:"Send verification code"})]})]}),v&&y.jsx("p",{style:{color:"salmon",marginTop:16},role:"alert",children:v}),y.jsx("div",{id:"recaptcha-container"}),y.jsxs("p",{style:{marginTop:16},children:["No account? ",y.jsx(xn,{to:"/register",children:"Register"})]})]})]})})},DA="profiles";async function ek(i){const e=br(Vt,DA,i),t=await Bf(e);return t.exists()?{uid:i,...t.data()}:null}async function Fp(i,e){const t=br(Vt,DA,i),s={...e,updatedAt:Qn(),createdAt:e?.createdAt??Qn()};await Xg(t,s,{merge:!0})}const _b="recaptcha-container-register",tk=()=>{const[i,e]=B.useState({name:"",email:"",phoneNumber:"",year:"",major:"",instrument:"",instrumentsCsv:"",sectionCsv:"",returning:"",bio:"",emergencyName:"",emergencyPhone:"",emergencyRelation:"",password:""}),[t,s]=B.useState(""),[o,u]=B.useState(!1),[h,d]=B.useState(""),[p,g]=B.useState(""),[v,b]=B.useState(null),A=lf(),R=ie=>{const{name:x,value:C}=ie.target;e(I=>({...I,[x]:C}))},k=B.useMemo(()=>i.instrumentsCsv.split(",").map(ie=>ie.trim()).filter(Boolean),[i.instrumentsCsv]),$=B.useMemo(()=>{const ie=i.sectionCsv.split(",").map(x=>x.trim()).filter(Boolean);return ie.length?ie[0]:""},[i.sectionCsv]),L=async(ie,x,C)=>{await Fp(ie,{name:i.name,email:i.email||x||void 0,phoneNumber:i.phoneNumber,year:i.year,major:i.major,instrument:i.instrument,instruments:k.length?k:void 0,section:$||void 0,returning:i.returning,bio:i.bio,emergencyName:i.emergencyName,emergencyPhone:i.emergencyPhone,emergencyRelation:i.emergencyRelation,roles:["performer"],...C||{}})},ne=async ie=>{ie.preventDefault(),s(""),u(!0);try{const x=await jN(an,i.email,i.password);await L(x.user.uid,x.user.email),A("/members")}catch(x){s(x?.message||"Failed to create account")}finally{u(!1)}},W=async()=>{s(""),u(!0);try{const ie=new Ni,x=await M0(an,ie);await L(x.user.uid,x.user.email),A("/members")}catch(ie){s(ie?.message||"Google sign-in failed")}finally{u(!1)}},K=ie=>(window._registerRecaptcha||(window._registerRecaptcha=new bp(ie,_b,{size:"normal"})),window._registerRecaptcha),re=async()=>{if(s(""),!h){s("Enter a phone number in E.164 format, e.g. +13105551234");return}u(!0);try{const ie=K(an),x=await D0(an,h,ie);b(x)}catch(ie){s(ie?.message||"Failed to send verification code")}finally{u(!1)}},ae=async()=>{if(s(""),!v||!p){s("Enter the verification code you received");return}u(!0);try{const ie=await v.confirm(p);await L(ie.user.uid,ie.user.email,{phoneNumber:h}),A("/members")}catch(ie){s(ie?.message||"Verification failed")}finally{u(!1)}};return y.jsxs("section",{className:"register-container",children:[y.jsx("h1",{className:"register-title",children:"Create your account"}),y.jsx("p",{className:"register-subtitle",children:"Use email, Google, or phone. You can edit details later in your portal."}),y.jsxs("form",{onSubmit:ne,className:"register-form",children:[y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",htmlFor:"name",children:"Full Name"}),y.jsx("input",{className:"input",id:"name",name:"name",value:i.name,onChange:R,placeholder:"Jane Doe",required:!0})]}),y.jsxs("div",{className:"grid-2 gap",children:[y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",htmlFor:"email",children:"Email"}),y.jsx("input",{className:"input",id:"email",name:"email",type:"email",value:i.email,onChange:R,placeholder:"you@ucla.edu",autoComplete:"email",required:!0})]}),y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",htmlFor:"phoneNumber",children:"Phone"}),y.jsx("input",{className:"input",id:"phoneNumber",name:"phoneNumber",value:i.phoneNumber,onChange:R,placeholder:"(###) ###-####"})]})]}),y.jsxs("div",{className:"grid-2 gap",children:[y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",htmlFor:"year",children:"Year in School"}),y.jsxs("select",{className:"input",id:"year",name:"year",value:i.year,onChange:R,required:!0,children:[y.jsx("option",{value:"",children:"Select Year"}),y.jsx("option",{children:"1st Year"}),y.jsx("option",{children:"2nd Year"}),y.jsx("option",{children:"3rd Year"}),y.jsx("option",{children:"4th Year"}),y.jsx("option",{children:"Graduate"}),y.jsx("option",{children:"Alumni"})]})]}),y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",htmlFor:"major",children:"Major"}),y.jsx("input",{className:"input",id:"major",name:"major",value:i.major,onChange:R,placeholder:"Physics, EE, Music, ..."})]})]}),y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",htmlFor:"instrument",children:"Primary Instrument"}),y.jsx("input",{className:"input",id:"instrument",name:"instrument",value:i.instrument,onChange:R,placeholder:"Violin, Trumpet, Vihuela..."})]}),y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",htmlFor:"instrumentsCsv",children:"Instrument(s) (comma-separated)"}),y.jsx("input",{className:"input",id:"instrumentsCsv",name:"instrumentsCsv",value:i.instrumentsCsv,onChange:R,placeholder:"violin, guitar, trumpet, voice"})]}),y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",htmlFor:"sectionCsv",children:"Section(s) (optional, comma-separated)"}),y.jsx("input",{className:"input",id:"sectionCsv",name:"sectionCsv",value:i.sectionCsv,onChange:R,placeholder:"violas, violins, harp, voces"})]}),y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",htmlFor:"returning",children:"Are you a returning member?"}),y.jsxs("select",{className:"input",id:"returning",name:"returning",value:i.returning,onChange:R,required:!0,children:[y.jsx("option",{value:"",children:"Select"}),y.jsx("option",{value:"Yes",children:"Yes"}),y.jsx("option",{value:"No",children:"No"})]})]}),y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",htmlFor:"bio",children:"Short Bio (optional)"}),y.jsx("textarea",{className:"input",id:"bio",name:"bio",value:i.bio,onChange:R,placeholder:"Tell us a little about your experience",rows:3})]}),y.jsxs("div",{className:"grid-3 gap",children:[y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",htmlFor:"emergencyName",children:"Emergency Contact Name"}),y.jsx("input",{className:"input",id:"emergencyName",name:"emergencyName",value:i.emergencyName,onChange:R})]}),y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",htmlFor:"emergencyPhone",children:"Emergency Contact Phone"}),y.jsx("input",{className:"input",id:"emergencyPhone",name:"emergencyPhone",value:i.emergencyPhone,onChange:R})]}),y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",htmlFor:"emergencyRelation",children:"Relation"}),y.jsx("input",{className:"input",id:"emergencyRelation",name:"emergencyRelation",value:i.emergencyRelation,onChange:R})]})]}),y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",htmlFor:"password",children:"Password"}),y.jsx("input",{className:"input",type:"password",id:"password",name:"password",value:i.password,onChange:R,required:!0})]}),t&&y.jsx("p",{className:"error",children:t}),y.jsx("button",{type:"submit",className:"submit",disabled:o,children:o?"Creating account…":"Register with Email"})]}),y.jsx("div",{className:"divider",children:y.jsx("span",{children:"or"})}),y.jsx("div",{className:"oauth-row",children:y.jsx("button",{type:"button",className:"btn-google",onClick:W,disabled:o,"aria-label":"Continue with Google",children:"Continue with Google"})}),y.jsxs("div",{className:"phone-card",children:[v?y.jsxs("div",{className:"grid-2 gap",children:[y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",htmlFor:"code",children:"Enter verification code"}),y.jsx("input",{className:"input",id:"code",value:p,onChange:ie=>g(ie.target.value),placeholder:"123456"})]}),y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",children:" "}),y.jsx("button",{type:"button",className:"btn-outline",onClick:ae,disabled:o||!p,children:"Verify & Create account"})]})]}):y.jsxs("div",{className:"grid-2 gap",children:[y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",htmlFor:"phone",children:"Phone (E.164, e.g. +13105551234)"}),y.jsx("input",{className:"input",id:"phone",type:"tel",value:h,onChange:ie=>d(ie.target.value),placeholder:"+1##########"})]}),y.jsxs("div",{className:"field",children:[y.jsx("label",{className:"label",children:" "}),y.jsx("button",{type:"button",className:"btn-outline",onClick:re,disabled:o||!h,children:"Send verification code"})]})]}),y.jsx("div",{id:_b})]})]})},nk=()=>y.jsxs("section",{className:"ucla-content",children:[y.jsx("h1",{className:"ucla-heading-xl",children:"Welcome to Your Dashboard"}),y.jsx("p",{className:"ucla-paragraph",children:"Access events, resources, and tools for active members of Mariachi de Uclatlán."})]}),ik=(i,e)=>({uid:i,name:"",email:e||"",phoneNumber:"",year:"",major:"",instrument:"",instruments:[],section:"",bio:"",roles:["performer"],returning:"",emergencyName:"",emergencyPhone:"",emergencyRelation:"",photoURL:""}),rk=()=>{const i=an.currentUser,e=i?.uid??"",[t,s]=B.useState(!0),[o,u]=B.useState(!1),[h,d]=B.useState(""),[p,g]=B.useState(null),[v,b]=B.useState(!1),[A,R]=B.useState(null);B.useEffect(()=>{let K=!0;return(async()=>{if(!e){s(!1);return}s(!0);try{const re=await ek(e),ae=re??ik(e,i?.email??null);K&&g(ae),re||await Fp(e,ae)}catch(re){console.error("[Profile load]",re),d(re?.message??"Failed to load profile")}finally{K&&s(!1)}})(),()=>{K=!1}},[e,i?.email]);const k=K=>{const{name:re,value:ae}=K.target;g(ie=>ie&&{...ie,[re]:ae})},$=K=>{const re=K.target.files?.[0]||null;R(re)},L=async()=>{if(!A||!e)return;const K=A.name.split(".").pop()||"jpg",re=UM(WM,`avatars/${e}/avatar.${K}`);return await jM(re,A),await LM(re)},ne=async()=>{if(!(!p||!e)){u(!0),d("");try{const K=await L(),re=p._instrumentsCSV,ae=re?re.split(",").map(x=>x.trim()).filter(Boolean):p.instruments||[],ie={...p,instruments:ae,...K?{photoURL:K}:{}};await Fp(e,ie),await BN(i,{displayName:p.name||i?.displayName||void 0,photoURL:K??p.photoURL??void 0}),b(!1),g({...p,instruments:ae,...K?{photoURL:K}:{}})}catch(K){console.error("[Profile save]",K),d(K?.message??"Failed to save profile")}finally{u(!1)}}};if(t)return y.jsx("div",{className:"profile-wrap",children:y.jsx("div",{className:"card",children:y.jsx("p",{children:"Loading profile…"})})});if(!p)return y.jsx("div",{className:"profile-wrap",children:y.jsx("div",{className:"card",children:y.jsx("p",{children:"No profile."})})});const W=p.roles||[];return y.jsx("div",{className:"profile-wrap",children:y.jsxs("div",{className:"card profile-card",children:[y.jsxs("div",{className:"profile-head",children:[y.jsxs("div",{className:"avatar",children:[p.photoURL?y.jsx("img",{src:p.photoURL,alt:`${p.name||"Member"} avatar`}):y.jsx("div",{className:"avatar-placeholder",children:(p.name||p.email||"U")[0].toUpperCase()}),v&&y.jsxs("label",{className:"btn btn-light",style:{marginTop:8},children:["Upload photo",y.jsx("input",{type:"file",accept:"image/*",onChange:$,hidden:!0})]})]}),y.jsx("div",{className:"id-block",children:v?y.jsxs(y.Fragment,{children:[y.jsx("label",{className:"lbl",children:"Full Name"}),y.jsx("input",{name:"name",value:p.name||"",onChange:k,placeholder:"First Last"})]}):y.jsxs(y.Fragment,{children:[y.jsx("h2",{children:p.name||"Add your name"}),y.jsx("p",{className:"muted",children:p.email}),!!W.length&&y.jsx("div",{className:"roles",children:W.map(K=>y.jsx("span",{className:`role-chip role-${K}`,children:K},K))})]})}),y.jsx("div",{className:"actions",children:v?y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"btn",disabled:o,onClick:ne,children:o?"Saving…":"Save"}),y.jsx("button",{className:"btn btn-light",disabled:o,onClick:()=>b(!1),children:"Cancel"})]}):y.jsx("button",{className:"btn",onClick:()=>b(!0),children:"Edit"})})]}),y.jsxs("div",{className:"grid",children:[y.jsxs("div",{className:"col",children:[y.jsx("label",{className:"lbl",children:"Phone"}),v?y.jsx("input",{name:"phoneNumber",value:p.phoneNumber||"",onChange:k,placeholder:"+1 (###) ###-####"}):y.jsx("div",{className:"val",children:p.phoneNumber||"—"})]}),y.jsxs("div",{className:"col",children:[y.jsx("label",{className:"lbl",children:"Year"}),v?y.jsxs("select",{name:"year",value:p.year||"",onChange:k,children:[y.jsx("option",{value:"",children:"Select"}),y.jsx("option",{children:"1st Year"}),y.jsx("option",{children:"2nd Year"}),y.jsx("option",{children:"3rd Year"}),y.jsx("option",{children:"4th Year"}),y.jsx("option",{children:"Graduate"}),y.jsx("option",{children:"Alumni"})]}):y.jsx("div",{className:"val",children:p.year||"—"})]}),y.jsxs("div",{className:"col",children:[y.jsx("label",{className:"lbl",children:"Major"}),v?y.jsx("input",{name:"major",value:p.major||"",onChange:k,placeholder:"e.g., Math, EE, Music"}):y.jsx("div",{className:"val",children:p.major||"—"})]}),y.jsxs("div",{className:"col",children:[y.jsx("label",{className:"lbl",children:"Instrument"}),v?y.jsx("input",{name:"instrument",value:p.instrument||"",onChange:k,placeholder:"e.g., Violin, Trumpet, Vihuela"}):y.jsx("div",{className:"val",children:p.instrument||"—"})]}),y.jsxs("div",{className:"col",children:[y.jsx("label",{className:"lbl",children:"Section"}),v?y.jsx("input",{name:"section",value:p.section||"",onChange:k,placeholder:"Strings / Brass / Rhythm / Vocals"}):y.jsx("div",{className:"val",children:p.section||"—"})]}),y.jsxs("div",{className:"col",children:[y.jsx("label",{className:"lbl",children:"All Instruments"}),v?y.jsx("input",{name:"_instrumentsCSV",value:(p.instruments||[]).join(", "),onChange:k,placeholder:"Violin, Viola, Trumpet"}):y.jsx("div",{className:"val",children:p.instruments&&p.instruments.length?p.instruments.join(", "):"—"})]})]}),y.jsxs("div",{className:"grid",children:[y.jsxs("div",{className:"col",children:[y.jsx("label",{className:"lbl",children:"Emergency Contact"}),v?y.jsx("input",{name:"emergencyName",value:p.emergencyName||"",onChange:k,placeholder:"Full name"}):y.jsx("div",{className:"val",children:p.emergencyName||"—"})]}),y.jsxs("div",{className:"col",children:[y.jsx("label",{className:"lbl",children:"Emergency Phone"}),v?y.jsx("input",{name:"emergencyPhone",value:p.emergencyPhone||"",onChange:k,placeholder:"+1 (###) ###-####"}):y.jsx("div",{className:"val",children:p.emergencyPhone||"—"})]}),y.jsxs("div",{className:"col",children:[y.jsx("label",{className:"lbl",children:"Relation"}),v?y.jsx("input",{name:"emergencyRelation",value:p.emergencyRelation||"",onChange:k,placeholder:"Parent / Sibling / Friend"}):y.jsx("div",{className:"val",children:p.emergencyRelation||"—"})]})]}),y.jsxs("div",{className:"bio",children:[y.jsx("label",{className:"lbl",children:"Bio"}),v?y.jsx("textarea",{name:"bio",value:p.bio||"",onChange:k,rows:4,placeholder:"Short bio (markdown/plaintext)"}):y.jsx("p",{className:"val multi",children:p.bio||"Add a short bio about you, your experience, and favorite pieces to perform."})]}),h&&y.jsx("p",{className:"error",children:h})]})})},sk=i=>i==="published"?y.jsx("span",{className:"status published",children:"Published"}):i==="draft"?y.jsx("span",{className:"status draft",children:"Draft"}):i==="cancelled"?y.jsx("span",{className:"status cancelled",children:"Cancelled"}):null,OA=({event:i,canManage:e=!1,canRSVP:t=!1,onEdit:s,onDelete:o})=>y.jsxs("article",{className:`event-card ${i.status??""}`,children:[y.jsxs("header",{className:"event-head",children:[y.jsx("h3",{className:"event-title",children:i.title}),sk(i.status)]}),i.subtitle&&y.jsx("p",{className:"event-sub",children:i.subtitle}),y.jsxs("ul",{className:"event-meta",children:[y.jsxs("li",{children:[y.jsx("strong",{children:"When:"})," ",i.dateStr]}),i.location&&y.jsxs("li",{children:[y.jsx("strong",{children:"Where:"})," ",i.location]})]}),i.notes&&y.jsx("p",{className:"event-notes",children:i.notes}),y.jsxs("footer",{className:"event-actions",children:[t&&y.jsxs("div",{className:"left-actions",children:[y.jsx("button",{className:"btn",children:"I can play"}),y.jsx("button",{className:"btn btn-light",children:"Can’t make it"})]}),e&&y.jsxs("div",{className:"right-actions",children:[y.jsx("button",{className:"btn",onClick:()=>s?.(i.id),children:"Edit"}),y.jsx("button",{className:"btn btn-danger",onClick:()=>o?.(i.id),children:"Delete"})]})]})]}),ak=({event:i,onClose:e})=>{const t=i.dateStr?i.dateStr.split(","):[],s=t[0]?t[0].trim():"",o=t[1]?t[1].trim():"";return y.jsx("div",{className:"modal-overlay",onClick:e,children:y.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[y.jsx("h2",{className:"modal-title",children:i.title}),s&&y.jsxs("p",{children:[y.jsx("strong",{children:"Date:"})," ",s]}),o&&y.jsxs("p",{children:[y.jsx("strong",{children:"Time:"})," ",o]}),i.location&&y.jsxs("p",{children:[y.jsx("strong",{children:"Location:"})," ",i.location]}),i.notes&&y.jsx("p",{className:"modal-desc",children:i.notes}),y.jsx("div",{className:"modal-actions",children:y.jsx("button",{onClick:e,children:"Close"})})]})})};function vb(i){if(i)return i instanceof Ke?i.toDate():i instanceof Date?i:new Date(i)}function ok(i){return{...i,start:vb(i.start),end:vb(i.end)}}function PA(i,e,t){const s=typeof i=="object"&&"start"in i&&!(i instanceof Date),o=Intl.DateTimeFormat().resolvedOptions().timeZone,u={dateStyle:"medium",timeZone:o},h={timeStyle:"short",timeZone:o};if(s){const d=i,p=new Intl.DateTimeFormat(void 0,u).format(d.start),g=new Intl.DateTimeFormat(void 0,h).format(d.start),v=d.end?new Intl.DateTimeFormat(void 0,h).format(d.end):"";return{date:p,time:v?`${g} – ${v}`:g}}else{const d=i,p=new Intl.DateTimeFormat(void 0,u).format(d),g=new Intl.DateTimeFormat(void 0,h).format(d),v="";return v?`${p} • ${g} – ${v}`:`${p} • ${g}`}}const MA="events";function kA(i,e){const t=Lf(li(Vt,MA),yP("start","asc"));return Wg(t,s=>{const o=s.docs.map(u=>ok({id:u.id,...u.data()}));i(o)},s=>e?.(s))}async function lk(i){return sf(li(Vt,"events"),{...i,createdAt:Qn(),updatedAt:Qn()})}async function uk(i,e){await EP(br(Vt,MA,i),{...e,updatedAt:Date.now()})}function ck(i){const{date:e,time:t}=PA(i);return{id:i.id,title:i.title,dateStr:t?`${e}, ${t}`:e,location:i.location||"",notes:i.description||"",status:i.status}}const hk=()=>{const[i,e]=Se.useState([]),[t,s]=Se.useState(null),[o,u]=Se.useState(!0);return Se.useEffect(()=>{const h=kA(d=>{e(d.map(ck)),u(!1)},d=>{console.error("[Events subscribe]",d),u(!1)});return()=>h()},[]),y.jsxs("section",{className:"ucla-content",style:{maxWidth:980,margin:"0 auto"},children:[y.jsx("h1",{className:"ucla-heading-xl",children:"Upcoming Events"}),o&&y.jsx("p",{children:"Loading events…"}),!o&&i.length===0&&y.jsx("p",{children:"No events yet."}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:16,marginTop:16},children:i.map(h=>y.jsx(OA,{event:h,onClick:()=>s(h)},h.id))}),t&&y.jsx(ak,{event:t,onClose:()=>s(null)})]})},fk=()=>y.jsxs("section",{className:"ucla-content",children:[y.jsx("h1",{className:"ucla-heading-xl",children:"Exclusive Resources"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"🎼 Sheet Music Library:"})," Download music PDFs for all instrument sections."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"📅 Event Calendar:"})," View all upcoming rehearsals and performances."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"✅ Attendance Tracker:"})," Track participation and engagement."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"🎽 Uniform Policy:"})," Guidelines for proper attire during performances."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"📝 Performance Agreements:"})," Templates for external gigs including weddings and community events."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"📘 Member Handbook / Constitution:"})," Details on expectations, leadership roles, auditions, and organizational structure."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"💸 Reimbursement Forms:"})," Submit expenses for travel, uniforms, and gear."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"🧑‍🤝‍🧑 Member Directory:"})," View private profiles with instrument, year, and contact info (opt-in only)."]})]})]}),dk=()=>y.jsxs("section",{className:"ucla-content",children:[y.jsx("h1",{className:"ucla-heading-xl",children:"Account Settings"}),y.jsx("p",{className:"ucla-paragraph",children:"Here you can update your profile, change your password, and manage notification preferences."})]});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function mk(i,e,t,s){function o(u){return u instanceof t?u:new t(function(h){h(u)})}return new(t||(t=Promise))(function(u,h){function d(v){try{g(s.next(v))}catch(b){h(b)}}function p(v){try{g(s.throw(v))}catch(b){h(b)}}function g(v){v.done?u(v.value):o(v.value).then(d,p)}g((s=s.apply(i,[])).next())})}function pk(i,e){var t={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,h;return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(g){return function(v){return p([g,v])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,o&&(u=g[0]&2?o.return:g[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,g[1])).done)return u;switch(o=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,o=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(u=t.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){t.label=g[1];break}if(g[0]===6&&t.label<u[1]){t.label=u[1],u=g;break}if(u&&t.label<u[2]){t.label=u[2],t.ops.push(g);break}u[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(i,t)}catch(v){g=[6,v],o=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _o=function(){return _o=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},_o.apply(this,arguments)},VA=function(i){return{loading:i==null,value:i}},gk=function(){return function(i,e){switch(e.type){case"error":return _o(_o({},i),{error:e.error,loading:!1,value:void 0});case"reset":return VA(e.defaultValue);case"value":return _o(_o({},i),{error:void 0,loading:!1,value:e.value});default:return i}}},yk=(function(i){var e=i?i():void 0,t=B.useReducer(gk(),VA(e)),s=t[0],o=t[1],u=B.useCallback(function(){var p=i?i():void 0;o({type:"reset",defaultValue:p})},[i]),h=B.useCallback(function(p){o({type:"error",error:p})},[]),d=B.useCallback(function(p){o({type:"value",value:p})},[]);return B.useMemo(function(){return{error:s.error,loading:s.loading,reset:u,setError:h,setValue:d,value:s.value}},[s.error,s.loading,u,h,d,s.value])}),_k=(function(i,e){var t=yk(function(){return i.currentUser}),s=t.error,o=t.loading,u=t.setError,h=t.setValue,d=t.value;return B.useEffect(function(){var p=pf(i,function(g){return mk(void 0,void 0,void 0,function(){var v;return pk(this,function(b){switch(b.label){case 0:return[3,4];case 1:return b.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return b.sent(),[3,4];case 3:return v=b.sent(),u(v),[3,4];case 4:return h(g),[2]}})})},u);return function(){p()}},[i]),[d,o,s]});const vu=i=>{if(i){if(i instanceof Date)return i;if(i instanceof Ke)return i.toDate();try{const e=new Date(i);return isNaN(e.getTime())?void 0:e}catch{return}}},vk=(i,e)=>{const t=vu(i),s=vu(e);if(!t)return"";const o=t.toLocaleString?.()||t.toISOString();if(!s)return o;const h=t.toDateString()===s.toDateString()?s.toLocaleTimeString?.():s.toLocaleString?.();return`${o} → ${h}`},Ek=()=>{const[i]=_k(an),[e,t]=Se.useState(!0),[s,o]=Se.useState(null),[u,h]=Se.useState([]),[d,p]=Se.useState({}),[g,v]=Se.useState({});Se.useEffect(()=>{(async()=>{o(null),t(!0);try{const k=li(Vt,"events"),$=Lf(k,zp("status","==","published")),ne=(await rf($)).docs.map(re=>({id:re.id,...re.data()})),W=Date.now(),K=ne.filter(re=>{const ae=vu(re.start)?.getTime();return typeof ae=="number"?ae>=W-1e3*60*60*24:!0}).sort((re,ae)=>{const ie=vu(re.start)?.getTime()??0,x=vu(ae.start)?.getTime()??0;return ie-x});if(h(K),i){const re={};for(const ae of K){const ie=br(Vt,"events",ae.id,"availability",i.uid),x=await Bf(ie),C=x.exists()?x.data().status:"";re[ae.id]=C||""}p(re)}}catch(k){console.error(k),o(k?.message||"Failed to load events")}finally{t(!1)}})()},[i]);const b=(R,k)=>{const $=k.target.value;p(L=>({...L,[R]:$}))},A=async R=>{if(!i)return;const k=d[R]||"";if(!k){alert("Please select an availability first.");return}v($=>({...$,[R]:!0}));try{const $=br(Vt,"events",R,"availability",i.uid);await Xg($,{uid:i.uid,status:k,updatedAt:Qn(),displayName:i.displayName||i.email||"Unknown",email:i.email||null},{merge:!0}),alert("Availability saved.")}catch($){console.error($),alert($?.message||"Failed to save")}finally{v($=>({...$,[R]:!1}))}};return i?y.jsxs("section",{className:"ucla-content",style:{maxWidth:900,margin:"0 auto"},children:[y.jsx("h1",{className:"ucla-heading-xl",children:"Performer Availability"}),e&&y.jsx("p",{children:"Loading events…"}),s&&y.jsx("p",{style:{color:"salmon"},children:s}),y.jsxs("div",{className:"availability-list",children:[u.map(R=>y.jsxs("div",{className:"availability-card",children:[y.jsxs("div",{className:"availability-head",children:[y.jsx("h3",{className:"availability-title",children:R.title||"Untitled Event"}),y.jsx("span",{className:`status-pill ${R.status}`,children:R.status})]}),y.jsxs("div",{className:"availability-meta",children:[y.jsxs("div",{children:[y.jsx("strong",{children:"When: "}),y.jsx("span",{children:vk(R.start,R.end)})]}),R.location&&y.jsxs("div",{children:[y.jsx("strong",{children:"Where: "}),y.jsx("span",{children:R.location})]})]}),y.jsxs("div",{className:"availability-actions",children:[y.jsxs("select",{value:d[R.id]||"",onChange:k=>b(R.id,k),"aria-label":`Availability for ${R.title}`,children:[y.jsx("option",{value:"",children:"Select availability…"}),y.jsx("option",{value:"yes",children:"Yes"}),y.jsx("option",{value:"maybe",children:"Maybe"}),y.jsx("option",{value:"no",children:"No"})]}),y.jsx("button",{disabled:!!g[R.id],onClick:()=>A(R.id),children:g[R.id]?"Saving…":"Submit"})]})]},R.id)),!e&&!u.length&&y.jsx("p",{children:"No upcoming events yet."})]})]}):y.jsxs("section",{className:"ucla-content",style:{maxWidth:900,margin:"0 auto"},children:[y.jsx("h1",{className:"ucla-heading-xl",children:"Performer Availability"}),y.jsx("p",{children:"Please log in to set availability."})]})},Eb=()=>y.jsx(y.Fragment,{children:y.jsxs("div",{className:"admin-page",children:[y.jsxs("header",{className:"admin-header",children:[y.jsx("h1",{children:"Admin Dashboard"}),y.jsx("p",{children:"Manage members, assign roles, and oversee events."})]}),y.jsxs("section",{className:"admin-grid",children:[y.jsxs("a",{className:"admin-card",href:"/admin/events",children:[y.jsx("h3",{children:"Events"}),y.jsx("p",{children:"Create, publish, and manage upcoming events."})]}),y.jsxs("a",{className:"admin-card",href:"/admin/members",children:[y.jsx("h3",{children:"Manage Members"}),y.jsx("p",{children:"Search members and assign roles."})]}),y.jsxs("a",{className:"admin-card",href:"/admin/reports",children:[y.jsx("h3",{children:"Reports"}),y.jsx("p",{children:"Export availability summaries (CSV/PDF)."})]})]})]})}),jA=()=>{const i=({isActive:e})=>e?"active":void 0;return y.jsxs("nav",{className:"member-navbar",children:[y.jsx("div",{className:"member-brand",children:"Performer Portal"}),y.jsxs("ul",{className:"member-links",children:[y.jsx("li",{children:y.jsx(nt,{to:"/dashboard",className:i,children:"Dashboard"})}),y.jsx("li",{children:y.jsx(nt,{to:"/members/profile",className:i,children:"Profile"})}),y.jsx("li",{children:y.jsx(nt,{to:"/members/events",className:i,children:"Events"})}),y.jsx("li",{children:y.jsx(nt,{to:"/members/calendar",className:i,children:"Calendar"})}),y.jsx("li",{children:y.jsx(nt,{to:"/members/performer-availability",className:i,children:"Availability"})}),y.jsx("li",{children:y.jsx(nt,{to:"/members/resources",className:i,children:"Resources"})}),y.jsx("li",{children:y.jsx(nt,{to:"/members/settings",className:i,children:"Settings"})}),y.jsx("li",{children:y.jsx(nt,{to:"/",className:i,children:"Public Site"})})]})]})},Tb=()=>y.jsxs(y.Fragment,{children:[y.jsx(jA,{}),y.jsxs("div",{style:{padding:"2rem"},children:[y.jsx("h1",{children:"Performer Dashboard"}),y.jsx("p",{children:"Welcome to the Performer Dashboard. Here you can see your events, resources, and manage your profile."})]})]}),LA=()=>y.jsxs("nav",{className:"navbar",children:[y.jsx("div",{className:"nav-brand",children:"Mariachi de Uclatlán"}),y.jsxs("ul",{className:"nav-links",children:[y.jsx("li",{children:y.jsx(xn,{to:"/",children:"Home"})}),y.jsx("li",{children:y.jsx(xn,{to:"/about",children:"About"})}),y.jsx("li",{children:y.jsx(xn,{to:"/members",children:"Members"})}),y.jsx("li",{children:y.jsx(xn,{to:"/contact",children:"Contact"})}),y.jsx("li",{children:y.jsx(xn,{to:"/Login",children:"Login"})}),y.jsx("li",{children:y.jsx(xn,{to:"/Register",children:"Register"})})]})]}),Tk=()=>y.jsxs("footer",{className:"footer compact-footer",children:[y.jsxs("p",{children:["© ",new Date().getFullYear()," Mariachi de Uclatlán."]}),y.jsxs("p",{children:["Developed by Angel Ramirez | ",y.jsx("a",{href:"/contact",children:"Contact"})]})]}),UA=()=>{const i=({isActive:e})=>e?"active":void 0;return y.jsxs("nav",{className:"member-navbar",children:[y.jsx("div",{className:"member-brand",children:y.jsx(nt,{to:"/members",className:i,children:"Members Portal"})}),y.jsxs("ul",{className:"member-links",children:[y.jsx("li",{children:y.jsx(nt,{to:"/members/profile",className:i,children:"Profile"})}),y.jsx("li",{children:y.jsx(nt,{to:"/members/events",className:i,children:"Events"})}),y.jsx("li",{children:y.jsx(nt,{to:"/members/calendar",className:i,children:"Calendar"})}),y.jsx("li",{children:y.jsx(nt,{to:"/members/performer-availability",className:i,children:"Availability"})}),y.jsx("li",{children:y.jsx(nt,{to:"/members/resources",className:i,children:"Resources"})}),y.jsx("li",{children:y.jsx(nt,{to:"/members/settings",className:i,children:"Settings"})}),y.jsx("li",{className:"divider"}),y.jsx("li",{children:y.jsx(nt,{to:"/performer-dashboard",className:i,children:"Performer Dashboard"})}),y.jsx("li",{children:y.jsx(nt,{to:"/admin-dashboard",className:i,children:"Admin Dashboard"})}),y.jsx("li",{children:y.jsx(nt,{to:"/",className:i,children:"Public Site"})})]})]})},ry=()=>y.jsxs("nav",{className:"admin-navbar",role:"navigation","aria-label":"Admin Navigation Bar",children:[y.jsx("div",{className:"admin-brand",children:"Admin Portal"}),y.jsx("button",{className:"admin-menu-toggle","aria-label":"Toggle menu",onClick:()=>{document.querySelector(".admin-links")?.classList.toggle("open")},children:"☰"}),y.jsxs("ul",{className:"admin-links",children:[y.jsx("li",{children:y.jsx(nt,{to:"/admin",end:!0,className:({isActive:i})=>i?"active":"",children:"Dashboard"})}),y.jsx("li",{children:y.jsx(nt,{to:"/admin/participation",className:({isActive:i})=>i?"active":"",children:"Participation"})}),y.jsx("li",{children:y.jsx(nt,{to:"/admin/events",className:({isActive:i})=>i?"active":"",children:"Events"})}),y.jsx("li",{children:y.jsx(nt,{to:"/admin/managemembers",className:({isActive:i})=>i?"active":"",children:"Manage Members"})}),y.jsx("li",{children:y.jsx(nt,{to:"/admin/reports",className:({isActive:i})=>i?"active":"",children:"Reports"})}),y.jsx("li",{children:y.jsx(nt,{to:"/members/performer-availability",className:({isActive:i})=>i?"active":"",children:"Availability"})}),y.jsx("li",{className:"divider","aria-hidden":!0,children:"│"}),y.jsx("li",{children:y.jsx(nt,{to:"/",className:({isActive:i})=>i?"active":"",children:"Public Site"})})]})]}),bk=["angelrocks0319@gmail.com","angelr19@g.ucla.edu","angelr19@ucla.edu"];function BA(i){if(!i)return!1;const e=i.toLowerCase();return bk.map(t=>t.toLowerCase()).includes(e)}function af(i,e){if(!i)return new Date;if(i instanceof Ke)return i.toDate();if(typeof i=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(i))return new Date(`${i}T12:00:00`);const t=new Date(i);return isNaN(+t)?e??new Date:t}return i instanceof Date?i:e??new Date}function wk(i){const e=i.statuses??["published"],t=[];e.length===1?t.push(zp("status","==",e[0])):e.length>1&&t.push(zp("status","in",e.slice(0,10)));const s=Lf(li(Vt,"events"),...t);return Wg(s,o=>{const u=o.docs.map(h=>{const d=h.data(),p=af(d.start??d.date),g=d.end?af(d.end):null,v=d.title??"Untitled Event";return{id:h.id,type:"event",title:v,start:p,end:g,location:d.location??null,status:d.status,raw:d}});u.sort((h,d)=>+h.start-+d.start),i.onChange(u)})}function Ak(i){const e=Lf(li(Vt,"calendar_feed"));return Wg(e,t=>{const s=t.docs.map(o=>{const u=o.data(),h=af(u.start??u.date),d=u.end?af(u.end):null,p=u.title??"Client Inquiry";return{id:o.id,type:"inquiry",title:p,start:h,end:d,location:u.location??null,status:u.status??"new",raw:u}});s.sort((o,u)=>+o.start-+u.start),i(s)})}function Sk(i,e){const t=[...i,...e];return t.sort((s,o)=>+s.start-+o.start),t}const Rk=()=>{const[i,e]=Se.useState(void 0),[t,s]=Se.useState(!1),[o,u]=Se.useState([]),[h,d]=Se.useState([]),[p,g]=Se.useState([]);Se.useEffect(()=>{const b=pf(an,A=>{const R=A?.email??void 0;e(R),s(BA(R))});return()=>b()},[]),Se.useEffect(()=>{const b=wk({statuses:["published"],onChange:u}),A=Ak(d);return()=>{b(),A()}},[t]),Se.useEffect(()=>{g(Sk(o,h))},[o,h]);const v=Se.useMemo(()=>{const b=new Map;for(const A of p){const R=A.start.toISOString().slice(0,10);b.has(R)||b.set(R,[]),b.get(R).push(A)}return Array.from(b.entries()).sort((A,R)=>A[0].localeCompare(R[0]))},[p]);return y.jsxs("section",{className:"calendar-page",children:[y.jsx("h1",{className:"ucla-heading-xl",children:"Calendar"}),y.jsxs("p",{className:"ucla-paragraph",children:["Published events",t?" + client inquiries":"","."]}),v.length===0&&y.jsx("p",{children:"No upcoming items yet."}),y.jsx("div",{className:"calendar-agenda",children:v.map(([b,A])=>y.jsxs("div",{className:"day-group",children:[y.jsx("h3",{className:"day-head",children:new Date(b).toLocaleDateString()}),y.jsx("ul",{className:"day-items",children:A.map(R=>y.jsxs("li",{className:`item ${R.type}`,children:[y.jsx("span",{className:`dot ${R.type}`}),y.jsxs("div",{className:"item-main",children:[y.jsxs("div",{className:"title-row",children:[y.jsx("strong",{children:R.title}),R.type==="inquiry"&&y.jsx("span",{className:"badge warn",children:"Inquiry"}),R.type==="event"&&R.status&&y.jsx("span",{className:`badge ${R.status}`,children:R.status})]}),y.jsxs("div",{className:"meta",children:[y.jsxs("span",{children:[R.start.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),R.end?` – ${R.end.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""]}),R.location?y.jsxs("span",{children:[" • ",R.location]}):null]})]})]},`${R.type}-${R.id}`))})]},b))})]})},Ck=({adminComponent:i,performerComponent:e,publicComponent:t})=>{const[s,o]=B.useState("public"),u=h=>{const d=h.target.value;o(d)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f0f0f0"},children:[y.jsx("label",{style:{marginRight:"0.5rem"},children:"Select Role View:"}),y.jsxs("select",{value:s,onChange:u,children:[y.jsx("option",{value:"public",children:"Public"}),y.jsx("option",{value:"performer",children:"Performer"}),y.jsx("option",{value:"admin",children:"Admin"})]})]}),s==="admin"&&y.jsx(ry,{}),s==="performer"&&y.jsx(UA,{}),"  ",s==="public"&&y.jsx(LA,{}),y.jsxs("main",{children:[s==="admin"&&i,s==="performer"&&e,s==="public"&&t]})]})},Ik={};function Nk(i){const e="recaptcha-v3";if(document.getElementById(e))return;const t=document.createElement("script");t.id=e,t.async=!0,t.defer=!0,t.src=`https://www.google.com/recaptcha/api.js?render=${i}`,document.head.appendChild(t)}function zA(){const[i,e]=B.useState(!1),t=B.useRef(typeof import.meta<"u"?Ik?.VITE_RECAPTCHA_SITE_KEY??null:null);B.useEffect(()=>{if(!t.current){e(!0);return}Nk(t.current);const o=()=>e(!0),u=window.setInterval(()=>{window.grecaptcha?.execute&&(window.clearInterval(u),o())},100);return()=>window.clearInterval(u)},[]);const s=B.useCallback(async o=>{if(!t.current)return`dev_${o}_${Date.now()}`;const u=window.grecaptcha;if(!u||!u.execute)throw new Error("reCAPTCHA not ready");return await u.execute(t.current,{action:o})},[]);return{ready:i,execute:s}}async function qA(i){if(!i?.name||!i?.email)throw new Error("Name and email are required");const e={type:"client_request",name:i.name,email:i.email,phone:i.phone??null,org:i.org??null,message:i.message??null,event:i.event??null,recaptchaToken:i.recaptchaToken??null,status:"new",createdAt:Qn(),updatedAt:Qn()},t=await sf(li(Vt,"clients"),e);try{i.event&&(i.event.title||i.event.date)&&await sf(li(Vt,"events"),{title:i.event.title||"Client Inquiry",date:i.event.date??null,start:i.event.start??null,end:i.event.end??null,location:i.event.location??null,status:"inquiry",visibility:"private",source:"client_form",clientRef:t.path,createdAt:Qn(),updatedAt:Qn()})}catch(o){console.warn("[submitClientRequest] event draft create failed:",o)}const s="https://https://script.google.com/u/0/home/projects/1FIwKXVOJn4P5Toveh84N7GisHXMpfKnGDv3Xrr-_j384zPbr8hW05Lvk/edit";try{await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,firestoreId:t.id})})}catch(o){console.warn("[submitClientRequest] webhook failed:",o)}return{id:t.id}}const xk=()=>{const[i,e]=B.useState({name:"",email:"",phone:"",eventDate:"",eventLocation:"",eventDetails:"",extraDetails:"",website:""}),[t,s]=B.useState("idle"),[o,u]=B.useState(""),{execute:h}=zA(),d=g=>{e(v=>({...v,[g.target.name]:g.target.value}))};async function p(g){if(g.preventDefault(),u(""),i.website&&i.website.trim().length>0){s("success");return}try{s("submitting");const v=await h("client_booking"),b=i.eventDate?new Date(`${i.eventDate}T09:00`).toISOString():void 0;await qA({recaptchaToken:v,name:i.name,email:i.email,phone:i.phone||void 0,org:void 0,message:[i.eventDetails?`Details: ${i.eventDetails}`:"",i.extraDetails?`Extra: ${i.extraDetails}`:""].filter(Boolean).join(`
`),event:{title:"Client Inquiry",date:i.eventDate||void 0,start:b,end:void 0,location:i.eventLocation||void 0}}),s("success"),e({name:"",email:"",phone:"",eventDate:"",eventLocation:"",eventDetails:"",extraDetails:"",website:""})}catch(v){s("error"),u(v?.message||"Failed to submit. Please try again later.")}}return y.jsxs("section",{className:"form-page bookus",children:[y.jsx("h1",{children:"Book Us"}),y.jsx("p",{children:"Please fill out this form to request a performance booking."}),y.jsxs("form",{onSubmit:p,className:"bookus-form",children:[y.jsx("input",{name:"website",value:i.website,onChange:d,className:"hp",tabIndex:-1,"aria-hidden":!0}),y.jsx("input",{name:"name",placeholder:"Your Name",value:i.name,onChange:d,required:!0}),y.jsx("input",{name:"email",type:"email",placeholder:"Your Email",value:i.email,onChange:d,required:!0}),y.jsx("input",{name:"phone",placeholder:"Phone Number",value:i.phone,onChange:d,required:!0}),y.jsx("input",{name:"eventDate",type:"date",value:i.eventDate,onChange:d,required:!0}),y.jsx("input",{name:"eventLocation",placeholder:"Event Location",value:i.eventLocation,onChange:d,required:!0}),y.jsx("textarea",{name:"eventDetails",placeholder:"Tell us about your event...",value:i.eventDetails,onChange:d,required:!0}),y.jsx("textarea",{name:"extraDetails",placeholder:"Anything else?",value:i.extraDetails,onChange:d}),y.jsx("button",{type:"submit",disabled:t==="submitting",children:t==="submitting"?"Submitting…":"Submit Request"}),t==="success"&&y.jsx("p",{className:"ok",children:"Thank you for your inquiry! We will get back to you soon."}),t==="error"&&y.jsx("p",{className:"err",children:o})]})]})},Dk=()=>{const[i,e]=B.useState({name:"",email:"",phone:"",instrument:"",experience:""}),t=o=>{e({...i,[o.target.name]:o.target.value})},s=o=>{o.preventDefault(),console.log("Join request submitted:",i),alert("Thank you for your interest! We will contact you soon.")};return y.jsxs("section",{className:"form-page",children:[y.jsx("h1",{children:"Join Mariachi de Uclatlán"}),y.jsx("p",{children:"Interested in joining our group? Fill out the form below."}),y.jsxs("form",{onSubmit:s,children:[y.jsx("input",{name:"name",placeholder:"Your Name",onChange:t,required:!0}),y.jsx("input",{name:"email",type:"email",placeholder:"Your Email",onChange:t,required:!0}),y.jsx("input",{name:"phone",placeholder:"Phone Number",onChange:t,required:!0}),y.jsx("input",{name:"instrument",placeholder:"Instrument",onChange:t,required:!0}),y.jsx("textarea",{name:"experience",placeholder:"Tell us about your experience...",onChange:t,required:!0}),y.jsx("button",{type:"submit",children:"Submit Application"})]})]})};async function Ok(i){if(!i?.name||!i?.email)throw new Error("Missing name or email in inquiry");const e={...i,status:"new",source:"public_form",createdAt:Qn(),updatedAt:Qn()};return(await sf(li(Vt,"inquiries"),e)).id}function Pk(){const[i,e]=B.useState({name:"",email:"",phone:"",org:"",title:"",date:"",startTime:"",endTime:"",location:"",details:""}),[t,s]=B.useState(""),[o,u]=B.useState(""),{execute:h}=zA();async function d(p){p.preventDefault(),s(""),u("");try{const g=await h("client_booking"),v=i.date&&i.startTime?new Date(`${i.date}T${i.startTime}`).toISOString():void 0,b=i.date&&i.endTime?new Date(`${i.date}T${i.endTime}`).toISOString():void 0,A={name:i.name,email:i.email,phone:i.phone||void 0,org:i.org||void 0,message:i.details||void 0,event:{title:i.title||"Client Inquiry",date:i.date||void 0,start:v,end:b,location:i.location||void 0},meta:{userAgent:typeof navigator<"u"?navigator.userAgent:void 0,tz:Intl.DateTimeFormat().resolvedOptions().timeZone}};await Promise.all([qA({recaptchaToken:g,...A}),Ok(A)]),s("Thanks! Your request was received. We'll reach out soon."),e({name:"",email:"",phone:"",org:"",title:"",date:"",startTime:"",endTime:"",location:"",details:""})}catch(g){console.error("[HireUs submit] ",g),u(g?.message||"Failed to send")}}return y.jsxs("div",{className:"hireus",children:[y.jsx("h2",{children:"Hire Us"}),y.jsxs("form",{onSubmit:d,className:"event-form",children:[y.jsx("h3",{children:"Contact"}),y.jsx("input",{placeholder:"Your name",value:i.name,onChange:p=>e(g=>({...g,name:p.target.value})),required:!0}),y.jsx("input",{type:"email",placeholder:"Email",value:i.email,onChange:p=>e(g=>({...g,email:p.target.value})),required:!0}),y.jsx("input",{placeholder:"Phone",value:i.phone,onChange:p=>e(g=>({...g,phone:p.target.value}))}),y.jsx("input",{placeholder:"Organization (optional)",value:i.org,onChange:p=>e(g=>({...g,org:p.target.value}))}),y.jsx("h3",{children:"Event"}),y.jsx("input",{placeholder:"Event title",value:i.title,onChange:p=>e(g=>({...g,title:p.target.value})),required:!0}),y.jsx("input",{type:"date",value:i.date,onChange:p=>e(g=>({...g,date:p.target.value}))}),y.jsxs("div",{className:"time-row",children:[y.jsx("input",{type:"time",value:i.startTime,onChange:p=>e(g=>({...g,startTime:p.target.value}))}),y.jsx("input",{type:"time",value:i.endTime,onChange:p=>e(g=>({...g,endTime:p.target.value}))})]}),y.jsx("input",{placeholder:"Location",value:i.location,onChange:p=>e(g=>({...g,location:p.target.value}))}),y.jsx("textarea",{placeholder:"Details / repertoire / special notes",value:i.details,onChange:p=>e(g=>({...g,details:p.target.value}))}),y.jsx("button",{type:"submit",children:"Submit request"}),t&&y.jsx("p",{className:"ok",children:t}),o&&y.jsx("p",{className:"err",children:o})]})]})}const Sh=i=>{if(i){if(i instanceof Date)return i;if(i instanceof Ke)return i.toDate();try{const e=new Date(i);return isNaN(e.getTime())?void 0:e}catch{return}}},bb=(i,e)=>{if(!i)return"";const t=i.toLocaleString?.()||i.toISOString();if(!e)return t;const o=i.toDateString()===e.toDateString()?e.toLocaleTimeString?.():e.toLocaleString?.();return`${t} → ${o}`},Mk=i=>{const e=(i||"").toLowerCase().trim();return e==="yes"||e==="available"||e==="confirmed"?"yes":e==="maybe"?"maybe":e==="no"||e==="unavailable"||e==="declined"?"no":null},kk=()=>{const[i,e]=Se.useState([]),[t,s]=Se.useState(!0),[o,u]=Se.useState(null),[h,d]=Se.useState(null),p=Se.useCallback(async()=>{u(null),s(!0);try{const v=(await rf(li(Vt,"events"))).docs.map(A=>({id:A.id,...A.data()}));v.sort((A,R)=>(Sh(A.start)?.getTime()??0)-(Sh(R.start)?.getTime()??0));const b=await Promise.all(v.map(async A=>{const R=await rf(li(Vt,"events",A.id,"availability")),k={yes:[],maybe:[],no:[]};return R.docs.forEach($=>{const L=$.data(),ne=Mk(L.status);if(!ne)return;const W=(L.displayName||"").trim()||(L.email||"").trim()||L.uid||"Unknown",K=L.email||"";k[ne].push({uid:L.uid,name:W,email:K,status:ne})}),{eventId:A.id,title:A.title||A.id,start:Sh(A.start),end:Sh(A.end),yes:k.yes.length,maybe:k.maybe.length,no:k.no.length,people:k}}));e(b)}catch(g){console.error(g),u(g?.message||"Failed to load participation")}finally{s(!1)}},[]);return Se.useEffect(()=>{p()},[p]),y.jsxs("section",{className:"ucla-content",style:{maxWidth:1100,margin:"0 auto"},children:[y.jsxs("div",{className:"rep-head",children:[y.jsx("h1",{className:"ucla-heading-xl",children:"Participation Report"}),y.jsx("div",{className:"rep-actions",children:y.jsx("button",{onClick:p,disabled:t,children:t?"Refreshing…":"Refresh"})})]}),o&&y.jsx("p",{style:{color:"salmon"},children:o}),y.jsx("div",{className:"rep-table-wrap",children:y.jsxs("table",{className:"rep-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Event"}),y.jsx("th",{children:"Date/Time"}),y.jsx("th",{children:"Yes"}),y.jsx("th",{children:"Maybe"}),y.jsx("th",{children:"No"}),y.jsx("th",{})]})}),y.jsx("tbody",{children:i.map(g=>y.jsxs("tr",{children:[y.jsx("td",{className:"rep-event-title",children:g.title}),y.jsx("td",{children:bb(g.start,g.end)}),y.jsx("td",{className:"yes",children:g.yes}),y.jsx("td",{className:"maybe",children:g.maybe}),y.jsx("td",{className:"no",children:g.no}),y.jsx("td",{children:y.jsx("button",{className:"link-btn",onClick:()=>d(g),children:"View"})})]},g.eventId))})]})}),!t&&i.length===0&&y.jsx("p",{children:"No events found."}),h&&y.jsx("div",{className:"rep-modal-backdrop",onClick:()=>d(null),children:y.jsxs("div",{className:"rep-modal",role:"dialog","aria-modal":"true",onClick:g=>g.stopPropagation(),children:[y.jsx("h3",{style:{marginTop:0},children:h.title}),y.jsx("p",{className:"rep-sub",children:bb(h.start,h.end)}),y.jsxs("div",{className:"rep-columns",children:[y.jsxs("div",{children:[y.jsxs("h4",{children:["Yes (",h.yes,")"]}),y.jsx("ul",{children:h.people.yes.map(g=>y.jsxs("li",{children:[y.jsx("strong",{children:g.name}),g.email?` · ${g.email}`:""]},g.uid))})]}),y.jsxs("div",{children:[y.jsxs("h4",{children:["Maybe (",h.maybe,")"]}),y.jsx("ul",{children:h.people.maybe.map(g=>y.jsxs("li",{children:[y.jsx("strong",{children:g.name}),g.email?` · ${g.email}`:""]},g.uid))})]}),y.jsxs("div",{children:[y.jsxs("h4",{children:["No (",h.no,")"]}),y.jsx("ul",{children:h.people.no.map(g=>y.jsxs("li",{children:[y.jsx("strong",{children:g.name}),g.email?` · ${g.email}`:""]},g.uid))})]})]}),y.jsx("div",{className:"rep-modal-actions",children:y.jsx("button",{onClick:()=>d(null),children:"Close"})})]})})]})},fo=({user:i,children:e})=>{const t=Li();return i?y.jsx(y.Fragment,{children:e}):y.jsx(es,{to:"/login",replace:!0,state:{from:t}})},eu=({isAdmin:i,children:e})=>i?y.jsx(y.Fragment,{children:e}):y.jsx(es,{to:"/members",replace:!0}),tu=({children:i})=>y.jsxs(y.Fragment,{children:[y.jsx(ry,{}),y.jsx("main",{className:"ucla-container",children:i})]}),Vk=({open:i,onClose:e,onCreate:t,defaultValues:s})=>{const[o,u]=Se.useState(()=>({title:s?.title??"",date:s?.date??new Date().toISOString().slice(0,10),startTime:s?.startTime??"",endTime:s?.endTime??"",location:s?.location??"",description:s?.description??"",status:s?.status??"draft"})),[h,d]=Se.useState(!1),[p,g]=Se.useState(null);if(Se.useEffect(()=>{i&&(u(A=>({...A,title:s?.title??"",date:s?.date??new Date().toISOString().slice(0,10),startTime:s?.startTime??"",endTime:s?.endTime??"",location:s?.location??"",description:s?.description??"",status:s?.status??"draft"})),g(null))},[i]),!i)return null;const v=A=>{const{name:R,value:k}=A.target;u($=>({...$,[R]:k}))},b=async A=>{if(A.preventDefault(),g(null),!o.title.trim())return g("Title is required.");if(!/^\d{4}-\d{2}-\d{2}$/.test(o.date))return g("Date must be YYYY-MM-DD.");try{d(!0),await t(o),d(!1),e()}catch(R){console.error("[CreateEventModal] create error",R),d(!1),g(R?.message??"Failed to create event.")}};return y.jsx("div",{className:"cem-backdrop",role:"dialog","aria-modal":"true","aria-label":"Create event",children:y.jsxs("div",{className:"cem-modal",children:[y.jsxs("header",{className:"cem-header",children:[y.jsx("h2",{children:"Create Event"}),y.jsx("button",{className:"cem-icon",onClick:e,"aria-label":"Close",children:"×"})]}),y.jsxs("form",{className:"cem-form",onSubmit:b,children:[p&&y.jsx("div",{className:"cem-error",children:p}),y.jsxs("label",{className:"cem-field",children:[y.jsx("span",{children:"Title *"}),y.jsx("input",{name:"title",value:o.title,onChange:v,placeholder:"e.g., Wedding at Royce Hall"})]}),y.jsxs("div",{className:"cem-row",children:[y.jsxs("label",{className:"cem-field",children:[y.jsx("span",{children:"Date *"}),y.jsx("input",{type:"date",name:"date",value:o.date,onChange:v})]}),y.jsxs("label",{className:"cem-field",children:[y.jsx("span",{children:"Start"}),y.jsx("input",{type:"time",name:"startTime",value:o.startTime,onChange:v})]}),y.jsxs("label",{className:"cem-field",children:[y.jsx("span",{children:"End"}),y.jsx("input",{type:"time",name:"endTime",value:o.endTime,onChange:v})]})]}),y.jsxs("label",{className:"cem-field",children:[y.jsx("span",{children:"Location"}),y.jsx("input",{name:"location",value:o.location,onChange:v,placeholder:"Address or venue"})]}),y.jsxs("label",{className:"cem-field",children:[y.jsx("span",{children:"Description/Notes"}),y.jsx("textarea",{name:"description",value:o.description,onChange:v,placeholder:"Any details for performers or client..."})]}),y.jsxs("label",{className:"cem-field",children:[y.jsx("span",{children:"Status"}),y.jsxs("select",{name:"status",value:o.status,onChange:v,children:[y.jsx("option",{value:"draft",children:"Draft"}),y.jsx("option",{value:"published",children:"Published"}),y.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),y.jsxs("footer",{className:"cem-footer",children:[y.jsx("button",{type:"button",className:"btn btn-light",onClick:e,disabled:h,children:"Cancel"}),y.jsx("button",{type:"submit",className:"btn",disabled:h,children:h?"Saving…":"Create Event"})]})]})]})})};function jk(i){const{date:e,time:t}=PA(i);return{id:i.id,title:i.title,dateStr:t?`${e}, ${t}`:e,location:i.location||"",notes:i.description||"",status:i.status}}const Lk=()=>{const[i,e]=Se.useState([]),[t,s]=Se.useState(!0),[o,u]=Se.useState(!1);Se.useEffect(()=>{const g=kA(v=>{e(v.map(jk)),s(!1)},v=>{console.error("[AdminEvents subscribe]",v),s(!1)});return()=>g()},[]);const h=g=>{console.log("edit",g)},d=async g=>{if(confirm("Delete (cancel) this event?"))try{await uk(g,{status:"cancelled"})}catch(v){console.error("[handleDelete]",v),alert("Failed to delete (cancel) event.")}},p=async g=>{const v={title:g.title.trim(),date:g.date,startTime:g.startTime||null,endTime:g.endTime||null,location:g.location?.trim()||"",description:g.description?.trim()||"",status:g.status??"draft"};await lk(v)};return y.jsxs("section",{className:"ucla-content",style:{maxWidth:1024,margin:"0 auto"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[y.jsx("h1",{className:"ucla-heading-xl",children:"Manage Events"}),y.jsx("button",{className:"btn",onClick:()=>u(!0),children:"+ Create Event"})]}),t&&y.jsx("p",{children:"Loading events…"}),!t&&y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:16,marginTop:16},children:i.map(g=>y.jsx(OA,{event:g,canManage:!0,onEdit:h,onDelete:d},g.id))}),!t&&i.length===0&&y.jsx("p",{children:"No events found."}),y.jsx(Vk,{open:o,onClose:()=>u(!1),onCreate:p})]})};function Gp(i){const e=["admin","performer","member"];return i?(Array.isArray(i)?i:[i]).map(s=>typeof s=="string"?s.toLowerCase():s).filter(s=>e.includes(s)):[]}const HA="users";async function Uk(){return(await rf(li(Vt,HA))).docs.map(e=>{const t=e.data();return{uid:e.id,email:t.email??"",...t}})}async function Bk(i,e){const t=br(Vt,HA,i);await Xg(t,{roles:e,isAdmin:e.includes("admin"),updatedAt:Qn()},{merge:!0})}const wb={name:"",phoneNumber:"",year:"",major:"",instrument:"",instruments:[],section:"",bio:"",roles:["member"],returning:"",emergencyName:"",emergencyPhone:"",emergencyRelation:"",photoURL:""};async function zk(){const i=an.currentUser;if(!i)return!1;try{if((await i.getIdTokenResult())?.claims?.admin)return!0}catch{}try{const e=await Bf(br(Vt,"users",i.uid));return!!e.exists()&&!!e.data()?.isAdmin}catch{}return!1}function qk(){const[i,e]=Se.useState([]),[t,s]=Se.useState(!0),[o,u]=Se.useState(null);return Se.useEffect(()=>{let h=!0;return(async()=>{s(!0),u(null);const d=an.currentUser;if(!d){u("Not signed in"),s(!1);return}try{if(await zk()){const v=(await Uk()).map(b=>({...wb,...b,uid:b.uid,email:b.email??"",roles:Gp(b.roles),instruments:Array.isArray(b.instruments)?b.instruments:[]}));h&&e(v)}else{const g=await Bf(br(Vt,"users",d.uid)),v=g.exists()?g.data():{},b={...wb,...v,uid:d.uid,email:v?.email??d.email??"",roles:Gp(v?.roles),instruments:Array.isArray(v?.instruments)?v?.instruments:[]};h&&e([b])}}catch(p){console.error("[useUsersRoster] failed",p),h&&u(p?.message||"Failed to load users")}finally{h&&s(!1)}})(),()=>{h=!1}},[]),{profiles:i,loading:t,error:o}}const Hk={member:"#e2e8f0",performer:"#cffafe",admin:"#fde68a"},Fk={member:"Member",performer:"Performer",admin:"Admin"},Gk=({role:i})=>y.jsx("span",{style:{background:Hk[i],borderRadius:9999,padding:"2px 10px",fontSize:12,border:"1px solid rgba(0,0,0,0.06)"},children:Fk[i]}),$k=({value:i,onChange:e,disabled:t})=>y.jsxs("select",{value:i,onChange:s=>e(s.target.value),disabled:t,style:{padding:"6px 8px"},children:[y.jsx("option",{value:"member",children:"Member"}),y.jsx("option",{value:"performer",children:"Performer"}),y.jsx("option",{value:"admin",children:"Admin"})]});function Yk(i){return!i||i.length===0?"member":i.includes("admin")?"admin":i.includes("performer")?"performer":"member"}const Kk=()=>{const{profiles:i,loading:e,error:t}=qk(),[s,o]=Se.useState(""),u=Se.useMemo(()=>{const d=s.trim().toLowerCase();return d?i.filter(p=>{const g=(p.name??"").toLowerCase(),v=(p.email??"").toLowerCase(),b=(p.instruments??[]).join(", ").toLowerCase();return g.includes(d)||v.includes(d)||b.includes(d)}):i},[i,s]),h=async(d,p)=>{const g=p==="admin"?["admin"]:p==="performer"?["performer"]:["member"];await Bk(d.uid,g)};return y.jsxs("section",{className:"ucla-content",style:{maxWidth:1100,margin:"0 auto"},children:[y.jsx("h1",{className:"ucla-heading-xl",children:"Manage Members"}),y.jsx("p",{children:"Search, view, and assign roles."}),y.jsx("div",{style:{margin:"12px 0"},children:y.jsx("input",{value:s,onChange:d=>o(d.target.value),placeholder:"Search by name, email, instrument…",style:{width:"100%",maxWidth:420}})}),e&&y.jsx("p",{children:"Loading members…"}),t&&y.jsx("p",{style:{color:"salmon"},children:String(t)}),!e&&!t&&y.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[y.jsx("thead",{children:y.jsxs("tr",{style:{textAlign:"left"},children:[y.jsx("th",{children:"Name"}),y.jsx("th",{children:"Email"}),y.jsx("th",{children:"Instruments"}),y.jsx("th",{children:"Role"}),y.jsx("th",{children:"Change Role"})]})}),y.jsx("tbody",{children:u.map(d=>{const p=Gp(d.roles),g=Yk(p);return y.jsxs("tr",{style:{borderTop:"1px solid #eee"},children:[y.jsx("td",{children:d.name??""}),y.jsx("td",{children:d.email??""}),y.jsx("td",{children:(d.instruments??[]).join(", ")}),y.jsx("td",{children:y.jsx(Gk,{role:g})}),y.jsx("td",{children:y.jsx($k,{value:g,onChange:v=>h(d,v)})})]},d.uid)})})]})]})},Qk=()=>{const[i,e]=Se.useState(null),[t]=Se.useState(null),s=Li();Se.useEffect(()=>{const g=pf(an,async v=>{if(e(v),v){const b=await s0(v);t(b.claims),console.log(b.claims)}});return()=>g()},[]);const o=Se.useMemo(()=>BA(i?.email??void 0),[i]),u=s.pathname.startsWith("/members"),h=s.pathname.startsWith("/dashboard")||s.pathname.startsWith("/performer-dashboard")||s.pathname.startsWith("/admin"),d=s.pathname.startsWith("/admin"),p=s.pathname.startsWith("/performer-dashboard");return y.jsxs(y.Fragment,{children:[!u&&!h&&y.jsx(LA,{}),u&&i&&y.jsx(UA,{}),d&&i&&o&&y.jsx(ry,{}),p&&i&&y.jsx(jA,{}),y.jsx("main",{className:"ucla-container",children:y.jsxs(m1,{children:[y.jsx(ut,{path:"/",element:y.jsx(xE,{})}),y.jsx(ut,{path:"/about",element:y.jsx(W1,{})}),y.jsx(ut,{path:"/contact",element:y.jsx(Z1,{})}),y.jsx(ut,{path:"/login",element:y.jsx(JM,{})}),y.jsx(ut,{path:"/register",element:y.jsx(tk,{})}),y.jsx(ut,{path:"/book-us",element:y.jsx(xk,{})}),y.jsx(ut,{path:"/hire-us",element:y.jsx(Pk,{})}),y.jsx(ut,{path:"/join",element:y.jsx(Dk,{})}),y.jsx(ut,{path:"/members",element:i?y.jsx(nk,{}):y.jsx(es,{to:"/login",replace:!0})}),y.jsx(ut,{path:"/members/profile",element:i?y.jsx(rk,{}):y.jsx(es,{to:"/login",replace:!0})}),y.jsx(ut,{path:"/members/events",element:i?y.jsx(hk,{}):y.jsx(es,{to:"/login",replace:!0})}),y.jsx(ut,{path:"/members/resources",element:i?y.jsx(fk,{}):y.jsx(es,{to:"/login",replace:!0})}),y.jsx(ut,{path:"/members/settings",element:i?y.jsx(dk,{}):y.jsx(es,{to:"/login",replace:!0})}),y.jsx(ut,{path:"/members/performer-availability",element:i?y.jsx(Ek,{}):y.jsx(es,{to:"/login",replace:!0})}),y.jsx(ut,{path:"/members/calendar",element:y.jsx(Rk,{})}),y.jsx(ut,{path:"/dashboard",element:y.jsx(Ck,{adminComponent:y.jsx(Eb,{}),performerComponent:y.jsx(Tb,{}),publicComponent:y.jsx(xE,{})})}),y.jsx(ut,{path:"/admin",element:y.jsx(fo,{user:i,children:y.jsx(eu,{isAdmin:o,children:y.jsx(tu,{children:y.jsx(Eb,{})})})})}),y.jsx(ut,{path:"/admin/participation",element:y.jsx(fo,{user:i,children:y.jsx(eu,{isAdmin:o,children:y.jsx(tu,{children:y.jsx(kk,{})})})})}),y.jsx(ut,{path:"/admin/events",element:y.jsx(fo,{user:i,children:y.jsx(eu,{isAdmin:o,children:y.jsx(tu,{children:y.jsx(Lk,{})})})})}),y.jsx(ut,{path:"/admin/managemembers",element:y.jsx(fo,{user:i,children:y.jsx(eu,{isAdmin:o,children:y.jsx(tu,{children:y.jsx(Kk,{})})})})}),y.jsx(ut,{path:"/admin/reports",element:y.jsx(fo,{user:i,children:y.jsx(eu,{isAdmin:o,children:y.jsx(tu,{children:y.jsx("div",{style:{padding:"1rem"},children:"Reports coming soon…"})})})})}),y.jsx(ut,{path:"/performer-dashboard",element:y.jsx(fo,{user:i,children:y.jsx(Tb,{})})})]})}),!u&&y.jsx(Tk,{})]})},Xk=()=>y.jsx(j1,{children:y.jsx(Qk,{})});AR.createRoot(document.getElementById("root")).render(y.jsx(Se.StrictMode,{children:y.jsx(Xk,{})}));
